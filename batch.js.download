;try{window.performance.mark('jira.webresources,jira.webresources,jira.webresources,jira.webresources,com.atlassian.administration.atlassian-admin-quicksearch-jira,com.atlassian.jira.plugins.jira-development-integration-plugin,com.atlassian.jira.jira-quick-edit-plugin,jira.create.issue,com.atlassian.jira.plugins.jira-wiki-editor,com.pyxis.greenhopper.jira,jira.webresources,jira.webresources,jira.webresources,com.atlassian.auiplugin,com.atlassian.jira.jira-client-analytics-plugin,jira.webresources,jira.webresources,com.atlassian.jira.plugins.jira-development-integration-plugin,com.atlassian.analytics.analytics-client,com.atlassian.jira.jira-issue-nav-plugin,jira.webresources,com.atlassian.jira.plugins.jira-dnd-attachment-plugin,com.pyxis.greenhopper.jira,com.atlassian.crowd.user-provisioning-vertigo-plugin,com.atlassian.jira.jira-atlaskit-plugin,com.atlassian.pas,com.atlassian.auiplugin,com.atlassian.jira.jira-atlaskit-plugin,com.atlassian.jira.plugins.jira-browser-metrics,com.atlassian.plugins.browser.metrics.browser-metrics-plugin,com.pyxis.greenhopper.jira,com.atlassian.plugins.browser.metrics.browser-metrics-plugin_batch_file_eval:start');} catch(e){};;
/* module-key = 'com.atlassian.plugin.jslibs:skate-0.12.6', location = 'atlassian-jslibs/libs/skatejs/dist/skate.js' */
!function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="data-skate-ignore";n.ATTR_IGNORE=r;var o={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"};n.types=o},{}],2:[function(e,t,n){"use strict";t.exports={get:function(e,t){if(e.__SKATE_DATA)return e.__SKATE_DATA[t]},set:function(e,t,n){return e.__SKATE_DATA||(e.__SKATE_DATA={}),e.__SKATE_DATA[t]=n,e}}},{}],3:[function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;n<t;n++){var r=e[n],o=r.addedNodes,i=r.removedNodes;o&&o.length&&!l(o[0].parentNode)&&s(o),i&&i.length&&d(i)}}function o(){var e=new c(r);return e.observe(document,{childList:!0,subtree:!0}),e}var i=function(e){return e&&e.__esModule?e.default:e},u=i(e("./globals")),a=e("./lifecycle"),s=a.initElements,d=a.removeElements,c=i(e("./mutation-observer")),l=e("./utils").getClosestIgnoredElement;t.exports={register:function(e){return e&&(c.fixIe(),this.unregister()),u.observer||(u.observer=o()),this},unregister:function(){return u.observer&&(u.observer.disconnect(),u.observer=void 0),this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],4:[function(e,t,n){"use strict";window.__skate||(window.__skate={observer:void 0,registry:{}}),t.exports=window.__skate},{}],5:[function(e,t,n){"use strict";function r(e,t,n){return m.get(e,t.id+":lifecycle:"+n)}function o(e,t,n,r){m.set(e,t.id+":lifecycle:"+n,!!r)}function i(e,t,n){return!!r(e,t,n)||(o(e,t,n,!0),!1)}function u(e){var t=e.split(" ");return{name:t.shift(),delegate:t.join(" ")}}function a(e,t){function n(n,r,o,i){var u;t.attributes&&t.attributes[r]&&"function"==typeof t.attributes[r][n]?u=t.attributes[r][n]:t.attributes&&"function"==typeof t.attributes[r]?u=t.attributes[r]:"function"==typeof t.attributes&&(u=t.attributes),u&&u(e,{type:n,name:r,newValue:o,oldValue:i})}var r,o=e.attributes,i=[],u=o.length,a=new g(function(e){e.forEach(function(e){var t,r=e.attributeName,i=o[r];i&&null===e.oldValue?t="created":i&&null!==e.oldValue?t="updated":i||(t="removed"),n(t,r,i?i.value||i.nodeValue:void 0,e.oldValue)})});for(a.observe(e,{attributes:!0,attributeOldValue:!0}),r=0;r<u;r++)i.push(o[r]);for(r=0;r<u;r++){var s=i[r];n("created",s.nodeName,s.value||s.nodeValue)}}function s(e,t){function n(t,n){return function(r){if(!n)return t(e,r,e);for(var o=r.target;o&&o!==document&&o!==e.parentNode;){if(O.call(o,n))return t(e,r,o);o=o.parentNode}}}"object"==typeof t.events&&N(t.events,function(t,r){var o=u(r),i=!!o.delegate&&("blur"===o.name||"focus"===o.name);e.addEventListener(o.name,n(t,o.delegate),i)})}function d(e,t){i(e,t,"created")||(E(e,t.prototype,!0),t.template&&t.template(e),s(e,t),a(e,t),t.created&&t.created(e))}function c(e,t){i(e,t,"attached")||(e.removeAttribute(t.unresolvedAttribute),e.setAttribute(t.resolvedAttribute,""),t.attached&&t.attached(e))}function l(e,t){t.detached&&t.detached(e),o(e,t,"attached",!1)}function f(e,t){d(e,t),c(e,t)}function v(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(1===r.nodeType&&!r.attributes[b]){for(var o=y.getForElement(r),i=o.length,u=0;u<i;u++)f(r,o[u]);var a=r.childNodes,s=a.length;s&&v(a)}}}function p(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(1===r.nodeType){p(r.childNodes);for(var o=y.getForElement(r),i=o.length,u=0;u<i;u++)l(r,o[u])}}}var h=function(e){return e&&e.__esModule?e.default:e};Object.defineProperty(n,"__esModule",{value:!0});var b=e("./constants").ATTR_IGNORE,m=h(e("./data")),g=h(e("./mutation-observer")),y=h(e("./registry")),w=e("./utils"),E=w.inherit,N=w.objEach,A=window.HTMLElement.prototype,O=A.matches||A.msMatchesSelector||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector;n.triggerCreated=d,n.initElements=v,n.removeElements=p},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],6:[function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&(e.contains?e.contains(t):l.call(e,t))}function o(e,t){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:e,type:t||"childList"}}function i(e,t){var n=e.childNodes;if(n)for(var r=n.length,o=0;o<r;o++){var u=n[o];t(u),i(u,t)}}function u(e){return f&&!v?new f(e):(this.callback=e,void(this.elements=[]))}var a=e("./utils"),s=a.debounce,d=a.objEach,c=window.HTMLElement.prototype,l=window.HTMLElement.prototype.contains,f=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,v=!1,p=window.navigator.userAgent.indexOf("Trident")>-1;u.fixIe=function(){if(p&&!v){var e=Object.getOwnPropertyDescriptor(c,"innerHTML");Object.defineProperty(c,"innerHTML",{get:function(){return e.get.call(this)},set:function(t){i(this,function(e){var t=document.createEvent("MutationEvent");t.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null),e.dispatchEvent(t)}),e.set.call(this,t)}}),v=!0}},Object.defineProperty(u,"isFixingIe",{get:function(){return v}}),u.prototype={observe:function(e,t){function n(e){f.push(e),h()}function i(e){var t=e.target;if(t){var n=e.type,i=t.parentNode;if(a(i)){var u=v&&"DOMNodeRemoved"===n,s=d&&r(d,t);!u&&s||(c&&c.target===i||p.push(c=o(i)),"DOMNodeInserted"===n?(c.addedNodes||(c.addedNodes=[]),c.addedNodes.push(t)):(c.removedNodes||(c.removedNodes=[]),c.removedNodes.push(t)),d=t)}}}function u(n){return t.attributes&&(t.subtree||n===e)}function a(n){return t.childList&&(t.subtree||n===e)}var d,c,l=this,f=[],p=[],h=s(function(){for(var e=f.length,t=0;t<e;t++)i(f[t]);l.callback(p),f=[],p=[],d=void 0,c=void 0}),b={},m=[],g=s(function(){var e=m.length;l.callback(m),m.splice(0,e)}),y={target:e,options:t,insertHandler:n,removeHandler:n,attributeHandler:function(e){var n=e.target;if(u(n)){var r=e.attrName,i=e.prevValue,a=e.newValue,s=o(n,"attributes");s.attributeName=r,t.attributeOldValue&&(s.oldValue=b[r]||i||null),m.push(s),t.attributeOldValue&&(b[r]=a),g()}}};return this.elements.push(y),t.childList&&(e.addEventListener("DOMNodeInserted",y.insertHandler),e.addEventListener("DOMNodeRemoved",y.removeHandler)),t.attributes&&e.addEventListener("DOMAttrModified",y.attributeHandler),this},disconnect:function(){return d(this.elements,function(e){e.target.removeEventListener("DOMNodeInserted",e.insertHandler),e.target.removeEventListener("DOMNodeRemoved",e.removeHandler),e.target.removeEventListener("DOMAttrModified",e.attributeHandler)}),this.elements=[],this}},t.exports=u},{"./utils":9}],7:[function(e,t,n){"use strict";function r(e){var t=e.classList;if(t)return t;var n=e.attributes;return n.class&&n.class.nodeValue.split(/\s+/)||[]}function o(e,t){return s(u.registry,e)&&u.registry[e].type.indexOf(t)>-1}var i=function(e){return e&&e.__esModule?e.default:e},u=i(e("./globals")),a=e("./constants.js").types,s=e("./utils").hasOwn;t.exports={clear:function(){return u.registry={},this},getForElement:function(e){var t,n,i=e.attributes,s=i.length,d=[],c=i.is,l=c&&(c.value||c.nodeValue),f=e.tagName.toLowerCase(),v=l||f;o(v,a.TAG)&&(t=u.registry[v],n=t.extends,l?f===n&&d.push(t):n||d.push(t));for(var p=0;p<s;p++){var h=i[p].nodeName;o(h,a.ATTR)&&(t=u.registry[h],n=t.extends,n&&f!==n||d.push(t))}for(var b=r(e),m=b.length,g=0;g<m;g++){var y=b[g];o(y,a.CLASS)&&(t=u.registry[y],n=t.extends,n&&f!==n||d.push(t))}return d},has:function(e){return s(u.registry,e)},set:function(e,t){if(this.has(e))throw new Error('A definition of type "'+t.type+'" with the ID of "'+e+'" already exists.');return u.registry[e]=t,this},remove:function(e){return this.has(e)&&delete u.registry[e],this}}},{"./constants.js":1,"./globals":4,"./utils":9}],8:[function(e,t,n){"use strict";function r(){return m?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState}function o(e){function t(){var n,r=e.extends,o=e.id;return r?(n=document.createElement(r),n.setAttribute("is",o)):n=document.createElement(o),e.prototype=t.prototype,d(n,e),n}return t.prototype=e.prototype,t}function i(e,t){if(t=p(t||{},i.defaults),t.id=e,l.has(t.id))throw new Error('A definition of type "'+t.type+'" with the ID of "'+e+'" already exists.');if(l.set(t.id,t),g(),a.register(t.remove),t.type.indexOf(b.TAG)>-1)return o(t)}var u=function(e){return e&&e.__esModule?e.default:e},a=u(e("./document-observer")),s=e("./lifecycle"),d=s.triggerCreated,c=s.initElements,l=u(e("./registry")),f=e("./utils"),v=f.debounce,p=f.inherit,h=u(e("./version")),b=e("./constants").types,m=!!document.attachEvent,g=v(function(){var e=function(){c(document.getElementsByTagName("html"))};r()?e():m?window.addEventListener("load",e):document.addEventListener("DOMContentLoaded",e)});i.init=function(e){if(e)return"string"==typeof e&&(e=document.querySelectorAll(e)),c("undefined"==typeof e.length?[e]:e),e},i.types=b,i.version=h,i.defaults={attributes:void 0,events:void 0,extends:"",id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:b.ANY,unresolvedAttribute:"unresolved"};var y=window.skate;i.noConflict=function(){return window.skate=y,this},window.skate=i,t.exports=i},{"./constants":1,"./document-observer":3,"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],9:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},1))}}function i(e){for(var t=e;t&&t!==document&&!(t instanceof DocumentFragment);){if(t.hasAttribute(s))return t;t=t.parentNode}}function u(e,t,n){for(var r=Object.getOwnPropertyNames(t),o=r.length,i=0;i<o;i++){var u=r[i];if(n||void 0===e[u]){var a=Object.getOwnPropertyDescriptor(t,u),s=a.get||a.set||!a.writable||!a.enumerable||!a.configurable;s?Object.defineProperty(e,u,a):e[u]=t[u]}}return e}function a(e,t){for(var n in e)r(e,n)&&t(e[n],n)}n.hasOwn=r,n.debounce=o,n.getClosestIgnoredElement=i,n.inherit=u,n.objEach=a,Object.defineProperty(n,"__esModule",{value:!0});var s=e("./constants").ATTR_IGNORE},{"./constants":1}],10:[function(e,t,n){"use strict";t.exports="0.12.6"},{}]},{},[8]),function(e){var t=e.skate.noConflict();define("atlassian/libs/skate-0.12.6",[],function(){return t})}(window);;
;
/* module-key = 'jira.webresources:skate', location = '/static/lib/skate/skate.js' */
define("jira/skate",["atlassian/libs/skate-0.12.6"],function(t){function i(i,n){return t(i,n)}return i.type=t.type||{CLASSNAME:t.types.CLASS,ELEMENT:t.types.TAG,ATTRIBUTE:t.types.ATTR},i.init=function(n){return t.init(n),window.skate&&window.skate.init&&window.skate.init!==i.init&&window.skate.init(n),n},i});;
;
/* module-key = 'jira.webresources:skate', location = '/static/lib/skate/skate-generic-path.js' */
define("skate",["jira/skate"],function(e){return e});;
;
/* module-key = 'com.atlassian.auiplugin:jquery-compatibility', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-compatibility.js' */
jQuery.noConflict();;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-polyfills-console', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/polyfills/console.js' */
("undefined"===typeof window?global:window).__935a5cbb862450a49a36c8831ebb8846=function(){"use strict";"undefined"===typeof window.console?window.console={messages:[],log:function(a){this.messages.push(a)},show:function(){alert(this.messages.join("\n"));this.messages=[]}}:window.console.show=function(){};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-jquery', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/jquery.js' */
("undefined"===typeof window?global:window).__307d3e18fd611f85395c67cddeb1fe24=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=window.jQuery||window.Zepto;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-create-element', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/create-element.js' */
("undefined"===typeof window?global:window).__fd277fcde858b82a198666a405e85600=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__307d3e18fd611f85395c67cddeb1fe24,c=b&&b.__esModule?b:{"default":b};a.default=function(){var a=null;arguments.length&&"string"===typeof arguments[0]&&(a=(0,c.default)(document.createElement(arguments[0])),2===arguments.length&&a.html(arguments[1]));"undefined"!==typeof console&&console.warn&&console.warn("AJS's create element functionality has been deprecated since 5.9.0.\nNo alternative will be provided.\nUse document.createElement() or jQuery.parseHTML(), or preferably use a templating library.");
return a};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-object-assign-4.0.1-index', location = 'auiplugin/node_modules/object-assign/index.js' */
("undefined"===typeof window?global:window).__20af9d35c28a1911e53d45bf2b6d5c6f=function(){var h={},i=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;return h=Object.assign||function(e,h){var a,d;if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");d=Object(e);for(var b,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var g in a)i.call(a,g)&&(d[g]=a[g]);if(Object.getOwnPropertySymbols){b=Object.getOwnPropertySymbols(a);for(var c=
0;c<b.length;c++)j.call(a,b[c])&&(d[b[c]]=a[b[c]])}}return d}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-globalize', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/globalize.js' */
("undefined"===typeof window?global:window).__4d02fe17b8e885a34493e34af3d145dd=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a,b){window[c]=(0,d.default)(e.default,window[c]);return window[c][a]=b};var a=__fd277fcde858b82a198666a405e85600,e=a&&a.__esModule?a:{"default":a},d=(a=__20af9d35c28a1911e53d45bf2b6d5c6f)&&a.__esModule?a:{"default":a},c="AJS";return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-deprecation', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/deprecation.js' */
("undefined"===typeof window?global:window).__c8cfa00f1eba9ac7af89ee3d0d33961d=function(){function k(){"undefined"!==typeof console&&console.warn&&Function.prototype.apply.call(console.warn,console,arguments)}function h(c,b){if("function"===typeof c)return c;var a=!1,b=b||{};return function(d){var d=d?d:1,f=Error();(f=(f=f.stack||f.stacktrace)&&f.replace(/^Error\n/,"")||"")?(f=f.split("\n"),d=f[d+2]):d=f;d=d||"";if(!a||-1===n.indexOf(d)){n.push(d);a=!0;var f="DEPRECATED "+(b.deprecationType+" "||
"")+"- ",e;e=c;e=(e+="")?e.charAt(0).toUpperCase()+e.substring(1):"";f=f+e+" has been deprecated"+(b.sinceVersion?" since "+b.sinceVersion:"")+" and will be removed in "+(b.removeInVersion||"a future release")+".";b.alternativeName&&(f+=" Use "+b.alternativeName+" instead. ");b.extraInfo&&(f+=" "+b.extraInfo);d=""===d?" \n No stack trace of the deprecated usage is available in your current browser.":" \n "+d;b.extraObject?k(f+"\n",b.extraObject,d):k(f,d)}}}function o(c,b){var a=c.options.displayName,
a=a?" ("+a+")":"",d=l.default.extend({deprecationType:"CSS",extraObject:b},c.options);h("'"+c.selector+"' pattern"+a,d)()}function i(c,b,a){a=a||{};a.deprecationType=a.deprecationType||"JS";var d=h(b||c.name||"this function",a);return function(){d();return c.apply(this,arguments)}}function p(c,b,a){a=a||{};a.deprecationType=a.deprecationType||"JS";b=i(c,b,a);b.prototype=c.prototype;l.default.extend(b,c);return b}function m(c,b,a){if("function"===typeof c[b])a=a||{},a.deprecationType=a.deprecationType||
"JS",c[b]=i(c[b],a.displayName||b,a);else if(j){var d=c[b],a=a||{};a.deprecationType=a.deprecationType||"JS";var e=h(a.displayName||b,a);Object.defineProperty(c,b,{get:function(){e();return d},set:function(a){d=a;e();return a}})}}function q(c,b,a){var a=a||{},d;for(d in c)t.call(c,d)&&(a.deprecationType=a.deprecationType||"JS",a.displayName=b+d,a.alternativeName=a.alternativeNamePrefix&&a.alternativeNamePrefix+d,m(c,d,l.default.extend({},a)))}function u(c){return function(b){var a={selector:b,options:c||
{}};r.push(a);for(var b=document.querySelectorAll(b),d=0;d<b.length;d++)o(a,b[d])}}function s(c,b){window.MutationObserver?("string"===typeof c&&(c=[c]),c.forEach(u(b))):k("CSS could not be deprecated as Mutation Observer was not found.")}function v(c){return function(b){(c.matches||c.msMatchesSelector||c.webkitMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector).call(c,b.selector)&&o(b,c)}}var e={};"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getMessageLogger=e.propertyDeprecationSupported=
e.obj=e.prop=e.css=e.construct=e.fn=void 0;var g=__307d3e18fd611f85395c67cddeb1fe24,l=g&&g.__esModule?g:{"default":g},g=(g=__4d02fe17b8e885a34493e34af3d145dd)&&g.__esModule?g:{"default":g},t=Object.prototype.hasOwnProperty,n=[],r=[],j=!1;try{Object.defineProperty&&(Object.defineProperty({},"blam",{get:function(){},set:function(){}}),e.propertyDeprecationSupported=j=!0)}catch(x){}window.MutationObserver&&(new MutationObserver(function(c){c.forEach(function(b){for(var b=b.addedNodes,a=0;a<b.length;a++){var c=
b[a];1===c.nodeType&&r.forEach(v(c))}})})).observe(document,{childList:!0,subtree:!0});var w={fn:i,construct:p,css:s,prop:m,obj:q,propertyDeprecationSupported:j,getMessageLogger:h};(0,g.default)("deprecate",w);e.fn=i;e.construct=p;e.css=s;e.prop=m;e.obj=q;e.propertyDeprecationSupported=j;e.getMessageLogger=h;return e}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-polyfills-custom-event', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/polyfills/custom-event.js' */
("undefined"===typeof window?global:window).__5a18a90cc502f556e87c4181f8a6b4ab=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=void 0;a:{if(window.CustomEvent)try{var c=new window.CustomEvent("name",{bubbles:!1,cancelable:!0,detail:{x:"y"}});c.preventDefault();if(!0!==c.defaultPrevented)throw Error("Could not prevent default");if("name"!==c.type)throw Error("Could not set custom name");if("y"!==c.detail.x)throw Error("Could not set detail");a=window.CustomEvent;
break a}catch(e){}a=function(b,d){var d=d||{bubbles:!1,cancelable:!1,detail:void 0},a=document.createEvent("CustomEvent");a.initCustomEvent(b,!!d.bubbles,!!d.cancelable,d.detail);var c=a.preventDefault;a.preventDefault=function(){c.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(a){this.defaultPrevented=!0}};return a};a.prototype=window.Event.prototype}b.default=a;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-constants', location = 'auiplugin/node_modules/skatejs/lib/constants.js' */
("undefined"===typeof window?global:window).__3ceacf009ef9ceb3c52ebb9324915170=function(){var d={exports:{}},e=d.exports,i={module:d,exports:e},a;a=function(f,a,g){var c=("undefined"===typeof window?global:window).define,b,h,g=[g,a,f].filter(function(a){return"function"===typeof a})[0],a=[a,f,[]].filter(Array.isArray)[0];b=g.apply(null,a.map(function(a){return i[a]}));h=typeof b;"function"===typeof c&&c("string"===typeof f?f:"__3ceacf009ef9ceb3c52ebb9324915170",a,g);"string"===h?b=String(b):"number"===
h?b=Number(b):"boolean"===h&&(b=Boolean(b));void 0!==b&&(e=d.exports=b)};a.amd=!0;var c=function(a){Object.defineProperty(a,"__esModule",{value:!0});a.ATTR_IGNORE="data-skate-ignore";a.TYPE_ATTRIBUTE="a";a.TYPE_CLASSNAME="c";a.TYPE_ELEMENT="t"};"function"===typeof a&&a.amd?a(["exports"],c):"undefined"!==typeof e&&c(e);return d.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-version', location = 'auiplugin/node_modules/skatejs/lib/version.js' */
("undefined"===typeof window?global:window).__15c28555b7ada36a99309d466d5cff55=function(){var d={exports:{}},f=d.exports,i={module:d,exports:f},a;a=function(a,c,g){var e=("undefined"===typeof window?global:window).define,b,h,g=[g,c,a].filter(function(a){return"function"===typeof a})[0],c=[c,a,[]].filter(Array.isArray)[0];b=g.apply(null,c.map(function(a){return i[a]}));h=typeof b;"function"===typeof e&&e("string"===typeof a?a:"__15c28555b7ada36a99309d466d5cff55",c,g);"string"===h?b=String(b):"number"===
h?b=Number(b):"boolean"===h&&(b=Boolean(b));void 0!==b&&(f=d.exports=b)};a.amd=!0;var e=function(a,c){c.exports="0.13.17"};"function"===typeof a&&a.amd?a(["exports","module"],e):"undefined"!==typeof f&&"undefined"!==typeof d&&e(f,d);return d.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-globals', location = 'auiplugin/node_modules/skatejs/lib/globals.js' */
("undefined"===typeof window?global:window).__df73b283f1d40e8f4912fb904e42aa12=function(){var e={exports:{}},g=e.exports,j={module:e,exports:g,"./version":__15c28555b7ada36a99309d466d5cff55,"./version":__15c28555b7ada36a99309d466d5cff55},b;b=function(c,f,d){var b=("undefined"===typeof window?global:window).define,a,h,d=[d,f,c].filter(function(a){return"function"===typeof a})[0],f=[f,c,[]].filter(Array.isArray)[0];a=d.apply(null,f.map(function(a){return j[a]}));h=typeof a;"function"===typeof b&&b("string"===
typeof c?c:"__df73b283f1d40e8f4912fb904e42aa12",f,d);"string"===h?a=String(a):"number"===h?a=Number(a):"boolean"===h&&(a=Boolean(a));void 0!==a&&(g=e.exports=a)};b.amd=!0;var i=function(c,b,d){c="__skate_"+(d&&d.__esModule?d["default"]:d).replace(/[^\w]/g,"_");window[c]||(window[c]={observer:void 0,registry:{}});b.exports=window[c]};"function"===typeof b&&b.amd?b(["exports","module","./version"],i):"undefined"!==typeof g&&"undefined"!==typeof e&&i(g,e,__15c28555b7ada36a99309d466d5cff55);return e.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-data', location = 'auiplugin/node_modules/skatejs/lib/data.js' */
("undefined"===typeof window?global:window).__4666b4efa3069445b77e23d8419d0090=function(){var e={exports:{}},f=e.exports,j={module:e,exports:f},b;b=function(b,c,g){var h=("undefined"===typeof window?global:window).define,a,d,g=[g,c,b].filter(function(a){return"function"===typeof a})[0],c=[c,b,[]].filter(Array.isArray)[0];a=g.apply(null,c.map(function(a){return j[a]}));d=typeof a;"function"===typeof h&&h("string"===typeof b?b:"__4666b4efa3069445b77e23d8419d0090",c,g);"string"===d?a=String(a):"number"===
d?a=Number(a):"boolean"===d&&(a=Boolean(a));void 0!==a&&(f=e.exports=a)};b.amd=!0;var i=function(b,c){c.exports=function(b,c){var a=void 0===c?"":c,d=b.__SKATE_DATA||(b.__SKATE_DATA={});return a&&(d[a]||(d[a]={}))||d}};"function"===typeof b&&b.amd?b(["exports","module"],i):"undefined"!==typeof f&&"undefined"!==typeof e&&i(f,e);return e.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-mutation-observer', location = 'auiplugin/node_modules/skatejs/lib/mutation-observer.js' */
/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
("undefined"===typeof window?global:window).__c91177d0507115b2c279ac28adb63576=function(){var k={exports:{}},n=k.exports,t={module:k,exports:n},i;i=function(g,o,p){var f=("undefined"===typeof window?global:window).define,d,l,p=[p,o,g].filter(function(d){return"function"===typeof d})[0],o=[o,g,[]].filter(Array.isArray)[0];d=p.apply(null,o.map(function(d){return t[d]}));l=typeof d;"function"===typeof f&&f("string"===typeof g?g:"__c91177d0507115b2c279ac28adb63576",o,p);"string"===l?d=String(d):"number"===
l?d=Number(d):"boolean"===l&&(d=Boolean(d));void 0!==d&&(n=k.exports=d)};i.amd=!0;var q=function(){var g=window;if("undefined"===typeof WeakMap){var o=Object.defineProperty,p=Date.now()%1E9,f=function(){this.name="__st"+(1E9*Math.random()>>>0)+(p++ +"__")};f.prototype={set:function(a,b){var c=a[this.name];c&&c[0]===a?c[1]=b:o(a,this.name,{value:[a,b],writable:!0});return this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){var b=a[this.name];if(!b||b[0]!==
a)return!1;b[0]=b[1]=void 0;return!0},has:function(a){var b=a[this.name];return!b?!1:b[0]===a}};window.WeakMap=f}var d=function(){u=!1;var a=v;v=[];a.sort(function(b,a){return b.uid_-a.uid_});var b=!1;a.forEach(function(a){var e=a.takeRecords();a.nodes_.forEach(function(b){(b=m.get(b))&&b.forEach(function(b){b.observer===a&&b.removeTransientObservers()})});e.length&&(a.callback_(e,a),b=!0)});b&&d()},l=function(a,b){for(var c=a;c;c=c.parentNode){var e=m.get(c);if(e)for(var w=0;w<e.length;w++){var d=
e[w],h=d.options;if(c===a||h.subtree)(h=b(h))&&d.enqueue(h)}}},f=function(a){this.callback_=a;this.nodes_=[];this.records_=[];this.uid_=++t},i=function(a,b){this.type=a;this.target=b;this.addedNodes=[];this.removedNodes=[];this.oldValue=this.attributeNamespace=this.attributeName=this.nextSibling=this.previousSibling=null},k=function(a,b){return r=new i(a,b)},n=function(a){if(j)return j;var b=r,c=new i(b.type,b.target);c.addedNodes=b.addedNodes.slice();c.removedNodes=b.removedNodes.slice();c.previousSibling=
b.previousSibling;c.nextSibling=b.nextSibling;c.attributeName=b.attributeName;c.attributeNamespace=b.attributeNamespace;c.oldValue=b.oldValue;j=c;j.oldValue=a;return j},q=function(a,b,c){this.observer=a;this.target=b;this.options=c;this.transientObservedNodes=[]};if(!g.JsMutationObserver){var m=new WeakMap,s;if(/Trident|Edge/.test(navigator.userAgent))s=setTimeout;else if(window.setImmediate)s=window.setImmediate;else{var x=[],y=String(Math.random());window.addEventListener("message",function(a){a.data===
y&&(a=x,x=[],a.forEach(function(b){b()}))});s=function(a){x.push(a);window.postMessage(y,"*")}}var u=!1,v=[],t=0;f.prototype={observe:function(a,b){a=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a;if(!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var c=m.get(a);c||m.set(a,c=[]);for(var e,d=0;d<c.length;d++)if(c[d].observer===
this){e=c[d];e.removeListeners();e.options=b;break}e||(e=new q(this,a,b),c.push(e),this.nodes_.push(a));e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var a=m.get(a),b=0;b<a.length;b++){var c=a[b];if(c.observer===this){c.removeListeners();a.splice(b,1);break}}},this);this.records_=[]},takeRecords:function(){var a=this.records_;this.records_=[];return a}};var r,j;q.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(0<b.length){var e=b[c-1]===a?b[c-
1]:j&&(b[c-1]===j||b[c-1]===r)?j:null;if(e){b[c-1]=e;return}}else v.push(this.observer),u||(u=!0,s(d));b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0);b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.addEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},
removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0);b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.removeEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a);this.transientObservedNodes.push(a);var b=m.get(a);b||m.set(a,b=[]);b.push(this)}},removeTransientObservers:function(){var a=
this.transientObservedNodes;this.transientObservedNodes=[];a.forEach(function(b){this.removeListeners_(b);for(var b=m.get(b),a=0;a<b.length;a++)if(b[a]===this){b.splice(a,1);break}},this)},handleEvent:function(a){a.stopImmediatePropagation();switch(a.type){case "DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,e=a.target,d=new k("attributes",e);d.attributeName=b;d.attributeNamespace=c;var f=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;l(e,function(a){if(a.attributes&&(!a.attributeFilter||
!a.attributeFilter.length||!(-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c))))return a.attributeOldValue?n(f):d});break;case "DOMCharacterDataModified":e=a.target;d=k("characterData",e);f=a.prevValue;l(e,function(a){if(a.characterData)return a.characterDataOldValue?n(f):d});break;case "DOMNodeRemoved":this.addTransientObserver(a.target);case "DOMNodeInserted":var h=a.target,g;"DOMNodeInserted"===a.type?(e=[h],g=[]):(e=[],g=[h]);var i=h.previousSibling,h=h.nextSibling,d=k("childList",
a.target.parentNode);d.addedNodes=e;d.removedNodes=g;d.previousSibling=i;d.nextSibling=h;l(a.relatedNode,function(a){if(a.childList)return d})}r=j=void 0}};g.JsMutationObserver=f;g.MutationObserver||(g.MutationObserver=f,f._isPolyfilled=!0)}};"function"===typeof i&&i.amd?i(["exports"],q):"undefined"!==typeof n&&q(n);return k.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-utils', location = 'auiplugin/node_modules/skatejs/lib/utils.js' */
("undefined"===typeof window?global:window).__c962c88861b22faa9e6b0ff498553ca3=function(){var f={exports:{}},j=f.exports,l={module:f,exports:j,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./constants":__3ceacf009ef9ceb3c52ebb9324915170},d;d=function(b,i,g){var d=("undefined"===typeof window?global:window).define,c,e,g=[g,i,b].filter(function(a){return"function"===typeof a})[0],i=[i,b,[]].filter(Array.isArray)[0];c=g.apply(null,i.map(function(a){return l[a]}));e=typeof c;"function"===typeof d&&
d("string"===typeof b?b:"__c962c88861b22faa9e6b0ff498553ca3",i,g);"string"===e?c=String(c):"number"===e?c=Number(c):"boolean"===e&&(c=Boolean(c));void 0!==c&&(j=f.exports=c)};d.amd=!0;var k=function(b,d){function g(a,m){return Object.prototype.hasOwnProperty.call(a,m)}b.hasOwn=g;b.camelCase=function(a){return a.split(/-/g).map(function(a,b){return 0===b?a:a[0].toUpperCase()+a.substring(1)}).join("")};b.elementContains=function(a,b){return a===document&&!a.contains?document.head.contains(b)||document.body.contains(b):
a.contains?a.contains(b):e.call(a,b)};b.debounce=function(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},1))}};b.getClosestIgnoredElement=function(a){for(;a instanceof Element;){if(a.hasAttribute(f))return a;a=a.parentNode}};b.inherit=function(a,b,c){for(var d=Object.getOwnPropertyNames(b),g=d.length,f=0;f<g;f++){var e=d[f];if(c||void 0===a[e]){var h=Object.getOwnPropertyDescriptor(b,e);h.get||h.set||!h.writable||!h.enumerable||!h.configurable?Object.defineProperty(a,e,h):
a[e]=b[e]}}return a};b.objEach=function(a,b){for(var c in a)g(a,c)&&b(a[c],c)};b.supportsNativeCustomElements=function(){return"function"===typeof document.registerElement};b.isValidNativeCustomElementName=function(a){return 0<a.indexOf("-")};Object.defineProperty(b,"__esModule",{value:!0});var f=d.ATTR_IGNORE,c=window.HTMLElement.prototype;b.elementPrototype=c;var e=c.contains};"function"===typeof d&&d.amd?d(["exports","./constants"],k):"undefined"!==typeof j&&k(j,__3ceacf009ef9ceb3c52ebb9324915170);
return f.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-registry', location = 'auiplugin/node_modules/skatejs/lib/registry.js' */
("undefined"===typeof window?global:window).__c4b6ad56719b8affc0c1c55ea177df52=function(){var h={exports:{}},l=h.exports,o={module:h,exports:l,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./globals":__df73b283f1d40e8f4912fb904e42aa12,"./utils":__c962c88861b22faa9e6b0ff498553ca3,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./globals":__df73b283f1d40e8f4912fb904e42aa12,"./utils":__c962c88861b22faa9e6b0ff498553ca3},b;b=function(b,d,f){var k=("undefined"===typeof window?global:window).define,
a,n,f=[f,d,b].filter(function(a){return"function"===typeof a})[0],d=[d,b,[]].filter(Array.isArray)[0];a=f.apply(null,d.map(function(a){return o[a]}));n=typeof a;"function"===typeof k&&k("string"===typeof b?b:"__c4b6ad56719b8affc0c1c55ea177df52",d,f);"string"===n?a=String(a):"number"===n?a=Number(a):"boolean"===n&&(a=Boolean(a));void 0!==a&&(l=h.exports=a)};b.amd=!0;var m=function(b,d,f,k,a){var h=f.TYPE_ATTRIBUTE,l=f.TYPE_CLASSNAME,m=f.TYPE_ELEMENT,i=k&&k.__esModule?k["default"]:k,p=a.hasOwn,o=a.isValidNativeCustomElementName,
q=a.supportsNativeCustomElements;d.exports={clear:function(){i.registry={};return this},get:function(e){return p(i.registry,e)&&i.registry[e]},getForElement:function(e){var a=e.attributes,b=a.length,f=[],j=a.is,d=j&&(j.value||j.nodeValue),j=(e.tagName||e.localName).toLowerCase(),c=d||j,g;this.isType(c,m)&&(c=i.registry[c],g=c["extends"],d?j===g&&f.push(c):g||f.push(c));for(d=0;d<b;d++)c=a[d].nodeName,this.isType(c,h)&&(c=i.registry[c],g=c["extends"],(!g||j===g)&&f.push(c));(a=e.classList)?e=a:(e=
e.attributes,e=e["class"]&&e["class"].nodeValue.split(/\s+/)||[]);a=e.length;for(b=0;b<a;b++)c=e[b],this.isType(c,l)&&(c=i.registry[c],g=c["extends"],(!g||j===g)&&f.push(c));return f},isType:function(a,b){var d=this.get(a);return d&&d.type===b},isNativeCustomElement:function(a){return q()&&this.isType(a,m)&&o(a)},set:function(a,b){if(p(i.registry,a))throw Error('A component definition of type "'+b.type+'" with the ID of "'+a+'" already exists.');i.registry[a]=b;return this}}};"function"===typeof b&&
b.amd?b(["exports","module","./constants","./globals","./utils"],m):"undefined"!==typeof l&&"undefined"!==typeof h&&m(l,h,__3ceacf009ef9ceb3c52ebb9324915170,__df73b283f1d40e8f4912fb904e42aa12,__c962c88861b22faa9e6b0ff498553ca3);return h.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-lifecycle', location = 'auiplugin/node_modules/skatejs/lib/lifecycle.js' */
("undefined"===typeof window?global:window).__76ada509bc46d5c68cd543ddd8e839a4=function(){var o={exports:{}},m=o.exports,s={module:o,exports:m,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./data":__4666b4efa3069445b77e23d8419d0090,"./mutation-observer":__c91177d0507115b2c279ac28adb63576,"./registry":__c4b6ad56719b8affc0c1c55ea177df52,"./utils":__c962c88861b22faa9e6b0ff498553ca3,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./data":__4666b4efa3069445b77e23d8419d0090,"./mutation-observer":__c91177d0507115b2c279ac28adb63576,
"./registry":__c4b6ad56719b8affc0c1c55ea177df52,"./utils":__c962c88861b22faa9e6b0ff498553ca3},k;k=function(i,f,l){var k=("undefined"===typeof window?global:window).define,d,j,l=[l,f,i].filter(function(d){return"function"===typeof d})[0],f=[f,i,[]].filter(Array.isArray)[0];d=l.apply(null,f.map(function(d){return s[d]}));j=typeof d;"function"===typeof k&&k("string"===typeof i?i:"__76ada509bc46d5c68cd543ddd8e839a4",f,l);"string"===j?d=String(d):"number"===j?d=Number(d):"boolean"===j&&(d=Boolean(d));
void 0!==d&&(m=o.exports=d)};k.amd=!0;var q=function(i,f,l,k,d,j){function o(e,b,a){Object.defineProperty(e,a,{get:function(){return this.getAttribute(b)},set:function(a){void 0===a?this.removeAttribute(b):this.setAttribute(b,a)}})}function m(e,b,a){var d,f,c=a.name,h=a.newValue,g;t&&(g=r(e,"cachedAttributeOldValues"));var a=t&&p(g,c)?g[c]:a.oldValue,i="string"===typeof h,u="string"===typeof a,n=(b=b.attributes)&&b[c];!u&&i?f="created":u&&i?f="updated":u&&!i&&(f="removed");t&&("removed"===f?delete g[c]:
g[c]=h);n&&"function"===typeof n[f]?d=n[f]:n&&"function"===typeof n.fallback?d=n.fallback:"function"===typeof n?d=n:"function"===typeof b&&(d=b);d&&d(e,{type:f,name:c,newValue:void 0===h?null:h,oldValue:void 0===a?null:a})}function q(e,b){var a=r(e,b.id);if(!a.created){a.created=!0;C(e,b.prototype,!0);b.template&&!e.hasAttribute(b.resolvedAttribute)&&b.template(e);e.removeAttribute(b.unresolvedAttribute);e.setAttribute(b.resolvedAttribute,"");var d=function(a,b){return function(d){if(!b)return a(e,
d,e);for(var c=d.target;c&&c!==document&&c!==e.parentNode;){var f;var g=c;f=b;D&&(g=g.cloneNode(),document.createElement("div").appendChild(g));f=w.call(g,f);if(f)return a(e,d,c);c=c.parentNode}}};"object"===typeof b.events&&E(b.events,function(a,b){var c,f;f=b.split(" ");c=f.shift();f=f.join(" ");e.addEventListener(c,d(a,f),!!f&&("blur"===c||"focus"===c))});var f=e.attributes;b.attributes&&!v.isNativeCustomElement(b.id)&&(new window.MutationObserver(function(a){a.forEach(function(a){var c=a.attributeName,
d=f[c];m(e,b,{name:c,newValue:d&&(d.value||d.nodeValue),oldValue:a.oldValue})})})).observe(e,{attributes:!0,attributeOldValue:!0});a=b.attributes;if("object"===typeof a)for(var c in a){var h=F(c);p(a,c)&&!p(e,h)&&o(e,c,h)}c=b.attributes;if("object"===typeof c)for(var g in c)p(c,g)&&(p(c[g],"value")&&!e.hasAttribute(g))&&(a=c[g].value,a="function"===typeof a?a(e):a,e.setAttribute(g,a));h=e.attributes;c=[];a=h.length;for(g=0;g<a;g++)c.push(h[g]);for(g=0;g<a;g++)h=c[g],m(e,b,{name:h.nodeName,newValue:h.value||
h.nodeValue});b.created&&b.created(e)}}function x(e,b){var a=r(e,b.id);!a.attached&&G(document,e)&&(a.attached=!0,b.attached&&b.attached(e),a.detached=!1)}function y(e,b){var a=r(e,b.id);a.detached||(a.detached=!0,b.detached&&b.detached(e),a.attached=!1)}function z(e){for(var b=0;b<e.length;b++){var a=e[b];if(!(a.nodeType!==A.ELEMENT_NODE||a.attributes[s])){for(var d=v.getForElement(a),f=d.length,c=0;c<f;c++){var h=a,g=d[c];q(h,g);x(h,g)}a=a.childNodes||[];a.length&&z(a)}}}function B(e){for(var b=
0;b<e.length;b++){var a=e[b];if(a.nodeType===A.ELEMENT_NODE){B(a.childNodes);for(var d=v.getForElement(a),f=d.length,c=0;c<f;c++)y(a,d[c])}}}Object.defineProperty(i,"__esModule",{value:!0});var s=f.ATTR_IGNORE,r=l&&l.__esModule?l["default"]:l,v=d&&d.__esModule?d["default"]:d,F=j.camelCase,G=j.elementContains,p=j.hasOwn,C=j.inherit,E=j.objEach,A=window.Node,f=window.HTMLElement.prototype,w=f.matches||f.msMatchesSelector||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector,D=!w.call(document.createElement("div"),
"div"),t=/Edge/.test(navigator.userAgent);i.initElements=z;i.removeElements=B;i.triggerAttached=x;i.triggerAttributeChanged=m;i.triggerCreated=q;i.triggerDetached=y};"function"===typeof k&&k.amd?k("exports ./constants ./data ./mutation-observer ./registry ./utils".split(" "),q):"undefined"!==typeof m&&q(m,__3ceacf009ef9ceb3c52ebb9324915170,__4666b4efa3069445b77e23d8419d0090,__c91177d0507115b2c279ac28adb63576,__c4b6ad56719b8affc0c1c55ea177df52,__c962c88861b22faa9e6b0ff498553ca3);return o.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-fix-ie-innerhtml', location = 'auiplugin/node_modules/skatejs/lib/fix-ie-innerhtml.js' */
("undefined"===typeof window?global:window).__576655637d4ea6523fc9a23f8a7b3b68=function(){var f={exports:{}},h=f.exports,k={module:f,exports:h},d;d=function(g,c,b){var e=("undefined"===typeof window?global:window).define,a,i,b=[b,c,g].filter(function(a){return"function"===typeof a})[0],c=[c,g,[]].filter(Array.isArray)[0];a=b.apply(null,c.map(function(a){return k[a]}));i=typeof a;"function"===typeof e&&e("string"===typeof g?g:"__576655637d4ea6523fc9a23f8a7b3b68",c,b);"string"===i?a=String(a):"number"===
i?a=Number(a):"boolean"===i&&(a=Boolean(a));void 0!==a&&(h=f.exports=a)};d.amd=!0;var j=function(){function g(a,c){var b=a.childNodes;if(b)for(var e=b.length,d=0;d<e;d++){var f=b[d];c(f,a);g(f,c)}}var c=/MSIE/.test(navigator.userAgent),b=/Trident/.test(navigator.userAgent),e=window.HTMLElement.prototype;if(c||b)if(c=Object.getOwnPropertyDescriptor(e,"innerHTML"),!c||!c.get._hasBeenEnhanced){b&&(window.MutationObserver=window.JsMutationObserver||window.MutationObserver);var a=Object.getOwnPropertyDescriptor(e,
"innerHTML"),b=function(){return a.get.call(this)};b._hasBeenEnhanced=!0;Object.defineProperty(e,"innerHTML",{get:b,set:function(b){g(this,function(a,b){var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMNodeRemoved",true,false,b,null,null,null,null);a.dispatchEvent(c)});a.set.call(this,b)}})}};"function"===typeof d&&d.amd?d(["exports"],j):"undefined"!==typeof h&&j(h);return f.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-document-observer', location = 'auiplugin/node_modules/skatejs/lib/document-observer.js' */
("undefined"===typeof window?global:window).__3c8c6233f9ea85a9125bd2a1e04f063c=function(){var c={exports:{}},f=c.exports,j={module:c,exports:f,"./globals":__df73b283f1d40e8f4912fb904e42aa12,"./lifecycle":__76ada509bc46d5c68cd543ddd8e839a4,"./mutation-observer":__c91177d0507115b2c279ac28adb63576,"./fix-ie-innerhtml":__576655637d4ea6523fc9a23f8a7b3b68,"./utils":__c962c88861b22faa9e6b0ff498553ca3,"./globals":__df73b283f1d40e8f4912fb904e42aa12,"./lifecycle":__76ada509bc46d5c68cd543ddd8e839a4,"./mutation-observer":__c91177d0507115b2c279ac28adb63576,
"./fix-ie-innerhtml":__576655637d4ea6523fc9a23f8a7b3b68,"./utils":__c962c88861b22faa9e6b0ff498553ca3},d;d=function(d,e,b){var k=("undefined"===typeof window?global:window).define,a,g,b=[b,e,d].filter(function(a){return"function"===typeof a})[0],e=[e,d,[]].filter(Array.isArray)[0];a=b.apply(null,e.map(function(a){return j[a]}));g=typeof a;"function"===typeof k&&k("string"===typeof d?d:"__3c8c6233f9ea85a9125bd2a1e04f063c",e,b);"string"===g?a=String(a):"number"===g?a=Number(a):"boolean"===g&&(a=Boolean(a));
void 0!==a&&(f=c.exports=a)};d.amd=!0;var i=function(d,e,b,c,a,g,f){function i(a){for(var d=a.length,c=0;c<d;c++){var b=a[c],e=b.addedNodes,b=b.removedNodes;e&&(e.length&&!l(e[0].parentNode))&&j(e);b&&b.length&&m(b)}}var h=b&&b.__esModule?b["default"]:b,j=c.initElements,m=c.removeElements,l=f.getClosestIgnoredElement;e.exports={register:function(a){a&&this.unregister();h.observer||(a=new window.MutationObserver(i),a.observe(document,{childList:!0,subtree:!0}),h.observer=a);return this},unregister:function(){h.observer&&
(h.observer.disconnect(),h.observer=void 0);return this}}};"function"===typeof d&&d.amd?d("exports module ./globals ./lifecycle ./mutation-observer ./fix-ie-innerhtml ./utils".split(" "),i):"undefined"!==typeof f&&"undefined"!==typeof c&&i(f,c,__df73b283f1d40e8f4912fb904e42aa12,__76ada509bc46d5c68cd543ddd8e839a4,__c91177d0507115b2c279ac28adb63576,__576655637d4ea6523fc9a23f8a7b3b68,__c962c88861b22faa9e6b0ff498553ca3);return c.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-0.13.17-lib-skate', location = 'auiplugin/node_modules/skatejs/lib/skate.js' */
("undefined"===typeof window?global:window).__612b714a7afa741ae272e3b4821d110b=function(){var g={exports:{}},e=g.exports,n={module:g,exports:e,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./document-observer":__3c8c6233f9ea85a9125bd2a1e04f063c,"./lifecycle":__76ada509bc46d5c68cd543ddd8e839a4,"./registry":__c4b6ad56719b8affc0c1c55ea177df52,"./utils":__c962c88861b22faa9e6b0ff498553ca3,"./version":__15c28555b7ada36a99309d466d5cff55,"./constants":__3ceacf009ef9ceb3c52ebb9324915170,"./document-observer":__3c8c6233f9ea85a9125bd2a1e04f063c,
"./lifecycle":__76ada509bc46d5c68cd543ddd8e839a4,"./registry":__c4b6ad56719b8affc0c1c55ea177df52,"./utils":__c962c88861b22faa9e6b0ff498553ca3,"./version":__15c28555b7ada36a99309d466d5cff55},c;c=function(k,h,d){var c=("undefined"===typeof window?global:window).define,a,j,d=[d,h,k].filter(function(a){return"function"===typeof a})[0],h=[h,k,[]].filter(Array.isArray)[0];a=d.apply(null,h.map(function(a){return n[a]}));j=typeof a;"function"===typeof c&&c("string"===typeof k?k:"__612b714a7afa741ae272e3b4821d110b",
h,d);"string"===j?a=String(a):"number"===j?a=Number(a):"boolean"===j&&(a=Boolean(a));void 0!==a&&(e=g.exports=a)};c.amd=!0;var m=function(c,h,d,g,a,j,e,m){function f(i,b){b=l({},b);b=l(b,f.defaults);b.id=i;o.set(i,b);if(o.isNativeCustomElement(i)){var a=b["extends"]?document.createElement(b["extends"]).constructor.prototype:r.prototype;a.isPrototypeOf(b.prototype)||(b.prototype=l(Object.create(a),b.prototype,!0));a={prototype:l(b.prototype,{createdCallback:function(){s(this,b)},attachedCallback:function(){v(this,
b)},detachedCallback:function(){w(this,b)},attributeChangedCallback:function(a,i,c){x(this,b,{name:a,oldValue:i,newValue:c})}})};b["extends"]&&(a["extends"]=b["extends"]);return document.registerElement(i,a)}y();z.register(!!b.detached);if(o.isType(i,p)){var c=b,d=function(){var a;a=c["extends"];var b=c.id;a?(a=document.createElement(a),a.setAttribute("is",b)):a=document.createElement(b);c.prototype=d.prototype;s(a,c);return a};d.prototype=c.prototype;return d}}var q=function(a){return a&&a.__esModule?
a["default"]:a},c=d.TYPE_ATTRIBUTE,n=d.TYPE_CLASSNAME,p=d.TYPE_ELEMENT,z=q(g),s=a.triggerCreated,v=a.triggerAttached,w=a.triggerDetached,x=a.triggerAttributeChanged,t=a.initElements,o=q(j),d=e.debounce,l=e.inherit,e=q(m),r=window.HTMLElement,u=!!document.attachEvent,y=d(function(){var a=function(){t(document.documentElement.childNodes)},b;b=u?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState;b?a():u?window.addEventListener("load",a):document.addEventListener("DOMContentLoaded",
a)});f.init=function(a){var b=a;if(!a)return a;"string"===typeof a?b=a=document.querySelectorAll(a):a instanceof r&&(b=[a]);t(b);return a};f.type={ATTRIBUTE:c,CLASSNAME:n,ELEMENT:p};f.version=e;f.defaults={attributes:void 0,events:void 0,"extends":void 0,id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:p,unresolvedAttribute:"unresolved"};var A=window.skate;f.noConflict=function(){window.skate=A;return f};window.skate=f;h.exports=f};"function"===typeof c&&c.amd?c("exports module ./constants ./document-observer ./lifecycle ./registry ./utils ./version".split(" "),
m):"undefined"!==typeof e&&"undefined"!==typeof g&&m(e,g,__3ceacf009ef9ceb3c52ebb9324915170,__3c8c6233f9ea85a9125bd2a1e04f063c,__76ada509bc46d5c68cd543ddd8e839a4,__c4b6ad56719b8affc0c1c55ea177df52,__c962c88861b22faa9e6b0ff498553ca3,__15c28555b7ada36a99309d466d5cff55);return g.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-tether-0.6.5-tether', location = 'auiplugin/node_modules/@atlassian/aui/node_modules/tether/tether.js' */
("undefined"===typeof window?global:window).__c73084fddb2d02d92156231c79374859=function(){var I={exports:{}},W=I.exports,X={module:I,exports:W},P;P=function(w,p,x){var B=("undefined"===typeof window?global:window).define,l,v,x=[x,p,w].filter(function(l){return"function"===typeof l})[0],p=[p,w,[]].filter(Array.isArray)[0];l=x.apply(null,p.map(function(l){return X[l]}));v=typeof l;"function"===typeof B&&B("string"===typeof w?w:"__c73084fddb2d02d92156231c79374859",p,x);"string"===v?l=String(l):"number"===
v?l=Number(l):"boolean"===v&&(l=Boolean(l));void 0!==l&&(W=I.exports=l)};P.amd=!0;(function(w){var p,x,B,l,v,Q,R,Y,C,X={}.hasOwnProperty,ya=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},za=[].slice;null==this.Tether&&(this.Tether={modules:[]});var oa;oa=0;Y=function(){return oa++};C={};v=function(a){var b,c,d;d=a._tetherZeroElement;if(d==null){d=a.createElement("div");d.setAttribute("data-tether-id",Y());l(d.style,{top:0,left:0,position:"absolute"});
a.body.appendChild(d);a._tetherZeroElement=d}b=d.getAttribute("data-tether-id");if(C[b]==null){C[b]={};d=d.getBoundingClientRect();for(c in d){a=d[c];C[b][c]=a}x(function(){return C[b]=void 0})}return C[b]};l=function(a){var b,c,d,e,h,f;a==null&&(a={});b=[];Array.prototype.push.apply(b,arguments);f=b.slice(1);e=0;for(h=f.length;e<h;e++)if(b=f[e])for(c in b)if(X.call(b,c)){d=b[c];a[c]=d}return a};R=function(a,b){var c,d,e,h,f;if(a.classList!=null){h=b.split(" ");f=[];d=0;for(e=h.length;d<e;d++){c=
h[d];c.trim()&&f.push(a.classList.remove(c))}return f}return a.className=a.className.replace(RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi")," ")};p=function(a,b){var c,d,e,h,f;if(a.classList!=null){h=b.split(" ");f=[];d=0;for(e=h.length;d<e;d++){c=h[d];c.trim()&&f.push(a.classList.add(c))}return f}R(a,b);return a.className=a.className+(" "+b)};Q=function(a,b){return a.classList!=null?a.classList.contains(b):RegExp("(^| )"+b+"( |$)","gi").test(a.className)};B=[];x=function(a){return B.push(a)};
var g=function(){};g.prototype.on=function(a,b,c,d){var e;d==null&&(d=false);if(this.bindings==null)this.bindings={};if((e=this.bindings)[a]==null)e[a]=[];return this.bindings[a].push({handler:b,ctx:c,once:d})};g.prototype.once=function(a,b,c){return this.on(a,b,c,true)};g.prototype.off=function(a,b){var c,d;if(((c=this.bindings)!=null?c[a]:void 0)!=null){if(b==null)return delete this.bindings[a];c=0;for(d=[];c<this.bindings[a].length;)this.bindings[a][c].handler===b?d.push(this.bindings[a].splice(c,
1)):d.push(c++);return d}};g.prototype.trigger=function(){var a,b,c,d,e,h,f;c=arguments[0];a=2<=arguments.length?za.call(arguments,1):[];if((b=this.bindings)!=null&&b[c]){e=0;for(f=[];e<this.bindings[c].length;){h=this.bindings[c][e];d=h.handler;b=h.ctx;h=h.once;d.apply(b!=null?b:this,a);h?f.push(this.bindings[c].splice(e,1)):f.push(e++)}return f}};this.Tether.Utils={getScrollParent:function(a){var b,c,d;b=getComputedStyle(a).position;if(b==="fixed")return a;for(;a=a.parentNode;){try{c=getComputedStyle(a)}catch(e){}if(c==
null||/(auto|scroll)/.test(c.overflow+c["overflow-y"]+c["overflow-x"])&&(b!=="absolute"||(d=c.position)==="relative"||d==="absolute"||d==="fixed"))return a}return document.body},getBounds:function(a){var b,c,d,e,h;if(a===document){c=document;a=document.documentElement}else c=a.ownerDocument;d=c.documentElement;b={};h=a.getBoundingClientRect();for(e in h){a=h[e];b[e]=a}e=v(c);b.top=b.top-e.top;b.left=b.left-e.left;if(b.width==null)b.width=document.body.scrollWidth-b.left-b.right;if(b.height==null)b.height=
document.body.scrollHeight-b.top-b.bottom;b.top=b.top-d.clientTop;b.left=b.left-d.clientLeft;b.right=c.body.clientWidth-b.width-b.left;b.bottom=c.body.clientHeight-b.height-b.top;return b},getOffsetParent:function(a){return a.offsetParent||document.documentElement},extend:l,addClass:p,removeClass:R,hasClass:Q,updateClasses:function(a,b,c){var d,e,h;e=0;for(h=c.length;e<h;e++){d=c[e];ya.call(b,d)<0&&Q(a,d)&&R(a,d)}h=[];c=0;for(e=b.length;c<e;c++){d=b[c];Q(a,d)?h.push(void 0):h.push(p(a,d))}return h},
defer:x,flush:function(){var a,b;for(b=[];a=B.pop();)b.push(a());return b},uniqueId:Y,Evented:g,getScrollBarSize:function(){var a,b,c;a=document.createElement("div");a.style.width="100%";a.style.height="200px";b=document.createElement("div");l(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"});b.appendChild(a);document.body.appendChild(b);c=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;if(c===a)a=b.clientWidth;
document.body.removeChild(b);b=c-a;return{width:b,height:b}}};var pa,qa,Z,D,J,$,aa,ra,S,T,ba,E,U,ca,sa,V,K,da,ea,fa,ga,z,F,ha,ta,Aa=[].slice;if(null==this.Tether)throw Error("You must include the utils.js file before tether.js");D=this.Tether;g=D.Utils;sa=g.getScrollParent;E=g.getBounds;U=g.getOffsetParent;T=g.extend;J=g.addClass;ga=g.removeClass;ha=g.updateClasses;S=g.defer;ba=g.flush;ca=g.getScrollBarSize;ta=function(a,b,c){c==null&&(c=1);return a+c>=b&&b>=a-c};a:{var A,G,L,M,g=document.createElement("div");
M=["transform","webkitTransform","OTransform","MozTransform","msTransform"];G=0;for(L=M.length;G<L;G++)if(A=M[G],void 0!==g.style[A]){F=A;break a}F=void 0}z=[];fa=function(){var a,b,c;b=0;for(c=z.length;b<c;b++){a=z[b];a.position(false)}return ba()};V=function(){var a;return(a=typeof performance!=="undefined"&&performance!==null?typeof performance.now==="function"?performance.now():void 0:void 0)!=null?a:+new Date};var N,H,O,ia;O=H=N=null;ia=function(){if(H!=null&&H>16){H=Math.min(H-16,250);O=setTimeout(ia,
250)}else if(!(N!=null&&V()-N<10)){if(O!=null){clearTimeout(O);O=null}N=V();fa();return H=V()-N}};L=["resize","scroll","touchmove"];M=[];A=0;for(G=L.length;A<G;A++)g=L[A],M.push(window.addEventListener(g,ia));pa={center:"center",left:"right",right:"left"};qa={middle:"middle",top:"bottom",bottom:"top"};Z={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"};ra=function(a,b){var c,d;c=a.left;d=a.top;c==="auto"&&(c=pa[b.left]);d==="auto"&&(d=qa[b.top]);return{left:c,top:d}};aa=function(a){var b,
c;return{left:(b=Z[a.left])!=null?b:a.left,top:(c=Z[a.top])!=null?c:a.top}};$=function(){var a,b,c,d,e,h;b=1<=arguments.length?Aa.call(arguments,0):[];c={top:0,left:0};e=0;for(h=b.length;e<h;e++){a=b[e];d=a.top;a=a.left;typeof d==="string"&&(d=parseFloat(d,10));typeof a==="string"&&(a=parseFloat(a,10));c.top=c.top+d;c.left=c.left+a}return c};K=function(a,b){if(typeof a.left==="string"&&a.left.indexOf("%")!==-1)a.left=parseFloat(a.left,10)/100*b.width;if(typeof a.top==="string"&&a.top.indexOf("%")!==
-1)a.top=parseFloat(a.top,10)/100*b.height;return a};da=ea=function(a){a=a.split(" ");return{top:a[0],left:a[1]}};g=function(a){var b=this.position,c=this;this.position=function(){return b.apply(c,arguments)};var d,e,h,f;z.push(this);this.history=[];this.setOptions(a,false);h=D.modules;d=0;for(e=h.length;d<e;d++){a=h[d];(f=a.initialize)!=null&&f.call(this)}this.position()};g.modules=[];g.prototype.getClass=function(a){var b,c;return(b=this.options.classes)!=null&&b[a]?this.options.classes[a]:((c=
this.options.classes)!=null?c[a]:void 0)!==false?this.options.classPrefix?""+this.options.classPrefix+"-"+a:a:""};g.prototype.setOptions=function(a,b){var c,d,e,h;this.options=a;b==null&&(b=true);c=this.options=T({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options);this.element=c.element;this.target=c.target;this.targetModifier=c.targetModifier;if(this.target==="viewport"){this.target=document.body;this.targetModifier="visible"}else if(this.target==="scroll-handle"){this.target=
document.body;this.targetModifier="scroll-handle"}h=["element","target"];d=0;for(e=h.length;d<e;d++){c=h[d];if(this[c]==null)throw Error("Tether Error: Both element and target must be defined");this[c].jquery!=null?this[c]=this[c][0]:typeof this[c]==="string"&&(this[c]=document.querySelector(this[c]))}J(this.element,this.getClass("element"));J(this.target,this.getClass("target"));if(!this.options.attachment)throw Error("Tether Error: You must provide an attachment");this.targetAttachment=da(this.options.targetAttachment);
this.attachment=da(this.options.attachment);this.offset=ea(this.options.offset);this.targetOffset=ea(this.options.targetOffset);this.scrollParent!=null&&this.disable();this.scrollParent=this.targetModifier==="scroll-handle"?this.target:sa(this.target);if(this.options.enabled!==false)return this.enable(b)};g.prototype.getTargetBounds=function(){var a,b,c,d,e,h;if(this.targetModifier!=null)switch(this.targetModifier){case "visible":if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,
height:innerHeight,width:innerWidth};a=E(this.target);d={height:a.height,width:a.width,top:a.top,left:a.left};d.height=Math.min(d.height,a.height-(pageYOffset-a.top));d.height=Math.min(d.height,a.height-(a.top+a.height-(pageYOffset+innerHeight)));d.height=Math.min(innerHeight,d.height);d.height=d.height-2;d.width=Math.min(d.width,a.width-(pageXOffset-a.left));d.width=Math.min(d.width,a.width-(a.left+a.width-(pageXOffset+innerWidth)));d.width=Math.min(innerWidth,d.width);d.width=d.width-2;if(d.top<
pageYOffset)d.top=pageYOffset;if(d.left<pageXOffset)d.left=pageXOffset;return d;case "scroll-handle":e=this.target;if(e===document.body){e=document.documentElement;a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}}else a=E(e);h=getComputedStyle(e);b=e.scrollWidth>e.clientWidth||"scroll"===[h.overflow,h.overflowX]||this.target!==document.body;c=0;b&&(c=15);c=a.height-parseFloat(h.borderTopWidth)-parseFloat(h.borderBottomWidth)-c;d={width:15,height:c*0.975*(c/e.scrollHeight),
left:a.left+a.width-parseFloat(h.borderLeftWidth)-15};b=0;c<408&&this.target===document.body&&(b=-1.1E-4*Math.pow(c,2)-0.00727*c+22.58);if(this.target!==document.body)d.height=Math.max(d.height,24);e=this.target.scrollTop/(e.scrollHeight-c);d.top=e*(c-d.height-b)+a.top+parseFloat(h.borderTopWidth);if(this.target===document.body)d.height=Math.max(d.height,24);return d}else return E(this.target)};g.prototype.clearCache=function(){return this._cache={}};g.prototype.cache=function(a,b){if(this._cache==
null)this._cache={};this._cache[a]==null&&(this._cache[a]=b.call(this));return this._cache[a]};g.prototype.enable=function(a){a==null&&(a=true);J(this.target,this.getClass("enabled"));J(this.element,this.getClass("enabled"));this.enabled=true;this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position);if(a)return this.position()};g.prototype.disable=function(){ga(this.target,this.getClass("enabled"));ga(this.element,this.getClass("enabled"));this.enabled=false;if(this.scrollParent!=
null)return this.scrollParent.removeEventListener("scroll",this.position)};g.prototype.destroy=function(){var a,b,c,d,e;this.disable();e=[];a=c=0;for(d=z.length;c<d;a=++c){b=z[a];if(b===this){z.splice(a,1);break}else e.push(void 0)}return e};g.prototype.updateAttachClasses=function(a,b){var c,d,e,h,f,t=this;if(a==null)a=this.attachment;if(b==null)b=this.targetAttachment;e=["left","top","bottom","right","middle","center"];(c=this._addAttachClasses)!=null&&c.length&&this._addAttachClasses.splice(0,
this._addAttachClasses.length);c=this._addAttachClasses!=null?this._addAttachClasses:this._addAttachClasses=[];a.top&&c.push(""+this.getClass("element-attached")+"-"+a.top);a.left&&c.push(""+this.getClass("element-attached")+"-"+a.left);b.top&&c.push(""+this.getClass("target-attached")+"-"+b.top);b.left&&c.push(""+this.getClass("target-attached")+"-"+b.left);d=[];h=0;for(f=e.length;h<f;h++){c=e[h];d.push(""+this.getClass("element-attached")+"-"+c)}h=0;for(f=e.length;h<f;h++){c=e[h];d.push(""+this.getClass("target-attached")+
"-"+c)}return S(function(){if(t._addAttachClasses!=null){ha(t.element,t._addAttachClasses,d);ha(t.target,t._addAttachClasses,d);return t._addAttachClasses=void 0}})};g.prototype.position=function(a){var b,c,d,e,h,f,t,m,j,k,g,o,i,n,q,l,y,r,s,p,u=this;a==null&&(a=true);if(this.enabled){this.clearCache();i=ra(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);b=this.cache("element-bounds",function(){return E(u.element)});g=b.width;c=b.height;if(g===0&&c===0&&this.lastSize!=
null){c=this.lastSize;g=c.width;c=c.height}else this.lastSize={width:g,height:c};d=q=this.cache("target-bounds",function(){return u.getTargetBounds()});t=K(aa(this.attachment),{width:g,height:c});n=K(aa(i),d);e=K(this.offset,{width:g,height:c});h=K(this.targetOffset,d);t=$(t,e);n=$(n,h);d=q.left+n.left-t.left;l=q.top+n.top-t.top;p=D.modules;y=0;for(s=p.length;y<s;y++){f=p[y];f=f.position.call(this,{left:d,top:l,targetAttachment:i,targetPos:q,attachment:this.attachment,elementPos:b,offset:t,targetOffset:n,
manualOffset:e,manualTargetOffset:h,scrollbarSize:m});if(!(f==null||typeof f!=="object")){if(f===false)return false;l=f.top;d=f.left}}b={page:{top:l,left:d},viewport:{top:l-pageYOffset,bottom:pageYOffset-l-c+innerHeight,left:d-pageXOffset,right:pageXOffset-d-g+innerWidth}};if(document.body.scrollWidth>window.innerWidth){m=this.cache("scrollbar-size",ca);b.viewport.bottom=b.viewport.bottom-m.height}if(document.body.scrollHeight>window.innerHeight){m=this.cache("scrollbar-size",ca);b.viewport.right=
b.viewport.right-m.width}if((k=document.body.style.position)!==""&&k!=="static"||(o=document.body.parentElement.style.position)!==""&&o!=="static"){b.page.bottom=document.body.scrollHeight-l-c;b.page.right=document.body.scrollWidth-d-g}if(((r=this.options.optimizations)!=null?r.moveElement:void 0)!==false&&this.targetModifier==null){j=this.cache("target-offsetparent",function(){return U(u.target)});g=this.cache("target-offsetparent-bounds",function(){return E(j)});k=getComputedStyle(j);getComputedStyle(this.element);
m={};i=["Top","Left","Bottom","Right"];r=0;for(c=i.length;r<c;r++){o=i[r];m[o.toLowerCase()]=parseFloat(k["border"+o+"Width"])}g.right=document.body.scrollWidth-g.left-g.width+m.right;g.bottom=document.body.scrollHeight-g.top-g.height+m.bottom;if(b.page.top>=g.top+m.top&&b.page.bottom>=g.bottom&&b.page.left>=g.left+m.left&&b.page.right>=g.right){o=j.scrollTop;k=j.scrollLeft;b.offset={top:b.page.top-g.top+o-m.top,left:b.page.left-g.left+k-m.left}}}this.move(b);this.history.unshift(b);this.history.length>
3&&this.history.pop();a&&ba();return true}};g.prototype.move=function(a){var b,c,d,e,h,f,g,m,j,k,l,o,i=this;if(this.element.parentNode!=null){f={};for(g in a){f[g]={};for(d in a[g]){c=false;l=this.history;j=0;for(k=l.length;j<k;j++){h=l[j];if(!ta((o=h[g])!=null?o[d]:void 0,a[g][d])){c=true;break}}c||(f[g][d]=true)}}b={top:"",left:"",right:"",bottom:""};h=function(a,c){var d,e;if(((d=i.options.optimizations)!=null?d.gpu:void 0)!==false){if(a.top){b.top=0;e=c.top}else{b.bottom=0;e=-c.bottom}if(a.left){b.left=
0;d=c.left}else{b.right=0;d=-c.right}b[F]="translateX("+Math.round(d)+"px) translateY("+Math.round(e)+"px)";if(F!=="msTransform")return b[F]=b[F]+" translateZ(0)"}else{a.top?b.top=""+c.top+"px":b.bottom=""+c.bottom+"px";return a.left?b.left=""+c.left+"px":b.right=""+c.right+"px"}};c=false;if((f.page.top||f.page.bottom)&&(f.page.left||f.page.right)){b.position="absolute";h(f.page,a.page)}else if((f.viewport.top||f.viewport.bottom)&&(f.viewport.left||f.viewport.right)){b.position="fixed";h(f.viewport,
a.viewport)}else if(f.offset!=null&&f.offset.top&&f.offset.left){b.position="absolute";e=this.cache("target-offsetparent",function(){return U(i.target)});U(this.element)!==e&&S(function(){i.element.parentNode.removeChild(i.element);return e.appendChild(i.element)});h(f.offset,a.offset);c=true}else{b.position="absolute";h({top:true,left:true},a.page)}if(!c&&this.element.parentNode.tagName!=="BODY"){this.element.parentNode.removeChild(this.element);document.body.appendChild(this.element)}m={};c=false;
for(d in b){f=b[d];a=this.element.style[d];if(a!==""&&f!==""&&(d==="top"||d==="left"||d==="bottom"||d==="right")){a=parseFloat(a);f=parseFloat(f)}if(a!==f){c=true;m[d]=b[d]}}if(c)return S(function(){return T(i.element.style,m)})}};D.position=fa;this.Tether=T(g,D);var ja,ua,ka,va,la,ma,u=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},g=this.Tether.Utils;la=g.getBounds;ka=g.extend;ma=g.updateClasses;ua=g.defer;ja=["left","top","right","bottom"];
va=function(a,b){var c,d,e,h,f;b==="scrollParent"?b=a.scrollParent:b==="window"&&(b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]);if(b===document)b=b.documentElement;if(b.nodeType!=null){c=d=la(b);e=getComputedStyle(b);b=[c.left,c.top,d.width+c.left,d.height+c.top];c=h=0;for(f=ja.length;h<f;c=++h){d=ja[c];d=d[0].toUpperCase()+d.substr(1);b[c]=d==="Top"||d==="Left"?b[c]+parseFloat(e["border"+d+"Width"]):b[c]-parseFloat(e["border"+d+"Width"])}}return b};this.Tether.modules.push({position:function(a){var b,
c,d,e,h,f,g,m,j,k,l,o,i,n,q,p,y,r,s,w,x,v=this;i=a.top;j=a.left;a=a.targetAttachment;if(!this.options.constraints)return true;n=this.cache("element-bounds",function(){return la(v.element)});m=n.height;n=n.width;if(n===0&&m===0&&this.lastSize!=null){m=this.lastSize;n=m.width;m=m.height}o=this.cache("target-bounds",function(){return v.getTargetBounds()});l=o.height;o=o.width;k={};f={};c=[this.getClass("pinned"),this.getClass("out-of-bounds")];q=this.options.constraints;f=0;for(k=q.length;f<k;f++){g=
q[f];g.outOfBoundsClass&&c.push(g.outOfBoundsClass);g.pinnedClass&&c.push(g.pinnedClass)}k=0;for(p=c.length;k<p;k++){f=c[k];e=["left","top","right","bottom"];q=0;for(y=e.length;q<y;q++){g=e[q];c.push(""+f+"-"+g)}}b=[];k=ka({},a);f=ka({},this.attachment);y=this.options.constraints;q=0;for(p=y.length;q<p;q++){g=y[q];e=g.to;d=g.attachment;g=g.pin;d==null&&(d="");if(u.call(d," ")>=0){h=d.split(" ");d=h[0];h=h[1]}else h=d;e=va(this,e);if(d==="target"||d==="both"){if(i<e[1]&&k.top==="top"){i=i+l;k.top=
"bottom"}if(i+m>e[3]&&k.top==="bottom"){i=i-l;k.top="top"}}if(d==="together"){if(i<e[1]&&k.top==="top")if(f.top==="bottom"){i=i+l;k.top="bottom";i=i+m;f.top="top"}else if(f.top==="top"){i=i+l;k.top="bottom";i=i-m;f.top="bottom"}if(i+m>e[3]&&k.top==="bottom")if(f.top==="top"){i=i-l;k.top="top";i=i-m;f.top="bottom"}else if(f.top==="bottom"){i=i-l;k.top="top";i=i+m;f.top="top"}if(k.top==="middle")if(i+m>e[3]&&f.top==="top"){i=i-m;f.top="bottom"}else if(i<e[1]&&f.top==="bottom"){i=i+m;f.top="top"}}if(h===
"target"||h==="both"){if(j<e[0]&&k.left==="left"){j=j+o;k.left="right"}if(j+n>e[2]&&k.left==="right"){j=j-o;k.left="left"}}if(h==="together")if(j<e[0]&&k.left==="left")if(f.left==="right"){j=j+o;k.left="right";j=j+n;f.left="left"}else{if(f.left==="left"){j=j+o;k.left="right";j=j-n;f.left="right"}}else if(j+n>e[2]&&k.left==="right")if(f.left==="left"){j=j-o;k.left="left";j=j-n;f.left="right"}else{if(f.left==="right"){j=j-o;k.left="left";j=j+n;f.left="left"}}else if(k.left==="center")if(j+n>e[2]&&f.left===
"left"){j=j-n;f.left="right"}else if(j<e[0]&&f.left==="right"){j=j+n;f.left="left"}if(d==="element"||d==="both"){if(i<e[1]&&f.top==="bottom"){i=i+m;f.top="top"}if(i+m>e[3]&&f.top==="top"){i=i-m;f.top="bottom"}}if(h==="element"||h==="both"){if(j<e[0]&&f.left==="right"){j=j+n;f.left="left"}if(j+n>e[2]&&f.left==="left"){j=j-n;f.left="right"}}if(typeof g==="string"){s=r=h=d=void 0;r=g.split(",");s=[];h=0;for(d=r.length;h<d;h++){g=r[h];s.push(g.trim())}g=s}else g===true&&(g=["top","left","right","bottom"]);
g||(g=[]);h=[];d=[];if(i<e[1])if(u.call(g,"top")>=0){i=e[1];h.push("top")}else d.push("top");if(i+m>e[3])if(u.call(g,"bottom")>=0){i=e[3]-m;h.push("bottom")}else d.push("bottom");if(j<e[0])if(u.call(g,"left")>=0){j=e[0];h.push("left")}else d.push("left");if(j+n>e[2])if(u.call(g,"right")>=0){j=e[2]-n;h.push("right")}else d.push("right");if(h.length){e=(w=this.options.pinnedClass)!=null?w:this.getClass("pinned");b.push(e);s=0;for(r=h.length;s<r;s++){g=h[s];b.push(""+e+"-"+g)}}if(d.length){e=(x=this.options.outOfBoundsClass)!=
null?x:this.getClass("out-of-bounds");b.push(e);s=0;for(r=d.length;s<r;s++){g=d[s];b.push(""+e+"-"+g)}}if(u.call(h,"left")>=0||u.call(h,"right")>=0)f.left=k.left=false;if(u.call(h,"top")>=0||u.call(h,"bottom")>=0)f.top=k.top=false;(k.top!==a.top||k.left!==a.left||f.top!==this.attachment.top||f.left!==this.attachment.left)&&this.updateAttachClasses(f,k)}ua(function(){ma(v.target,b,c);return ma(v.element,b,c)});return{top:i,left:j}}});var wa,xa,na,g=this.Tether.Utils;xa=g.getBounds;na=g.updateClasses;
wa=g.defer;this.Tether.modules.push({position:function(a){var b,c,d,e,h,f,g,m,j,k,l,o,i,n=this;g=a.top;e=a.left;f=this.cache("element-bounds",function(){return xa(n.element)});a=f.height;f=f.width;m=this.getTargetBounds();d=g+a;h=e+f;a=[];if(g<=m.bottom&&d>=m.top){i=["left","right"];j=0;for(o=i.length;j<o;j++){f=i[j];((k=m[f])===e||k===h)&&a.push(f)}}if(e<=m.right&&h>=m.left){h=["top","bottom"];k=0;for(e=h.length;k<e;k++){f=h[k];((l=m[f])===g||l===d)&&a.push(f)}}c=[];b=[];g=["left","top","right",
"bottom"];c.push(this.getClass("abutted"));l=0;for(m=g.length;l<m;l++){f=g[l];c.push(""+this.getClass("abutted")+"-"+f)}a.length&&b.push(this.getClass("abutted"));g=0;for(l=a.length;g<l;g++){f=a[g];b.push(""+this.getClass("abutted")+"-"+f)}wa(function(){na(n.target,b,c);return na(n.element,b,c)});return true}});this.Tether.modules.push({position:function(a){var b,c,d;d=a.top;b=a.left;if(this.options.shift){a=function(a){return typeof a==="function"?a.call(this,{top:d,left:b}):a};c=a(this.options.shift);
if(typeof c==="string"){c=c.split(" ");c[1]||(c[1]=c[0]);a=c[0];c=c[1];a=parseFloat(a,10);c=parseFloat(c,10)}else{c=[c.top,c.left];a=c[0];c=c[1]}d=d+a;b=b+c;return{top:d,left:b}}}});w.Tether=this.Tether;"function"===typeof P?P([],function(){return w.Tether}):"object"===typeof W&&(I.exports=w.Tether)})(this);return I.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-version', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/version.js' */
("undefined"===typeof window?global:window).__399d6bb24e6280e2241deb4e98d541ff=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a};(0,a.default)("version","6.0.5");b.default="6.0.5";return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-prevent-default', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/prevent-default.js' */
("undefined"===typeof window?global:window).__0a2618b4f4b11d46cc024fa7624c6b00=function(){function c(a){a.preventDefault()}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a};(0,a.default)("preventDefault",c);b.default=c;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-stop-event', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/stop-event.js' */
("undefined"===typeof window?global:window).__aeebc1cbc698431a10d11e14e8095d6e=function(){function b(a){a.stopPropagation();return!1}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=__c8cfa00f1eba9ac7af89ee3d0d33961d,a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a},b=(0,d.fn)(b,"stopEvent",{alternativeName:"preventDefault()",sinceVersion:"5.8.0"});(0,a.default)("stopEvent",b);c.default=b;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-index-of', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/index-of.js' */
("undefined"===typeof window?global:window).__d350fbd2bc40ef24a63df8309bff4162=function(){function d(b,c,a){var d=b.length;for(a?0>a&&(a=Math.max(0,d+a)):a=0;a<d;a++)if(b[a]===c)return a;return-1}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b};(0,b.default)("indexOf",d);c.default=d;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-contains', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/contains.js' */
("undefined"===typeof window?global:window).__a2c859f35719ca3425471df788438a74=function(){function d(a,b){return-1<(0,e.default)(a,b)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a},c=__d350fbd2bc40ef24a63df8309bff4162,e=c&&c.__esModule?c:{"default":c};(0,a.default)("contains",d);b.default=d;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-include', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/include.js' */
("undefined"===typeof window?global:window).__2396162f5ca62936e832b63581d0b02d=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function b(a){if(!(0,f.default)(e,a)){e.push(a);var b=document.createElement("script");b.src=a;(0,g.default)("body").append(b)}}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var g=d(__307d3e18fd611f85395c67cddeb1fe24),h=__c8cfa00f1eba9ac7af89ee3d0d33961d,f=d(__a2c859f35719ca3425471df788438a74),i=d(__4d02fe17b8e885a34493e34af3d145dd),
e=[],b=(0,h.fn)(b,"include",{sinceVersion:"5.9.0",extraInfo:"No alternative will be provided. Use a proper module loader instead."});(0,i.default)("include",b);c.default=b;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-toggle-class-name', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/toggle-class-name.js' */
("undefined"===typeof window?global:window).__c420a05e11c25eb845523736179494b2=function(){function c(a,b){(a=(0,e.default)(a))&&a.toggleClass(b)}var d={};"use strict";Object.defineProperty(d,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,e=a&&a.__esModule?a:{"default":a},a=__c8cfa00f1eba9ac7af89ee3d0d33961d,b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},c=(0,a.fn)(c,"toggleClassName",{sinceVersion:"5.8.0"});(0,b.default)("toggleClassName",c);d.default=c;
return d=d["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-set-visible', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/set-visible.js' */
("undefined"===typeof window?global:window).__a6a0829fdd31675ae9bd1ab07593b9aa=function(){function d(a,b){if(a=(0,c.default)(a))(0,c.default)(a).each(function(){var a=(0,c.default)(this).hasClass("hidden");a&&b?(0,c.default)(this).removeClass("hidden"):!a&&!b&&(0,c.default)(this).addClass("hidden")})}var e={};"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,c=a&&a.__esModule?a:{"default":a},a=__c8cfa00f1eba9ac7af89ee3d0d33961d,b=__4d02fe17b8e885a34493e34af3d145dd,
b=b&&b.__esModule?b:{"default":b},d=(0,a.fn)(d,"setVisible",{sinceVersion:"5.9.0",extraInfo:"No alternative will be provided. Use jQuery.addClass() / removeClass() instead."});(0,b.default)("setVisible",d);e.default=d;return e=e["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-set-current', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/set-current.js' */
("undefined"===typeof window?global:window).__2886f8ce6fcbda101b4cfd4ff7250339=function(){function c(a,b){if(a=(0,e.default)(a))b?a.addClass("current"):a.removeClass("current")}var d={};"use strict";Object.defineProperty(d,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,e=a&&a.__esModule?a:{"default":a},a=__c8cfa00f1eba9ac7af89ee3d0d33961d,b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},c=(0,a.fn)(c,"setCurrent",{sinceVersion:"5.9.0",extraInfo:"No alternative will be provided. Use jQuery.addClass() / removeClass() instead."});
(0,b.default)("setCurrent",c);d.default=c;return d=d["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-is-visible', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/is-visible.js' */
("undefined"===typeof window?global:window).__2c1b431bb110038d1c7590dfbddac12c=function(){function c(a){return!(0,e.default)(a).hasClass("hidden")}var d={};"use strict";Object.defineProperty(d,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,e=a&&a.__esModule?a:{"default":a},a=__c8cfa00f1eba9ac7af89ee3d0d33961d,b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},c=(0,a.fn)(c,"isVisible",{sinceVersion:"5.9.0",extraInfo:"No alternative will be provided. Use jQuery.hasClass() instead."});
(0,b.default)("isVisible",c);d.default=c;return d=d["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-is-clipped', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/is-clipped.js' */
("undefined"===typeof window?global:window).__be88e4b5c5dd8d343902ce7534076e13=function(){function c(a){a=(0,d.default)(a);return a.prop("scrollWidth")>a.prop("clientWidth")}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,d=a&&a.__esModule?a:{"default":a},a=(a=__4d02fe17b8e885a34493e34af3d145dd)&&a.__esModule?a:{"default":a};(0,a.default)("isClipped",c);b.default=c;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-params', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/params.js' */
("undefined"===typeof window?global:window).__c9067396b725a0e50bb5247a7338561e=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a};b.default=(0,a.default)("params",{});return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-populate-parameters', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/populate-parameters.js' */
("undefined"===typeof window?global:window).__0210cf71af3a1c7fcbb0f421af87d03c=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a||(a=g.default);(0,f.default)(".parameters input").each(function(){var c=this.value,b=this.title||this.id;(0,f.default)(this).hasClass("list")?a[b]?a[b].push(c):a[b]=[c]:a[b]=c.match(/^(tru|fals)e$/i)?c.toLowerCase()==="true":c})}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var f=d(__307d3e18fd611f85395c67cddeb1fe24),
h=d(__4d02fe17b8e885a34493e34af3d145dd),g=d(__c9067396b725a0e50bb5247a7338561e);(0,h.default)("populateParameters",e);b.default=e;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-log', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/log.js' */
("undefined"===typeof window?global:window).__cf890abdf040e0993fb71f2f839bc972=function(){function c(a){return function(){"undefined"!==typeof console&&console[a]&&Function.prototype.apply.call(console[a],console,arguments)}}var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.error=a.warn=a.log=void 0;var b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},d=c("log"),e=c("warn"),f=c("error");(0,b.default)("error",f);(0,b.default)("log",d);(0,b.default)("warn",
e);a.log=d;a.warn=e;a.error=f;return a}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-to-init', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/to-init.js' */
("undefined"===typeof window?global:window).__ba5a7ce6790d1c3ae792c368216bffa8=function(){function f(a){(0,g.default)(function(){try{a.apply(this,arguments)}catch(b){d.log("Failed to run init function: "+b+"\n"+a.toString())}});return this}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,g=a&&a.__esModule?a:{"default":a},d;if((a=__cf890abdf040e0993fb71f2f839bc972)&&a.__esModule)d=a;else{var e={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,
b)&&(e[b]=a[b]);e.default=a;d=e}b=(b=__4d02fe17b8e885a34493e34af3d145dd)&&b.__esModule?b:{"default":b};(0,b.default)("toInit",f);c.default=f;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-firebug', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/firebug.js' */
("undefined"===typeof window?global:window).__a2065e31477708e50a18b50a0ede61c2=function(){function e(){}function d(){var a=(0,g.default)(document.createElement("script"));a.attr("src","https://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js");(0,g.default)("head").append(a);window.firebug?d.init():setTimeout(d,0)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.warnAboutFirebug=b.firebug=void 0;var a=__307d3e18fd611f85395c67cddeb1fe24,g=a&&a.__esModule?a:{"default":a},
c;if((a=__c8cfa00f1eba9ac7af89ee3d0d33961d)&&a.__esModule)c=a;else{var f={};if(null!=a)for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(f[c]=a[c]);f.default=a;c=f}a=(a=__4d02fe17b8e885a34493e34af3d145dd)&&a.__esModule?a:{"default":a};b.firebug=d=c.fn(d,"firebug",{sinceVersion:"5.1.0"});b.warnAboutFirebug=e=c.fn(e,"warnAboutFirebug",{sinceVersion:"5.8.0"});(0,a.default)("firebug",d);(0,a.default)("warnAboutFirebug",e);b.firebug=d;b.warnAboutFirebug=e;return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-clone', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/clone.js' */
("undefined"===typeof window?global:window).__3991070589efec7bdc39ed4cd105d896=function(){function c(a){return(0,d.default)(a).clone().removeAttr("id")}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__307d3e18fd611f85395c67cddeb1fe24,d=a&&a.__esModule?a:{"default":a},a=(a=__4d02fe17b8e885a34493e34af3d145dd)&&a.__esModule?a:{"default":a};(0,a.default)("clone",c);b.default=c;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-alphanum', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/alphanum.js' */
("undefined"===typeof window?global:window).__b7458c300fca6582c4952fdcceceaf52=function(){function h(c,d){for(var c=(c+"").toLowerCase(),d=(d+"").toLowerCase(),b=/(\d+|\D+)/g,e=c.match(b),b=d.match(b),h=Math.max(e.length,b.length),a=0;a<h;a++){if(a===e.length)return-1;if(a===b.length)return 1;var f=parseInt(e[a],10)+"",g=parseInt(b[a],10)+"";if(f===e[a]&&g===b[a]&&f!==g)return(f-g)/Math.abs(f-g);if((f!==e[a]||g!==b[a])&&e[a]!==b[a])return e[a]<b[a]?-1:1}return 0}var d={};"use strict";Object.defineProperty(d,
"__esModule",{value:!0});var c=__4d02fe17b8e885a34493e34af3d145dd,c=c&&c.__esModule?c:{"default":c};(0,c.default)("alphanum",h);d.default=h;return d=d["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-on-text-resize', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/on-text-resize.js' */
("undefined"===typeof window?global:window).__7993d85ab19905f85e57d36cb0999580=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function a(b){if("function"===typeof b)if(a["on-text-resize"])a["on-text-resize"].push(function(a){b(a)});else{var c=(0,e.default)("div");c.css({width:"1em",height:"1em",position:"absolute",top:"-9999em",left:"-9999em"});(0,f.default)("body").append(c);c.size=c.width();setInterval(function(){if(c.size!==c.width()){c.size=c.width();for(var b=0,d=a["on-text-resize"].length;b<
d;b++)a["on-text-resize"][b](c.size)}},0);a.em=c;a["on-text-resize"]=[function(a){b(a)}]}}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var f=d(__307d3e18fd611f85395c67cddeb1fe24),e=d(__fd277fcde858b82a198666a405e85600),g=d(__4d02fe17b8e885a34493e34af3d145dd);(0,g.default)("onTextResize",a);b.default=a;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-unbind-text-resize', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/unbind-text-resize.js' */
("undefined"===typeof window?global:window).__44bcf6c07add060bcccfeba49a3ce6b4=function(){function e(b){for(var a=0,c=d.default["on-text-resize"].length;a<c;a++)if(d.default["on-text-resize"][a]===b)return d.default["on-text-resize"].splice(a,1)}var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},c=__7993d85ab19905f85e57d36cb0999580,d=c&&c.__esModule?c:{"default":c};(0,b.default)("unbindTextResize",e);a.default=
e;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-escape', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/escape.js' */
("undefined"===typeof window?global:window).__7e7d65e26f310fe6f23f29f57edf55c9=function(){function c(a){return d(a).replace(/%u\w{4}/gi,function(a){return unescape(a)})}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a},d=window.escape;(0,a.default)("escape",c);b.default=c;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-escape-html', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/escape-html.js' */
("undefined"===typeof window?global:window).__d909216fe400315d9bcd3c1a7748d78f=function(){function c(a){return a.replace(/[&"'<>`]/g,function(a){var b={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};return"string"===typeof b[a]?b[a]:"&quot;"})}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a};(0,a.default)("escapeHtml",c);b.default=c;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-filter-by-search', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/filter-by-search.js' */
("undefined"===typeof window?global:window).__92d9a6fcc35a9e99b2baea240928a821=function(){function c(b,c,a){if(!c)return[];var e=a&&a.keywordsField||"keywords",d=a&&a.ignoreForCamelCase?"i":"",h=a&&a.matchBoundary?"\\b":"",f=[];c.split(a&&a.splitRegex||/\s+/).forEach(function(a){a=[RegExp(h+a,"i")];if(/^([A-Z][a-z]*) {2,}$/.test(this)){var b=this.replace(/([A-Z][a-z]*)/g,"\\b$1[^,]*");a.push(RegExp(b,d))}f.push(a)});var g=[];b.forEach(function(a){for(var b=0;b<f.length;b++){for(var c=!1,d=0;d<f[b].length;d++)if(f[b][d].test(a[e])){c=
!0;break}if(!c)return}g.push(a)});return g}var e={};"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=__c8cfa00f1eba9ac7af89ee3d0d33961d,b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},c=(0,d.fn)(c,"filterBySearch",{sinceVersion:"5.9.0",extraInfo:"No alternative will be provided. If products require this function, this should be copied."});(0,b.default)("filterBySearch",c);e.default=c;return e=e["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-debounce', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/debounce.js' */
("undefined"===typeof window?global:window).__c6e18cf9266fe56d02f78a6e812f58db=function(){function g(a,b){var c,d;return function(){var e=arguments,f=this;clearTimeout(c);c=setTimeout(function(){d=a.apply(f,e);f=e=null},b);return d}}function h(a,b){var c=null,d;return function(){var e=this,f=arguments;null===c&&(d=a.apply(e,f));clearTimeout(c);c=setTimeout(function(){c=e=f=null},b);return d}}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=g;b.debounceImmediate=h;var a=
__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a};(0,a.default)("debounce",g);(0,a.default)("debounceImmediate",h);return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-unique-id', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/unique-id.js' */
("undefined"===typeof window?global:window).__9fa5e8acd81f0f9028180b8fcdcd9cb4=function(){function e(a){d=f++ +"";b=a?a+d:"aui-uid-"+d;if(document.getElementById(b)&&(b=b+"-"+(new Date).getTime(),document.getElementById(b)))throw Error('Timestamped fallback ID "'+b+'" exists.');return b}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a},d,b,f=0;(0,a.default)("id",e);c.default=e;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-add-id', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/add-id.js' */
("undefined"===typeof window?global:window).__6ccb0f8a73a13028d85029aeb628b44d=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){var c=(0,e.default)(a),d=b||!1;c.each(function(){var a=(0,e.default)(this);a.attr("id")||a.attr("id",(0,f.default)(d))})}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var e=c(__307d3e18fd611f85395c67cddeb1fe24),g=c(__4d02fe17b8e885a34493e34af3d145dd),f=c(__9fa5e8acd81f0f9028180b8fcdcd9cb4);(0,g.default)("_addID",d);
b.default=d;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-forms', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/forms.js' */
("undefined"===typeof window?global:window).__05b42b82bab2942063ea875333a900bb=function(){function c(a,b){var c=(0,d.default)(a);"undefined"===typeof b&&(b=!0);return c.each(function(){this.disabled=!b})}function e(){(0,d.default)(".icon-inline-help").click(function(){var a=(0,d.default)(this).siblings(".field-help");a.hasClass("hidden")?a.removeClass("hidden"):a.addClass("hidden")})}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.inlineHelp=b.enable=void 0;var a=__307d3e18fd611f85395c67cddeb1fe24,
d=a&&a.__esModule?a:{"default":a},a=(a=__4d02fe17b8e885a34493e34af3d145dd)&&a.__esModule?a:{"default":a};(0,a.default)("enable",c);(0,a.default)("inlineHelp",e);b.enable=c;b.inlineHelp=e;return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-setup', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/setup.js' */
("undefined"===typeof window?global:window).__9e53ace664f2009a19d8a8d4adf77670=function(){function b(a){return a&&a.__esModule?a:{"default":a}}"use strict";var c=b(__307d3e18fd611f85395c67cddeb1fe24),d=b(__4d02fe17b8e885a34493e34af3d145dd),e=b(__0210cf71af3a1c7fcbb0f421af87d03c),f=b(__399d6bb24e6280e2241deb4e98d541ff);(0,c.default)(function(){var a=(0,c.default)("body");a.data("auiVersion")||a.attr("data-aui-version",f.default);(0,e.default)()});c.default.ajaxSettings.traditional=!0;(0,d.default)("$",
c.default);return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-format', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/format.js' */
("undefined"===typeof window?global:window).__57111a90131a66c211cf7209c7270167=function(){function l(g){var i=/'(?!')/g,o=/^\d+$/,p=/^(\d+),number$/,q=/^(\d+)\,choice\,(.+)/,r=/^(\d+)([#<])(.+)/,m=function(c){for(var h=!1,e=-1,a=0,b=0;b<c.length;b++){var d=c.charAt(b);"'"==d&&(h=!h);if(!h)if("{"===d)0===a&&(e=b),a++;else if("}"===d&&0<a&&(a--,0===a))return h=[],h.push(c.substring(0,b+1)),h.push(c.substring(0,e)),h.push(c.substring(e+1,b)),h}return null};return function(c){var h=arguments,e="";if(!c)return e;
for(var a=m(c);a;){var c=c.substring(a[0].length),e=e+a[1].replace(i,""),b=a[2],a=h,d="",f=void 0;if(b.match(o))d=a.length>++b?a[b]:"";else if(f=b.match(p))d=a.length>++f[1]?a[f[1]]:"";else if(f=b.match(q))if(b=a.length>++f[1]?a[f[1]]:null,null!==b){for(var f=f[2].split("|"),g=null,k=0;k<f.length;k++){var j=f[k].match(r),n=parseInt(j[1],10);if(b<n){d=g?g:j[3];break}if(b==n&&"#"==j[2]){d=j[3];break}k==f.length-1&&(d=j[3]);g=j[3]}a=[d].concat(Array.prototype.slice.call(a,1));d=l.apply(null,a)}e+=d;
a=m(c)}return e+=c.replace(i,"")}.apply(null,arguments)}var i={};"use strict";Object.defineProperty(i,"__esModule",{value:!0});var g=__4d02fe17b8e885a34493e34af3d145dd,g=g&&g.__esModule?g:{"default":g};(0,g.default)("format",l);i.default=l;return i=i["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-animation', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/animation.js' */
("undefined"===typeof window?global:window).__c0311e8841bd8637e025a8fb1474f693=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.recomputeStyle=function(a){a=a.length?a[0]:a;window.getComputedStyle(a,null).getPropertyValue("left")};return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-feature-flags', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/feature-flags.js' */
("undefined"==typeof window?global:window).__6fe25d06960d72e82830bb0074914edb=function(){const e={exports:{}},o=e.exports;return Object.defineProperty(o,"__esModule",{value:!0}),e.exports=o,e.exports}.call(this);
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-blanket', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/blanket.js' */
("undefined"==typeof window?global:window).__594942bfcf520d6e5a0843b1cfdd039a=function(){var e={},d=e;Object.defineProperty(d,"__esModule",{value:!0}),d.undim=d.dim=void 0;var o=__c8cfa00f1eba9ac7af89ee3d0d33961d,i=__c0311e8841bd8637e025a8fb1474f693,l=f(__fd277fcde858b82a198666a405e85600),t=f(__4d02fe17b8e885a34493e34af3d145dd);function f(e){return e&&e.__esModule?e:{default:e}}let a;function r(e,d){a||(a=document.body),!0===e&&m();const o=!!r.$dim&&!r.$dim[0].hasAttribute("hidden");return r.$dim&&(r.$dim.remove(),r.$dim=null),r.$dim=(0,l.default)("div").addClass("aui-blanket"),r.$dim.appendTo(document.body),o||((0,i.recomputeStyle)(r.$dim),AJS.dim.cachedOverflow={overflow:a.style.overflow,overflowX:a.style.overflowX,overflowY:a.style.overflowY},a.style.overflowX="hidden",a.style.overflowY="hidden",a.style.overflow="hidden"),r.$dim.removeAttr("hidden"),d&&r.$dim.css({zIndex:d}),r.$dim}function n(){r.$dim&&(r.$dim[0].setAttribute("hidden",""),a&&(a.style.overflow=AJS.dim.cachedOverflow.overflow,a.style.overflowX=AJS.dim.cachedOverflow.overflowX,a.style.overflowY=AJS.dim.cachedOverflow.overflowY))}var m=(0,o.getMessageLogger)("useShim",{extraInfo:"useShim has no alternative as it is now calculated by dim()."});return(0,t.default)("dim",r),(0,t.default)("undim",n),d.dim=r,d.undim=n,e}.call(this);
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-plugins-jquery-aop', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/plugins/jquery.aop.js' */
("undefined"===typeof window?global:window).__f69e6f12e8b5283975dbec4f415ad825=function(){(function(){for(var g=!0,h,i=Object.prototype.toString,j={},q={1:"element",3:"textnode",9:"document",11:"fragment"},k="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" "),l=k.length;l--;){var m=k[l],n=window[m];if(n)try{j[i.call(new n)]=m.toLowerCase()}catch(r){}}h=function(a){return null==a&&(void 0===a?"undefined":
"null")||a.nodeType&&q[a.nodeType]||"number"==typeof a.length&&(a.callee&&"arguments"||a.alert&&"window"||a.item&&"nodelist")||j[i.call(a)]};var o=function(a,b,d){var e=a[b];6!=d.type&&"function"!=h(e)&&(e=function(){for(var a=0<arguments.length?"arguments[0]":"",b=1;b<arguments.length;b++)a+=",arguments["+b+"]";return eval("oldObject("+a+");")});var c;1==d.type||2==d.type||3==d.type?c=function(){var a,c=null;try{a=e.apply(this,arguments)}catch(f){c=f}if(1==d.type)if(null==c)a=d.value.apply(this,
[a,b]);else throw c;else 2==d.type&&null!=c?a=d.value.apply(this,[c,b]):3==d.type&&(a=d.value.apply(this,[a,c,b]));return a}:4==d.type?c=function(){d.value.apply(this,[arguments,b]);return e.apply(this,arguments)}:6==d.type?c=function(){return d.value.apply(this,arguments)}:5==d.type&&(c=function(){var a=this,c=Array.prototype.slice.call(arguments);return d.value.apply(a,[{arguments:c,method:b,proceed:function(){return e.apply(a,c)}}])});c.unweave=function(){a[b]=e;pointcut=a=c=e=null};return a[b]=
c},p=function(a,b,d){var e=[],c;for(c in a){var f=null;try{f=a[c]}catch(g){}null!=f&&(c.match(b.method)&&"function"==h(f))&&(e[e.length]={source:a,method:c,advice:d})}return e},f=function(a,b){var d="undefined"!=typeof a.target.prototype?a.target.prototype:a.target,e=[];if(6!=b.type&&"undefined"==typeof d[a.method]){var c=p(a.target,a,b);0==c.length&&(c=p(d,a,b));for(var f in c)e[e.length]=o(c[f].source,c[f].method,c[f].advice)}else e[0]=o(d,a.method,b);return g?e:e[0]};jQuery.aop={after:function(a,
b){return f(a,{type:1,value:b})},afterThrow:function(a,b){return f(a,{type:2,value:b})},afterFinally:function(a,b){return f(a,{type:3,value:b})},before:function(a,b){return f(a,{type:4,value:b})},around:function(a,b){return f(a,{type:5,value:b})},introduction:function(a,b){return f(a,{type:6,value:b})},setup:function(a){g=a.regexMatch}}})();return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-drop-down', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/drop-down.js' */
("undefined"===typeof window?global:window).__7d40391c96767a3290496e157f1428e1=function(){function r(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(d[a]=b[a]);d.default=b;return d}function p(b){return b&&b.__esModule?b:{"default":b}}function d(c,h){var a=null,s=[],m=!1,q=(0,b.default)(document),g={item:"li:has(a)",activeClass:"active",alignment:"right",displayHandler:function(b){return b.name},escapeHandler:function(){this.hide("escape");
return!1},hideHandler:function(){},moveHandler:function(){},useDisabled:!1};b.default.extend(g,h);g.alignment={left:"left",right:"right"}[g.alignment.toLowerCase()]||"left";if(c&&c.jquery)a=c;else if("string"===typeof c)a=(0,b.default)(c);else if(c&&c.constructor===Array){for(var a=(0,n.default)("div").addClass("aui-dropdown").toggleClass("hidden",!!g.isHiddenByDefault),t=0,x=c.length;t<x;t++){for(var i=(0,n.default)("ol"),e=0,l=c[t].length;e<l;e++){var j=(0,n.default)("li"),k=c[t][e];k.href?(j.append((0,
n.default)("a").html("<span>"+g.displayHandler(k)+"</span>").attr({href:k.href}).addClass(k.className)),b.default.data((0,b.default)("a > span",j)[0],"properties",k)):j.html(k.html).addClass(k.className);k.icon&&j.prepend((0,n.default)("img").attr("src",k.icon));k.insideSpanIcon&&j.children("a").prepend((0,n.default)("span").attr("class","icon"));k.iconFontClass&&j.children("a").prepend((0,n.default)("span").addClass("aui-icon aui-icon-small aui-iconfont-"+k.iconFontClass));b.default.data(j[0],"properties",
k);i.append(j)}t===x-1&&i.addClass("last");a.append(i)}(0,b.default)("body").append(a)}else throw Error("dropDown function was called with illegal parameter. Should be $ object, $ selector or array.");var o=function(){r(1)},p=function(){r(-1)},r=function(a){var c=!m,f=d.current.$[0],e=d.current.links,h=f.focused;m=!0;if(0!==e.length){f.focused="number"===typeof h?h:-1;if(!d.current)return y.log("move - not current, aborting"),!0;f.focused+=a;0>f.focused?f.focused=e.length-1:f.focused>=e.length&&(f.focused=
0);g.moveHandler((0,b.default)(e[f.focused]),0>a?"up":"down");c&&e.length?((0,b.default)(e[f.focused]).addClass(g.activeClass),m=!1):e.length||(m=!1)}},u=function(a){if(!d.current)return!0;var e=a.which,f=d.current.$[0],c=d.current.links;d.current.cleanActive();switch(e){case 40:o();break;case 38:p();break;case 27:return g.escapeHandler.call(d.current,a);case 13:return 0<=f.focused?g.selectionHandler?g.selectionHandler.call(d.current,a,(0,b.default)(c[f.focused])):"a"!=(0,b.default)(c[f.focused]).attr("nodeName")?
(0,b.default)("a",c[f.focused]).trigger("focus"):(0,b.default)(c[f.focused]).trigger("focus"):!0;default:return c.length&&(0,b.default)(c[f.focused]).addClass(g.activeClass),!0}a.stopPropagation();a.preventDefault();return!1},v=function(b){b&&b.which&&3==b.which||b&&b.button&&2==b.button||d.current&&d.current.hide("click")},w=function(a){return function(){d.current&&(d.current.cleanFocus(),this.originalClass=this.className,(0,b.default)(this).addClass(g.activeClass),d.current.$[0].focused=a)}},z=
function(a){if(a.button||a.metaKey||a.ctrlKey||a.shiftKey)return!0;d.current&&g.selectionHandler&&g.selectionHandler.call(d.current,a,(0,b.default)(this))};a.each(function(){var a=this,c=(0,b.default)(this),f={},e={reset:function(){f=b.default.extend(f,{$:c,links:(0,b.default)(g.item||"li:has(a)",a),cleanActive:function(){a.focused+1&&f.links.length&&(0,b.default)(f.links[a.focused]).removeClass(g.activeClass)},cleanFocus:function(){f.cleanActive();a.focused=-1},moveDown:o,moveUp:p,moveFocus:u,getFocusIndex:function(){return"number"==
typeof a.focused?a.focused:-1}});f.links.each(function(a){var c=(0,b.default)(this),d=!1;c.data("events")&&b.default.each(c.data("events"),function(a,c){b.default.each(c,function(a,b){if(z===b)return d=!0,!1})});d||(c.hover(w(a),f.cleanFocus),c.click(z))})},appear:function(a){a?(c.removeClass("hidden"),c.addClass("aui-dropdown-"+g.alignment)):c.addClass("hidden")},fade:function(a){a?c.fadeIn("fast"):c.fadeOut("fast")},scroll:function(a){a?c.slideDown("fast"):c.slideUp("fast")}};f.reset=e.reset;f.reset();
f.addControlProcess=function(a,c){b.default.aop.around({target:this,method:a},c)};f.addCallback=function(a,c){return b.default.aop.after({target:this,method:a},c)};f.show=function(c){if(!g.useDisabled||!this.$.closest(".aui-dd-parent").hasClass("disabled"))this.alignment=g.alignment,v(),d.current=this,this.method=c||this.method||"appear",this.timer=setTimeout(function(){q.click(v)},0),q.keydown(u),g.firstSelected&&this.links[0]&&w(0).call(this.links[0]),(0,b.default)(a.offsetParent).css({zIndex:2E3}),
e[this.method](!0),(0,b.default)(document).trigger("showLayer",["dropdown",d.current])};f.hide=function(a){this.method=this.method||"appear";(0,b.default)(c.get(0).offsetParent).css({zIndex:""});this.cleanFocus();e[this.method](!1);q.unbind("click",v).unbind("keydown",u);(0,b.default)(document).trigger("hideLayer",["dropdown",d.current]);d.current=null;return a};f.addCallback("reset",function(){g.firstSelected&&this.links[0]&&w(0).call(this.links[0])});d.iframes||(d.iframes=[]);d.createShims=function A(){(0,
b.default)("iframe").each(function(){if(!this.shim){this.shim=(0,b.default)("<div />").addClass("shim hidden").appendTo("body");d.iframes.push(this)}});return A}();f.addCallback("show",function(){(0,b.default)(d.iframes).each(function(){var a=(0,b.default)(this);if(a.is(":visible")){var c=a.offset();c.height=a.height();c.width=a.width();this.shim.css({left:c.left+"px",top:c.top+"px",height:c.height+"px",width:c.width+"px"}).removeClass("hidden")}})});f.addCallback("hide",function(){(0,b.default)(d.iframes).each(function(){this.shim.addClass("hidden")});
g.hideHandler()});s.push(f)});return s}var o={};"use strict";Object.defineProperty(o,"__esModule",{value:!0});var b=p(__307d3e18fd611f85395c67cddeb1fe24);__f69e6f12e8b5283975dbec4f415ad825;var B=r(__c8cfa00f1eba9ac7af89ee3d0d33961d),y=r(__cf890abdf040e0993fb71f2f839bc972),n=p(__fd277fcde858b82a198666a405e85600),C=p(__4d02fe17b8e885a34493e34af3d145dd);d.getAdditionalPropertyValue=function(c,d){var a=c[0];(!a||"string"!==typeof a.tagName||"li"!==a.tagName.toLowerCase())&&y.log("dropDown.getAdditionalPropertyValue : item passed in should be an LI element wrapped by jQuery");
return(a=b.default.data(a,"properties"))?a[d]:null};d.removeAllAdditionalProperties=function(){};d.Standard=function(c){var h=[],a={selector:".aui-dd-parent",dropDown:".aui-dropdown",trigger:".aui-dd-trigger"};b.default.extend(a,c);var s=function(c,d,g,e){b.default.extend(e,{trigger:c});d.addClass("dd-allocated");g.addClass("hidden");!1==a.isHiddenByDefault&&e.show();e.addCallback("show",function(){d.addClass("active")});e.addCallback("hide",function(){d.removeClass("active")})},m=function(a,b,c,
e){e!=d.current&&(c.css({top:b.outerHeight()}),e.show(),a.stopImmediatePropagation());a.preventDefault()};if(a.useLiveEvents){var q=[],g=[];(0,b.default)(a.trigger).live("click",function(c){var h=(0,b.default)(this),i,e,l;if(0<=(i=b.default.inArray(this,q))){var j=g[i];e=j.dropdown;l=j.ddcontrol}else{i=h.closest(a.selector);e=i.find(a.dropDown);if(0===e.length)return;l=d(e,a)[0];if(!l)return;q.push(this);j={parent:i,dropdown:e,ddcontrol:l};s(h,i,e,l);g.push(j)}m(c,h,e,l)})}else c=this instanceof b.default?
this:(0,b.default)(a.selector),c=c.not(".dd-allocated").filter(":has("+a.dropDown+")").filter(":has("+a.trigger+")"),c.each(function(){var c=(0,b.default)(this),g=(0,b.default)(a.dropDown,this),i=(0,b.default)(a.trigger,this),e=d(g,a)[0];b.default.extend(e,{trigger:i});s(i,c,g,e);i.click(function(a){m(a,i,g,e)});h.push(e)});return h};d.Ajax=function(c){var h={cache:!0};b.default.extend(h,c||{});c=d.Standard.call(this,h);(0,b.default)(c).each(function(){var a=this;b.default.extend(a,{getAjaxOptions:function(c){var d=
function(b){h.formatResults&&(b=h.formatResults(b));h.cache&&a.cache.set(a.getAjaxOptions(),b);a.refreshSuccess(b)};return h.ajaxOptions?b.default.isFunction(h.ajaxOptions)?b.default.extend(h.ajaxOptions.call(a),{success:d}):b.default.extend(h.ajaxOptions,{success:d}):b.default.extend(c,{success:d})},refreshSuccess:function(a){this.$.html(a)},cache:function(){var a={};return{get:function(b){return a[(b.url+(b.data||"")).replace(/[\?\&]/gi,"")]},set:function(b,c){a[(b.url+(b.data||"")).replace(/[\?\&]/gi,
"")]=c},reset:function(){a={}}}}(),show:function(c){return function(){h.cache&&a.cache.get(a.getAjaxOptions())?(a.refreshSuccess(a.cache.get(a.getAjaxOptions())),c.call(a)):((0,b.default)(b.default.ajax(a.getAjaxOptions())).throbber({target:a.$,end:function(){a.reset()}}),c.call(a),a.iframeShim&&a.iframeShim.hide())}}(a.show),resetCache:function(){a.cache.reset()}});a.addCallback("refreshSuccess",function(){a.reset()})});return c};b.default.fn.dropDown=function(b,h){b=(b||"Standard").replace(/^([a-z])/,
function(a){return a.toUpperCase()});return d[b].call(this,h)};b.default.fn.dropDown=B.construct(b.default.fn.dropDown,"Dropdown constructor",{alternativeName:"Dropdown2"});(0,C.default)("dropDown",d);o.default=d;return o=o["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:dropdown', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/plugins/jquery.aop.js' */
("undefined"===typeof window?global:window).__f69e6f12e8b5283975dbec4f415ad825=function(){(function(){for(var g=!0,h,i=Object.prototype.toString,j={},q={1:"element",3:"textnode",9:"document",11:"fragment"},k="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" "),l=k.length;l--;){var m=k[l],n=window[m];if(n)try{j[i.call(new n)]=m.toLowerCase()}catch(r){}}h=function(a){return null==a&&(void 0===a?"undefined":
"null")||a.nodeType&&q[a.nodeType]||"number"==typeof a.length&&(a.callee&&"arguments"||a.alert&&"window"||a.item&&"nodelist")||j[i.call(a)]};var o=function(a,b,d){var e=a[b];6!=d.type&&"function"!=h(e)&&(e=function(){for(var a=0<arguments.length?"arguments[0]":"",b=1;b<arguments.length;b++)a+=",arguments["+b+"]";return eval("oldObject("+a+");")});var c;1==d.type||2==d.type||3==d.type?c=function(){var a,c=null;try{a=e.apply(this,arguments)}catch(f){c=f}if(1==d.type)if(null==c)a=d.value.apply(this,
[a,b]);else throw c;else 2==d.type&&null!=c?a=d.value.apply(this,[c,b]):3==d.type&&(a=d.value.apply(this,[a,c,b]));return a}:4==d.type?c=function(){d.value.apply(this,[arguments,b]);return e.apply(this,arguments)}:6==d.type?c=function(){return d.value.apply(this,arguments)}:5==d.type&&(c=function(){var a=this,c=Array.prototype.slice.call(arguments);return d.value.apply(a,[{arguments:c,method:b,proceed:function(){return e.apply(a,c)}}])});c.unweave=function(){a[b]=e;pointcut=a=c=e=null};return a[b]=
c},p=function(a,b,d){var e=[],c;for(c in a){var f=null;try{f=a[c]}catch(g){}null!=f&&(c.match(b.method)&&"function"==h(f))&&(e[e.length]={source:a,method:c,advice:d})}return e},f=function(a,b){var d="undefined"!=typeof a.target.prototype?a.target.prototype:a.target,e=[];if(6!=b.type&&"undefined"==typeof d[a.method]){var c=p(a.target,a,b);0==c.length&&(c=p(d,a,b));for(var f in c)e[e.length]=o(c[f].source,c[f].method,c[f].advice)}else e[0]=o(d,a.method,b);return g?e:e[0]};jQuery.aop={after:function(a,
b){return f(a,{type:1,value:b})},afterThrow:function(a,b){return f(a,{type:2,value:b})},afterFinally:function(a,b){return f(a,{type:3,value:b})},before:function(a,b){return f(a,{type:4,value:b})},around:function(a,b){return f(a,{type:5,value:b})},introduction:function(a,b){return f(a,{type:6,value:b})},setup:function(a){g=a.regexMatch}}})();return{}}.call(this);;
;
/* module-key = 'com.atlassian.soy.soy-template-plugin:soy-deps', location = 'soy-template-module/js/soyutils.js' */
/*!
 * Copyright 2008 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var goog=goog||{};goog.global=this;COMPILED=true;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(a){return a!==void 0};goog.exportPath_=function(c,a,f){var d=c.split(".");var e=f||goog.global;if(!(d[0] in e)&&e.execScript){e.execScript("var "+d[0])}for(var b;d.length&&(b=d.shift());){if(!d.length&&goog.isDef(a)){e[b]=a}else{if(e[b]){e=e[b]}else{e=e[b]={}}}}};goog.define=function(b,a){var c=a;if(!COMPILED){if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,b)){c=goog.global.CLOSURE_UNCOMPILED_DEFINES[b]}else{if(goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,b)){c=goog.global.CLOSURE_DEFINES[b]}}}goog.exportPath_(b,c)};goog.DEBUG=true;goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG);goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a)){throw Error('Namespace "'+a+'" already declared.')}}goog.constructNamespace_(a)};goog.constructNamespace_=function(a,c){if(!COMPILED){delete goog.implicitNamespaces_[a];var b=a;while((b=b.substring(0,b.lastIndexOf(".")))){if(goog.getObjectByName(b)){break}goog.implicitNamespaces_[b]=true}}goog.exportPath_(a,c)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||a.search(goog.VALID_MODULE_RE_)==-1){throw Error("Invalid module identifier")}if(!goog.isInModuleLoader_()){throw Error("Module "+a+" has been loaded incorrectly.")}if(goog.moduleLoaderState_.moduleName){throw Error("goog.module may only be called once per module.")}goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a)){throw Error('Namespace "'+a+'" already declared.')}delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(goog.isProvided_(a)){return a in goog.loadedModules_?goog.loadedModules_[a]:goog.getObjectByName(a)}else{return null}}};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_()){throw new Error("goog.module.declareTestMethods must be called from within a goog.module")}goog.moduleLoaderState_.declareTestMethods=true};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_()){throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module")}if(!COMPILED&&!goog.moduleLoaderState_.moduleName){throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.")}goog.moduleLoaderState_.declareLegacyNamespace=true};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE){a=a||"";throw Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))}};goog.forwardDeclare=function(a){};if(!COMPILED){goog.isProvided_=function(a){return(a in goog.loadedModules_)||(!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a)))};goog.implicitNamespaces_={"goog.module":true}}goog.getObjectByName=function(b,c){var d=b.split(".");var e=c||goog.global;for(var a;a=d.shift();){if(goog.isDefAndNotNull(e[a])){e=e[a]}else{return null}}return e};goog.globalize=function(d,b){var c=b||goog.global;for(var a in d){c[a]=d[a]}};goog.addDependency=function(f,e,l,d){if(goog.DEPENDENCIES_ENABLED){var g,a;var k=f.replace(/\\/g,"/");var h=goog.dependencies_;for(var c=0;g=e[c];c++){h.nameToPath[g]=k;h.pathIsModule[k]=!!d}for(var b=0;a=l[b];b++){if(!(k in h.requires)){h.requires[k]={}}h.requires[k][a]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);goog.logToConsole_=function(a){if(goog.global.console){goog.global.console.error(a)}};goog.require=function(b){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(b)}if(goog.isProvided_(b)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(b)}else{return null}}if(goog.ENABLE_DEBUG_LOADER){var c=goog.getPathFromDeps_(b);if(c){goog.included_[c]=true;goog.writeScripts_();return null}}var a="goog.require could not find: "+b;goog.logToConsole_(a);throw Error(a)}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.identityFunction=function(b,a){return b};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_){return a.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a}return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",true);goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;if(goog.DEPENDENCIES_ENABLED){goog.included_={};goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var a=goog.global.document;return typeof a!="undefined"&&"write" in a};goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else{if(!goog.inHtmlDocument_()){return}}var f=goog.global.document;var a=f.getElementsByTagName("script");for(var d=a.length-1;d>=0;--d){var c=(a[d]);var g=c.src;var e=g.lastIndexOf("?");var b=e==-1?g.length:e;if(g.substr(b-7,7)=="base.js"){goog.basePath=g.substr(0,b-7);return}}};goog.importScript_=function(c,a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(b(c,a)){goog.dependencies_.written[c]=true}};goog.IS_OLD_IE_=goog.global.document&&goog.global.document.all&&!goog.global.atob;goog.importModule_=function(b){var a='goog.retrieveAndExecModule_("'+b+'");';if(goog.importScript_("",a)){goog.dependencies_.written[b]=true}};goog.queuedModules_=[];goog.wrapModule_=function(b,a){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return'goog.loadModule(function(exports) {"use strict";'+a+"\n;return exports});\n//# sourceURL="+b+"\n"}else{return"goog.loadModule("+goog.global.JSON.stringify(a+"\n//# sourceURL="+b+"\n")+");"}};goog.loadQueuedModules_=function(){var c=goog.queuedModules_.length;if(c>0){var a=goog.queuedModules_;goog.queuedModules_=[];for(var b=0;b<c;b++){var d=a[b];goog.maybeProcessDeferredPath_(d)}}};goog.maybeProcessDeferredDep_=function(a){if(goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)){var b=goog.getPathFromDeps_(a);goog.maybeProcessDeferredPath_(goog.basePath+b)}};goog.isDeferredModule_=function(a){var c=goog.getPathFromDeps_(a);if(c&&goog.dependencies_.pathIsModule[c]){var b=goog.basePath+c;return(b) in goog.dependencies_.deferred}return false};goog.allDepsAreAvailable_=function(a){var b=goog.getPathFromDeps_(a);if(b&&(b in goog.dependencies_.requires)){for(var c in goog.dependencies_.requires[b]){if(!goog.isProvided_(c)&&!goog.isDeferredModule_(c)){return false}}}return true};goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a];goog.globalEval(b)}};goog.loadModule=function(d){var a=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareTestMethods:false};var b;if(goog.isFunction(d)){b=d.call(goog.global,{})}else{if(goog.isString(d)){b=goog.loadModuleFromSource_.call(goog.global,d)}else{throw Error("Invalid module definition")}}var c=goog.moduleLoaderState_.moduleName;if(!goog.isString(c)||!c){throw Error('Invalid module name "'+c+'"')}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(c,b)}else{if(goog.SEAL_MODULE_EXPORTS&&Object.seal){Object.seal(b)}}goog.loadedModules_[c]=b;if(goog.moduleLoaderState_.declareTestMethods){for(var e in b){if(e.indexOf("test",0)===0||e=="tearDown"||e=="setUp"||e=="setUpPage"||e=="tearDownPage"){goog.global[e]=b[e]}}}}finally{goog.moduleLoaderState_=a}};goog.loadModuleFromSource_=function(source){var exports={};eval(arguments[0]);return exports};goog.writeScriptTag_=function(e,b){if(goog.inHtmlDocument_()){var c=goog.global.document;if(c.readyState=="complete"){var f=/\bdeps.js$/.test(e);if(f){return false}else{throw Error('Cannot write "'+e+'" after document load')}}var d=goog.IS_OLD_IE_;if(b===undefined){if(!d){c.write('<script type="text/javascript" src="'+e+'"><\/script>')}else{var a=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";c.write('<script type="text/javascript" src="'+e+'"'+a+"><\/script>")}}else{c.write('<script type="text/javascript">'+b+"<\/script>")}return true}else{return false}};goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(a,b){if(a.readyState=="complete"&&goog.lastNonModuleScriptIndex_==b){goog.loadQueuedModules_()}return true};goog.writeScripts_=function(){var a=[];var b={};var g=goog.dependencies_;function e(i){if(i in g.written){return}if(i in g.visited){if(!(i in b)){b[i]=true;a.push(i)}return}g.visited[i]=true;if(i in g.requires){for(var j in g.requires[i]){if(!goog.isProvided_(j)){if(j in g.nameToPath){e(g.nameToPath[j])}else{throw Error("Undefined nameToPath for "+j)}}}}if(!(i in b)){b[i]=true;a.push(i)}}for(var d in goog.included_){if(!g.written[d]){e(d)}}for(var c=0;c<a.length;c++){var d=a[c];goog.dependencies_.written[d]=true}var h=goog.moduleLoaderState_;goog.moduleLoaderState_=null;var f=false;for(var c=0;c<a.length;c++){var d=a[c];if(d){if(!g.pathIsModule[d]){goog.importScript_(goog.basePath+d)}else{f=true;goog.importModule_(goog.basePath+d)}}else{goog.moduleLoaderState_=h;throw Error("Undefined script input")}}goog.moduleLoaderState_=h};goog.getPathFromDeps_=function(a){if(a in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[a]}else{return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+"deps.js")}}goog.normalizePath_=function(c){var b=c.split("/");var a=0;while(a<b.length){if(b[a]=="."){b.splice(a,1)}else{if(a&&b[a]==".."&&b[a-1]&&b[a-1]!=".."){b.splice(--a,2)}else{a++}}}return b.join("/")};goog.retrieveAndExecModule_=function(g){if(!COMPILED){var d=g;g=goog.normalizePath_(g);var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var b=null;var f=new goog.global.XMLHttpRequest();f.onload=function(){b=this.responseText};f.open("get",g,false);f.send();b=f.responseText;if(b!=null){var a=goog.wrapModule_(g,b);var e=goog.IS_OLD_IE_;if(e){goog.dependencies_.deferred[d]=a;goog.queuedModules_.push(d)}else{c(g,a)}}else{throw new Error("load of "+g+"failed")}}};goog.typeOf=function(c){var b=typeof c;if(b=="object"){if(c){if(c instanceof Array){return"array"}else{if(c instanceof Object){return b}}var a=Object.prototype.toString.call((c));if(a=="[object Window]"){return"object"}if((a=="[object Array]"||typeof c.length=="number"&&typeof c.splice!="undefined"&&typeof c.propertyIsEnumerable!="undefined"&&!c.propertyIsEnumerable("splice"))){return"array"}if((a=="[object Function]"||typeof c.call!="undefined"&&typeof c.propertyIsEnumerable!="undefined"&&!c.propertyIsEnumerable("call"))){return"function"}}else{return"null"}}else{if(b=="function"&&typeof c.call=="undefined"){return"object"}}return b};goog.isNull=function(a){return a===null};goog.isDefAndNotNull=function(a){return a!=null};goog.isArray=function(a){return goog.typeOf(a)=="array"};goog.isArrayLike=function(b){var a=goog.typeOf(b);return a=="array"||a=="object"&&typeof b.length=="number"};goog.isDateLike=function(a){return goog.isObject(a)&&typeof a.getFullYear=="function"};goog.isString=function(a){return typeof a=="string"};goog.isBoolean=function(a){return typeof a=="boolean"};goog.isNumber=function(a){return typeof a=="number"};goog.isFunction=function(a){return goog.typeOf(a)=="function"};goog.isObject=function(b){var a=typeof b;return a=="object"&&b!=null||a=="function"};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return !!a[goog.UID_PROPERTY_]};goog.removeUid=function(b){if("removeAttribute" in b){b.removeAttribute(goog.UID_PROPERTY_)}try{delete b[goog.UID_PROPERTY_]}catch(a){}};goog.UID_PROPERTY_="closure_uid_"+((Math.random()*1000000000)>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(c){var b=goog.typeOf(c);if(b=="object"||b=="array"){if(c.clone){return c.clone()}var d=b=="array"?[]:{};for(var a in c){d[a]=goog.cloneObject(c[a])}return d}return c};goog.bindNative_=function(a,c,b){return(a.call.apply(a.bind,arguments))};goog.bindJs_=function(a,d,b){if(!a){throw new Error()}if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,c);return a.apply(d,e)}}else{return function(){return a.apply(d,arguments)}}};goog.bind=function(a,c,b){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1){goog.bind=goog.bindNative_}else{goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(b,c){var a=Array.prototype.slice.call(arguments,1);return function(){var d=a.slice();d.push.apply(d,arguments);return b.apply(this,d)}};goog.mixin=function(c,b){for(var a in b){c[a]=b[a]}};goog.now=(goog.TRUSTED_SITE&&Date.now)||(function(){return +new Date()});goog.globalEval=function(script){if(goog.global.execScript){goog.global.execScript(script,"JavaScript")}else{if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _et_ = 1;");if(typeof goog.global._et_!="undefined"){delete goog.global._et_;goog.evalWorksForGlobals_=true}else{goog.evalWorksForGlobals_=false}}if(goog.evalWorksForGlobals_){goog.global.eval(script)}else{var doc=goog.global.document;var scriptElt=doc.createElement("script");scriptElt.type="text/javascript";scriptElt.defer=false;scriptElt.appendChild(doc.createTextNode(script));doc.body.appendChild(scriptElt);doc.body.removeChild(scriptElt)}}else{throw Error("goog.globalEval not available")}}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.getCssName=function(e,c){var d=function(f){return goog.cssNameMapping_[f]||f};var b=function(j){var h=j.split("-");var f=[];for(var g=0;g<h.length;g++){f.push(d(h[g]))}return f.join("-")};var a;if(goog.cssNameMapping_){a=goog.cssNameMappingStyle_=="BY_WHOLE"?d:b}else{a=function(f){return f}}if(c){return e+"-"+a(c)}else{return a(e)}};goog.setCssNameMapping=function(b,a){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=a};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(a,b){if(b){a=a.replace(/\{\$([^}]+)}/g,function(c,d){return d in b?b[d]:c})}return a};goog.getMsgWithFallback=function(d,c){return d};goog.exportSymbol=function(b,a,c){goog.exportPath_(b,a,c)};goog.exportProperty=function(b,a,c){b[a]=c};goog.inherits=function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c();b.prototype.constructor=b;b.base=function(g,d,h){var e=new Array(arguments.length-2);for(var f=2;f<arguments.length;f++){e[f-2]=arguments[f]}return a.prototype[d].apply(g,e)}};goog.base=function(g,c,j){var a=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||(goog.DEBUG&&!a)){throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C")}if(a.superClass_){var b=new Array(arguments.length-1);for(var e=1;e<arguments.length;e++){b[e-1]=arguments[e]}return a.superClass_.constructor.apply(g,b)}var f=new Array(arguments.length-2);for(var e=2;e<arguments.length;e++){f[e-2]=arguments[e]}var d=false;for(var h=g.constructor;h;h=h.superClass_&&h.superClass_.constructor){if(h.prototype[c]===a){d=true}else{if(d){return h.prototype[c].apply(g,f)}}}if(g[c]===a){return g.constructor.prototype[c].apply(g,f)}else{throw Error("goog.base called from a method of one name to a method of a different name")}};goog.scope=function(a){a.call(goog.global)};if(!COMPILED){goog.global.COMPILED=COMPILED}goog.defineClass=function(c,d){var b=d.constructor;var e=d.statics;if(!b||b==Object.prototype.constructor){b=function(){throw Error("cannot instantiate an interface (no constructor defined).")}}var a=goog.defineClass.createSealingConstructor_(b,c);if(c){goog.inherits(a,c)}delete d.constructor;delete d.statics;goog.defineClass.applyProperties_(a.prototype,d);if(e!=null){if(e instanceof Function){e(a)}else{goog.defineClass.applyProperties_(a,e)}}return a};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);goog.defineClass.createSealingConstructor_=function(c,b){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(b&&b.prototype&&b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]){return c}var a=function(){var d=c.apply(this,arguments)||this;d[goog.UID_PROPERTY_]=d[goog.UID_PROPERTY_];if(this.constructor===a){Object.seal(d)}return d};return a}return c};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(d,c){var b;for(b in c){if(Object.prototype.hasOwnProperty.call(c,b)){d[b]=c[b]}}for(var a=0;a<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;a++){b=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[a];if(Object.prototype.hasOwnProperty.call(c,b)){d[b]=c[b]}}};goog.tagUnsealableClass=function(a){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES){a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=true}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.DEBUG=false;goog.inherits=function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c();b.prototype.constructor=b;b.base=function(f,d,g){var e=Array.prototype.slice.call(arguments,2);return a.prototype[d].apply(f,e)}};if(!goog.userAgent){goog.userAgent=(function(){var b="";if("undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent){b=navigator.userAgent}var a=b.indexOf("Opera")==0;return{jscript:{HAS_JSCRIPT:"ScriptEngine" in this},OPERA:a,IE:!a&&b.indexOf("MSIE")!=-1,WEBKIT:!a&&b.indexOf("WebKit")!=-1}})()}if(!goog.asserts){goog.asserts={assert:function(a){if(!a){throw Error("Assertion error")}},fail:function(a){}}}if(!goog.dom){goog.dom={};goog.dom.DomHelper=function(a){this.document_=a||document};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)};goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}}if(!goog.format){goog.format={insertWordBreaks:function(j,a){j=String(j);var f=[];var h=0;var b=false;var k=false;var g=0;var d=0;for(var e=0,c=j.length;e<c;++e){var l=j.charCodeAt(e);if(g>=a&&l!=32){f[h++]=j.substring(d,e);d=e;f[h++]=goog.format.WORD_BREAK;g=0}if(b){if(l==62){b=false}}else{if(k){switch(l){case 59:k=false;++g;break;case 60:k=false;b=true;break;case 32:k=false;g=0;break}}else{switch(l){case 60:b=true;break;case 38:k=true;break;case 32:g=0;break;default:++g;break}}}}f[h++]=j.substring(d);return f.join("")},WORD_BREAK:goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.userAgent.IE?"&#8203;":"<wbr>"}}if(!goog.i18n){goog.i18n={bidi:{}}}goog.i18n.bidi.IS_RTL=false;goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0};goog.i18n.bidi.toDir=function(b,a){if(typeof b=="number"){return b>0?goog.i18n.bidi.Dir.LTR:b<0?goog.i18n.bidi.Dir.RTL:a?null:goog.i18n.bidi.Dir.NEUTRAL}else{if(b==null){return null}else{return b?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR}}};goog.i18n.bidi.estimateDirection=function(h,c){var d=0;var a=0;var b=false;var g=soyshim.$$bidiStripHtmlIfNecessary_(h,c).split(soyshim.$$bidiWordSeparatorRe_);for(var f=0;f<g.length;f++){var e=g[f];if(soyshim.$$bidiRtlDirCheckRe_.test(e)){d++;a++}else{if(soyshim.$$bidiIsRequiredLtrRe_.test(e)){b=true}else{if(soyshim.$$bidiLtrCharRe_.test(e)){a++}else{if(soyshim.$$bidiHasNumeralsRe_.test(e)){b=true}}}}}return a==0?(b?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL):(d/a>soyshim.$$bidiRtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR)};goog.i18n.BidiFormatter=function(a){this.dir_=goog.i18n.bidi.toDir(a,true)};goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_};goog.i18n.BidiFormatter.prototype.knownDirAttr=function(a){return !a||a==this.dir_?"":a<0?'dir="rtl"':'dir="ltr"'};goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"};goog.i18n.BidiFormatter.prototype.mark=function(){return((this.dir_>0)?"\u200E":(this.dir_<0)?"\u200F":"")};goog.i18n.BidiFormatter.prototype.markAfterKnownDir=function(b,c,a){if(b==null){b=goog.i18n.bidi.estimateDirection(c,a)}return(this.dir_>0&&(b<0||soyshim.$$bidiIsRtlExitText_(c,a))?"\u200E":this.dir_<0&&(b>0||soyshim.$$bidiIsLtrExitText_(c,a))?"\u200F":"")};goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(b,d,c){if(b==null){b=goog.i18n.bidi.estimateDirection(d,true)}var a=this.markAfterKnownDir(b,d,true);if(b>0&&this.dir_<=0){d='<span dir="ltr">'+d+"</span>"}else{if(b<0&&this.dir_>=0){d='<span dir="rtl">'+d+"</span>"}}return d+a};goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"};goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(c,d,a){if(c==null){c=goog.i18n.bidi.estimateDirection(d,a)}var b=this.markAfterKnownDir(c,d,a);if(c>0&&this.dir_<=0){d="\u202A"+d+"\u202C"}else{if(c<0&&this.dir_>=0){d="\u202B"+d+"\u202C"}}return d+b};if(!goog.string){goog.string={newLineToBr:function(b,a){b=String(b);if(!goog.string.NEWLINE_TO_BR_RE_.test(b)){return b}return b.replace(/(\r\n|\r|\n)/g,a?"<br />":"<br>")},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/}}goog.string.StringBuffer=function(a,b){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"";if(a!=null){this.append.apply(this,arguments)}};goog.string.StringBuffer.prototype.bufferLength_=0;goog.string.StringBuffer.prototype.append=function(c,b,e){if(goog.userAgent.jscript.HAS_JSCRIPT){if(b==null){this.buffer_[this.bufferLength_++]=c}else{var a=(this.buffer_);a.push.apply(a,arguments);this.bufferLength_=this.buffer_.length}}else{this.buffer_+=c;if(b!=null){for(var d=1;d<arguments.length;d++){this.buffer_+=arguments[d]}}}return this};goog.string.StringBuffer.prototype.clear=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){this.buffer_.length=0;this.bufferLength_=0}else{this.buffer_=""}};goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var a=this.buffer_.join("");this.clear();if(a){this.append(a)}return a}else{return(this.buffer_)}};if(!goog.soy){goog.soy={renderAsElement:function(c,a,b,d){return(soyshim.$$renderWithWrapper_(c,a,d,true,b))},renderAsFragment:function(c,a,b,d){return soyshim.$$renderWithWrapper_(c,a,d,false,b)},renderElement:function(c,d,a,b){c.innerHTML=d(a,null,b)},data:{}}}goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:true}:{},JS:goog.DEBUG?{sanitizedContentJsChars:true}:{},JS_STR_CHARS:goog.DEBUG?{sanitizedContentJsStrChars:true}:{},URI:goog.DEBUG?{sanitizedContentUri:true}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:true}:{},CSS:goog.DEBUG?{sanitizedContentCss:true}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:true}:{}};goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")};goog.soy.data.SanitizedContent.prototype.contentKind;goog.soy.data.SanitizedContent.prototype.contentDir=null;goog.soy.data.SanitizedContent.prototype.content;goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var soy={esc:{}};var soydata={};soydata.VERY_UNSAFE={};var soyshim={$$DEFAULT_TEMPLATE_DATA_:{}};soyshim.$$renderWithWrapper_=function(h,f,b,c,i){var d=b||document;var a=d.createElement("div");a.innerHTML=h(f||soyshim.$$DEFAULT_TEMPLATE_DATA_,undefined,i);if(a.childNodes.length==1){var g=a.firstChild;if(!c||g.nodeType==1){return(g)}}if(c){return a}var e=d.createDocumentFragment();while(a.firstChild){e.appendChild(a.firstChild)}return e};soyshim.$$bidiStripHtmlIfNecessary_=function(b,a){return a?b.replace(soyshim.$$BIDI_HTML_SKIP_RE_,""):b};soyshim.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g;soyshim.$$bidiLtrChars_="A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF";soyshim.$$bidiRtlChars_="\u0591-\u07FF\u200F\uFB1D-\uFDFF\uFE70-\uFEFC";soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]");soyshim.$$bidiLtrCharRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"]");soyshim.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/;soyshim.$$bidiHasNumeralsRe_=/\d/;soyshim.$$bidiWordSeparatorRe_=/\s+/;soyshim.$$bidiRtlDetectionThreshold_=0.4;soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$");soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$");soyshim.$$bidiIsLtrExitText_=function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiLtrExitDirCheckRe_.test(b)};soyshim.$$bidiIsRtlExitText_=function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiRtlExitDirCheckRe_.test(b)};soy.StringBuilder=goog.string.StringBuffer;soydata.SanitizedContentKind=goog.soy.data.SanitizedContentKind;soydata.isContentKind=function(a,b){return a!=null&&a.contentKind===b};soydata.getContentDir=function(a){if(a!=null){switch(a.contentDir){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Dir.LTR;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Dir.RTL;case goog.i18n.bidi.Dir.NEUTRAL:return goog.i18n.bidi.Dir.NEUTRAL}}return null};soydata.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedContent);soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML;soydata.SanitizedHtml.from=function(a){if(a!=null&&a.contentKind===soydata.SanitizedContentKind.HTML){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return(a)}return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.esc.$$escapeHtmlHelper(String(a)),soydata.getContentDir(a))};soydata.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedJs,goog.soy.data.SanitizedContent);soydata.SanitizedJs.prototype.contentKind=soydata.SanitizedContentKind.JS;soydata.SanitizedJs.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.SanitizedJsStrChars=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedJsStrChars,goog.soy.data.SanitizedContent);soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS;soydata.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedUri,goog.soy.data.SanitizedContent);soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI;soydata.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent);soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.ATTRIBUTES;soydata.SanitizedHtmlAttribute.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedCss,goog.soy.data.SanitizedContent);soydata.SanitizedCss.prototype.contentKind=soydata.SanitizedContentKind.CSS;soydata.SanitizedCss.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.UnsanitizedText=function(a,b){this.content=String(a);this.contentDir=b!=null?b:null};goog.inherits(soydata.UnsanitizedText,goog.soy.data.SanitizedContent);soydata.UnsanitizedText.prototype.contentKind=soydata.SanitizedContentKind.TEXT;soydata.$$EMPTY_STRING_={VALUE:""};soydata.$$makeSanitizedContentFactory_=function(b){function a(){}a.prototype=b.prototype;function c(e,f){var d=new a();d.content=String(e);if(f!==undefined){d.contentDir=f}return d}return c};soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(b){function a(){}a.prototype=b.prototype;function c(e){var d=new a();d.content=String(e);return d}return c};soydata.markUnsanitizedText=function(a,b){return new soydata.UnsanitizedText(a,b)};soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml);soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedJs);soydata.VERY_UNSAFE.ordainSanitizedJsStrChars=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJsStrChars);soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedUri);soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedHtmlAttribute);soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedCss);soy.renderElement=goog.soy.renderElement;soy.renderAsFragment=function(d,b,a,c){return goog.soy.renderAsFragment(d,b,c,new goog.dom.DomHelper(a))};soy.renderAsElement=function(d,b,a,c){return goog.soy.renderAsElement(d,b,c,new goog.dom.DomHelper(a))};soy.$$IS_LOCALE_RTL=goog.i18n.bidi.IS_RTL;soy.$$augmentMap=function(a,d){function e(){}e.prototype=a;var b=new e();for(var c in d){b[c]=d[c]}return b};soy.$$checkMapKey=function(a){if((typeof a)!="string"){throw Error("Map literal's key expression must evaluate to string (encountered type \""+(typeof a)+'").')}return a};soy.$$getMapKeys=function(c){var b=[];for(var a in c){b.push(a)}return b};soy.$$getDelTemplateId=function(a){return a};soy.$$DELEGATE_REGISTRY_PRIORITIES_={};soy.$$DELEGATE_REGISTRY_FUNCTIONS_={};soy.$$registerDelegateFn=function(f,c,d,b){var e="key_"+f+":"+c;var a=soy.$$DELEGATE_REGISTRY_PRIORITIES_[e];if(a===undefined||d>a){soy.$$DELEGATE_REGISTRY_PRIORITIES_[e]=d;soy.$$DELEGATE_REGISTRY_FUNCTIONS_[e]=b}else{if(d==a){throw Error('Encountered two active delegates with the same priority ("'+f+":"+c+'").')}else{}}};soy.$$getDelegateFn=function(c,b,d){var a=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+c+":"+b];if(!a&&b!=""){a=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+c+":"]}if(a){return a}else{if(d){return soy.$$EMPTY_TEMPLATE_FN_}else{throw Error('Found no active impl for delegate call to "'+c+":"+b+'" (and not allowemptydefault="true").')}}};soy.$$EMPTY_TEMPLATE_FN_=function(a,c,b){return""};soydata.$$makeSanitizedContentFactoryForInternalBlocks_=function(b){function a(){}a.prototype=b.prototype;function c(e,f){var g=String(e);if(!g){return soydata.$$EMPTY_STRING_.VALUE}var d=new a();d.content=String(e);if(f!==undefined){d.contentDir=f}return d}return c};soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(b){function a(){}a.prototype=b.prototype;function c(e){var f=String(e);if(!f){return soydata.$$EMPTY_STRING_.VALUE}var d=new a();d.content=String(e);return d}return c};soydata.$$markUnsanitizedTextForInternalBlocks=function(a,b){var c=String(a);if(!c){return soydata.$$EMPTY_STRING_.VALUE}return new soydata.UnsanitizedText(c,b)};soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=soydata.$$makeSanitizedContentFactoryForInternalBlocks_(soydata.SanitizedHtml);soydata.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedJs);soydata.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedUri);soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedHtmlAttribute);soydata.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedCss);soy.$$escapeHtml=function(a){return soydata.SanitizedHtml.from(a)};soy.$$cleanHtml=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return(a)}return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$stripHtmlTags(a,soy.esc.$$SAFE_TAG_WHITELIST_),soydata.getContentDir(a))};soy.$$escapeHtmlRcdata=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return soy.esc.$$normalizeHtmlHelper(a.content)}return soy.esc.$$escapeHtmlHelper(a)};soy.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b");soy.$$stripHtmlTags=function(d,c){if(!c){return String(d).replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;")}var b=String(d).replace(/\[/g,"&#91;");var a=[];b=b.replace(soy.esc.$$HTML_TAG_REGEX_,function(f,h){if(h){h=h.toLowerCase();if(c.hasOwnProperty(h)&&c[h]){var i=f.charAt(1)==="/"?"</":"<";var g=a.length;a[g]=i+h+">";return"["+g+"]"}}return""});b=soy.esc.$$normalizeHtmlHelper(b);var e=soy.$$balanceTags_(a);b=b.replace(/\[(\d+)\]/g,function(g,f){return a[f]});return b+e};soy.$$balanceTags_=function(c){var b=[];for(var d=0,f=c.length;d<f;++d){var a=c[d];if(a.charAt(1)==="/"){var e=b.length-1;while(e>=0&&b[e]!=a){e--}if(e<0){c[d]=""}else{c[d]=b.slice(e).reverse().join("");b.length=e}}else{if(!soy.$$HTML5_VOID_ELEMENTS_.test(a)){b.push("</"+a.substring(1))}}}return b.reverse().join("")};soy.$$escapeHtmlAttribute=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(a.content))}return soy.esc.$$escapeHtmlHelper(a)};soy.$$escapeHtmlAttributeNospace=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(a.content))}return soy.esc.$$escapeHtmlNospaceHelper(a)};soy.$$filterHtmlAttributes=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.ATTRIBUTES)){goog.asserts.assert(a.constructor===soydata.SanitizedHtmlAttribute);return a.content.replace(/([^"'\s])$/,"$1 ")}return soy.esc.$$filterHtmlAttributesHelper(a)};soy.$$filterHtmlElementName=function(a){return soy.esc.$$filterHtmlElementNameHelper(a)};soy.$$escapeJs=function(a){return soy.$$escapeJsString(a)};soy.$$escapeJsString=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.JS_STR_CHARS)){goog.asserts.assert(a.constructor===soydata.SanitizedJsStrChars);return a.content}return soy.esc.$$escapeJsStringHelper(a)};soy.$$escapeJsValue=function(a){if(a==null){return" null "}if(soydata.isContentKind(a,soydata.SanitizedContentKind.JS)){goog.asserts.assert(a.constructor===soydata.SanitizedJs);return a.content}switch(typeof a){case"boolean":case"number":return" "+a+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(a))+"'"}};soy.$$escapeJsRegex=function(a){return soy.esc.$$escapeJsRegexHelper(a)};soy.$$problematicUriMarks_=/['()]/g;soy.$$pctEncode_=function(a){return"%"+a.charCodeAt(0).toString(16)};soy.$$escapeUri=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.URI)){goog.asserts.assert(a.constructor===soydata.SanitizedUri);return soy.$$normalizeUri(a)}var b=soy.esc.$$escapeUriHelper(a);soy.$$problematicUriMarks_.lastIndex=0;if(soy.$$problematicUriMarks_.test(b)){return b.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_)}return b};soy.$$normalizeUri=function(a){return soy.esc.$$normalizeUriHelper(a)};soy.$$filterNormalizeUri=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.URI)){goog.asserts.assert(a.constructor===soydata.SanitizedUri);return soy.$$normalizeUri(a)}return soy.esc.$$filterNormalizeUriHelper(a)};soy.$$filterImageDataUri=function(a){return soydata.VERY_UNSAFE.ordainSanitizedUri(soy.esc.$$filterImageDataUriHelper(a))};soy.$$escapeCssString=function(a){return soy.esc.$$escapeCssStringHelper(a)};soy.$$filterCssValue=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.CSS)){goog.asserts.assert(a.constructor===soydata.SanitizedCss);return a.content}if(a==null){return""}return soy.esc.$$filterCssValueHelper(a)};soy.$$filterNoAutoescape=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.TEXT)){goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[a.content]);return"zSoyz"}return a};soy.$$changeNewlineToBr=function(b){var a=goog.string.newLineToBr(String(b),false);if(soydata.isContentKind(b,soydata.SanitizedContentKind.HTML)){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a,soydata.getContentDir(b))}return a};soy.$$insertWordBreaks=function(c,b){var a=goog.format.insertWordBreaks(String(c),b);if(soydata.isContentKind(c,soydata.SanitizedContentKind.HTML)){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a,soydata.getContentDir(c))}return a};soy.$$truncate=function(c,a,b){c=String(c);if(c.length<=a){return c}if(b){if(a>3){a-=3}else{b=false}}if(soy.$$isHighSurrogate_(c.charAt(a-1))&&soy.$$isLowSurrogate_(c.charAt(a))){a-=1}c=c.substring(0,a);if(b){c+="..."}return c};soy.$$isHighSurrogate_=function(a){return 55296<=a&&a<=56319};soy.$$isLowSurrogate_=function(a){return 56320<=a&&a<=57343};soy.$$bidiFormatterCache_={};soy.$$getBidiFormatterInstance_=function(a){return soy.$$bidiFormatterCache_[a]||(soy.$$bidiFormatterCache_[a]=new goog.i18n.BidiFormatter(a))};soy.$$bidiTextDir=function(d,a){var c=soydata.getContentDir(d);if(c!=null){return c}var b=a||soydata.isContentKind(d,soydata.SanitizedContentKind.HTML);return goog.i18n.bidi.estimateDirection(d+"",b)};soy.$$bidiDirAttr=function(b,f,a){var c=soy.$$getBidiFormatterInstance_(b);var e=soydata.getContentDir(f);if(e==null){var d=a||soydata.isContentKind(f,soydata.SanitizedContentKind.HTML);e=goog.i18n.bidi.estimateDirection(f+"",d)}return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(c.knownDirAttr(e))};soy.$$bidiMarkAfter=function(b,e,a){var c=soy.$$getBidiFormatterInstance_(b);var d=a||soydata.isContentKind(e,soydata.SanitizedContentKind.HTML);return c.markAfterKnownDir(soydata.getContentDir(e),e+"",d)};soy.$$bidiSpanWrap=function(a,d){var c=soy.$$getBidiFormatterInstance_(a);var b=c.spanWrapWithKnownDir(soydata.getContentDir(d),d+"",true);return b};soy.$$bidiUnicodeWrap=function(a,f){var c=soy.$$getBidiFormatterInstance_(a);var d=soydata.isContentKind(f,soydata.SanitizedContentKind.HTML);var b=c.unicodeWrapWithKnownDir(soydata.getContentDir(f),f+"",d);var e=c.getContextDir();if(soydata.isContentKind(f,soydata.SanitizedContentKind.TEXT)){return new soydata.UnsanitizedText(b,e)}if(d){return soydata.VERY_UNSAFE.ordainSanitizedHtml(b,e)}if(soydata.isContentKind(f,soydata.SanitizedContentKind.JS_STR_CHARS)){return soydata.VERY_UNSAFE.ordainSanitizedJsStrChars(b,e)}return b};soy.esc.$$escapeUriHelper=function(a){return encodeURIComponent(String(a))};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"\x26#0;","\x22":"\x26quot;","\x26":"\x26amp;","\x27":"\x26#39;","\x3c":"\x26lt;","\x3e":"\x26gt;","\x09":"\x26#9;","\x0a":"\x26#10;","\x0b":"\x26#11;","\x0c":"\x26#12;","\x0d":"\x26#13;"," ":"\x26#32;","-":"\x26#45;","/":"\x26#47;","\x3d":"\x26#61;","`":"\x26#96;","\x85":"\x26#133;","\xa0":"\x26#160;","\u2028":"\x26#8232;","\u2029":"\x26#8233;"};soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[a]};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\x08":"\\x08","\x09":"\\t","\x0a":"\\n","\x0b":"\\x0b","\x0c":"\\f","\x0d":"\\r","\x22":"\\x22","\x26":"\\x26","\x27":"\\x27","/":"\\/","\x3c":"\\x3c","\x3d":"\\x3d","\x3e":"\\x3e","\\":"\\\\","\x85":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029","$":"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"};soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[a]};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\x08":"\\8 ","\x09":"\\9 ","\x0a":"\\a ","\x0b":"\\b ","\x0c":"\\c ","\x0d":"\\d ","\x22":"\\22 ","\x26":"\\26 ","\x27":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","\x3c":"\\3c ","\x3d":"\\3d ","\x3e":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","\x85":"\\85 ","\xa0":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "};soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[a]};soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\x08":"%08","\x09":"%09","\x0a":"%0A","\x0b":"%0B","\x0c":"%0C","\x0d":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20","\x22":"%22","\x27":"%27","(":"%28",")":"%29","\x3c":"%3C","\x3e":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[a]};soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g;soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i;soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i;soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i;soy.esc.$$escapeHtmlHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$normalizeHtmlHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeHtmlNospaceHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$normalizeHtmlNospaceHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeJsStringHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeJsRegexHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeCssStringHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)};soy.esc.$$filterCssValueHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(b)){return"zSoyz"}return b};soy.esc.$$normalizeUriHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterNormalizeUriHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(b)){return"#zSoyz"}return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterImageDataUriHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(b)){return"data:image/gif;base64,zSoyz"}return b};soy.esc.$$filterHtmlAttributesHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(b)){return"zSoyz"}return b};soy.esc.$$filterHtmlElementNameHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(b)){return"zSoyz"}return b};soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g;soy.esc.$$LT_REGEX_=/</g;soy.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1};;
;
/* module-key = 'com.atlassian.soy.soy-template-plugin:soy-deps', location = 'soy-template-module/js/atlassian-deps.js' */
window.atl_soy=window.atl_soy||{};atl_soy.concat=function(d,c){if(d.concat){return d.concat(c)}var e={};for(var f in d){if(d.hasOwnProperty(f)){e[f]=d[f]}}for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}return e};;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-widget', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/widget.js' */
("undefined"===typeof window?global:window).__e3152236c406a356c24f20f7bfcccf21=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,d){var e="_aui-widget-"+a;return function(a,g){var b,c;f.default.isPlainObject(a)?c=a:(b=a,c=g);b=b&&(0,f.default)(b);!b||!b.data(e)?(c=new d(b,c||{}),b=c.$el,b.data(e,c)):c=b.data(e);return c}};var d=__307d3e18fd611f85395c67cddeb1fe24,f=d&&d.__esModule?d:{"default":d};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-i18n-aui', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/i18n/aui.js' */
("undefined"===typeof window?global:window).__b7c1042973dc14ee8b82b7aa58d746af=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={"aui.dropdown.async.error":"Error loading dropdown","aui.dropdown.async.loading":"Loading dropdown","aui.words.add":"Add","aui.words.update":"Update","aui.words.delete":"Delete","aui.words.remove":"Remove","aui.words.cancel":"Cancel","aui.words.loading":"Loading","aui.words.close":"Close","aui.enter.value":"Enter value","aui.words.more":"More",
"aui.words.moreitem":"More\u2026","aui.keyboard.shortcut.type.x":"Type ''{0}''","aui.keyboard.shortcut.then.x":"then ''{0}''","aui.keyboard.shortcut.or.x":"OR ''{0}''","aui.sidebar.expand.tooltip":"Expand sidebar ( [ )","aui.sidebar.collapse.tooltip":"Collapse sidebar ( [ )","aui.validation.message.maxlength":"Must be fewer than or equal to {0} characters","aui.validation.message.minlength":"Must be greater than or equal to {0} characters","aui.validation.message.exactlength":"Must be exactly {0} characters",
"aui.validation.message.matchingfield":"{0} and {1} do not match.","aui.validation.message.matchingfield-novalue":"These fields do not match.","aui.validation.message.doesnotcontain":"Do not include the phrase {0} in this field","aui.validation.message.pattern":"This field does not match the required format","aui.validation.message.required":"This is a required field","aui.validation.message.validnumber":"Please enter a valid number","aui.validation.message.min":"Enter a value greater than {0}","aui.validation.message.max":"Enter a value less than {0}",
"aui.validation.message.dateformat":"Enter a valid date","aui.validation.message.minchecked":"Tick at least {0,choice,0#0 checkboxes|1#1 checkbox|1<{0,number} checkboxes}.","aui.validation.message.maxchecked":"Tick at most {0,choice,0#0 checkboxes|1#1 checkbox|1<{0,number} checkboxes}.","aui.checkboxmultiselect.clear.selected":"Clear selected items","aui.select.no.suggestions":"No suggestions","aui.select.new.suggestions":"New suggestions added. Please use the up and down arrows to select.","aui.select.new.value":"new value",
"aui.toggle.on":"On","aui.toggle.off":"Off","ajs.datepicker.localisations.day-names.sunday":"Sunday","ajs.datepicker.localisations.day-names.monday":"Monday","ajs.datepicker.localisations.day-names.tuesday":"Tuesday","ajs.datepicker.localisations.day-names.wednesday":"Wednesday","ajs.datepicker.localisations.day-names.thursday":"Thursday","ajs.datepicker.localisations.day-names.friday":"Friday","ajs.datepicker.localisations.day-names.saturday":"Saturday","ajs.datepicker.localisations.day-names-min.sunday":"Sun",
"ajs.datepicker.localisations.day-names-min.monday":"Mon","ajs.datepicker.localisations.day-names-min.tuesday":"Tue","ajs.datepicker.localisations.day-names-min.wednesday":"Wed","ajs.datepicker.localisations.day-names-min.thursday":"Thu","ajs.datepicker.localisations.day-names-min.friday":"Fri","ajs.datepicker.localisations.day-names-min.saturday":"Sat","ajs.datepicker.localisations.first-day":0,"ajs.datepicker.localisations.is-RTL":!1,"ajs.datepicker.localisations.month-names.january":"January",
"ajs.datepicker.localisations.month-names.february":"February","ajs.datepicker.localisations.month-names.march":"March","ajs.datepicker.localisations.month-names.april":"April","ajs.datepicker.localisations.month-names.may":"May","ajs.datepicker.localisations.month-names.june":"June","ajs.datepicker.localisations.month-names.july":"July","ajs.datepicker.localisations.month-names.august":"August","ajs.datepicker.localisations.month-names.september":"September","ajs.datepicker.localisations.month-names.october":"October",
"ajs.datepicker.localisations.month-names.november":"November","ajs.datepicker.localisations.month-names.december":"December","ajs.datepicker.localisations.show-month-after-year":!1,"ajs.datepicker.localisations.year-suffix":null};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-i18n', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/i18n.js' */
("undefined"===typeof window?global:window).__d74c881c8f23921c15438d0f30c99f80=function(){function c(a){return a&&a.__esModule?a:{"default":a}}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var e=c(__57111a90131a66c211cf7209c7270167),f=c(__4d02fe17b8e885a34493e34af3d145dd),d={keys:c(__b7c1042973dc14ee8b82b7aa58d746af).default,getText:function(a){var b=Array.prototype.slice.call(arguments,1);return Object.prototype.hasOwnProperty.call(this.keys,a)?e.default.apply(null,[this.keys[a]].concat(b)):
a}};(0,f.default)("I18n",d);b.default=d;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-skate', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/skate.js' */
("undefined"===typeof window?global:window).__c1ce1f1e3e613f564fc234ff043570f1=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__612b714a7afa741ae272e3b4821d110b,a=(a&&a.__esModule?a:{"default":a}).default.noConflict();b.default=a;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-navigation', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/navigation.js' */
("undefined"===typeof window?global:window).__ae9d29286cb1bf270e0b6093684e6bea=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function b(a){this.$el=(0,d.default)(a).closest(".aui-nav");if(1<this.$el.length)return this.$el.map(function(a,d){return new b(d)})[0];if(this.$el.data("aui-navigation"))return this.$el.data("aui-navigation");this.$el.data("aui-navigation",this);this.$treeParent=this.$el.parent("li[aria-expanded]");this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon");
this.hideMoreItems();this.$el.children("li:has(.aui-nav-selected)").addClass("aui-nav-child-selected");a=this.$el.children(".aui-nav-selected");a.parents(".aui-nav > [aria-expanded=false]").add(a.filter("[aria-expanded=false]")).each(function(){e((0,d.default)(this).children(".aui-nav")).expand()});this.$el.find("> li[aria-expanded] > .aui-nav-subtree-toggle").on("click",function(){e((0,d.default)(this).siblings(".aui-nav")).toggle()});return this}var f={};"use strict";Object.defineProperty(f,"__esModule",
{value:!0});__d74c881c8f23921c15438d0f30c99f80;var d=c(__307d3e18fd611f85395c67cddeb1fe24),g=c(__c1ce1f1e3e613f564fc234ff043570f1),h=c(__4d02fe17b8e885a34493e34af3d145dd),i=c(__e3152236c406a356c24f20f7bfcccf21);b.prototype.isNested=function(){return 1===this.$treeParent.length};b.prototype.isCollapsed=function(){return"false"===this.$treeParent.attr("aria-expanded")};b.prototype.expand=function(){this.$treeParent.attr("aria-expanded","true");this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded");
this.hideMoreItems();return this};b.prototype.collapse=function(){this.$treeParent.attr("aria-expanded","false");this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed");return this};b.prototype.toggle=function(){this.isCollapsed()?this.expand():this.collapse();return this};b.prototype.hideMoreItems=function(){if(this.$el.is(".aui-nav:not([aria-expanded=false]) [data-more]")){var a=this.$el.attr("data-more")||"More\u2026",b=Math.abs(parseInt(this.$el.attr("data-more-limit")))||
5,c=this.$el.children("li"),e=c.length<=b+1,f=c.filter(".aui-nav-selected").length,g=c.filter(".aui-nav-more").length;if(e||f||g)return this;(0,d.default)("<li>",{"class":"aui-nav-more","aria-hidden":"true"}).append((0,d.default)("<a>",{href:"#","class":"aui-nav-item",text:a,click:function(a){a.preventDefault();(0,d.default)(this).parent().remove()}})).insertAfter(c.eq(b-1))}return this};var e=(0,i.default)("navigation",b);(0,g.default)("aui-nav",{type:g.default.type.CLASSNAME,attached:function(a){new b(a)},
detached:function(a){(0,d.default)(a).removeData()}});(0,h.default)("navigation",e);f.default=e;return f=f["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:aui-navigation', location = 'auiplugin/src/soy/navigation.soy' */
// This file was automatically generated from navigation.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.navigation.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.navigation == 'undefined') { aui.navigation = {}; }


aui.navigation.item = function(opt_data, opt_ignored) {
  return '<li class="' + ((opt_data.isSelected || opt_data.key && opt_data.selectedItemKey == opt_data.key) ? 'aui-nav-selected' : '') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.isCollapsible && opt_data.children && opt_data.children.length > 0) ? 'aria-expanded="' + ((opt_data.isCollapsed) ? 'false' : 'true') + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.children && opt_data.children.length > 0 && opt_data.isCollapsible) ? '<a href="#" class="aui-nav-subtree-toggle">' + aui.icons.icon({icon: opt_data.isCollapsed ? 'collapsed' : 'expanded', size: 'small', useIconFont: true}) + '</a>' : '') + '<a class="aui-nav-item" href="' + soy.$$escapeHtml(opt_data.href) + '">' + ((opt_data.iconClass && ! opt_data.isChild) ? aui.icons.icon({icon: opt_data.iconClass, size: 'small', useIconFont: true}) : '') + ((opt_data.count == 0 || opt_data.count) ? '<span class="aui-badge">' + soy.$$escapeHtml(opt_data.count) + '</span>' : '') + '<span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a>' + ((opt_data.children && opt_data.children.length > 0) ? aui.navigation.nav({items: opt_data.children, selectedItemKey: opt_data.selectedItemKey, isChild: true}) : '') + '</li>';
};
if (goog.DEBUG) {
  aui.navigation.item.soyTemplateName = 'aui.navigation.item';
}


aui.navigation.nav = function(opt_data, opt_ignored) {
  var output = '<ul class="aui-nav' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>';
  var itemList58 = opt_data.items;
  var itemListLen58 = itemList58.length;
  for (var itemIndex58 = 0; itemIndex58 < itemListLen58; itemIndex58++) {
    var itemData58 = itemList58[itemIndex58];
    output += aui.navigation.item(soy.$$augmentMap(itemData58, {isChild: opt_data.isChild, selectedItemKey: opt_data.selectedItemKey}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  aui.navigation.nav.soyTemplateName = 'aui.navigation.nav';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-skatejs-template-html-0.0.0-dist-template-html', location = 'auiplugin/node_modules/skatejs-template-html/dist/template-html.js' */
("undefined"===typeof window?global:window).__f52b7059926ab2bdcd0aee12b4bc782b=function(){var i={exports:{}},u=i.exports,A={module:i,exports:u},l;l=function(a,b,f){var g=("undefined"===typeof window?global:window).define,e,c,f=[f,b,a].filter(function(d){return"function"===typeof d})[0],b=[b,a,[]].filter(Array.isArray)[0];e=f.apply(null,b.map(function(d){return A[d]}));c=typeof e;"function"===typeof g&&g("string"===typeof a?a:"__f52b7059926ab2bdcd0aee12b4bc782b",b,f);"string"===c?e=String(e):"number"===
c?e=Number(e):"boolean"===c&&(e=Boolean(e));void 0!==e&&(u=i.exports=e)};l.amd=!0;var v=function(a,b,f){a.__SKATE_TEMPLATE_HTML_DATA||(a.__SKATE_TEMPLATE_HTML_DATA={});a.__SKATE_TEMPLATE_HTML_DATA[b]=f;return a},q=function(a){var b={caption:"table",dd:"dl",dt:"dl",li:"ul",tbody:"table",td:"tr",thead:"table",tr:"tbody"},f=a.match(/\s*<([^\s>]+)/),b=document.createElement(f&&b[f[1]]||"div");b.innerHTML=a;return w(b.childNodes)},w=function(a){for(var b=document.createDocumentFragment();a&&a.length;)b.appendChild(a[0]);
return b},r=function(a,b){for(var f=[],g=a.nextSibling;g!==b;)f.push(g),g=g.nextSibling;return f},s=function(a){for(var b=a.defaultNodes,f=b.length,g=0;g<f;g++)a.container.insertBefore(b[g],a.endNode);a.isDefault=!0},t=function(a){for(var b=a.defaultNodes,f=b.length,g=0;g<f;g++){var e=b[g];e.parentNode.removeChild(e)}a.isDefault=!1},B=function(a,b){return{get:function(){var f=a[b];return"function"===typeof f?f.bind(a):f},set:function(f){a[b]=f}}},x=function(a){for(var b=a.childNodes,f=b.length,g=
[],e,a=0;a<f;a++){var c=b[a];if(8===c.nodeType){var d;d=c;var j=void 0,h=d.textContent.match(/^ (\/?)content (.*)/i);if(h){if(h[2])try{j=JSON.parse(h[2])}catch(p){throw Error('Unable to parse content comment data: "'+p+'" in "<\!--'+d.textContent+'--\>".');}d={data:j||{defaultContent:void 0,isDefault:void 0,selector:void 0},type:h[1]?"close":"open"}}else d=void 0;if(d)if("open"===d.type){if(e)throw Error('Cannot have an opening content placeholder after another content placeholder at the same level in the DOM tree: "'+
c.textContent+'" in "'+c.parentNode.innerHTML+'".');e={container:c.parentNode,contentNode:c,defaultNodes:d.data.defaultContent&&q(d.data.defaultContent).childNodes||[],isDefault:d.data.isDefault,selector:d.data.selector,startNode:c}}else if("close"===d.type){if(!e)throw Error('Unmatched closing content placeholder: "'+c.textContent+'" in "'+c.parentNode.innerHTML+'".');e.endNode=c;g.push(e);e=void 0}}else g=g.concat(x(c))}return g},k=function(){var a=[].slice.call(arguments).join("");return function(b){var f=
w(b.childNodes);b.innerHTML=a;var g=b.getElementsByTagName("content");if(g&&g.length){for(var e=[];g.length;){var c=g[0],d=c.parentNode,j=c.getAttribute("select"),h=document.createComment(" content "),p=document.createComment(" /content ");e.push({container:d,contentNode:c,defaultNodes:[].slice.call(c.childNodes),endNode:p,isDefault:!0,selector:j,startNode:h});d.replaceChild(p,c);d.insertBefore(h,p);h.textContent+=JSON.stringify({defaultContent:c.innerHTML,selector:j})+" "}v(b,"content",e)}f.childNodes.length&&
k.wrap(b).appendChild(f)}},y=window.DocumentFragment,m=window.HTMLElement.prototype,z=m.matches||m.msMatchesSelector||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector;k.wrap=function(a){var b;b=a.__SKATE_TEMPLATE_HTML_DATA?a.__SKATE_TEMPLATE_HTML_DATA.content:void 0;b||v(a,"content",x(a));var f;f=a.__SKATE_TEMPLATE_HTML_DATA?a.__SKATE_TEMPLATE_HTML_DATA.content:void 0;var g=f.length;b={childNodes:{get:function(){for(var d=[],j=0;j<g;j++){var h=f[j];h.isDefault||(d=d.concat(r(h.startNode,
h.endNode)))}return d}},firstChild:{get:function(){var d=this.childNodes;return d.length&&d[0]||null}},innerHTML:{get:function(){for(var d="",j=this.childNodes,h=j.length,a=0;a<h;a++)var b=j[a],d=d+(b.outerHTML||b.textContent);return d},set:function(d){for(var d=q(d),a=0;a<g;a++){for(var h=f[a],b=r(h.startNode,h.endNode),c=0;c<b.length;c++){var e=b[c];e.parentNode.removeChild(e)}b=d;if(c=h.selector){for(var c=b.querySelectorAll(c),e=c.length,i=[],n=0;n<e;n++){var o=c[n];o.parentNode===b&&i.push(o)}b=
i}else b=[].slice.call(b.childNodes)||[];for(c=0;c<b.length;c++)h.container.insertBefore(b[c],h.endNode);b.length?t(h):s(h)}}},lastChild:{get:function(){for(var d=g-1;-1<d;d--)if(!f[d].isDefault)return d=this.childNodes,d[d.length-1];return null}},outerHTML:{get:function(){var d=this.tagName.toLowerCase(),a="<"+d,b=this.attributes;if(b)for(var c=b.length,f=0;f<c;f++)var g=b[f],a=a+(" "+g.nodeName+'="'+g.nodeValue+'"');a=a+">"+this.innerHTML;return a+("</"+d+">")}},textContent:{get:function(){for(var d=
"",a=this.childNodes,b=this.childNodes.length,c=0;c<b;c++)d+=a[c].textContent;return d},set:function(d){var a;this.innerHTML="";for(var b=0;b<g;b++){var c=f[b];if(!c.selector){a=c;break}}a&&(d?(t(a),a.container.insertBefore(document.createTextNode(d),a.endNode)):s(a))}},appendChild:{value:function(d){if(d instanceof y)return[].slice.call(d.childNodes).forEach(function(a){this.appendChild(a)}.bind(this)),this;for(var a=0;a<g;a++){var b=f[a],c=b.selector;if(!c||d instanceof window.HTMLElement&&z.call(d,
c)){t(b);b.endNode.parentNode.insertBefore(d,b.endNode);break}}return this}},insertAdjacentHTML:{value:function(d,b){"afterbegin"===d?this.insertBefore(q(b),this.childNodes[0]):"beforeend"===d?this.appendChild(q(b)):a.insertAdjacentHTML(d,b);return this}},insertBefore:{value:function(a,b){if(!b)return this.appendChild(a);if(a instanceof y){var c=a.childNodes;if(c)for(var e=c.length,i=0;i<e;i++)this.insertBefore(c[i],b);return this}c=!1;e=0;a:for(;e<g;e++)for(var i=f[e],k=r(i.startNode,i.endNode),
m=k.length,n=0;n<m;n++){var o=k[n];o===b&&(c=!0);if(c){var l=i.selector;if(!l||z.call(a,l)){o.parentNode.insertBefore(a,o);break a}}}if(!c)throw Error("DOMException 8: The node before which the new node is to be inserted is not a child of this node.");return a}},removeChild:{value:function(a){for(var b=!1,c=0;c<g;c++){var e=f[c];if(e.container===a.parentNode){e.container.removeChild(a);b=!0;break}e.startNode.nextSibling===e.endNode&&s(e)}if(!b)throw Error("DOMException 8: The node in which you are trying to remove is not a child of this node.");
return a}},replaceChild:{value:function(a,b){for(var c=0;c<g;c++){var e=f[c];if(e.container===b.parentNode){e.container.replaceChild(a,b);break}}return this}}};var e={},c;for(c in a)c in b?Object.defineProperty(e,c,b[c]):Object.defineProperty(e,c,B(a,c));return e};window.skateTemplateHtml=k;"function"===typeof l&&l(function(){return k});"object"===typeof i&&(i.exports=k);return i.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-header-create-header', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/header/create-header.js' */
("undefined"===typeof window?global:window).__906ea2ee8af7ec57662c322a720a678d=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function k(a){this.element=a;this.$element=(0,f.default)(a);this.index=(0,f.default)("aui-header, .aui-header").index(a);this.$secondaryNav=this.$element.find(".aui-header-secondary .aui-nav").first();this.menuItems=[];this.totalWidth=0;this.rightMostNavItemIndex=this.$moreMenu=void 0;this.$applicationLogo=this.$element.find("#logo");this.primaryButtonsWidth=
this.moreMenuWidth=0;var b=(0,f.default)(this.$element[0].querySelector(".aui-header-primary"));this.$headerFind=function(a){return b.find(a)}}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=d(__307d3e18fd611f85395c67cddeb1fe24),n=d(__5a18a90cc502f556e87c4181f8a6b4ab),o=d(__c6e18cf9266fe56d02f78a6e812f58db),p=d(__d74c881c8f23921c15438d0f30c99f80),j=d(__c1ce1f1e3e613f564fc234ff043570f1),l=d(__f52b7059926ab2bdcd0aee12b4bc782b),m=(0,f.default)(window);k.prototype={init:function(){var a=
this;this.element.setAttribute("data-aui-responsive","true");this.$headerFind(".aui-button").parent().each(function(){a.primaryButtonsWidth+=(0,f.default)(this).outerWidth(!0)});this.$headerFind(".aui-nav > li > a:not(.aui-button)").each(function(){var b=(0,f.default)(this).parent(),g=b.outerWidth(!0);a.totalWidth+=g;a.menuItems.push({$element:b,outerWidth:g})});this.rightMostNavItemIndex=this.menuItems.length-1;m.on("resize",this._resizeHandler=(0,o.default)(function(){a.constructResponsiveDropdown()},
100));var b=this.$applicationLogo.find("img");0!==b.length&&(b.attr("data-aui-responsive-header-index",this.index),b.load(function(){a.constructResponsiveDropdown()}));this.constructResponsiveDropdown();this.$headerFind(".aui-nav").css("width","auto")},destroy:function(){m.off("resize",this._resizeHandler)},calculateAvailableWidth:function(){var a=this.$secondaryNav.is(":visible")?this.$secondaryNav.offset().left:this.$element.outerWidth(),b=this.$applicationLogo.offset().left+this.$applicationLogo.outerWidth(!0)+
this.primaryButtonsWidth;return a-b},showResponsiveDropdown:function(){void 0===this.$moreMenu&&(this.$moreMenu=this.createResponsiveDropdownTrigger());this.$moreMenu.css("display","")},hideResponsiveDropdown:function(){void 0!==this.$moreMenu&&this.$moreMenu.css("display","none")},constructResponsiveDropdown:function(){if(this.menuItems.length){var a;a=this.calculateAvailableWidth(this.$element,this.primaryButtonsWidth);if(a>this.totalWidth)this.showAll();else{this.showResponsiveDropdown();a-=this.moreMenuWidth;
for(var b=-1;0<=a-this.menuItems[b+1].outerWidth;)a-=this.menuItems[b+1].outerWidth,b++;b<this.rightMostNavItemIndex?this.moveToResponsiveDropdown(this.rightMostNavItemIndex-b):this.rightMostNavItemIndex<b&&this.moveOutOfResponsiveDropdown(b-this.rightMostNavItemIndex)}}},createResponsiveDropdownTrigger:function(){var a=document.createElement("li"),b=document.createElement("aui-dropdown-menu");b.id="aui-responsive-header-dropdown-"+this.index;j.default.init(b);var c=document.createElement("aui-section");
c.id="aui-responsive-header-dropdown-list-"+this.index;j.default.init(c);l.default.wrap(b).appendChild(c);c=document.createElement("a");c.setAttribute("class","aui-dropdown2-trigger");c.setAttribute("href","#");c.id=b.id+"-trigger";c.setAttribute("aria-controls",b.id);c.innerHTML=p.default.getText("aui.words.more");a.appendChild(c);a.appendChild(b);0===this.primaryButtonsWidth?this.$headerFind(".aui-nav").append(a):this.$headerFind(".aui-nav > li > .aui-button:first").parent().before(a);this.moreMenuWidth=
(0,f.default)(a).outerWidth(!0);return(0,f.default)(a)},moveOutOfResponsiveDropdown:function(a){if(!(0>=a)){for(var b=(0,f.default)("#aui-responsive-header-dropdown-"+this.index),c=this.rightMostNavItemIndex+a,g=this.rightMostNavItemIndex+1;g<=c;g++){var i=this.menuItems[g].$element,e=i.children("a");e.attr("aria-controls")&&(e=(0,f.default)(document.getElementById(e.attr("aria-controls"))),e.removeClass("aui-dropdown2-sub-menu"),i.append(e));b.find("aui-item-link:first").remove();i.insertBefore(this.$moreMenu)}this.rightMostNavItemIndex+=
a}},moveToResponsiveDropdown:function(a){if(!(0>=a)){for(var b=l.default.wrap(this.$moreMenu[0].querySelector("aui-section")),c=this.rightMostNavItemIndex-a+1,g=this.rightMostNavItemIndex;g>=c;g--){var i=this.menuItems[g].$element,e=i.children("a");j.default.init(e);var d=document.createElement("aui-item-link");d.setAttribute("href",e.attr("href"));if(e.attr("aria-controls")){var h=(0,f.default)(document.getElementById(e.attr("aria-controls")));d.setAttribute("for",e.attr("aria-controls"));h.addClass("aui-dropdown2-sub-menu");
h.appendTo("body")}j.default.init(d);l.default.wrap(d).textContent=e.text();i.detach();b.insertBefore(d,b.firstChild);this.element.dispatchEvent(new n.default("aui-responsive-menu-item-created",{bubbles:!0,detail:{originalItem:i[0],newItem:d}}))}this.rightMostNavItemIndex-=a}},showAll:function(){this.moveOutOfResponsiveDropdown(this.menuItems.length-1-this.rightMostNavItemIndex);this.hideResponsiveDropdown()}};h.default=function(a){var b=a._header;b instanceof k||(b=new k(a),b.init(),a._header=b);
return b};return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-header', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/header.js' */
("undefined"===typeof window?global:window).__3b5a26bdd3080332ee26f12f39993af9=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function f(){(0,g.default)(".aui-header").each(function(){(0,h.default)(this)})}var d={};"use strict";Object.defineProperty(d,"__esModule",{value:!0});var g=e(__307d3e18fd611f85395c67cddeb1fe24),h=e(__906ea2ee8af7ec57662c322a720a678d),b;var a=__c8cfa00f1eba9ac7af89ee3d0d33961d;if(a&&a.__esModule)b=a;else{var c={};if(null!=a)for(b in a)Object.prototype.hasOwnProperty.call(a,
b)&&(c[b]=a[b]);c.default=a;b=c}a=e(__4d02fe17b8e885a34493e34af3d145dd);(0,g.default)(f);c={};c.setup=b.fn(f,"responsiveheader.setup",{removeInVersion:"6.0.0",sinceVersion:"5.8.0",extraInfo:"No need to manually initialise anymore as this is now a web component."});(0,a.default)("responsiveheader",c);d.default=c;return d=d["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-focus-manager', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/focus-manager.js' */
("undefined"==typeof window?global:window).__1c9e0b237fd336437964bc9b6dfa74ba=function(){const e={exports:{}},t=e.exports;Object.defineProperty(t,"__esModule",{value:!0});var a=u(__307d3e18fd611f85395c67cddeb1fe24),n=u(__4d02fe17b8e885a34493e34af3d145dd);function u(e){return e&&e.__esModule?e:{default:e}}!function(){function e(e){return"visible"===a.default.css(e,"visibility")}function t(t,n){var u=t.nodeName.toLowerCase();if("aui-select"===u)return!0;if("area"===u){var r=t.parentNode,o=r.name,i=(0,a.default)("img[usemap=#"+o+"]").get();return!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(i&&e(i))}var f=/input|select|textarea|button|object/.test(u),c="a"===u,l=t.href||n;return(f?!t.disabled:c?l:n)&&e(t)}a.default.extend(a.default.expr[":"],{"aui-focusable":function(e){return t(e,!isNaN(a.default.attr(e,"tabindex")))},"aui-tabbable":function(e){var n=a.default.attr(e,"tabindex"),u=isNaN(n);return(u||n>=0)&&t(e,!u)}})}();var r="_aui-focus-restore";function o(){this._focusTrapStack=[],(0,a.default)(document).on("keydown",{focusTrapStack:this._focusTrapStack},f)}function i(e){return e.is(".aui-dialog, .aui-dialog2")}function f(e){const t=9,a="Tab",{focusTrapStack:n}=e.data;if(0===n.length||e.key!==a||e.keyCode!==t)return;const u=e.shiftKey?-1:1,r=e.target,o=n[n.length-1],f=o.find(":aui-tabbable:visible");if(!f.length&&i(o)&&(o.trigger("focus"),e.preventDefault()),!f.length)return;const c=f.index(r);let l=-1;if(c>-1)l=c;else{let e;if(e=$(r).closest(".aui-layer"),!e.length){e=o.find("[aria-controls]").map((function(){return document.getElementById(this.getAttribute("aria-controls"))})).has(r)}if(e.length){const t=e.find(":aui-tabbable"),a=t.index(r)+u;if(!(a<0||a>=t.length))return;{const t=getTrigger(e.get(0));l=f.index(t)}}}l=l>-1?(l+u)%f.length:0,"IFRAME"!==f.get(l).nodeName&&(f.eq(l).trigger("focus"),e.preventDefault())}return o.defaultFocusSelector=":aui-tabbable",o.prototype.enter=function(e){if(e.data(r,(0,a.default)(document.activeElement)),"false"!==e.attr("data-aui-focus")){var t=e.attr("data-aui-focus-selector")||o.defaultFocusSelector;(e.is(t)?e:e.find(t)).first().focus()}i(e)&&function(e,t){t.push(e)}(e,this._focusTrapStack)},o.prototype.exit=function(e){i(e)&&this._focusTrapStack.pop();var t=document.activeElement;(e[0]===t||e.has(t).length)&&(0,a.default)(t).blur();var n=e.data(r);n&&n.length&&(e.removeData(r),n.focus())},o.global=new o,(0,n.default)("FocusManager",o),t.default=o,e.exports=t.default,e.exports}.call(this);
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-key-code', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/key-code.js' */
("undefined"===typeof window?global:window).__509557c937caa8763def39004fcf3193=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__4d02fe17b8e885a34493e34af3d145dd,a=a&&a.__esModule?a:{"default":a},c={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,LEFT_SQUARE_BRACKET:91,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};(0,a.default)("keyCode",c);b.default=c;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-layer', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/layer.js' */
("undefined"===typeof window?global:window).__fe0cd0a7ef176e2ef4e0e105d1ce31f5=function(){function i(a){return a&&a.__esModule?a:{"default":a}}function p(a,b,c){var e=f.default.Event(j+b),b=f.default.Event(k+b),d=new r.default(x+c,{bubbles:!0,cancelable:!0}),c=new r.default(y+c,{bubbles:!0,cancelable:!0});a.trigger(e);a.trigger(b,[a]);a[0].dispatchEvent(d);a[0].dispatchEvent(c);return!e.isDefaultPrevented()&&!b.isDefaultPrevented()&&!d.defaultPrevented&&!c.defaultPrevented}function triggerNativeEvent($el, eventName) {var nativeEvent=new r.default(eventName,{bubbles: true,cancelable: true,detail: {layerElement: $el[0]}});document.dispatchEvent(nativeEvent);}function s(a){this.$el=
(0,f.default)(a||'<div class="aui-layer" aria-hidden="true"></div>');this.$el.addClass("aui-layer")}function t(a){return(0,f.default)('[aria-controls="'+a.attr("id")+'"]')}function u(a,b){for(var c=a.length;c--;)if(b(a[c]))return c;return-1}function g(a,b){return u(a,function(a){return a[0]===b[0]})}function l(a){return u(a,function(a){return e(a).isBlanketed()})}function n(a,b){var c=l(a);b!==c&&(-1<c?(0,q.dim)(!1,a[c].css("z-index")-20):(0,q.undim)())}function h(a,b,c){if(!(0>b))for(var d=a.length-
1;d>=b;d--){var f=e(a[d]);if(c||!f.isPersistent())f._hideLayer(!0),a.splice(d,1)}}function d(){this._stack=[]}function v(a){if(!a.length)return!1;a=document.getElementById(a.attr("aria-controls"));return-1<d.global.indexOf(a)}var o={};"use strict";Object.defineProperty(o,"__esModule",{value:!0});var f=i(__307d3e18fd611f85395c67cddeb1fe24),q=__594942bfcf520d6e5a0843b1cfdd039a,w=i(__1c9e0b237fd336437964bc9b6dfa74ba),z=i(__4d02fe17b8e885a34493e34af3d145dd),A=i(__509557c937caa8763def39004fcf3193),B=i(__e3152236c406a356c24f20f7bfcccf21),
r=i(__5a18a90cc502f556e87c4181f8a6b4ab),j="_aui-internal-layer-",k="_aui-internal-layer-global-",x="aui-layer-",y="aui-",m=(0,f.default)(document);s.prototype={below:function(){return d.global.item(d.global.indexOf(this.$el)-1)},above:function(){return d.global.item(d.global.indexOf(this.$el)+1)},changeSize:function(a,b){this.$el.css("width",a);this.$el.css("height","content"===b?"":b);return this},on:function(a,b){this.$el.on(j+a,b);return this},off:function(a,b){this.$el.off(j+a,b);return this},
show:function(){if(this.isVisible())return this.$el.attr("aria-hidden","false"),this;if(!p(this.$el,"beforeShow","show"))return this;triggerNativeEvent(this.$el, 'on-before-aui-layer-show');"none"===this.$el.css("display")&&this.$el.css("display","");d.global.push(this.$el);return this},hide:function(){if(!this.isVisible())return this.$el.attr("aria-hidden","true"),this;if(!p(this.$el,"beforeHide","hide"))return this;triggerNativeEvent(this.$el, 'on-before-aui-layer-hide');var a=this,b=this.$el.get(0),c=function(){a.isVisible()||(this.style.display="none")},e=function(a){"opacity"===a.propertyName&&(c.call(b),
b.removeEventListener("transitionend",e))},f=window.getComputedStyle(b).transitionProperty;f&&-1<f.indexOf("opacity")?b.addEventListener("transitionend",e):c.call(b);d.global.popUntil(this.$el);return this},isVisible:function(){return"false"===this.$el.attr("aria-hidden")},remove:function(){this.hide();this.$el.remove();this.$el=null},isBlanketed:function(){return"true"===this.$el.attr("data-aui-blanketed")},isPersistent:function(){var a=this.$el.attr("modal")||this.$el.attr("data-aui-modal"),b=this.$el[0].hasAttribute("persistent");
return"true"===a||b},_hideLayer:function(a){(this.isPersistent()||this.isBlanketed())&&w.default.global.exit(this.$el);a&&p(this.$el,"beforeHide","hide");this.$el.attr("aria-hidden","true");this.$el.css("z-index",this.$el.data("_aui-layer-cached-z-index")||"");this.$el.data("_aui-layer-cached-z-index","");this.$el.trigger(j+"hide");this.$el.trigger(k+"hide",[this.$el])},_showLayer:function(a){this.$el.parent().is("body")||this.$el.appendTo(document.body);this.$el.data("_aui-layer-cached-z-index",
this.$el.css("z-index"));this.$el.css("z-index",a);this.$el.attr("aria-hidden","false");(this.isPersistent()||this.isBlanketed())&&w.default.global.enter(this.$el);this.$el.trigger(j+"show");this.$el.trigger(k+"show",[this.$el])}};var e=(0,B.default)("layer",s);e.on=function(a,b,c){m.on(k+a,b,c);return this};e.off=function(a,b,c){m.off(k+a,b,c);return this};d.prototype={push:function(a){a=a instanceof f.default?a:(0,f.default)(a);if(0<=g(this._stack,a))throw Error("The given element is already an active layer.");
this.popLayersBeside(a);var b=e(a),c;c=this._stack;c.length?(c=parseInt(c[c.length-1].css("z-index"),10),c=(isNaN(c)?0:c)+100):c=0;c=Math.max(3E3,c);b._showLayer(c);b.isBlanketed()&&(0,q.dim)(!1,c-20);this._stack.push(a);return this},popLayersBeside:function(a){a=a instanceof f.default?a:(0,f.default)(a);0<t(a).length?(a=t(a),a=0<a.length?a.closest(".aui-layer"):void 0,a?(a=this.indexOf(a),h(this._stack,++a,!1)):h(this._stack,0,!1)):(a=l(this._stack),h(this._stack,++a,!1))},indexOf:function(a){return g(this._stack,
(0,f.default)(a))},item:function(a){return this._stack[a]},hideAll:function(){this._stack.reverse().forEach(function(a){a=e(a);!a.isBlanketed()&&!a.isPersistent()&&a.hide()});return this},getNextLowerNonPersistentOrBlanketedLayer:function(a){a=a instanceof f.default?a:(0,f.default)(a);a=g(this._stack,a);if(0>a)return null;var b;for(a--;0<=a;){b=this._stack[a];var c=e(b);if(!c.isPersistent()||c.isBlanketed())return b;a--}return null},getNextHigherNonPeristentAndNonBlanketedLayer:function(a){a=a instanceof
f.default?a:(0,f.default)(a);a=g(this._stack,a);if(0>a)return null;var b;for(a++;a<this._stack.length;){b=this._stack[a];var c=e(b);if(!c.isPersistent()&&!c.isBlanketed())return b;a++}return null},popUntil:function(a){var a=a instanceof f.default?a:(0,f.default)(a),b=g(this._stack,a);if(-1===b)return null;var c=l(this._stack);h(this._stack,b+1,e(a).isBlanketed());e(a)._hideLayer();this._stack.splice(b,1);n(this._stack,c);return a},getTopLayer:function(){return!this._stack.length?null:this._stack[this._stack.length-
1]},popTopIfNonPersistent:function(){var a=this.getTopLayer(),b=e(a);return!a||b.isPersistent()?null:this.popUntil(a)},popUntilTopBlanketed:function(){var a=l(this._stack);if(0>a)return null;var b=this._stack[a];if(e(b).isPersistent())return(a=this.getNextHigherNonPeristentAndNonBlanketedLayer(b))?(b=g(this._stack,a),h(this._stack,b,!0),a):null;h(this._stack,a,!0);n(this._stack,a);return b},popUntilTopPersistent:function(){var a=d.global.getTopLayer();if(a){var b=l(this._stack),c=e(a);c.isPersistent()?
c.isBlanketed()||(a=d.global.getNextLowerNonPersistentOrBlanketedLayer(a),c=e(a),a&&!c.isPersistent()&&(a=g(this._stack,a),h(this._stack,a,!0),n(this._stack,b))):(a=g(this._stack,a),h(this._stack,a,!0),n(this._stack,b))}}};m.on("keydown",function(a){a.keyCode===A.default.ESCAPE&&(d.global.popUntilTopPersistent(),a.preventDefault())});m.on("click",".aui-blanket",function(a){d.global.popUntilTopBlanketed()&&a.preventDefault()});m.on("click",function(a){var b=(0,f.default)(a.target);b.closest(".aui-blanket").length||
(a=b.closest("[aria-controls]"),b=b.closest(".aui-layer"),!b.length&&!v(a)?d.global.hideAll():!v(a)&&b.length&&(a=d.global.getNextHigherNonPeristentAndNonBlanketedLayer(b))&&e(a).hide())});d.global=new d;e.Manager=d;(0,z.default)("layer",e);o.default=e;return o=o["default"]}.call(this);
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-layer-manager', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/layer-manager.js' */
("undefined"===typeof window?global:window).__5530e5d8d41ad2f3690318a3191759ae=function(){var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b=__4d02fe17b8e885a34493e34af3d145dd,b=b&&b.__esModule?b:{"default":b},a=__fe0cd0a7ef176e2ef4e0e105d1ce31f5,a=a&&a.__esModule?a:{"default":a};(0,b.default)("LayerManager",a.default.Manager);c.default=a.default.Manager;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-alignment', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/alignment.js' */
("undefined"===typeof window?global:window).__f420c577506564c314d7d5d82088641c=function(){function j(a,h){var b,c,e;b=a.getAttribute(k)||a.getAttribute("data-aui-"+k)||window;"string"===typeof b&&(b=document.querySelector(b));e=b;b=(a.getAttribute(l)||a.getAttribute("data-aui-"+l)||m).split(" ");c=n(b,2);b=c[0];c=c[1];if(!c||"auto"===c){var d=e;c="left";if(!d||d===window||d===document)d=document.documentElement;d&&(d.nodeType&&d.nodeType===Node.ELEMENT_NODE)&&(d=d.getBoundingClientRect(),h.getBoundingClientRect().left>
d.right/2&&(c="right"))}var d=o[b+" "+c]||o[m],i=a.hasAttribute(p)||a.hasAttribute("data-aui-"+p);e=new q.default({enabled:!1,element:a,target:h,attachment:d.el,targetAttachment:d.target,classPrefix:r,constraints:[{to:e===window?"window":e,attachment:!0===i?"none":"together"}]});b=s+b;c=t+c;-1===(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className+=" "+b);-1===(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className+=" "+c);this._auiTether=e}var f={};"use strict";Object.defineProperty(f,"__esModule",
{value:!0});var n;n=function(a,h){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],c=!0,e=!1,d=void 0;try{for(var i=a[Symbol.iterator](),f;!(c=(f=i.next()).done)&&!(b.push(f.value),h&&b.length===h);c=!0);}catch(g){e=!0,d=g}finally{try{if(!c&&i["return"])i["return"]()}finally{if(e)throw d;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");};var g=__c73084fddb2d02d92156231c79374859,q=g&&g.__esModule?g:{"default":g},l="alignment",p="alignment-static",
k="alignment-container",r="aui-alignment",s="aui-alignment-side-",t="aui-alignment-snap-",m="right middle",o={"top left":{el:"bottom left",target:"top left"},"top center":{el:"bottom center",target:"top center"},"top right":{el:"bottom right",target:"top right"},"right top":{el:"top left",target:"top right"},"right middle":{el:"middle left",target:"middle right"},"right bottom":{el:"bottom left",target:"bottom right"},"bottom left":{el:"top left",target:"bottom left"},"bottom center":{el:"top center",
target:"bottom center"},"bottom right":{el:"top right",target:"bottom right"},"left top":{el:"top right",target:"top left"},"left middle":{el:"middle right",target:"middle left"},"left bottom":{el:"bottom right",target:"bottom left"},"submenu left":{el:"top left",target:"top right"},"submenu right":{el:"top right",target:"top left"}};j.prototype={destroy:function(){this._auiTether.destroy();return this},disable:function(){this._auiTether.disable();return this},enable:function(){this._auiTether.enable();
return this}};f.default=j;return f=f["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-browser', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/browser.js' */
("undefined"===typeof window?global:window).__5e80b2d38fa1ffdd67aa3d521738d499=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.supportsCalc=function(){var a=(0,c.default)('<div style="height: 10px; height: -webkit-calc(20px + 0); height: calc(20px);"></div>'),b=20===a.appendTo(document.documentElement).height();a.remove();return b};a.supportsRequestAnimationFrame=function(){return!!window.requestAnimationFrame};a.supportsVoiceOver=function(){return d};a.supportsNewMouseEvent=
function(){try{new MouseEvent("click")}catch(a){return!1}return!0};var b=__307d3e18fd611f85395c67cddeb1fe24,c=b&&b.__esModule?b:{"default":b},d=/Mac OS X/.test(navigator.userAgent);return a}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-state', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/state.js' */
("undefined"===typeof window?global:window).__fd7d82ce22cd33cac1609667ce8040f9=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(b){return{set:function(a,c){void 0===b._state&&(b._state={});b._state[a]=c},get:function(a){if(b._state)return b._state[a]}}};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-dropdown2', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/dropdown2.js' */
("undefined"===typeof window?global:window).__05701638a79b5b92cc62cfe475ac143b=function(){function v(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b.default=a;return b}function i(a){return a&&a.__esModule?a:{"default":a}}function w(a){return(0,c.default)(a).is('.checked, .aui-dropdown2-checked, [aria-checked="true"]')}function m(a,b){var e=a._triggeringElement||document.querySelector('[aria-controls="'+a.id+'"]');e&&b(e)}function r(a,
b){var e=(0,c.default)(a);b?(e.attr("aria-expanded","true"),e.addClass("active aui-dropdown2-active")):(e.attr("aria-expanded","false"),e.removeClass("active aui-dropdown2-active"))}function x(a){(0,g.default)(a).set("loading-state",y);(0,g.default)(a).set("hasErrorBeenShown",a.isVisible());j.default.wrap(a).innerHTML='\n        <div class="aui-message aui-message-error aui-dropdown-error">\n            <p>'+"Error loading dropdown"+"</p>\n        </div>\n    "}function z(a){if(a.src&&
(0,g.default)(a).get("loading-state")!==A)(0,g.default)(a).set("loading-state",A),(0,g.default)(a).set("hasErrorBeenShown",!1),m(a,function(a){a.setAttribute("aria-busy","true")}),j.default.wrap(a).innerHTML='\n        <div class="aui-dropdown-loading">\n            <span class="spinner"></span> '+"Loading dropdown"+"\n        </div>\n    ",(0,c.default)(a).find(".spinner").spin(),c.default.ajax(a.src).done(function(b,e,h){200===h.status?((0,g.default)(a).set("loading-state",
F),j.default.wrap(a).innerHTML=b.map(function(a){var b=a.items.map(function(a){function b(e){return a[e]?e+' ="true"':""}var e="aui-item-"+a.type;return"\n                <"+e+" "+(a["for"]?'for="'+a["for"]+'"':"")+" "+(a.href?'href="'+a.href+'"':"")+" "+b("interactive")+"\n                    "+b("checked")+" "+b("disabled")+" "+b("hidden")+">\n                    "+a.content+"\n                </"+e+">"}).join("");return"\n            <aui-section "+(a.label?'label="'+a.label+'"':"")+">\n                "+
b+"\n            </aui-section>"}).join("\n"),d.default.init(a)):x(a)}).fail(function(){x(a)}).always(function(){m(a,function(a){a.setAttribute("aria-busy","false")})})}function B(a,b){return(0,c.default)(a).find('> ul > li, > .aui-dropdown2-section > ul > li, > div[role] > .aui-dropdown2-section > div[role="group"] > ul[role] > li[role], aui-item-link, aui-item-checkbox, aui-item-radio').filter(b).children('a, button, [role="checkbox"], [role="menuitemcheckbox"], [role="radio"], [role="menuitemradio"]')}
function q(a){return B(a,function(){return-1===this.className.indexOf("hidden")&&!this.hasAttribute("hidden")})}function C(a){var b=(0,c.default)(a);b.addClass("aui-dropdown2");(0,s.supportsVoiceOver)()&&b.find('> div[role="application"]').attr("role","presentation");a.hasAttribute("data-container")&&(b.attr("data-aui-alignment-container",b.attr("data-container")),b.removeAttr("data-container"));(0,k.default)(a);a.addEventListener("aui-layer-show",function(){(0,c.default)(a).trigger("aui-dropdown2-show");
var b=(0,c.default)(a),h=b.find(".hidden").addClass("aui-dropdown2-hidden"),l=b.find(".disabled").addClass("aui-dropdown2-disabled"),d=b.find(".interactive").addClass("aui-dropdown2-interactive");a._syncClasses=function(){h.removeClass("aui-dropdown2-hidden");l.removeClass("aui-dropdown2-disabled");d.removeClass("aui-dropdown2-interactive")};B(this,function(){return true}).each(function(){var a=(0,c.default)(this);a.attr("tabindex","-1");(a.hasClass("aui-dropdown2-disabled")||a.parent().hasClass("aui-dropdown2-hidden"))&&
a.attr("aria-disabled",true)});m(a,function(b){r(b,true);b=b.getAttribute("data-dropdown2-hide-location");b=document.getElementById(b)||a.parentNode;a._returnTo=b})});a.addEventListener("aui-layer-hide",function(){(0,c.default)(a).trigger("aui-dropdown2-hide");if(a._syncClasses){a._syncClasses();delete a._syncClasses}if(a._auiAlignment){a._auiAlignment.disable();a._auiAlignment.destroy()}a._returnTo&&a.parentNode&&a.parentNode!==a._returnTo&&a._returnTo.appendChild(a);(0,c.default)(a).removeClass("aui-dropdown2-in-buttons");
q(a).removeClass("active aui-dropdown2-active");m(a,function(a){var b=n===true;n=false;if(b){a.focus();r(a,a.hasSubmenu&&a.hasSubmenu())}else r(a,false)});delete a.isSubmenu;a._triggeringElement=null});b=(0,c.default)(a);b.on("keydown",function(b){if(b.keyCode===f.default.DOWN){a.focusNext();b.preventDefault()}else if(b.keyCode===f.default.UP){a.focusPrevious();b.preventDefault()}else if(b.keyCode===f.default.LEFT){if(a.isSubmenu){n=true;a.hide(b);b.preventDefault()}}else if(b.keyCode===f.default.ESCAPE)n=
true;else if(b.keyCode===f.default.TAB){n=true;a.hide(b)}});b.on("click keydown",'a, button, [role="menuitem"], [role="menuitemcheckbox"], [role="checkbox"], [role="menuitemradio"], [role="radio"]',function(b){var h=b.currentTarget,h=(0,c.default)(h),l=b.keyCode,d=l===f.default.ENTER,l=l===f.default.SPACE;if((!d||!h.is("a[href], button"))&&(b.type==="click"||d||l)){h=(0,c.default)(b.currentTarget);if(h.attr("aria-disabled")==="true")b.preventDefault();else if((!b.currentTarget.hasSubmenu||!b.currentTarget.hasSubmenu())&&
!h.is(".aui-dropdown2-interactive")){h=a;do{d=(0,k.default)(h);h=(0,k.default)(h).below();d.$el.is(".aui-dropdown2")&&d.hide(b)}while(h)}}});b.on("mouseenter",'a, button, [role="menuitem"], [role="menuitemcheckbox"], [role="checkbox"], [role="menuitemradio"], [role="radio"]',function(b){var c=b.currentTarget,c=c.hasSubmenu&&c.hasSubmenu();if(!b.isDefaultPrevented()&&!c)(b=(0,k.default)(a).above())&&(0,k.default)(b).hide()});a.hide();(0,c.default)(a).delegate(".aui-dropdown2-checkbox:not(.disabled):not(.aui-dropdown2-disabled)",
"click keydown",function(a){if((a.type==="click"||a.keyCode===f.default.ENTER||a.keyCode===f.default.SPACE)&&!a.isDefaultPrevented()){this.isInteractive()&&a.preventDefault();this.isEnabled()&&(this.isChecked()?this.uncheck():this.check())}});(0,c.default)(a).delegate(".aui-dropdown2-radio:not(.checked):not(.aui-dropdown2-checked):not(.disabled):not(.aui-dropdown2-disabled)","click keydown",function(a){if((a.type==="click"||a.keyCode===f.default.ENTER||a.keyCode===f.default.SPACE)&&!a.isDefaultPrevented()){this.isInteractive()&&
a.preventDefault();a=(0,c.default)(this);if(this.isEnabled()&&this.isChecked()===false){a.closest("ul,[role=group]").find(".aui-dropdown2-checked").not(this).each(function(){this.uncheck()});this.check()}}})}"use strict";__d74c881c8f23921c15438d0f30c99f80;var c=i(__307d3e18fd611f85395c67cddeb1fe24),j=i(__f52b7059926ab2bdcd0aee12b4bc782b),G=v(__c8cfa00f1eba9ac7af89ee3d0d33961d),H=v(__cf890abdf040e0993fb71f2f839bc972),o=__c6e18cf9266fe56d02f78a6e812f58db,s=__5e80b2d38fa1ffdd67aa3d521738d499,I=i(__f420c577506564c314d7d5d82088641c),
D=i(__5a18a90cc502f556e87c4181f8a6b4ab),f=i(__509557c937caa8763def39004fcf3193),k=i(__fe0cd0a7ef176e2ef4e0e105d1ce31f5),g=i(__fd7d82ce22cd33cac1609667ce8040f9),d=i(__c1ce1f1e3e613f564fc234ff043570f1),A="loading",y="error",F="success";(0,d.default)("aui-dropdown2-trigger",{type:d.default.type.CLASSNAME,created:function(a){function b(b){b.preventDefault();if(a.isEnabled()){var d=document.getElementById(e),f=(0,c.default)(a);f.parent().hasClass("aui-buttons")&&d.classList.add("aui-dropdown2-in-buttons");
f.parents().hasClass("aui-header")&&d.classList.add("aui-dropdown2-in-header");d.toggle(b);d.isSubmenu=a.hasSubmenu();return d}}var e=a.getAttribute("aria-controls");e||((e=a.getAttribute("aria-owns"))?(a.removeAttribute("aria-owns"),a.setAttribute("aria-controls",e)):H.error('Dropdown triggers need either a "aria-owns" or "aria-controls" attribute'));a.setAttribute("aria-haspopup",!0);a.setAttribute("aria-expanded",!1);"A"===a.nodeName&&!a.href&&a.setAttribute("href","#"+e);(0,c.default)(a).on("aui-button-invoke",
b).on("click",b).on("keydown",function(c){var e=c.keyCode===f.default.ENTER||c.keyCode===f.default.SPACE,d=c.keyCode===f.default.RIGHT&&a.hasSubmenu(),g=(c.keyCode===f.default.UP||c.keyCode===f.default.DOWN)&&!a.hasSubmenu();if(e||d||g)(c=b(c))&&c.focusItem(0)}).on("mouseenter",function(b){b.preventDefault();if(a.isEnabled()){var c=document.getElementById(e),d=(0,g.default)(c).get("loading-state")==="unloaded",f=(0,g.default)(c).get("hasErrorBeenShown");(d||f&&!c.isVisible())&&z(c);if(a.hasSubmenu()){c.show(b);
c.isSubmenu=a.hasSubmenu()}return c}})},prototype:{disable:function(){this.setAttribute("aria-disabled","true")},enable:function(){this.setAttribute("aria-disabled","false")},isEnabled:function(){return"true"!==this.getAttribute("aria-disabled")},hasSubmenu:function(){return-1!==(this.className||"").split(/\s+/).indexOf("aui-dropdown2-sub-trigger")}}});(0,c.default)(document).on("mousedown",".aui-dropdown2-trigger",function(){this.hasAttribute("resolved")||(d.default.init(this),G.getMessageLogger("Dropdown2 lazy initialisation",
{removeInVersion:"6.0.0",alternativeName:"initialisation on DOM insertion",sinceVersion:"5.8.0",extraInfo:"Dropdown2 triggers should have all necessary attributes on DOM insertion",deprecationType:"JS"})())});(0,d.default)("aui-dropdown2-sub-trigger",{type:d.default.type.CLASSNAME,created:function(a){a.className+=" aui-dropdown2-trigger";d.default.init(a)}});(0,c.default)(document).on("mouseenter",".aui-dropdown2-trigger-group a, .aui-dropdown2-trigger-group button",function(a){var b=(0,c.default)(a.currentTarget);
if(!b.is(".aui-dropdown2-active")&&!b.closest(".aui-dropdown2").size()){var d=b.closest(".aui-dropdown2-trigger-group"),h=d.find(".aui-dropdown2-active");h.size()&&b.is(".aui-dropdown2-trigger")&&(h.blur(),b.trigger("aui-button-invoke"),a.preventDefault());a=d.find(":focus");a.size()&&b.is(".aui-dropdown2-trigger")&&a.blur()}});var n=!1;(0,c.default)(window).on("resize",(0,o.debounceImmediate)(function(){(0,c.default)(".aui-dropdown2").each(function(a,b){d.default.init(b);b.isVisible()&&b.hide()})},
1E3));var o={toggle:function(a){this.isVisible()?this.hide(a):this.show(a)},show:function(a){a&&(a.currentTarget&&a.currentTarget.classList.contains("aui-dropdown2-trigger"))&&(this._triggeringElement=a.currentTarget);(0,k.default)(this).show();var b=this;m(b,function(a){var d=a&&a.hasSubmenu&&a.hasSubmenu(),f=b.getAttribute("data-aui-alignment")==="submenu auto";if(!d&&f){var g=(0,c.default)(b),i=g.data("previous-data-aui-alignment");i?b.setAttribute("data-aui-alignment",i):b.removeAttribute("data-aui-alignment");
g.removeData("previous-data-aui-alignment");g.data("had-data-aui-alignment-static")||b.removeAttribute("data-aui-alignment-static");g.removeData("had-data-aui-alignment-static")}g=b.hasAttribute("data-aui-alignment");if(d&&!f){d=(0,c.default)(b);b.hasAttribute("data-aui-alignment")&&d.data("previous-data-aui-alignment",b.getAttribute("data-aui-alignment"));d.data("had-data-aui-alignment-static",b.hasAttribute("data-aui-alignment-static"));b.setAttribute("data-aui-alignment","submenu auto");b.setAttribute("data-aui-alignment-static",
true)}else if(!g){b.setAttribute("data-aui-alignment","bottom auto");b.setAttribute("data-aui-alignment-static",true)}b._auiAlignment&&b._auiAlignment.destroy();b._auiAlignment=new I.default(b,a);b._auiAlignment.enable()});return this},hide:function(){(0,k.default)(this).hide();return this},focusNext:function(){var a=q(this),b=document.activeElement;a.last()[0]!==b&&(b=a.toArray().indexOf(b),this.focusItem(a.get(b+1)))},focusPrevious:function(){var a=q(this),b=document.activeElement;a.first()[0]!==
b&&(b=a.toArray().indexOf(b),this.focusItem(a.get(b-1)))},focusItem:function(a){var b=q(this);"number"===typeof a&&(a=b.get(a));a=(0,c.default)(a);a.focus();b.removeClass("active aui-dropdown2-active");a.addClass("active aui-dropdown2-active")},isVisible:function(){return(0,k.default)(this).isVisible()}},p={created:function(a){a=a.children[0];a.setAttribute("aria-disabled","true");a.className+=" aui-dropdown2-disabled"},removed:function(a){a=a.children[0];a.setAttribute("aria-disabled","false");(0,
c.default)(a).removeClass("aui-dropdown2-disabled")}},t={created:function(a){a.children[0].className+=" aui-dropdown2-interactive"},removed:function(a){a=a.children[0];(0,c.default)(a).removeClass("aui-dropdown2-interactive")}},E={created:function(a){var b=a.children[0];(0,c.default)(b).addClass("checked aui-dropdown2-checked");b.setAttribute("aria-checked",!0);a.dispatchEvent(new D.default("change",{bubbles:!0}))},removed:function(a){var b=a.children[0];(0,c.default)(b).removeClass("checked aui-dropdown2-checked");
b.setAttribute("aria-checked",!1);a.dispatchEvent(new D.default("change",{bubbles:!0}))}},u={created:function(a){p.created(a)},removed:function(a){p.removed(a)}};(0,d.default)("aui-item-link",{template:(0,j.default)('<a role="menuitem" tabindex="-1"><content></content></a>'),attributes:{disabled:p,interactive:t,hidden:u,href:{created:function(a,b){a.children[0].setAttribute("href",b.newValue)},updated:function(a,b){a.children[0].setAttribute("href",b.newValue)},removed:function(a){a.children[0].removeAttribute("href")}},
"for":{created:function(a){var b=a.children[0];b.setAttribute("aria-controls",a.getAttribute("for"));(0,c.default)(b).addClass("aui-dropdown2-sub-trigger")},updated:function(a){a.children[0].setAttribute("aria-controls",a.getAttribute("for"))},removed:function(a){a=a.children[0];a.removeAttribute("aria-controls");(0,c.default)(a).removeClass("aui-dropdown2-sub-trigger")}}}});(0,d.default)("aui-item-checkbox",{template:(0,j.default)('<span role="checkbox" class="aui-dropdown2-checkbox" tabindex="-1"><content></content></span>'),
attributes:{disabled:p,interactive:t,checked:E,hidden:u}});(0,d.default)("aui-item-radio",{template:(0,j.default)('<span role="radio" class="aui-dropdown2-radio" tabindex="-1"><content></content></span>'),attributes:{disabled:p,interactive:t,checked:E,hidden:u}});(0,d.default)("aui-section",{template:(0,j.default)('\n        <strong aria-role="presentation" class="aui-dropdown2-heading"></strong>\n        <div role="group">\n            <content></content>\n        </div>\n    '),attributes:{label:function(a,
b){var c=a.children[1];a.children[0].textContent=b.newValue;c.setAttribute("aria-label",b.newValue)}},created:function(a){a.className+=" aui-dropdown2-section";a.setAttribute("role","presentation")}});(0,d.default)("aui-dropdown-menu",{template:(0,j.default)('\n        <div role="application">\n            <content></content>\n        </div>\n    '),created:function(a){a.setAttribute("role","menu");a.className="aui-dropdown2 aui-style-default aui-layer";(0,g.default)(a).set("loading-state","unloaded");
d.default.init(a)},attributes:{src:{}},prototype:o,events:{"aui-layer-show":function(a){var b="unloaded"===(0,g.default)(a).get("loading-state"),c=(0,g.default)(a).get("hasErrorBeenShown");(b||c)&&z(a);if((0,g.default)(a).get("loading-state")===y)(0,g.default)(a).set("hasErrorBeenShown",!0)}}});(0,d.default)("aui-dropdown2",{type:d.default.type.CLASSNAME,created:C,prototype:o});(0,d.default)("data-aui-dropdown2",{type:d.default.type.ATTRIBUTE,created:C,prototype:o});(0,d.default)("aui-dropdown2-checkbox",
{type:d.default.type.CLASSNAME,created:function(a){var b=w(a);b&&(0,c.default)(a).addClass("checked aui-dropdown2-checked");a.setAttribute("aria-checked",b);a.setAttribute("tabindex","0");(0,s.supportsVoiceOver)()&&a.setAttribute("role","checkbox")},prototype:{isEnabled:function(){return!(null!==this.getAttribute("aria-disabled")&&"true"===this.getAttribute("aria-disabled"))},isChecked:function(){return null!==this.getAttribute("aria-checked")&&"true"===this.getAttribute("aria-checked")},isInteractive:function(){return(0,
c.default)(this).hasClass("aui-dropdown2-interactive")},uncheck:function(){"aui-item-checkbox"===this.parentNode.tagName.toLowerCase()&&this.parentNode.removeAttribute("checked");this.setAttribute("aria-checked","false");(0,c.default)(this).removeClass("checked aui-dropdown2-checked");(0,c.default)(this).trigger("aui-dropdown2-item-uncheck")},check:function(){"aui-item-checkbox"===this.parentNode.tagName.toLowerCase()&&this.parentNode.setAttribute("checked","");this.setAttribute("aria-checked","true");
(0,c.default)(this).addClass("checked aui-dropdown2-checked");(0,c.default)(this).trigger("aui-dropdown2-item-check")}}});(0,d.default)("aui-dropdown2-radio",{type:d.default.type.CLASSNAME,created:function(a){var b=w(a);b&&(0,c.default)(a).addClass("checked aui-dropdown2-checked");a.setAttribute("aria-checked",b);a.setAttribute("tabindex","0");(0,s.supportsVoiceOver)()&&a.setAttribute("role","radio")},prototype:{isEnabled:function(){return!(null!==this.getAttribute("aria-disabled")&&"true"===this.getAttribute("aria-disabled"))},
isChecked:function(){return null!==this.getAttribute("aria-checked")&&"true"===this.getAttribute("aria-checked")},isInteractive:function(){return(0,c.default)(this).hasClass("aui-dropdown2-interactive")},uncheck:function(){"aui-item-radio"===this.parentNode.tagName.toLowerCase()&&this.parentNode.removeAttribute("checked");this.setAttribute("aria-checked","false");(0,c.default)(this).removeClass("checked aui-dropdown2-checked");(0,c.default)(this).trigger("aui-dropdown2-item-uncheck")},check:function(){"aui-item-radio"===
this.parentNode.tagName.toLowerCase()&&this.parentNode.setAttribute("checked","");this.setAttribute("aria-checked","true");(0,c.default)(this).addClass("checked aui-dropdown2-checked");(0,c.default)(this).trigger("aui-dropdown2-item-check")}}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-fancy-file-input-2.0.1-dist-fancy-file-input', location = 'auiplugin/node_modules/fancy-file-input/dist/fancy-file-input.js' */
("undefined"===typeof window?global:window).__e978d2e4e1d10e62ed13103fb5b406fc=function(){var f={exports:{}},g=f.exports,m={module:f,exports:g,jquery:__307d3e18fd611f85395c67cddeb1fe24,jquery:__307d3e18fd611f85395c67cddeb1fe24},d;d=function(b,a,j){var d=("undefined"===typeof window?global:window).define,c,e,j=[j,a,b].filter(function(a){return"function"===typeof a})[0],a=[a,b,[]].filter(Array.isArray)[0];c=j.apply(null,a.map(function(a){return m[a]}));e=typeof c;"function"===typeof d&&d("string"===
typeof b?b:"__e978d2e4e1d10e62ed13103fb5b406fc",a,j);"string"===e?c=String(c):"number"===e?c=Number(c):"boolean"===e&&(c=Boolean(c));void 0!==c&&(g=f.exports=c)};d.amd=!0;var l=this,i=function(b){function a(k,h){var c=b(k).data("FancyFileInput");if(c)return c;h=b.extend({},a.defaults,h);this.el=k;this.$el=b(k);this.$label=this.createLabel(h.buttonText);this._addLabelText();this.$clearButton=b("<button>",{text:this.$label.attr("data-ffi-clearButtonText")||h.clearButtonText,"class":"ffi-clear",type:"button",
tabindex:"-1"});this.multipleFileTextPattern=this.$label.attr("data-ffi-multipleFileTextPattern")||h.multipleFileTextPattern;this._eventNamespace=".ffi";this.CLASSES={disabled:"is-disabled",focused:"is-focused",active:"is-active",valid:"is-valid",invalid:"is-invalid"};this[this.isDisabled()?"disable":"enable"]();this.isFocused=!1}var d=/^.*[\\\/]/,f=/\{0\}/gi,c,e=3,g=document.createElement("div"),i=g.getElementsByTagName("i");do g.innerHTML="<\!--[if gt IE "+ ++e+"]><i></i><![endif]--\>";while(i[0]);
c=4<e?e:document.documentMode;a.defaults={buttonText:"Browse\u2026",clearButtonText:"Clear",multipleFileTextPattern:"{0} files"};a.prototype._addLabelText=function(){var a=b('label[for="'+this.el.id+'"]');a.length&&this.$el.attr("aria-label",a.text())};a.prototype.createLabel=function(a){var c=this.$el.parent(".ffi[data-ffi-button-text]");c.length||(c=this.$el.wrap(b("<label>",{"class":"ffi","data-ffi-button-text":a})).parent());return c};a.prototype.isDisabled=function(){return this.$el.is(":disabled")};
a.prototype.formatMultipleFileText=function(a){return this.multipleFileTextPattern.replace(f,a)};a.prototype.bindEvents=function(){this.$el.on("invalid"+this._eventNamespace,b.proxy(this.checkValidity,this)).on("change"+this._eventNamespace,b.proxy(this.change,this)).on("keydown"+this._eventNamespace,b.proxy(this.keydown,this)).on("mousedown"+this._eventNamespace,b.proxy(this.mousedown,this)).on("mouseup"+this._eventNamespace,b.proxy(this.mouseup,this)).on("focus"+this._eventNamespace,b.proxy(this.focus,
this)).on("blur"+this._eventNamespace,b.proxy(this.blur,this));this.$clearButton.on("click"+this._eventNamespace,b.proxy(this.clear,this))};a.prototype.unbindEvents=function(){this.$el.off(this._eventNamespace);this.$clearButton.off(this._eventNamespace)};a.prototype.fireEvent=function(a){this.$el.trigger(a+this._eventNamespace)};a.prototype.enable=function(){this.bindEvents();this.$el.prop("disabled",!1);this.$label.removeClass(this.CLASSES.disabled)};a.prototype.disable=function(){this.unbindEvents();
this.$el.prop("disabled",!0);this.$label.addClass(this.CLASSES.disabled)};a.prototype.clear=function(){this.$el.wrap("<form>").closest("form").get(0).reset();this.$el.unwrap();this.el.value="";this.change();return!1};a.prototype.focus=function(){var a=this;this.$label.addClass(this.CLASSES.focused);c&&!this.isFocused&&(this.isFocused=!0,setTimeout(function(){a.$el.blur();a.$el.focus()},0))};a.prototype.blur=function(){if(!c||!this.isFocused)this.$label.removeClass(this.CLASSES.focused),this.isFocused=
!1};a.prototype.mousedown=function(){this.$label.addClass(this.CLASSES.active)};a.prototype.mouseup=function(){this.$label.removeClass(this.CLASSES.active)};a.prototype.keydown=function(a){var b=a.which;if(8===b||46===b)this.clear(),a.preventDefault();if(c&&9===b){var d=this;this.isFocused=!1;this.$el.prop("disabled",!0);setTimeout(function(){d.$el.prop("disabled",!1).blur()},0)}};a.prototype.checkValidity=function(){if(this.el.required){var a=this.$el.is(":invalid");this.$label.toggleClass(this.CLASSES.invalid,
a).toggleClass(this.CLASSES.valid,!a)}};a.prototype.change=function(){var a,b="";this.checkValidity();a=this.el.multiple&&1<this.el.files.length?this.formatMultipleFileText(this.el.files.length):this.el.value;a.length?(b=a.replace(d,""),this.$clearButton.appendTo(this.$label)):this.$clearButton.detach();this.$el.focus();this.setFieldText(b);this.fireEvent("value-changed")};a.prototype.setFieldText=function(a){a.length?(this.$label.attr("data-ffi-value",a),this.fireEvent("value-added")):(this.$label.removeAttr("data-ffi-value"),
this.fireEvent("value-cleared"))};b.fn.fancyFileInput=function(c){return this.each(function(){var d=new a(this,c);b(this).data("FancyFileInput",d)})};return a};"function"===typeof d&&d.amd?d(["jquery"],function(b){return l.FancyFileInput=i(b)}):"object"===typeof g?f.exports=i(__307d3e18fd611f85395c67cddeb1fe24):l.FancyFileInput=i(jQuery);return f.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-fancy-file-input', location = 'auiplugin/src/js/aui/fancy-file-input.js' */
("undefined"===typeof window?global:window).__84e1fe9bfd01961fdb8386c0cdd32066=function(){var a={};Object.defineProperty(a,"__esModule",{value:!0});var b=__e978d2e4e1d10e62ed13103fb5b406fc;a.default=(b&&b.__esModule?b:{"default":b}).default;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:hotkeys', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.hotkeys.js' */
("undefined"===typeof window?global:window).__9d8814c2d651791325671e2fd4ff2ade=function(){var a=jQuery,c=function(a){this.num=0;this.timer=0<a?a:!1},k=function(h){if(a.isPlainObject(h.data)||a.isArray(h.data)||"string"===typeof h.data){var i=h.handler,g={timer:700,combo:[]},b=h.data;"string"===typeof b?g.combo=[b]:a.isArray(b)?g.combo=b:a.extend(g,b);g.combo=a.map(g.combo,function(a){return a.toLowerCase()});h.index=new c(g.timer);h.handler=function(e){if(!(this!==e.target&&/textarea|select|input/i.test(e.target.nodeName))){var d=
"keypress"!==e.type?a.hotkeys.specialKeys[e.which]:null,b=String.fromCharCode(e.which).toLowerCase(),f="",c={};e.altKey&&"alt"!==d&&(f+="alt+");e.ctrlKey&&"ctrl"!==d&&(f+="ctrl+");e.metaKey&&(!e.ctrlKey&&"meta"!==d)&&(f+="meta+");e.shiftKey&&"shift"!==d&&(f+="shift+");e.metaKey&&"["===b&&(b=null);d&&(c[f+d]=!0);b&&(c[f+b]=!0);/shift+/.test(f)&&(c[f.replace("shift+","")+a.hotkeys.shiftNums[d||b]]=!0);d=h.index;b=g.combo;if(j(b[d.val()],c)){if(d.val()===b.length-1)return d.reset(),i.apply(this,arguments);
d.inc()}else d.reset(),j(b[0],c)&&d.inc()}}}},j=function(a,c){for(var g=a.split(" "),b=0,e=g.length;b<e;b++)if(c[g[b]])return!0;return!1};a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",
111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta",219:"[",221:"]"},keypressKeys:["<",">","?"],shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}};a.each(a.hotkeys.keypressKeys,function(c,i){a.hotkeys.shiftNums[i]=i});c.prototype.val=function(){return this.num};c.prototype.inc=
function(){this.timer&&(clearTimeout(this.timeout),this.timeout=setTimeout(a.proxy(c.prototype.reset,this),this.timer));this.num++};c.prototype.reset=function(){this.timer&&clearTimeout(this.timeout);this.num=0};a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:k}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-event', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/event.js' */
("undefined"===typeof window?global:window).__bf6c7c62de0eb613e0ab12d56d9a6197=function(){function g(a,b,c){try{return"function"===typeof c?(0,f.default)(window).bind(a,b,c):(0,f.default)(window).bind(a,b)}catch(e){d.log("error while binding: "+e.message)}}function h(a,b){try{return(0,f.default)(window).unbind(a,b)}catch(c){d.log("error while unbinding: "+c.message)}}function i(a,b){try{return(0,f.default)(window).trigger(a,b)}catch(c){d.log("error while triggering: "+c.message)}}var c={};"use strict";
Object.defineProperty(c,"__esModule",{value:!0});c.trigger=c.unbind=c.bind=void 0;var a=__307d3e18fd611f85395c67cddeb1fe24,f=a&&a.__esModule?a:{"default":a},d;if((a=__cf890abdf040e0993fb71f2f839bc972)&&a.__esModule)d=a;else{var e={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b]);e.default=a;d=e}b=(b=__4d02fe17b8e885a34493e34af3d145dd)&&b.__esModule?b:{"default":b};(0,b.default)("bind",g);(0,b.default)("trigger",i);(0,b.default)("unbind",h);c.bind=g;c.unbind=h;c.trigger=
i;return c}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-dialog', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/dialog.js' */
("undefined"==typeof window?global:window).__8eca5e5171c0c22be18ea931ed65c747=function(){var t={},e=t;Object.defineProperty(e,"__esModule",{value:!0}),e.popup=e.Dialog=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=c(__307d3e18fd611f85395c67cddeb1fe24),o=r(__cf890abdf040e0993fb71f2f839bc972),a=r(__c8cfa00f1eba9ac7af89ee3d0d33961d),h=__bf6c7c62de0eb613e0ab12d56d9a6197,s=__594942bfcf520d6e5a0843b1cfdd039a,p=__05b42b82bab2942063ea875333a900bb,u=c(__fd277fcde858b82a198666a405e85600),l=c(__4d02fe17b8e885a34493e34af3d145dd);const d=c(__1c9e0b237fd336437964bc9b6dfa74ba);function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function g(t){var e={width:800,height:600,closeOnOutsideClick:!1,keypressListener:function(t){27===t.keyCode&&o.is(":visible")&&c.hide()}};"object"!=(void 0===t?"undefined":i(t))&&(t={width:arguments[0],height:arguments[1],id:arguments[2]},t=n.default.extend({},t,arguments[3])),t=n.default.extend({},e,t);var o=(0,u.default)("div").addClass("aui-popup");t.id&&o.attr("id",t.id);var a=3e3;(0,n.default)(".aui-dialog").each((function(){var t=(0,n.default)(this);a=t.css("z-index")>a?t.css("z-index"):a}));var h=function e(i,n){return t.width=i=i||t.width,t.height=n=n||t.height,o.css({marginTop:-Math.round(n/2)+"px",marginLeft:-Math.round(i/2)+"px",width:i,height:n,"z-index":parseInt(a,10)+2}),e}(t.width,t.height);(0,n.default)("body").append(o),o.hide(),(0,p.enable)(o);var l=(0,n.default)(".aui-blanket"),r=function(t,e){var i=(0,n.default)(t,e);return!!i.length&&(i.focus(),!0)},c={changeSize:function(e,i){(e&&e!=t.width||i&&i!=t.height)&&h(e,i),this.show()},show:function(){var e=function(){(0,n.default)(document).off("keydown",t.keypressListener).on("keydown",t.keypressListener),(0,s.dim)(),0!=(l=(0,n.default)(".aui-blanket")).size()&&t.closeOnOutsideClick&&l.click((function(){o.is(":visible")&&c.hide()})),o.show(),g.current=this,function(e){if(0===(0,n.default)(".dialog-page-body",e).find(":focus").length){if(t.focusSelector)return r(t.focusSelector,e);var i=":input:visible:enabled:first";r(i,(0,n.default)(".dialog-page-body",e))||r(i,(0,n.default)(".dialog-button-panel",e))||r(i,(0,n.default)(".dialog-page-menu",e))}}(o),(0,n.default)(document).trigger("showLayer",["popup",this])};e.call(this),function(t){if(t){const e=t.attr("id"),i=`${e}-label`,n=`${e}-description`;t.find(".dialog-panel-body").attr({id:n}),t.find(".dialog-title").attr({id:i}),t.attr({role:"dialog","aria-modal":!0,"aria-labelledby":i,"aria-describedby":n,tabindex:-1}),t.find(".button-panel-cancel-link").attr("role","button")}}(this.element),d.default.global.enter(this.element),this.show=e},hide:function(){(0,n.default)(document).unbind("keydown",t.keypressListener),l.unbind(),this.element.hide(),0==(0,n.default)(".aui-dialog:visible").size()&&(0,s.undim)();var e=document.activeElement;this.element.has(e).length&&e.blur(),(0,n.default)(document).trigger("hideLayer",["popup",this]),g.current=null,this.enable(),d.default.global.exit(this.element)},element:o,remove:function(){o.remove(),this.element=null},disable:function(){this.disabled||(this.popupBlanket=(0,n.default)("<div class='dialog-blanket'> </div>").css({height:o.height(),width:o.width()}),o.append(this.popupBlanket),this.disabled=!0)},enable:function(){this.disabled&&(this.disabled=!1,this.popupBlanket.remove(),this.popupBlanket=null)}};return c}var f=function(){function t(t,e,i,n){t.buttonpanel||t.addButtonPanel(),this.page=t,this.onclick=i,this._onclick=function(e){return!0===i.call(this,t.dialog,t,e)},this.item=(0,u.default)("button",e).addClass("button-panel-button"),n&&this.item.addClass(n),"function"==typeof i&&this.item.click(this._onclick),t.buttonpanel.append(this.item),this.id=t.button.length,t.button[this.id]=this}function e(t,e,i,n,o){t.buttonpanel||t.addButtonPanel(),o||(o="#"),this.page=t,this.onclick=i,this._onclick=function(e){return!0===i.call(this,t.dialog,t,e)},this.item=(0,u.default)("a",e).attr("href",o).addClass("button-panel-link"),n&&this.item.addClass(n),"function"==typeof i&&this.item.click(this._onclick),t.buttonpanel.append(this.item),this.id=t.button.length,t.button[this.id]=this}function i(t,e){var i="left"==t?-1:1;return function(t){var n=this.page[e];if(this.id!=(1==i?n.length-1:0)){i*=t||1,n[this.id+i].item[i<0?"before":"after"](this.item),n.splice(this.id,1),n.splice(this.id+i,0,this);for(var o=0,a=n.length;o<a;o++)"panel"==e&&this.page.curtab==n[o].id&&(this.page.curtab=o),n[o].id=o}return this}}function a(t){return function(){this.page[t].splice(this.id,1);for(var e=0,i=this.page[t].length;e<i;e++)this.page[t][e].id=e;this.item.remove()}}t.prototype.moveUp=t.prototype.moveLeft=i("left","button"),t.prototype.moveDown=t.prototype.moveRight=i("right","button"),t.prototype.remove=a("button"),t.prototype.html=function(t){return this.item.html(t)},t.prototype.onclick=function(t){if(void 0===t)return this.onclick;this.item.unbind("click",this._onclick),this._onclick=function(e){return!0===t.call(this,page.dialog,page,e)},"function"==typeof t&&this.item.click(this._onclick)};var s=function(t,e,i,a,h){i instanceof n.default||(i=(0,n.default)(i)),this.dialog=t.dialog,this.page=t,this.id=t.panel.length,this.button=(0,u.default)("button").html(e).addClass("item-button"),h&&(this.button[0].id=h),this.item=(0,u.default)("li").append(this.button).addClass("page-menu-item"),this.body=(0,u.default)("div").append(i).addClass("dialog-panel-body").css("height",t.dialog.height+"px"),this.padding=20,a&&this.body.addClass(a);var s=t.panel.length,p=this;t.menu.append(this.item),t.body.append(this.body),t.panel[s]=this;var l=function(){var e;t.curtab+1&&((e=t.panel[t.curtab]).body.hide(),e.item.removeClass("selected"),"function"==typeof e.onblur&&e.onblur()),t.curtab=p.id,p.body.show(),p.item.addClass("selected"),"function"==typeof p.onselect&&p.onselect(),"function"==typeof t.ontabchange&&t.ontabchange(p,e)};this.button.click?this.button.click(l):(o.log("atlassian-dialog:Panel:constructor - this.button.click false"),this.button.onclick=l),l(),0==s?t.menu.css("display","none"):t.menu.show()};s.prototype.select=function(){this.button.click()},s.prototype.moveUp=s.prototype.moveLeft=i("left","panel"),s.prototype.moveDown=s.prototype.moveRight=i("right","panel"),s.prototype.remove=a("panel"),s.prototype.html=function(t){return t?(this.body.html(t),this):this.body.html()},s.prototype.setPadding=function(t){return isNaN(+t)||(this.body.css("padding",+t),this.padding=+t,this.page.recalcSize()),this};var p=function(t,e){this.dialog=t,this.id=t.page.length,this.element=(0,u.default)("div").addClass("dialog-components"),this.body=(0,u.default)("div").addClass("dialog-page-body"),this.menu=(0,u.default)("ul").addClass("dialog-page-menu").css("height",t.height+"px"),this.body.append(this.menu),this.curtab,this.panel=[],this.button=[],e&&this.body.addClass(e),t.popup.element.append(this.element.append(this.menu).append(this.body)),t.page[t.page.length]=this};function l(t,e,i){var o={};+t||(t=(o=Object(t)).width,e=o.height,i=o.id),this.height=e||480,this.width=t||640,this.id=i,o=n.default.extend({},o,{width:this.width,height:this.height,id:this.id}),this.popup=g(o),this.popup.element.addClass("aui-dialog"),this.page=[],this.curpage=0,new p(this)}return p.prototype.recalcSize=function(){for(var t=this.header?56:0,e=this.buttonpanel?51:0,i=this.panel.length;i--;){var n=this.dialog.height-t-e;this.panel[i].body.css("height",n),this.menu.css("height",n)}},p.prototype.addButtonPanel=function(){this.buttonpanel=(0,u.default)("div").addClass("dialog-button-panel"),this.element.append(this.buttonpanel)},p.prototype.addPanel=function(t,e,i,n){return new s(this,t,e,i,n),this.recalcSize(),this},p.prototype.addHeader=function(t,e){return this.header&&this.header.remove(),this.header=(0,u.default)("h2").text(t||"").addClass("dialog-title"),e&&this.header.addClass(e),this.element.prepend(this.header),this.recalcSize(),this},p.prototype.addButton=function(e,i,n){return new t(this,e,i,n),this.recalcSize(),this},p.prototype.addLink=function(t,i,n,o){return new e(this,t,i,n,o),this.recalcSize(),this},p.prototype.gotoPanel=function(t){this.panel[t.id||t].select()},p.prototype.getCurrentPanel=function(){return this.panel[this.curtab]},p.prototype.hide=function(){this.element.hide()},p.prototype.show=function(){this.element.show()},p.prototype.remove=function(){this.element.remove()},l.prototype.addHeader=function(t,e){return this.page[this.curpage].addHeader(t,e),this},l.prototype.addButton=function(t,e,i){return this.page[this.curpage].addButton(t,e,i),this},l.prototype.addLink=function(t,e,i,n){return this.page[this.curpage].addLink(t,e,i,n),this},l.prototype.addSubmit=function(t,e){return this.page[this.curpage].addButton(t,e,"button-panel-submit-button"),this},l.prototype.addCancel=function(t,e){return this.page[this.curpage].addLink(t,e,"button-panel-cancel-link"),this},l.prototype.addButtonPanel=function(){return this.page[this.curpage].addButtonPanel(),this},l.prototype.addPanel=function(t,e,i,n){return this.page[this.curpage].addPanel(t,e,i,n),this},l.prototype.addPage=function(t){return new p(this,t),this.page[this.curpage].hide(),this.curpage=this.page.length-1,this},l.prototype.nextPage=function(){return this.page[this.curpage++].hide(),this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},l.prototype.prevPage=function(){return this.page[this.curpage--].hide(),this.curpage<0&&(this.curpage=this.page.length-1),this.page[this.curpage].show(),this},l.prototype.gotoPage=function(t){return this.page[this.curpage].hide(),this.curpage=t,this.curpage<0?this.curpage=this.page.length-1:this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},l.prototype.getPanel=function(t,e){var i=null==e?this.curpage:t;return null==e&&(e=t),this.page[i].panel[e]},l.prototype.getPage=function(t){return this.page[t]},l.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()},l.prototype.gotoPanel=function(t,e){if(null!=e){var i=t.id||t;this.gotoPage(i)}this.page[this.curpage].gotoPanel(void 0===e?t:e)},l.prototype.show=function(){return this.popup.show(),(0,h.trigger)("show.dialog",{dialog:this}),this},l.prototype.hide=function(){return this.popup.hide(),(0,h.trigger)("hide.dialog",{dialog:this}),this},l.prototype.remove=function(){this.popup.hide(),this.popup.remove(),(0,h.trigger)("remove.dialog",{dialog:this})},l.prototype.disable=function(){return this.popup.disable(),this},l.prototype.enable=function(){return this.popup.enable(),this},l.prototype.get=function(t){var e=[],i=this,n='#([^"][^ ]*|"[^"]*")',o="(?:(page|panel|button|header)(?:"+n+"|:(\\d+))?|"+n+")",a=new RegExp("(?:^|,)\\s*"+o+"(?:\\s+"+o+")?\\s*(?=,|$)","ig");(t+"").replace(a,(function(t,n,o,a,h,s,p,u,l){var d=[];if("page"==(n=n&&n.toLowerCase())&&i.page[a]?(d.push(i.page[a]),n=(n=s)&&n.toLowerCase(),o=p,a=u,h=l):d=i.page,o=o&&(o+"").replace(/"/g,""),p=p&&(p+"").replace(/"/g,""),h=h&&(h+"").replace(/"/g,""),l=l&&(l+"").replace(/"/g,""),n||h)for(var r=d.length;r--;){if(h||"panel"==n&&(o||!o&&null==a))for(var c=d[r].panel.length;c--;)(d[r].panel[c].button.html()==h||d[r].panel[c].button.html()==o||"panel"==n&&!o&&null==a)&&e.push(d[r].panel[c]);if(h||"button"==n&&(o||!o&&null==a))for(c=d[r].button.length;c--;)(d[r].button[c].item.html()==h||d[r].button[c].item.html()==o||"button"==n&&!o&&null==a)&&e.push(d[r].button[c]);d[r][n]&&d[r][n][a]&&e.push(d[r][n][a]),"header"==n&&d[r].header&&e.push(d[r].header)}else e=e.concat(d)}));for(var h={length:e.length},s=e.length;s--;)for(var p in h[s]=e[s],e[s])p in h||function(t){h[t]=function(){for(var e=this.length;e--;)"function"==typeof this[e][t]&&this[e][t].apply(this[e],arguments)}}(p);return h},l.prototype.updateHeight=function(){for(var t=0,e=(0,n.default)(window).height()-56-51-100,i=0;this.getPanel(i);i++)this.getPanel(i).body.css({height:"auto",display:"block"}).outerHeight()>t&&(t=Math.min(e,this.getPanel(i).body.outerHeight())),i!==this.page[this.curpage].curtab&&this.getPanel(i).body.css({display:"none"});for(i=0;this.getPanel(i);i++)this.getPanel(i).body.css({height:t||this.height});this.page[0].menu.height(t),this.height=t+56+51+1,this.popup.changeSize(void 0,this.height)},l.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=(0,n.default)(window).height()-100},l.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)},l.prototype.getCurPanelButton=function(){return this.getCurPanel().button},l}();return e.Dialog=f=a.construct(f,"Dialog constructor",{alternativeName:"Dialog2"}),e.popup=g=a.construct(g,"Dialog popup constructor",{alternatveName:"Dialog2"}),(0,l.default)("Dialog",f),(0,l.default)("popup",g),e.Dialog=f,e.popup=g,t}.call(this);
;
;
/* module-key = 'com.atlassian.auiplugin:internal-css.escape-1.5.0-css-escape', location = 'auiplugin/node_modules/css.escape/css.escape.js' */
("undefined"===typeof window?global:window).__73f814b2b65cefbd33b5011678834019=function(){var f={exports:{}},i=f.exports,k={module:f,exports:i},c;c=function(d,g,e){var c=("undefined"===typeof window?global:window).define,b,a,e=[e,g,d].filter(function(a){return"function"===typeof a})[0],g=[g,d,[]].filter(Array.isArray)[0];b=e.apply(null,g.map(function(a){return k[a]}));a=typeof b;"function"===typeof c&&c("string"===typeof d?d:"__73f814b2b65cefbd33b5011678834019",g,e);"string"===a?b=String(b):"number"===
a?b=Number(b):"boolean"===a&&(b=Boolean(b));void 0!==b&&(i=f.exports=b)};c.amd=!0;var h="undefined"!=typeof global?global:this,j=function(d){if(d.CSS&&d.CSS.escape)return d.CSS.escape;var c=function(e){for(var e=String(e),d=e.length,b=-1,a,c="",f=e.charCodeAt(0);++b<d;)a=e.charCodeAt(b),c=0==a?c+"\ufffd":1<=a&&31>=a||127==a||0==b&&48<=a&&57>=a||1==b&&48<=a&&57>=a&&45==f?c+("\\"+a.toString(16)+" "):0==b&&1==d&&45==a?c+("\\"+e.charAt(b)):128<=a||45==a||95==a||48<=a&&57>=a||65<=a&&90>=a||97<=a&&122>=
a?c+e.charAt(b):c+("\\"+e.charAt(b));return c};d.CSS||(d.CSS={});return d.CSS.escape=c};"object"==typeof i?f.exports=j(h):"function"==typeof c&&c.amd?c([],j.bind(h,h)):j(h);return f.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-inline-dialog', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/inline-dialog.js' */
("undefined"===typeof window?global:window).__8a05e920b7d8181524465449ac7de6d2=function(){function D(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);c.default=b;return c}function y(b){return b&&b.__esModule?b:{"default":b}}function v(b,c,l,a){a=a||[];a.hasOwnProperty("onTop")&&(F(),a.onTop&&void 0===a.gravity&&(a.gravity="s"));if("undefined"===typeof c&&(c=String(Math.random()).replace(".",""),(0,d.default)("#inline-dialog-"+
c+", #arrow-"+c+", #inline-dialog-shim-"+c).length))throw"GENERATED_IDENTIFIER_NOT_UNIQUE";var g=(0,G.default)(c),e=d.default.extend(!1,v.opts,a);"w"===e.gravity&&(e.offsetX=void 0===a.offsetX?10:a.offsetX,e.offsetY=void 0===a.offsetY?0:a.offsetY);var i,j,h,k=!1,o=!1,q=!1,m,t,f=(0,d.default)('<div id="inline-dialog-'+c+'" class="aui-inline-dialog"><div class="aui-inline-dialog-contents contents"></div><div id="arrow-'+c+'" class="aui-inline-dialog-arrow arrow aui-css-arrow"></div></div>'),n=(0,d.default)("#arrow-"+
g,f),p=f.find(".contents");e.displayShadow||p.addClass("aui-inline-dialog-no-shadow");e.autoWidth?p.addClass("aui-inline-dialog-auto-width"):p.width(e.width);p.on({mouseenter:function(){clearTimeout(j);f.unbind("mouseenter")},mouseleave:function(){r()}});var s=function(){i||(i={popup:f,hide:function(){r(0)},id:c,show:function(){w()},persistent:e.persistent?true:false,reset:function(){var a=(0,d.default)(window).height(),a=Math.round(a*0.75);f.children(".aui-inline-dialog-contents").css("max-height",
a);a=e.calculatePositions(f,t,m,e);if(a.hasOwnProperty("displayAbove")){H();a.gravity=a.displayAbove?"s":"n"}f.css(a.popupCss);n.removeClass("aui-bottom-arrow aui-left-arrow aui-right-arrow");a.gravity==="s"&&!n.hasClass("aui-bottom-arrow")?n.addClass("aui-bottom-arrow"):a.gravity==="w"?n.addClass("aui-left-arrow"):a.gravity==="e"&&n.addClass("aui-right-arrow");n.css(a.arrowCss);f.fadeIn(e.fadeTime,function(){});if(d.default.browser.msie&&~~d.default.browser.version<10){a=(0,d.default)("#inline-dialog-shim-"+
g);a.length||(0,d.default)(f).prepend((0,d.default)('<iframe class = "inline-dialog-shim" id="inline-dialog-shim-'+c+'" frameBorder="0" src="javascript:false;"></iframe>'));a.css({width:p.outerWidth(),height:p.outerHeight()})}}});return i},w=function(){f.is(":visible")||(h=setTimeout(function(){if(q&&o){e.addActiveClass&&(0,d.default)(b).addClass("active");k=true;if(!e.persistent){if(!C){(0,d.default)("body").bind("click."+y,function(a){(0,d.default)(a.target).closest("#inline-dialog-"+g+" .contents").length===
0&&r(0)});C=true}(0,d.default)(document).on("keydown",A)}v.current=s();(0,d.default)(document).trigger("showLayer",["inlineDialog",s()]);s().reset()}},e.showDelay))},r=function(a){if(!(typeof a==="undefined"&&e.persistent)&&typeof f.get(0)._datePickerPopup==="undefined"){o=false;if(k&&e.preHideCallback.call(f[0].popup)){a=a==null?e.hideDelay:a;clearTimeout(j);clearTimeout(h);a!=null&&(j=setTimeout(function(){C&&(0,d.default)("body").unbind("click."+y);C=false;(0,d.default)(document).off("keydown",
A);e.addActiveClass&&(0,d.default)(b).removeClass("active");f.fadeOut(e.fadeTime,function(){e.hideCallback.call(f[0].popup)});o=k=false;(0,d.default)(document).trigger("hideLayer",["inlineDialog",s()]);v.current=null;if(!e.cacheContent)u=q=false},a))}}},z=function(a,b){var g=(0,d.default)(b);e.upfrontCallback.call({popup:f,hide:function(){r(0)},id:c,show:function(){w()}});f.each(function(){typeof this.popup!=="undefined"&&this.popup.hide()});e.closeOthers&&(0,d.default)(".aui-inline-dialog").each(function(){!this.popup.persistent&&
this.popup.hide()});t={target:g};m=a?{x:a.pageX,y:a.pageY}:{x:g.offset().left,y:g.offset().top};k||clearTimeout(h);o=true;g=function(){u=false;q=true;e.initCallback.call({popup:f,hide:function(){r(0)},id:c,show:function(){w()}});w()};if(!u){u=true;d.default.isFunction(l)?l(p,b,g):d.default.get(l,function(a,b,d){p.html(e.responseHandler(a,b,d));q=true;e.initCallback.call({popup:f,hide:function(){r(0)},id:c,show:function(){w()}});w()})}clearTimeout(j);k||w();return false};f[0].popup=s();var u=!1,x=
!1,B=function(){if(!x){(0,d.default)(e.container).append(f);x=true}},a=(0,d.default)(b);if(e.onHover)if(e.useLiveEvents)if(a.selector)(0,d.default)(document).on("mouseenter",a.selector,function(a){B();z(a,this)}).on("mouseleave",a.selector,function(){r()});else E.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled.");else a.on({mouseenter:function(a){B();z(a,this)},mouseleave:function(){r()}});else if(!e.noBind)if(e.useLiveEvents)if(a.selector)(0,
d.default)(document).on("click",a.selector,function(a){B();k&&e.closeOnTriggerClick?f.hide():z(a,this);return false}).on("mouseleave",a.selector,function(){r()});else E.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled.");else a.on("click",function(a){B();k&&e.closeOnTriggerClick?f.hide():z(a,this);return false}).on("mouseleave",function(){r()});var C=!1,y=c+".inline-dialog-check",A=function(a){a.keyCode===27&&r(0)};f.show=function(a,
c){a&&a.stopPropagation();B();e.noBind&&(!b||!b.length)?z(a,c===void 0?a.target:c):z(a,b)};f.hide=function(){r(0)};f.refresh=function(){k&&s().reset()};f.getOptions=function(){return e};return f}function u(b){var b=(0,d.default)(b),c=d.default.extend({left:0,top:0},b.offset());return{left:c.left,top:c.top,width:b.outerWidth(),height:b.outerHeight()}}function I(b,c,l,a){var g,e,i,j,h,k,o,q,m=d.default.isFunction(a.offsetX)?a.offsetX(b,c,l,a):a.offsetX,t=d.default.isFunction(a.offsetY)?a.offsetY(b,
c,l,a):a.offsetY;d.default.isFunction(a.arrowOffsetX)&&a.arrowOffsetX(b,c,l,a);l=d.default.isFunction(a.arrowOffsetY)?a.arrowOffsetY(b,c,l,a):a.arrowOffsetY;h="body"!==a.container.toLowerCase();i=(0,d.default)(a.container);a=h?(0,d.default)(a.container).parent():(0,d.default)(window);j=h?i.offset():{left:0,top:0};h&&a.offset();g=c.target;h=g.offset();e=g[0].getBBox&&g[0].getBBox();c=a.scrollTop();q=a.scrollLeft();a.width();a=a.height();o=i.width();i.height();i=h.top-j.top;j=h.left-j.left;h=e?e.width:
g.outerWidth();k=e?e.height:g.outerHeight();g=b.width();e=b.height();var f=10,n=b.find(".arrow").outerHeight(),p=i-c,s=j-q,b=Math.floor(k/2);q=Math.floor(e/2);k=Math.floor(n/2);o=!(o-s-h-m-f>=g)&&s-m-f>=g?"e":"w";s=p+b-k;n=a-s-n;f=Math.min(f,s-5);f=Math.min(f,n-5);n=p+b;p=Math.max(n-f,0);n=Math.max(a-n-f,0);q-t>p?(m={top:c+f,left:"w"===o?j+h+m:j-g-m},t={top:i+b-(m.top+k)}):q+t>n?(m={top:c+a-e-f,left:"w"===o?j+h+m:j-g-m},t={top:i+b-(m.top+k)}):(m={top:i+b-q+t,left:"w"===o?j+h+m:j-g-m},t={top:q-k+l});
return{gravity:o,popupCss:m,arrowCss:t}}function J(b,c,l,a){var g=d.default.isFunction(a.offsetX)?a.offsetX(b,c,l,a):a.offsetX,e=d.default.isFunction(a.offsetY)?a.offsetY(b,c,l,a):a.offsetY,i=d.default.isFunction(a.arrowOffsetX)?a.arrowOffsetX(b,c,l,a):a.arrowOffsetX,j=u(window),h=u(c.target),c=u(b),b=u(b.find(".aui-inline-dialog-arrow")),k=h.left+h.width/2,o=(window.pageYOffset||document.documentElement.scrollTop)+j.height;c.top=h.top+h.height+~~e;c.left=h.left+~~g;g=j.width-(c.left+c.width+10);
b.left=k-c.left+~~i;b.top=-(b.height/2);i=h.top>c.height;if(i=!(c.top+c.height<o)&&i||i&&"s"===a.gravity)c.top=h.top-c.height-b.height/2,b.top=c.height;a.isRelativeToMouse?0>g?(c.right=10,c.left="auto",b.left=l.x-(j.width-c.width)):(c.left=l.x-20,b.left=l.x-c.left):0>g?(c.right=10,c.left="auto",l=j.width-c.right-c.width,b.right="auto",b.left=k-l-b.width/2):c.width<=h.width/2&&(b.left=c.width/2,c.left=k-c.width/2);return{gravity:i?"s":"n",displayAbove:i,popupCss:{left:c.left,top:c.top,right:c.right},
arrowCss:{left:b.left,top:b.top,right:b.right}}}var x={};Object.defineProperty(x,"__esModule",{value:!0});var d=y(__307d3e18fd611f85395c67cddeb1fe24),A=D(__c8cfa00f1eba9ac7af89ee3d0d33961d),E=D(__cf890abdf040e0993fb71f2f839bc972),K=y(__4d02fe17b8e885a34493e34af3d145dd),G=y(__73f814b2b65cefbd33b5011678834019);v.opts={onTop:!1,responseHandler:function(b){return b},closeOthers:!0,isRelativeToMouse:!1,addActiveClass:!0,onHover:!1,useLiveEvents:!1,noBind:!1,fadeTime:100,persistent:!1,hideDelay:1E4,showDelay:0,
width:300,offsetX:0,offsetY:10,arrowOffsetX:0,arrowOffsetY:0,container:"body",cacheContent:!0,displayShadow:!0,autoWidth:!1,gravity:"n",closeOnTriggerClick:!1,preHideCallback:function(){return!0},hideCallback:function(){},initCallback:function(){},upfrontCallback:function(){},calculatePositions:function(b,c,d,a){a=a||{};return("w"===a.gravity?I:J)(b,c,d,a)}};var v=A.construct(v,"Inline dialog constructor",{alternativeName:"inline dialog 2"}),H=A.getMessageLogger("displayAbove","[remove version]",
{alternativeName:"gravity",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2197."}),F=A.getMessageLogger("onTop","[remove version]",{alternativeName:"gravity",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2197."});(0,K.default)("InlineDialog",v);x.default=v;return x=x["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-template', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/template.js' */
("undefined"===typeof window?global:window).__eb201a36d4829c396b434af7bad3dea4=function(){function i(b){return b&&b.__esModule?b:{"default":b}}var e={};"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(__307d3e18fd611f85395c67cddeb1fe24),m=i(__d909216fe400315d9bcd3c1a7748d78f),n=i(__4d02fe17b8e885a34493e34af3d145dd),o=f.default,k=/\{([^\}]+)\}/g,p=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,l=function(b,a,d,e){var c=d;a.replace(p,function(b,a,d,f,g){a=a||f;c&&(a+
":html"in c?(c=c[a+":html"],e=!0):a in c&&(c=c[a]),g&&"function"===typeof c&&(c=c()))});if(null==c||c===d)c=b;c=String(c);e||(c=g.escape(c));return c},q=function(b){this.template=this.template.replace(k,function(a,d){return l(a,d,b,!0)});return this},r=function(b){this.template=this.template.replace(k,function(a,d){return l(a,d,b)});return this},s=function(){return this.template},g=function(b){function a(){return a.template}a.template=String(b);a.toString=a.valueOf=s;a.fill=r;a.fillHtml=q;return a},
h={},j=[];g.load=function(b){b=String(b);if(!h.hasOwnProperty(b)){1E3<=j.length&&delete h[j.shift()];j.push(b);var a=b,d,e=b;d=o("script").filter(function(){return this.getAttribute("title")===e});h[a]=d[0].text}return this(h[b])};g.escape=m.default;f=g;(0,n.default)("template",f);e.default=f;return e=e["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-messages', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/messages.js' */
("undefined"===typeof window?global:window).__7f014f4563f4730ba724da8ae59dfe98=function(){function n(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b]);d.default=a;return d}function i(a){return a&&a.__esModule?a:{"default":a}}function f(a){e[a]=function(d,b){b||(b=d,d="#aui-message-bar");b.closeable=null!==b.closeable&&!1!==b.closeable;b.shadowed=null!==b.shadowed&&!1!==b.shadowed;var h=this.template,c=b,h=(0,g.default)((0,q.default)(h).fill({type:a,
closeable:c.closeable?"closeable":"",shadowed:c.shadowed?"shadowed":"",fadeout:c.fadeout?"fadeout":"",title:c.title||"","body:html":c.body||""}).toString());c.id&&(/[#\'\"\.\s]/g.test(c.id)?r.warn("Messages error: ID rejected, must not include spaces, hashes, dots or quotes."):h.attr("id",c.id));c=d;"prepend"===b.insert?h.prependTo(c):h.appendTo(c);b.closeable&&k(h);b.fadeout&&l(h,b.delay,b.duration);return h}}function k(a){(0,g.default)(a||"div.aui-message.closeable").each(function(){var a=(0,g.default)(this),
b=a.find(".aui-icon.icon-close"),b=0<b.length?b.first():(0,g.default)('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');a.addClass("closeable");a.append(b);a.on("click",".aui-icon.icon-close",function(a){(0,g.default)(a.target).closest(".aui-message").closeMessage()}).on("keydown",".aui-icon.icon-close",function(a){if(a.which===o.default.ENTER||a.which===o.default.SPACE)(0,g.default)(a.target).closest(".aui-message").closeMessage(),a.preventDefault()})})}function l(a,d,b){d=
"undefined"!==typeof d?d:s;b="undefined"!==typeof b?b:t;(0,g.default)(a||"div.aui-message.fadeout").each(function(){function a(){c.stop(!0,!1).delay(d).fadeOut(b,function(){c.closeMessage()})}var c=(0,g.default)(this),e=!1,f=!1;c.focusin(function(){e=!0;c.stop(!0,!1).fadeTo(p,1)}).focusout(function(){e=!1;!e&&!f&&a()}).hover(function(){f=!0;c.stop(!0,!1).fadeTo(p,1)},function(){f=!1;!e&&!f&&a()});a()})}var j={};"use strict";Object.defineProperty(j,"__esModule",{value:!0});var g=i(__307d3e18fd611f85395c67cddeb1fe24),
m=n(__c8cfa00f1eba9ac7af89ee3d0d33961d),r=n(__cf890abdf040e0993fb71f2f839bc972),u=i(__4d02fe17b8e885a34493e34af3d145dd),o=i(__509557c937caa8763def39004fcf3193),v=i(__c1ce1f1e3e613f564fc234ff043570f1),q=i(__eb201a36d4829c396b434af7bad3dea4),t=500,s=5E3,p=100,e={setup:function(){k();l()},makeCloseable:k,makeFadeout:l,template:'<div class="aui-message aui-message-{type} {closeable} {shadowed} {fadeout}"><p class="title"><strong>{title}</strong></p>{body}<\!-- .aui-message --\></div>',createMessage:f};
g.default.fn.closeMessage=function(){var a=(0,g.default)(this);a.hasClass("aui-message")&&a.hasClass("closeable")&&(a.stop(!0),a.trigger("messageClose",[this]).remove(),(0,g.default)(document).trigger("aui-message-close",[this]))};f("generic");f("error");f("warning");f("info");f("success");f("hint");(0,v.default)("aui-message",{created:function(a){var d=a.innerHTML,b=a.getAttribute("type")||"info";a.innerHTML="";e[b](a,{body:d,closeable:a.getAttribute("closeable"),delay:a.getAttribute("delay"),duration:a.getAttribute("duration"),
fadeout:a.getAttribute("fadeout"),title:a.getAttribute("title")})}});(0,g.default)(function(){e.setup()});m.prop(e,"makeCloseable",{extraInfo:'Use the "closeable" option in the constructor instead. Docs: https://docs.atlassian.com/aui/latest/docs/messages.html'});m.prop(e,"createMessage",{extraInfo:"Use the provided convenience methods instead e.g. messages.generic(). Docs: https://docs.atlassian.com/aui/latest/docs/messages.html"});m.prop(e,"makeFadeout",{extraInfo:'Use the "fadeout" option in the constructor instead. Docs: https://docs.atlassian.com/aui/latest/docs/messages.html'});
(0,u.default)("messages",e);j.default=e;return j=j["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-tabs', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/tabs.js' */
("undefined"===typeof window?global:window).__528cf2801debf7075d1fc56b34c7b259=function(){function j(a){return a&&a.__esModule?a:{"default":a}}function u(a){a=(0,e.default)(a);if(!a.hasClass("aui-tabs-responsive-trigger")){var b=(0,e.default)(a.attr("href").match(A)[0]);b.addClass("active-pane").attr("aria-hidden","false").siblings(".tabs-pane").removeClass("active-pane").attr("aria-hidden","true");var c=a.parents(".aui-tabs").find(".aui-tabs-responsive-trigger-item a").attr("aria-controls"),c=(0,
e.default)(document).find("#"+c);c.find("li a").attr("aria-checked",!1).removeClass("checked aui-dropdown2-checked");c.find("li").removeClass("active-tab");a.parent("li.menu-item").addClass("active-tab").siblings(".menu-item").removeClass("active-tab");a.hasClass("aui-tabs-responsive-item")&&(c=b.parent(".aui-tabs").find("li.menu-item:not(.aui-tabs-responsive-trigger-item)"),c.removeClass("active-tab"),c.find("a").removeClass("checked").removeAttr("aria-checked"));a.hasClass("aui-tabs-responsive-item")&&
b.parent(".aui-tabs").find("li.menu-item.aui-tabs-responsive-trigger-item").addClass("active-tab");a.closest(".tabs-menu").find("a").attr("aria-selected","false");a.attr("aria-selected","true");a.trigger("tabSelect",{tab:a,pane:b})}}function v(a){return void 0!==a.attr("data-aui-persist")&&"false"!==a.attr("data-aui-persist")}function w(a){var b=a.attr("id"),a=a.attr("data-aui-persist");return B+(b?b:"")+(a&&"true"!==a?"-"+a:"")}function x(a){m.change((0,e.default)(a.target).closest("a"));a&&a.preventDefault()}
function y(a){a.forEach(function(a,c){var d=(0,e.default)(a),g=d.find(".tabs-menu").first(),f=g.find("li:not(.aui-tabs-responsive-trigger-item)"),h=g.find(".aui-tabs-responsive-trigger").parent(),o=h.find("a"),k=o.attr("aria-controls"),k=(0,e.default)(document).find("#"+k).attr("aria-checked",!1),i=0<k.length,j=l.totalTabsWidth(f,k)>d.outerWidth();!i&&j&&(h=l.createResponsiveDropdownTrigger(g,c),k=l.createResponsiveDropdown(d,c));o.attr("aria-controls","aui-tabs-responsive-dropdown-"+c);o.attr("id",
"aui-tabs-responsive-trigger-"+c);o.attr("href","aui-tabs-responsive-trigger-"+c);k.attr("id","aui-tabs-responsive-dropdown-"+c);j&&(f=l.moveVisibleTabs(f.toArray(),d,h),f=l.totalVisibleTabWidth(f),d=d.outerWidth()-f-h.outerWidth(!0),0<d&&(f=k.find("li"),l.moveInvisibleTabs(f.toArray(),d,h)),k.on("click","a",x),g.is(":visible")&&g.hide().show());i&&!j&&(k.find("li").each(function(){l.moveTabOutOfDropdown((0,e.default)(this),h)}),l.removeResponsiveDropdown(k,h))})}function z(a){var b=(0,e.default)(a);
a.setAttribute("role","application");if(!b.data("aui-tab-events-bound")){var c=b.children("ul.tabs-menu");c.attr("role","tablist");c.children("li").attr("role","presentation");c.find("> .menu-item a").each(function(){var a=(0,e.default)(this),b=a.attr("href");(0,C.default)(a);a.attr("role","tab");(0,e.default)(b).attr("aria-labelledby",a.attr("id"));a.parent().hasClass("active-tab")?a.attr("aria-selected","true"):a.attr("aria-selected","false")});c.on("click","a",x);b.data("aui-tab-events-bound",
!0);[].slice.call(a.querySelectorAll(".tabs-pane")).forEach(D)}}function D(a){a.setAttribute("role","tabpanel");a.setAttribute("aria-hidden",(0,e.default)(a).hasClass("active-pane")?"false":"true")}var p={};"use strict";Object.defineProperty(p,"__esModule",{value:!0});__f52b7059926ab2bdcd0aee12b4bc782b;var q;var i=__cf890abdf040e0993fb71f2f839bc972;if(i&&i.__esModule)q=i;else{var t={};if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);t.default=i;q=t}var E=j(__c6e18cf9266fe56d02f78a6e812f58db),
e=j(__307d3e18fd611f85395c67cddeb1fe24),C=j(__6ccb0f8a73a13028d85029aeb628b44d);n=j(__4d02fe17b8e885a34493e34af3d145dd);var F=j(__be88e4b5c5dd8d343902ce7534076e13),r=j(__c1ce1f1e3e613f564fc234ff043570f1),s=window.skateTemplateHtml,A=/#.*/,B="_internal-aui-tabs-",l={totalTabsWidth:function(a,b){var c=this.totalVisibleTabWidth(a),d=0;b.find("li").each(function(a,b){d+=parseInt(b.getAttribute("data-aui-tab-width"))});return c+d},totalVisibleTabWidth:function(a){var b=0;a.each(function(a,d){b+=(0,e.default)(d).outerWidth()});
return b},removeResponsiveDropdown:function(a,b){a.remove();b.remove()},createResponsiveDropdownTrigger:function(a,b){a.append('<li class="menu-item aui-tabs-responsive-trigger-item"><a class="aui-dropdown2-trigger aui-tabs-responsive-trigger aui-dropdown2-trigger-arrowless" id="aui-tabs-responsive-trigger-'+b+'" aria-haspopup="true" aria-controls="aui-tabs-responsive-dropdown-'+b+'" href="aui-tabs-responsive-dropdown-'+b+'">...</a></li>');return a.find(".aui-tabs-responsive-trigger-item")},createResponsiveDropdown:function(a,
b){a.append('<div class="aui-dropdown2 aui-style-default aui-tabs-responsive-dropdown" id="aui-tabs-responsive-dropdown-'+b+'"><ul></ul></div>');return a.find("#aui-tabs-responsive-dropdown-"+b)},findNewVisibleTabs:function(a,b,c){for(var d=0,g=0;d+c<=b&&g<a.length;g++)var f=(0,e.default)(a[g]).outerWidth(!0),d=d+f;return a.slice(0,g-1)},moveVisibleTabs:function(a,b,c){for(var d=c.find("a").attr("aria-controls"),d=(0,e.default)("#"+d),b=this.findNewVisibleTabs(a,b.outerWidth(),c.parent().outerWidth(!0)),
g=b.length-1,f=a.length-1;f>=g;f--){var h=(0,e.default)(a[f]);this.moveTabToResponsiveDropdown(h,d,c)}return(0,e.default)(b)},moveTabToResponsiveDropdown:function(a,b,c){var d=a.find("a");a.attr("data-aui-tab-width",a.outerWidth(!0));d.addClass("aui-dropdown2-radio aui-tabs-responsive-item");a.hasClass("active-tab")&&(d.addClass("aui-dropdown2-checked"),c.addClass("active-tab"));b.find("ul").prepend(a)},moveInvisibleTabs:function(a,b,c){for(var d=0;0<b&&d<a.length;d++){var g=(0,e.default)(a[d]),f=
parseInt(g.attr("data-aui-tab-width"),10);f<b&&this.moveTabOutOfDropdown(g,c);b-=f}},moveTabOutOfDropdown:function(a,b){a.find("a").hasClass("aui-dropdown2-checked")&&(a.addClass("active-tab"),b.removeClass("active-tab"));a.children("a").removeClass("aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked");b.before(a)}},m={setup:function(){var a=(0,E.default)(y,200),b=(0,e.default)('.aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive="false"]), aui-tabs[responsive]:not([responsive="false"])').toArray();
y(b);(0,e.default)(window).resize(function(){a(b)});var c=(0,e.default)(".aui-tabs:not(.aui-tabs-disabled)");c.each(function(){z(this)});for(var d=0,g=c.length;d<g;d++){var f=c.eq(d),h=c.get(d);if(v(f)&&window.localStorage)if(f.attr("id")){if(f=window.localStorage.getItem(w(f)))(h=h.querySelector('a[href$="'+f+'"]'))&&u(h)}else q.warn("A tab group must specify an id attribute if it specifies data-aui-persist.")}(0,e.default)(".aui-tabs.vertical-tabs").find("a").each(function(){var a=(0,e.default)(this);
a.attr("title")||(0,F.default)(a)&&a.attr("title",a.text())})},change:function(a){var a=(0,e.default)(a),b=a.closest(".aui-tabs");u(a);v(b)&&window.localStorage&&(b=a.closest(".aui-tabs"),b.attr("id")?(a=a.attr("href"))&&window.localStorage.setItem(w(b),a):q.warn("A tab group must specify an id attribute if it specifies data-aui-persist."))}};(0,e.default)(m.setup);(0,r.default)("aui-tabs",{created:function(a){(0,e.default)(a).addClass("aui-tabs horizontal-tabs");r.default.init(a);z(a)},template:s('<ul class="tabs-menu">',
'<content select="li[is=aui-tabs-tab]"></content>',"</ul>",'<content select="aui-tabs-pane"></content>'),prototype:{select:function(a){a=(0,e.default)(this.querySelectorAll("aui-tabs-pane")).index(a);-1<a&&m.change(this.querySelectorAll("li[is=aui-tabs-tab]")[a].children[0]);return this}}});var G=(0,r.default)("aui-tabs-tab",{"extends":"li",created:function(a){(0,e.default)(a).addClass("menu-item")},template:s('<a href="#">',"<strong>","<content></content>","</strong>","</a>")});(0,r.default)("aui-tabs-pane",
{attached:function(a){var b=(0,e.default)((0,e.default)(a).closest("aui-tabs").get(0)),c=(0,e.default)(a),b=b.find("aui-tabs-pane").index(c),d=new G,g=(0,e.default)(d);c.addClass("tabs-pane");d.firstChild.setAttribute("href","#"+a.id);s.wrap(d).textContent=c.attr("title");0===b&&c.addClass("active-pane");c.hasClass("active-pane")&&g.addClass("active-tab");c.siblings("ul").append(d)},template:s("<content></content>")});(0,n.default)("tabs",m);p.default=m;return p=p["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-core-1.8.24-patched', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.core-2.0.0-atlassian.js' */
/*! THIS FILE HAS BEEN MODIFIED BY ATLASSIAN. Modified lines are marked below, search "ATLASSIAN" */
/*!
 * jQuery UI 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function( $, undefined ) {

// prevent duplicate loading
// this is only a problem because we proxy existing functions
// and we don't want to double proxy them
$.ui = $.ui || {};
if ( $.ui.version ) {
	return;
}

$.extend( $.ui, {
	version: "2.0.0-atlassian",

	keyCode: {
		ALT: 18,
		BACKSPACE: 8,
		CAPS_LOCK: 20,
		COMMA: 188,
		COMMAND: 91,
		COMMAND_LEFT: 91, // COMMAND
		COMMAND_RIGHT: 93,
		CONTROL: 17,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		INSERT: 45,
		LEFT: 37,
		MENU: 93, // COMMAND_RIGHT
		NUMPAD_ADD: 107,
		NUMPAD_DECIMAL: 110,
		NUMPAD_DIVIDE: 111,
		NUMPAD_ENTER: 108,
		NUMPAD_MULTIPLY: 106,
		NUMPAD_SUBTRACT: 109,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SHIFT: 16,
		SPACE: 32,
		TAB: 9,
		UP: 38,
		WINDOWS: 91 // COMMAND
	}
});

// plugins
$.fn.extend({
	propAttr: $.fn.prop || $.fn.attr,

	_focus: $.fn.focus,
	focus: function( delay, fn ) {
		return typeof delay === "number" ?
			this.each(function() {
				var elem = this;
				setTimeout(function() {
					$( elem ).focus();
					if ( fn ) {
						fn.call( elem );
					}
				}, delay );
			}) :
			this._focus.apply( this, arguments );
	},

	scrollParent: function() {
		var scrollParent;
		if (($.browser.msie && (/(static|relative)/).test(this.css('position'))) || (/absolute/).test(this.css('position'))) {
			scrollParent = this.parents().filter(function() {
				return (/(relative|absolute|fixed)/).test($.curCSS(this,'position',1)) && (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));
			}).eq(0);
		} else {
			scrollParent = this.parents().filter(function() {
				return (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));
			}).eq(0);
		}

		return (/fixed/).test(this.css('position')) || !scrollParent.length ? $(document) : scrollParent;
	},

	zIndex: function( zIndex ) {
		if ( zIndex !== undefined ) {
			return this.css( "zIndex", zIndex );
		}

		if ( this.length ) {
			var elem = $( this[ 0 ] ), position, value;
			while ( elem.length && elem[ 0 ] !== document ) {
				// Ignore z-index if position is set to a value where z-index is ignored by the browser
				// This makes behavior of this function consistent across browsers
				// WebKit always returns auto if the element is positioned
				position = elem.css( "position" );
				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
					// IE returns 0 when zIndex is not specified
					// other browsers return a string
					// we ignore the case of nested elements with an explicit value of 0
					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
					value = parseInt( elem.css( "zIndex" ), 10 );
					if ( !isNaN( value ) && value !== 0 ) {
						return value;
					}
				}
				elem = elem.parent();
			}
		}

		return 0;
	},

	disableSelection: function() {
		return this.bind( ( $.support.selectstart ? "selectstart" : "mousedown" ) +
			".ui-disableSelection", function( event ) {
				event.preventDefault();
			});
	},

	enableSelection: function() {
		return this.unbind( ".ui-disableSelection" );
	}
});

/**
 * FOLLOWING LINES MODIFIED BY ATLASSIAN
 *
 * This is a backport of the fix in #11197 in commit c077e0a347826c7acca4ca2f775ca59e3b5f8d07
 */
// support: jQuery 1.7 only (and the forked 4.0.0-atlassian)
// Not a great way to check versions, but since we only support 1.7+ and only
// need to detect <1.8, this is a simple check that should suffice. Checking
// for "1.7." would be a bit safer, but the version string is 1.7, not 1.7.0
// and we'll never reach 1.70.0 (if we do, we certainly won't be supporting
// 1.7 anymore). See #11197 for why we're not using feature detection.
// Added support for the security patched version 4.0.0-atlassian, which is a fork of 1.7.2
if ( $.fn.jquery.substring( 0, 3 ) === "1.7" || $.fn.jquery.substring( 0, 3 ) === "4.0" ) {

    // Setters for .innerWidth(), .innerHeight(), .outerWidth(), .outerHeight()
    // Unlike jQuery Core 1.8+, these only support numeric values to set the
    // dimensions in pixels
/** END ATLASSIAN */
	$.each( [ "Width", "Height" ], function( i, name ) {
		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
			type = name.toLowerCase(),
			orig = {
				innerWidth: $.fn.innerWidth,
				innerHeight: $.fn.innerHeight,
				outerWidth: $.fn.outerWidth,
				outerHeight: $.fn.outerHeight
			};

		function reduce( elem, size, border, margin ) {
			$.each( side, function() {
				size -= parseFloat( $.curCSS( elem, "padding" + this, true) ) || 0;
				if ( border ) {
					size -= parseFloat( $.curCSS( elem, "border" + this + "Width", true) ) || 0;
				}
				if ( margin ) {
					size -= parseFloat( $.curCSS( elem, "margin" + this, true) ) || 0;
				}
			});
			return size;
		}

		$.fn[ "inner" + name ] = function( size ) {
			if ( size === undefined ) {
				return orig[ "inner" + name ].call( this );
			}

			return this.each(function() {
				$( this ).css( type, reduce( this, size ) + "px" );
			});
		};

		$.fn[ "outer" + name] = function( size, margin ) {
			if ( typeof size !== "number" ) {
				return orig[ "outer" + name ].call( this, size );
			}

			return this.each(function() {
				$( this).css( type, reduce( this, size, true, margin ) + "px" );
			});
		};
	});
}

// selectors
function focusable( element, isTabIndexNotNaN ) {
	var nodeName = element.nodeName.toLowerCase();
	if ( "area" === nodeName ) {
		var map = element.parentNode,
			mapName = map.name,
			img;
		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
			return false;
		}
		img = $( "img[usemap=#" + mapName + "]" )[0];
		return !!img && visible( img );
	}
	return ( /input|select|textarea|button|object/.test( nodeName )
		? !element.disabled
		: "a" == nodeName
			? element.href || isTabIndexNotNaN
			: isTabIndexNotNaN)
		// the element and all of its ancestors must be visible
		&& visible( element );
}

function visible( element ) {
	return !$( element ).parents().andSelf().filter(function() {
		return $.curCSS( this, "visibility" ) === "hidden" ||
			$.expr.filters.hidden( this );
	}).length;
}

$.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo(function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		}) :
		// support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		},

	focusable: function( element ) {
		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
	},

	tabbable: function( element ) {
		var tabIndex = $.attr( element, "tabindex" ),
			isTabIndexNaN = isNaN( tabIndex );
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
	}
});

// support
$(function() {
	var body = document.body,
		div = body.appendChild( div = document.createElement( "div" ) );

	// access offsetHeight before setting the style to prevent a layout bug
	// in IE 9 which causes the elemnt to continue to take up space even
	// after it is removed from the DOM (#8026)
	div.offsetHeight;

	$.extend( div.style, {
		minHeight: "100px",
		height: "auto",
		padding: 0,
		borderWidth: 0
	});

	$.support.minHeight = div.offsetHeight === 100;
	$.support.selectstart = "onselectstart" in div;

	// set display to none to avoid a layout bug in IE
	// http://dev.jquery.com/ticket/4014
	body.removeChild( div ).style.display = "none";
});

// jQuery <1.4.3 uses curCSS, in 1.4.3 - 1.7.2 curCSS = css, 1.8+ only has css
if ( !$.curCSS ) {
	$.curCSS = $.css;
}





// deprecated
$.extend( $.ui, {
	// $.ui.plugin is deprecated.  Use the proxy pattern instead.
	plugin: {
		add: function( module, option, set ) {
			var proto = $.ui[ module ].prototype;
			for ( var i in set ) {
				proto.plugins[ i ] = proto.plugins[ i ] || [];
				proto.plugins[ i ].push( [ option, set[ i ] ] );
			}
		},
		call: function( instance, name, args ) {
			var set = instance.plugins[ name ];
			if ( !set || !instance.element[ 0 ].parentNode ) {
				return;
			}

			for ( var i = 0; i < set.length; i++ ) {
				if ( instance.options[ set[ i ][ 0 ] ] ) {
					set[ i ][ 1 ].apply( instance.element, args );
				}
			}
		}
	},

	// will be deprecated when we switch to jQuery 1.4 - use jQuery.contains()
	contains: function( a, b ) {
		return document.compareDocumentPosition ?
			a.compareDocumentPosition( b ) & 16 :
			a !== b && a.contains( b );
	},

	// only used by resizable
	hasScroll: function( el, a ) {

		//If overflow is hidden, the element might have extra content, but the user wants to hide it
		if ( $( el ).css( "overflow" ) === "hidden") {
			return false;
		}

		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
			has = false;

		if ( el[ scroll ] > 0 ) {
			return true;
		}

		// TODO: determine which cases actually cause this to happen
		// if the element doesn't have the scroll set, see if it's possible to
		// set the scroll
		el[ scroll ] = 1;
		has = ( el[ scroll ] > 0 );
		el[ scroll ] = 0;
		return has;
	},

	// these are odd functions, fix the API or move into individual plugins
	isOverAxis: function( x, reference, size ) {
		//Determines when x coordinate is over "b" element axis
		return ( x > reference ) && ( x < ( reference + size ) );
	},
	isOver: function( y, x, top, left, height, width ) {
		//Determines when x, y coordinates is over "b" element
		return $.ui.isOverAxis( y, top, height ) && $.ui.isOverAxis( x, left, width );
	}
});

})( jQuery );
;
;
/* module-key = 'com.atlassian.auiplugin:internal-jquery-ui-partial', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.widget.js' */
(function(c){if(c.cleanData){var h=c.cleanData;c.cleanData=function(a){for(var b=0,d;null!=(d=a[b]);b++)try{c(d).triggerHandler("remove")}catch(e){}h(a)}}else{var i=c.fn.remove;c.fn.remove=function(a,b){return this.each(function(){b||(!a||c.filter(a,[this]).length)&&c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(a){}});return i.call(c(this),a,b)})}}c.widget=function(a,b,d){var e=a.split(".")[0],f,a=a.split(".")[1];f=e+"-"+a;d||(d=b,b=c.Widget);c.expr[":"][f]=function(b){return!!c.data(b,
a)};c[e]=c[e]||{};c[e][a]=function(a,b){arguments.length&&this._createWidget(a,b)};b=new b;b.options=c.extend(!0,{},b.options);c[e][a].prototype=c.extend(!0,b,{namespace:e,widgetName:a,widgetEventPrefix:c[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);c.widget.bridge(a,c[e][a])};c.widget.bridge=function(a,b){c.fn[a]=function(d){var e="string"===typeof d,f=Array.prototype.slice.call(arguments,1),g=this,d=!e&&f.length?c.extend.apply(null,[!0,d].concat(f)):d;if(e&&"_"===d.charAt(0))return g;
e?this.each(function(){var b=c.data(this,a),e=b&&c.isFunction(b[d])?b[d].apply(b,f):b;if(e!==b&&void 0!==e)return g=e,!1}):this.each(function(){var e=c.data(this,a);e?e.option(d||{})._init():c.data(this,a,new b(d,this))});return g}};c.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,b){c.data(b,this.widgetName,this);this.element=c(b);this.options=c.extend(!0,{},this.options,this._getCreateOptions(),
a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(a,b){var d=a;if(0===arguments.length)return c.extend({},this.options);if("string"===typeof a){if(void 0===b)return this.options[a];d={};d[a]=b}this._setOptions(d);return this},_setOptions:function(a){var b=this;c.each(a,function(a,c){b._setOption(a,c)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,b,d){var e,f=this.options[a],d=d||{},b=c.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);this.element.trigger(b,d);return!(c.isFunction(f)&&!1===f.call(this.element[0],b,d)||b.isDefaultPrevented())}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-jquery-ui-partial', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.mouse.js' */
(function(b){var d=!1;b(document).mouseup(function(){d=!1});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(c){if(!0===b.data(c.target,a.widgetName+".preventClickEvent"))return b.removeData(c.target,a.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!d){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var c=this,e=1==a.which,f="string"==typeof this.options.cancel&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(a))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=
setTimeout(function(){c.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),!0;!0===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);a.preventDefault();return d=!0}},_mouseMove:function(a){if(this._mouseMoved&&(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button||!a.which))return this._mouseUp(a);if(a.which||a.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},
_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},
_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-jquery-ui-partial', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.draggable.js' */
(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(a){var c=this.options;if(this.helper||c.disabled||d(a.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(a);if(!this.handle)return!1;c.iframeFix&&d(!0===c.iframeFix?"iframe":c.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")});return!0},_mouseStart:function(a){var c=this.options;this.helper=this._createHelper(a);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
d.ui.ddmanager&&(d.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);
this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this._mouseDrag(a,!0);d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return!0},_mouseDrag:function(a,c){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");
if(!c){var b=this._uiHash();if(!1===this._trigger("drag",a,b))return this._mouseUp({}),!1;this.position=b.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return!1},_mouseStop:function(a){var c=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(c=d.ui.ddmanager.drop(this,a));this.dropped&&(c=this.dropped,this.dropped=
!1);for(var b=this.element[0],f=!1;b&&(b=b.parentNode);)b==document&&(f=!0);if(!f&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var e=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",a)!==false&&e._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},
_mouseUp:function(a){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var c=!this.options.handle||!d(this.options.handle,this.element).length?!0:!1;d(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(c=!0)});
return c},_createHelper:function(a){var c=this.options,a=d.isFunction(c.helper)?d(c.helper.apply(this.element[0],[a])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));d.isArray(a)&&(a={left:+a[0],top:+a[1]||
0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
this.offsetParent[0]))&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=["document"==a.containment?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==a.containment?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:d(window).scrollLeft())+d("document"==a.containment?document:
window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:d(window).scrollTop())+(d("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var a=d(a.containment),c=a[0];if(c){a.offset();var b="hidden"!=d(c).css("overflow");this.containment=[(parseInt(d(c).css("borderLeftWidth"),10)||0)+(parseInt(d(c).css("paddingLeft"),
10)||0),(parseInt(d(c).css("borderTopWidth"),10)||0)+(parseInt(d(c).css("paddingTop"),10)||0),(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(d(c).css("borderLeftWidth"),10)||0)-(parseInt(d(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(d(c).css("borderTopWidth"),10)||0)-(parseInt(d(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relative_container=a}}else a.containment.constructor==Array&&(this.containment=a.containment)},_convertPositionTo:function(a,c){c||(c=this.position);var b="absolute"==a?1:-1,f="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?
0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:f.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())*b)}},_generatePosition:function(a){var c=this.options,b="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
f=/(html|body)/i.test(b[0].tagName),e=a.pageX,h=a.pageY;if(this.originalPosition){var g;this.containment&&(this.relative_container?(g=this.relative_container.offset(),g=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+g.left,this.containment[3]+g.top]):g=this.containment,a.pageX-this.offset.click.left<g[0]&&(e=g[0]+this.offset.click.left),a.pageY-this.offset.click.top<g[1]&&(h=g[1]+this.offset.click.top),a.pageX-this.offset.click.left>g[2]&&(e=g[2]+this.offset.click.left),
a.pageY-this.offset.click.top>g[3]&&(h=g[3]+this.offset.click.top));c.grid&&(h=c.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,h=g?!(h-this.offset.click.top<g[1]||h-this.offset.click.top>g[3])?h:!(h-this.offset.click.top<g[1])?h-c.grid[1]:h+c.grid[1]:h,e=c.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,e=g?!(e-this.offset.click.left<g[0]||e-this.offset.click.left>g[2])?e:!(e-this.offset.click.left<
g[0])?e-c.grid[0]:e+c.grid[0]:e)}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:b.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&526>d.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:b.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,c,b){b=b||this._uiHash();d.ui.plugin.call(this,a,[c,b]);"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute"));return d.Widget.prototype._trigger.call(this,a,c,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.24"});
d.ui.plugin.add("draggable","connectToSortable",{start:function(a,c){var b=d(this).data("draggable"),f=b.options,e=d.extend({},c,{item:b.element});b.sortables=[];d(f.connectToSortable).each(function(){var c=d.data(this,"sortable");c&&!c.options.disabled&&(b.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",a,e))})},stop:function(a,c){var b=d(this).data("draggable"),f=d.extend({},c,{item:b.element});d.each(b.sortables,function(){this.instance.isOver?
(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,f))})},drag:function(a,c){var b=d(this).data("draggable"),f=this;d.each(b.sortables,function(){this.instance.positionAbs=
b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(f).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,
!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",a),b.dropped=this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&
(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),b._trigger("fromSortable",a),b.dropped=!1)})}});d.ui.plugin.add("draggable","cursor",{start:function(){var a=d("body"),c=d(this).data("draggable").options;
a.css("cursor")&&(c._cursor=a.css("cursor"));a.css("cursor",c.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(a,c){var b=d(c.helper),f=d(this).data("draggable").options;b.css("opacity")&&(f._opacity=b.css("opacity"));b.css("opacity",f.opacity)},stop:function(a,c){var b=d(this).data("draggable").options;b._opacity&&d(c.helper).css("opacity",b._opacity)}});d.ui.plugin.add("draggable",
"scroll",{start:function(){var a=d(this).data("draggable");a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(a){var c=d(this).data("draggable"),b=c.options,f=!1;if(c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName){if(!b.axis||"x"!=b.axis)c.overflowOffset.top+c.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+b.scrollSpeed:a.pageY-c.overflowOffset.top<
b.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||"y"!=b.axis)c.overflowOffset.left+c.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+b.scrollSpeed:a.pageX-c.overflowOffset.left<b.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||"x"!=b.axis)a.pageY-d(document).scrollTop()<b.scrollSensitivity?f=d(document).scrollTop(d(document).scrollTop()-
b.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity&&(f=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed));if(!b.axis||"y"!=b.axis)a.pageX-d(document).scrollLeft()<b.scrollSensitivity?f=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity&&(f=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed))}!1!==f&&(d.ui.ddmanager&&!b.dropBehaviour)&&d.ui.ddmanager.prepareOffsets(c,
a)}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),c=a.options;a.snapElements=[];d(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var b=d(this),c=b.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(a,c){for(var b=d(this).data("draggable"),f=b.options,e=f.snapTolerance,h=c.offset.left,g=h+b.helperProportions.width,n=c.offset.top,
o=n+b.helperProportions.height,i=b.snapElements.length-1;0<=i;i--){var j=b.snapElements[i].left,l=j+b.snapElements[i].width,k=b.snapElements[i].top,m=k+b.snapElements[i].height;if(j-e<h&&h<l+e&&k-e<n&&n<m+e||j-e<h&&h<l+e&&k-e<o&&o<m+e||j-e<g&&g<l+e&&k-e<n&&n<m+e||j-e<g&&g<l+e&&k-e<o&&o<m+e){if("inner"!=f.snapMode){var p=Math.abs(k-o)<=e,q=Math.abs(m-n)<=e,r=Math.abs(j-g)<=e,s=Math.abs(l-h)<=e;p&&(c.position.top=b._convertPositionTo("relative",{top:k-b.helperProportions.height,left:0}).top-b.margins.top);
q&&(c.position.top=b._convertPositionTo("relative",{top:m,left:0}).top-b.margins.top);r&&(c.position.left=b._convertPositionTo("relative",{top:0,left:j-b.helperProportions.width}).left-b.margins.left);s&&(c.position.left=b._convertPositionTo("relative",{top:0,left:l}).left-b.margins.left)}var t=p||q||r||s;if("outer"!=f.snapMode&&(p=Math.abs(k-n)<=e,q=Math.abs(m-o)<=e,r=Math.abs(j-h)<=e,s=Math.abs(l-g)<=e,p&&(c.position.top=b._convertPositionTo("relative",{top:k,left:0}).top-b.margins.top),q&&(c.position.top=
b._convertPositionTo("relative",{top:m-b.helperProportions.height,left:0}).top-b.margins.top),r&&(c.position.left=b._convertPositionTo("relative",{top:0,left:j}).left-b.margins.left),s))c.position.left=b._convertPositionTo("relative",{top:0,left:l-b.helperProportions.width}).left-b.margins.left;!b.snapElements[i].snapping&&(p||q||r||s||t)&&b.options.snap.snap&&b.options.snap.snap.call(b.element,a,d.extend(b._uiHash(),{snapItem:b.snapElements[i].item}));b.snapElements[i].snapping=p||q||r||s||t}else b.snapElements[i].snapping&&
b.options.snap.release&&b.options.snap.release.call(b.element,a,d.extend(b._uiHash(),{snapItem:b.snapElements[i].item})),b.snapElements[i].snapping=!1}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options,a=d.makeArray(d(a.stack)).sort(function(a,c){return(parseInt(d(a).css("zIndex"),10)||0)-(parseInt(d(c).css("zIndex"),10)||0)});if(a.length){var c=parseInt(a[0].style.zIndex)||0;d(a).each(function(a){this.style.zIndex=c+a});this[0].style.zIndex=c+a.length}}});
d.ui.plugin.add("draggable","zIndex",{start:function(a,c){var b=d(c.helper),f=d(this).data("draggable").options;b.css("zIndex")&&(f._zIndex=b.css("zIndex"));b.css("zIndex",f.zIndex)},stop:function(a,c){var b=d(this).data("draggable").options;b._zIndex&&d(c.helper).css("zIndex",b._zIndex)}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-jquery-ui-partial', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.sortable.js' */
(function(d){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},destroy:function(){d.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,
b){"disabled"===a?(this.options[a]=b,this.widget()[b?"addClass":"removeClass"]("ui-sortable-disabled")):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,b){var c=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(a);var e=null,f=this;d(a.target).parents().each(function(){if(d.data(this,c.widgetName+"-item")==f)return e=d(this),!1});d.data(a.target,c.widgetName+"-item")==f&&(e=d(a.target));if(!e)return!1;if(this.options.handle&&
!b){var g=!1;d(this.options.handle,e).find("*").andSelf().each(function(){this==a.target&&(g=!0)});if(!g)return!1}this.currentItem=e;this._removeCurrentsFromItems();return!0},_mouseStart:function(a,b,c){b=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();b.cursor&&(d("body").css("cursor")&&(this._storedCursor=d("body").css("cursor")),d("body").css("cursor",b.cursor));b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",b.opacity));b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex));this.scrollParent[0]!=
document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c)for(c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("activate",a,this._uiHash(this));d.ui.ddmanager&&(d.ui.ddmanager.current=this);d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);
return!0},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var b=this.options,c=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed:a.pageY-this.overflowOffset.top<
b.scrollSensitivity&&(this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)?this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed:a.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed):(a.pageY-d(document).scrollTop()<b.scrollSensitivity?c=d(document).scrollTop(d(document).scrollTop()-
b.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity&&(c=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed)),a.pageX-d(document).scrollLeft()<b.scrollSensitivity?c=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity&&(c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)));!1!==c&&(d.ui.ddmanager&&!b.dropBehaviour)&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=
this._convertPositionTo("absolute");if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;0<=b;b--){var c=this.items[b],e=c.item[0],f=this._intersectsWithPointer(c);if(f&&c.instance===this.currentContainer&&e!=this.currentItem[0]&&this.placeholder[1==f?"next":"prev"]()[0]!=e&&!d.ui.contains(this.placeholder[0],e)&&("semi-dynamic"==this.options.type?
!d.ui.contains(this.element[0],e):1)){this.direction=1==f?"down":"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(c))this._rearrange(a,c);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=
this,e=c.placeholder.offset();c.reverting=!0;d(this.helper).animate({left:e.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&(this.helper&&
this.helper[0].parentNode)&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[],a=a||{};d(b).each(function(){var b=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);b&&c.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?
b[1]:b[2]))});!c.length&&a.key&&c.push(a.key+"=");return c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[],a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,f=d+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,j=i+a.height,k=this.offset.click.top,l=this.offset.click.left;return"pointer"==this.options.tolerance||
this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?d+k>i&&d+k<j&&b+l>g&&b+l<h:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&i<d+this.helperProportions.height/2&&f-this.helperProportions.height/2<j},_intersectsWithPointer:function(a){var b="x"===this.options.axis||d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),a="y"===this.options.axis||
d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),b=b&&a,a=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return!b?!1:this.floating?c&&"right"==c||"down"==a?2:1:a&&("down"==a?2:1)},_intersectsWithSides:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();
return this.floating&&e?"right"==e&&a||"left"==e&&!a:c&&("down"==c&&b||"up"==c&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:
a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],e=this._connectWith();if(e&&a)for(a=e.length-1;0<=a;a--)for(var f=d(e[a]),g=f.length-1;0<=g;g--){var h=d.data(f[g],this.widgetName);h&&(h!=this&&!h.options.disabled)&&c.push([d.isFunction(h.options.items)?h.options.items.call(h.element):d(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):
d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=c.length-1;0<=a;a--)c[a][0].each(function(){b.push(this)});return d(b)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data("+this.widgetName+"-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var b=this.items,c=[[d.isFunction(this.options.items)?
this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;0<=f;f--)for(var g=d(e[f]),h=g.length-1;0<=h;h--){var i=d.data(g[h],this.widgetName);i&&(i!=this&&!i.options.disabled)&&(c.push([d.isFunction(i.options.items)?i.options.items.call(i.element[0],a,{item:this.currentItem}):d(i.options.items,i.element),i]),this.containers.push(i))}for(f=c.length-1;0<=f;f--){a=c[f][1];e=c[f][0];h=0;for(g=
e.length;h<g;h++)i=d(e[h]),i.data(this.widgetName+"-item",a),b.push({item:i,instance:a,width:0,height:0,left:0,top:0})}},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var b=this.items.length-1;0<=b;b--){var c=this.items[b];if(!(c.instance!=this.currentContainer&&this.currentContainer&&c.item[0]!=this.currentItem[0])){var e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):c.item;a||(c.width=e.outerWidth(),c.height=
e.outerHeight());e=e.offset();c.left=e.left;c.top=e.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;0<=b;b--)e=this.containers[b].element.offset(),this.containers[b].containerCache.left=e.left,this.containers[b].containerCache.top=e.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();
return this},_createPlaceholder:function(a){var b=a||this,c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var e=c.placeholder;c.placeholder={element:function(){var a=d(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];e||(a.style.visibility="hidden");return a},update:function(a,d){if(!e||c.forcePlaceholderSize)d.height()||d.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||
0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),d.width()||d.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}b.placeholder=d(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder)},_contactContainers:function(a){for(var b=null,c=null,e=this.containers.length-1;0<=e;e--)if(!d.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!b||
!d.ui.contains(this.containers[e].element[0],b.element[0]))b=this.containers[e],c=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",a,this._uiHash(this)),this.containers[e].containerCache.over=0);if(b)if(1===this.containers.length)this.containers[c]._trigger("over",a,this._uiHash(this)),this.containers[c].containerCache.over=1;else if(this.currentContainer!=this.containers[c]){for(var b=1E4,e=null,f=this.positionAbs[this.containers[c].floating?"left":"top"],g=this.items.length-
1;0<=g;g--)if(d.ui.contains(this.containers[c].element[0],this.items[g].item[0])){var h=this.containers[c].floating?this.items[g].item.offset().left:this.items[g].item.offset().top;Math.abs(h-f)<b&&(b=Math.abs(h-f),e=this.items[g],this.direction=0<h-f?"down":"up")}if(e||this.options.dropOnEmpty)this.currentContainer=this.containers[c],e?this._rearrange(a,e,null,!0):this._rearrange(a,null,this.containers[c].element,!0),this._trigger("change",a,this._uiHash()),this.containers[c]._trigger("change",a,
this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[c]._trigger("over",a,this._uiHash(this)),this.containers[c].containerCache.over=1}},_createHelper:function(a){var b=this.options,a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"==b.helper?this.currentItem.clone():this.currentItem;a.parents("body").length||d("parent"!=b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);a[0]==this.currentItem[0]&&
(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(""==a[0].style.width||b.forceHelperSize)&&a.width(this.currentItem.width());(""==a[0].style.height||b.forceHelperSize)&&a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));d.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&
(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))&&
(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),
10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&(a.containment=
this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var b=
d(a.containment)[0],a=d(a.containment).offset(),c="hidden"!=d(b).css("overflow");this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"==a?1:-1,e="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:b.top+
this.offset.relative.top*c+this.offset.parent.top*c-(d.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*c),left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-(d.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*c)}},_generatePosition:function(a){var b=this.options,c="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);"relative"==this.cssPosition&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=a.pageX,g=a.pageY;if(this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),
a.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),b.grid))g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1],g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g,f=this.originalPageX+Math.round((f-
this.originalPageX)/b.grid[0])*b.grid[0],f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-b.grid[0]:f+b.grid[0]:f;return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+
(d.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!d)},0)},_clear:function(a,b){this.reverting=!1;var c=[];!this._noFinalSort&&
this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&c.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||
this.domPosition.parent!=this.currentItem.parent()[0])&&!b&&c.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&!b&&(c.push(function(a){this._trigger("remove",a,this._uiHash())}),c.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),c.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(e=this.containers.length-1;0<=e;e--)b||c.push(function(a){return function(b){a._trigger("deactivate",
b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(c.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this._storedCursor&&d("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",
a,this._uiHash());for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&
this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.extend(d.ui.sortable,{version:"1.8.24"})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-jquery-jquery-hotkeys', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.hotkeys.js' */
("undefined"===typeof window?global:window).__9d8814c2d651791325671e2fd4ff2ade=function(){var a=jQuery,c=function(a){this.num=0;this.timer=0<a?a:!1},k=function(h){if(a.isPlainObject(h.data)||a.isArray(h.data)||"string"===typeof h.data){var i=h.handler,g={timer:700,combo:[]},b=h.data;"string"===typeof b?g.combo=[b]:a.isArray(b)?g.combo=b:a.extend(g,b);g.combo=a.map(g.combo,function(a){return a.toLowerCase()});h.index=new c(g.timer);h.handler=function(e){if(!(this!==e.target&&/textarea|select|input/i.test(e.target.nodeName))){var d=
"keypress"!==e.type?a.hotkeys.specialKeys[e.which]:null,b=String.fromCharCode(e.which).toLowerCase(),f="",c={};e.altKey&&"alt"!==d&&(f+="alt+");e.ctrlKey&&"ctrl"!==d&&(f+="ctrl+");e.metaKey&&(!e.ctrlKey&&"meta"!==d)&&(f+="meta+");e.shiftKey&&"shift"!==d&&(f+="shift+");e.metaKey&&"["===b&&(b=null);d&&(c[f+d]=!0);b&&(c[f+b]=!0);/shift+/.test(f)&&(c[f.replace("shift+","")+a.hotkeys.shiftNums[d||b]]=!0);d=h.index;b=g.combo;if(j(b[d.val()],c)){if(d.val()===b.length-1)return d.reset(),i.apply(this,arguments);
d.inc()}else d.reset(),j(b[0],c)&&d.inc()}}}},j=function(a,c){for(var g=a.split(" "),b=0,e=g.length;b<e;b++)if(c[g[b]])return!0;return!1};a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",
111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta",219:"[",221:"]"},keypressKeys:["<",">","?"],shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}};a.each(a.hotkeys.keypressKeys,function(c,i){a.hotkeys.shiftNums[i]=i});c.prototype.val=function(){return this.num};c.prototype.inc=
function(){this.timer&&(clearTimeout(this.timeout),this.timeout=setTimeout(a.proxy(c.prototype.reset,this),this.timer));this.num++};c.prototype.reset=function(){this.timer&&clearTimeout(this.timeout);this.num=0};a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:k}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-jquery-jquery-moveto', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.moveto.js' */
("undefined"===typeof window?global:window).__55cc9a6466186ba6dac3b7d90666eefa=function(){jQuery.fn.moveTo=function(a){var a=jQuery.extend({transition:!1,scrollOffset:35},a),c=this,b=c.offset().top;if((jQuery(window).scrollTop()+jQuery(window).height()-this.outerHeight()<b||jQuery(window).scrollTop()+a.scrollOffset>b)&&jQuery(window).height()>a.scrollOffset){b=jQuery(window).scrollTop()+a.scrollOffset>b?b-(jQuery(window).height()-this.outerHeight())+a.scrollOffset:b-a.scrollOffset;if(!jQuery.fn.moveTo.animating&&
a.transition)return jQuery(document).trigger("moveToStarted",this),jQuery.fn.moveTo.animating=!0,jQuery("html,body").animate({scrollTop:b},1E3,function(){jQuery(document).trigger("moveToFinished",c);delete jQuery.fn.moveTo.animating}),this;a=jQuery("html, body");a.is(":animated")&&(a.stop(),delete jQuery.fn.moveTo.animating);jQuery(document).trigger("moveToStarted");jQuery(window).scrollTop(b);setTimeout(function(){jQuery(document).trigger("moveToFinished",c)},100);return this}jQuery(document).trigger("moveToFinished",
this);return this};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-underscorejs-underscore', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/underscorejs/underscore.js' */
("undefined"==typeof window?global:window).__61c16d543bfae33bb4747b45f7b91f35=function(){var n,t={exports:{}},r=t.exports,e={module:t,exports:r},i=(n="__61c16d543bfae33bb4747b45f7b91f35",function(i,u,o){var a,c,l=("undefined"==typeof window?global:window).define;o=[o,u,i].filter((function(n){return"function"==typeof n}))[0],u=[u,i,[]].filter(Array.isArray)[0],c=typeof(a=o.apply(null,u.map((function(n){return e[n]})))),"function"==typeof l&&l("string"==typeof i?i:n,u,o),"string"===c?a=String(a):"number"===c?a=Number(a):"boolean"===c&&(a=Boolean(a)),void 0!==a&&(r=t.exports=a)});return i.amd=!0,function(){var n=this,e=n._,i={},u=Array.prototype,o=Object.prototype,a=Function.prototype,c=u.push,l=u.slice,f=u.concat,s=o.toString,p=o.hasOwnProperty,h=u.forEach,v=u.map,d=u.reduce,y=u.reduceRight,g=u.filter,m=u.every,b=u.some,w=u.indexOf,x=u.lastIndexOf,_=Array.isArray,j=Object.keys,A=a.bind,E=function(n){return n instanceof E?n:this instanceof E?void(this._wrapped=n):new E(n)};void 0!==r?(void 0!==t&&t.exports&&(r=t.exports=E),r._=E):n._=E,E.VERSION="1.5.2";var O=E.each=E.forEach=function(n,t,r){if(null!=n)if(h&&n.forEach===h)n.forEach(t,r);else if(n.length===+n.length){for(var e=0,u=n.length;e<u;e++)if(t.call(r,n[e],e,n)===i)return}else{var o=E.keys(n);for(e=0,u=o.length;e<u;e++)if(t.call(r,n[o[e]],o[e],n)===i)return}};E.map=E.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(O(n,(function(n,i,u){e.push(t.call(r,n,i,u))})),e)};var k="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),d&&n.reduce===d)return e&&(t=E.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(O(n,(function(n,u,o){i?r=t.call(e,r,n,u,o):(r=n,i=!0)})),!i)throw new TypeError(k);return r},E.reduceRight=E.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),y&&n.reduceRight===y)return e&&(t=E.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(u!==+u){var o=E.keys(n);u=o.length}if(O(n,(function(a,c,l){c=o?o[--u]:--u,i?r=t.call(e,r,n[c],c,l):(r=n[c],i=!0)})),!i)throw new TypeError(k);return r},E.find=E.detect=function(n,t,r){var e;return F(n,(function(n,i,u){if(t.call(r,n,i,u))return e=n,!0})),e},E.filter=E.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(O(n,(function(n,i,u){t.call(r,n,i,u)&&e.push(n)})),e)},E.reject=function(n,t,r){return E.filter(n,(function(n,e,i){return!t.call(r,n,e,i)}),r)},E.every=E.all=function(n,t,r){t||(t=E.identity);var e=!0;return null==n?e:m&&n.every===m?n.every(t,r):(O(n,(function(n,u,o){if(!(e=e&&t.call(r,n,u,o)))return i})),!!e)};var F=E.some=E.any=function(n,t,r){t||(t=E.identity);var e=!1;return null==n?e:b&&n.some===b?n.some(t,r):(O(n,(function(n,u,o){if(e||(e=t.call(r,n,u,o)))return i})),!!e)};E.contains=E.include=function(n,t){return null!=n&&(w&&n.indexOf===w?-1!=n.indexOf(t):F(n,(function(n){return n===t})))},E.invoke=function(n,t){var r=l.call(arguments,2),e=E.isFunction(t);return E.map(n,(function(n){return(e?t:n[t]).apply(n,r)}))},E.pluck=function(n,t){return E.map(n,(function(n){return n[t]}))},E.where=function(n,t,r){return E.isEmpty(t)?r?void 0:[]:E[r?"find":"filter"](n,(function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0}))},E.findWhere=function(n,t){return E.where(n,t,!0)},E.max=function(n,t,r){if(!t&&E.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&E.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return O(n,(function(n,i,u){var o=t?t.call(r,n,i,u):n;o>e.computed&&(e={value:n,computed:o})})),e.value},E.min=function(n,t,r){if(!t&&E.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&E.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return O(n,(function(n,i,u){var o=t?t.call(r,n,i,u):n;o<e.computed&&(e={value:n,computed:o})})),e.value},E.shuffle=function(n){var t,r=0,e=[];return O(n,(function(n){t=E.random(r++),e[r-1]=e[t],e[t]=n})),e},E.sample=function(n,t,r){return arguments.length<2||r?n[E.random(n.length-1)]:E.shuffle(n).slice(0,Math.max(0,t))};var M=function(n){return E.isFunction(n)?n:function(t){return t[n]}};E.sortBy=function(n,t,r){var e=M(t);return E.pluck(E.map(n,(function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}})).sort((function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index})),"value")};var R=function(n){return function(t,r,e){var i={},u=null==r?E.identity:M(r);return O(t,(function(r,o){var a=u.call(e,r,o,t);n(i,a,r)})),i}};E.groupBy=R((function(n,t,r){(E.has(n,t)?n[t]:n[t]=[]).push(r)})),E.indexBy=R((function(n,t,r){n[t]=r})),E.countBy=R((function(n,t){E.has(n,t)?n[t]++:n[t]=1})),E.sortedIndex=function(n,t,r,e){for(var i=(r=null==r?E.identity:M(r)).call(e,t),u=0,o=n.length;u<o;){var a=u+o>>>1;r.call(e,n[a])<i?u=a+1:o=a}return u},E.toArray=function(n){return n?E.isArray(n)?l.call(n):n.length===+n.length?E.map(n,E.identity):E.values(n):[]},E.size=function(n){return null==n?0:n.length===+n.length?n.length:E.keys(n).length},E.first=E.head=E.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:l.call(n,0,t)},E.initial=function(n,t,r){return l.call(n,0,n.length-(null==t||r?1:t))},E.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:l.call(n,Math.max(n.length-t,0))},E.rest=E.tail=E.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},E.compact=function(n){return E.filter(n,E.identity)};var S=function(n,t,r){return t&&E.every(n,E.isArray)?f.apply(r,n):(O(n,(function(n){E.isArray(n)||E.isArguments(n)?t?c.apply(r,n):S(n,t,r):r.push(n)})),r)};E.flatten=function(n,t){return S(n,t,[])},E.without=function(n){return E.difference(n,l.call(arguments,1))},E.uniq=E.unique=function(n,t,r,e){E.isFunction(t)&&(e=r,r=t,t=!1);var i=r?E.map(n,r,e):n,u=[],o=[];return O(i,(function(r,e){(t?e&&o[o.length-1]===r:E.contains(o,r))||(o.push(r),u.push(n[e]))})),u},E.union=function(){return E.uniq(E.flatten(arguments,!0))},E.intersection=function(n){var t=l.call(arguments,1);return E.filter(E.uniq(n),(function(n){return E.every(t,(function(t){return E.indexOf(t,n)>=0}))}))},E.difference=function(n){var t=f.apply(u,l.call(arguments,1));return E.filter(n,(function(n){return!E.contains(t,n)}))},E.zip=function(){for(var n=E.max(E.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=E.pluck(arguments,""+r);return t},E.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},E.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return n[e=E.sortedIndex(n,t)]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(w&&n.indexOf===w)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},E.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(x&&n.lastIndexOf===x)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},E.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var I=function(){};E.bind=function(n,t){var r,e;if(A&&n.bind===A)return A.apply(n,l.call(arguments,1));if(!E.isFunction(n))throw new TypeError;return r=l.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(l.call(arguments)));I.prototype=n.prototype;var i=new I;I.prototype=null;var u=n.apply(i,r.concat(l.call(arguments)));return Object(u)===u?u:i}},E.partial=function(n){var t=l.call(arguments,1);return function(){return n.apply(this,t.concat(l.call(arguments)))}},E.bindAll=function(n){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return O(t,(function(t){n[t]=E.bind(n[t],n)})),n},E.memoize=function(n,t){var r={};return t||(t=E.identity),function(){var e=t.apply(this,arguments);return E.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},E.delay=function(n,t){var r=l.call(arguments,2);return setTimeout((function(){return n.apply(null,r)}),t)},E.defer=function(n){return E.delay.apply(E,[n,1].concat(l.call(arguments,1)))},E.throttle=function(n,t,r){var e,i,u,o=null,a=0;r||(r={});var c=function(){a=!1===r.leading?0:new Date,o=null,u=n.apply(e,i)};return function(){var l=new Date;a||!1!==r.leading||(a=l);var f=t-(l-a);return e=this,i=arguments,f<=0?(clearTimeout(o),o=null,a=l,u=n.apply(e,i)):o||!1===r.trailing||(o=setTimeout(c,f)),u}},E.debounce=function(n,t,r){var e,i,u,o,a;return function(){u=this,i=arguments,o=new Date;var c=function(){var l=new Date-o;l<t?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(u,i)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(u,i)),a}},E.once=function(n){var t,r=!1;return function(){return r||(r=!0,t=n.apply(this,arguments),n=null),t}},E.wrap=function(n,t){return function(){var r=[n];return c.apply(r,arguments),t.apply(this,r)}},E.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},E.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},E.keys=j||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)E.has(n,r)&&t.push(r);return t},E.values=function(n){for(var t=E.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},E.pairs=function(n){for(var t=E.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},E.invert=function(n){for(var t={},r=E.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},E.functions=E.methods=function(n){var t=[];for(var r in n)E.isFunction(n[r])&&t.push(r);return t.sort()},E.extend=function(n){return O(l.call(arguments,1),(function(t){if(t)for(var r in t)n[r]=t[r]})),n},E.pick=function(n){var t={},r=f.apply(u,l.call(arguments,1));return O(r,(function(r){r in n&&(t[r]=n[r])})),t},E.omit=function(n){var t={},r=f.apply(u,l.call(arguments,1));for(var e in n)E.contains(r,e)||(t[e]=n[e]);return t},E.defaults=function(n){return O(l.call(arguments,1),(function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])})),n},E.clone=function(n){return E.isObject(n)?E.isArray(n)?n.slice():E.extend({},n):n},E.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof E&&(n=n._wrapped),t instanceof E&&(t=t._wrapped);var i=s.call(n);if(i!=s.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var o=n.constructor,a=t.constructor;if(o!==a&&!(E.isFunction(o)&&o instanceof o&&E.isFunction(a)&&a instanceof a))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==i){if(l=(c=n.length)==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var f in n)if(E.has(n,f)&&(c++,!(l=E.has(t,f)&&N(n[f],t[f],r,e))))break;if(l){for(f in t)if(E.has(t,f)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};E.isEqual=function(n,t){return N(n,t,[],[])},E.isEmpty=function(n){if(null==n)return!0;if(E.isArray(n)||E.isString(n))return 0===n.length;for(var t in n)if(E.has(n,t))return!1;return!0},E.isElement=function(n){return!(!n||1!==n.nodeType)},E.isArray=_||function(n){return"[object Array]"==s.call(n)},E.isObject=function(n){return n===Object(n)},O(["Arguments","Function","String","Number","Date","RegExp"],(function(n){E["is"+n]=function(t){return s.call(t)=="[object "+n+"]"}})),E.isArguments(arguments)||(E.isArguments=function(n){return!(!n||!E.has(n,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(n){return"function"==typeof n}),E.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},E.isNaN=function(n){return E.isNumber(n)&&n!=+n},E.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==s.call(n)},E.isNull=function(n){return null===n},E.isUndefined=function(n){return void 0===n},E.has=function(n,t){return p.call(n,t)},E.noConflict=function(){return n._=e,this},E.identity=function(n){return n},E.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},E.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=E.invert(T.escape);var B={escape:new RegExp("["+E.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(T.unescape).join("|")+")","g")};E.each(["escape","unescape"],(function(n){E[n]=function(t){return null==t?"":(""+t).replace(B[n],(function(t){return T[n][t]}))}})),E.result=function(n,t){if(null!=n){var r=n[t];return E.isFunction(r)?r.call(n):r}},E.mixin=function(n){O(E.functions(n),(function(t){var r=E[t]=n[t];E.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),P.call(this,r.apply(E,n))}}))};var q=0;E.uniqueId=function(n){var t=++q+"";return n?n+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g,$=/^\s*(\w|\$)+\s*$/;E.template=function(n,t,r){var e;r=E.defaults({},r,E.templateSettings);var i=new RegExp([(r.escape||D).source,(r.interpolate||D).source,(r.evaluate||D).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(i,(function(t,r,e,i,a){return o+=n.slice(u,a).replace(C,(function(n){return"\\"+z[n]})),r&&(o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(o+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),u=a+t.length,t})),o+="';\n";var a=r.variable;if(a){if(!$.test(a))throw new Error(a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{e=new Function(a,"_",o)}catch(n){throw n.source=o,n}if(t)return e(t,E);var c=function(n){return e.call(this,n,E)};return c.source="function("+a+"){\n"+o+"}",c},E.chain=function(n){return E(n).chain()};var P=function(n){return this._chain?E(n).chain():n};E.mixin(E),O(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var t=u[n];E.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],P.call(this,r)}})),O(["concat","join","slice"],(function(n){var t=u[n];E.prototype[n]=function(){return P.call(this,t.apply(this._wrapped,arguments))}})),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),"function"==typeof window.define&&i("underscore",[],(function(){return window._})),t.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-underscore', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/underscore.js' */
("undefined"===typeof window?global:window).__922acd0053a6de3ea4c53d8902766ab6=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__61c16d543bfae33bb4747b45f7b91f35,a=a&&a.__esModule?a:{"default":a};window._||(window._=a.default);b.default=window._;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-when-i-type', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/when-i-type.js' */
("undefined"===typeof window?global:window).__28e4efe4472a2cec72985d259674db56=function(){function p(e){return e&&e.__esModule?e:{"default":e}}function n(f){function i(a){!v.popup.current&&h&&h.fire(a)}function d(a){a.preventDefault()}function g(a){(a&&a.split?e.default.trim(a).split(" "):[a]).forEach(function(c){if(!(c instanceof Array)){for(var c=c.toString(),b=[],m="";c.length;){var a=c.match(/^(ctrl|meta|shift|alt)\+/i),f=c.match(w);a?(m+=a[0],c=c.substring(a[0].length)):(f?(b.push(m+f[0]),c=
c.substring(f[0].length)):(b.push(m+c[0]),c=c.substring(1)),m="")}c=b}a:{for(b=c.length;b--;)if(1<c[b].length&&"space"!==c[b]){b=!0;break a}b=!1}b=b?"keydown":"keypress";l.push(c);(0,e.default)(document).bind(b,c,i);(0,e.default)(document).bind(b+" keyup",c,d)})}function k(a,c,b){b?c+=" ("+AJS.format("Type \'\'{0}\'\'",a.shift()):(c=c.replace(/\)$/,""),c+=AJS.format("OR \'\'{0}\'\'",a.shift()));a.forEach(function(b){c=c+(" "+AJS.format("then \'\'{0}\'\'",
b))});return c+=")"}var l=[],h=e.default.Callbacks();g(f);return n.makeShortcut({executor:h,bindKeys:g,addShortcutsToTitle:function(a){for(var a=(0,e.default)(a),c=a.attr("title")||"",b=l.slice(),m=a.data("boundKeyCombos")||[],j=a.data("kbShortcutAppended")||"",f=!j,c=f?c:c.substring(0,c.length-j.length);b.length;){var d=b.shift();m.some(function(b){return x.default.isEqual(d,b)})||(j=k(d.slice(),j,f),f=!1)}t&&(j=j.replace(/Meta/ig,"\u2318").replace(/Shift/ig,"\u21e7"));a.attr("title",c+j);a.data("kbShortcutAppended",
j);a.data("boundKeyCombos",m.concat(l))},removeShortcutsFromTitle:function(a){var a=(0,e.default)(a),c=a.data("kbShortcutAppended");if(c){var b=a.attr("title");a.attr("title",b.replace(c,""));a.removeData("kbShortcutAppended");a.removeData("boundKeyCombos")}},keypressHandler:i,defaultPreventionHandler:d})}var q={};"use strict";Object.defineProperty(q,"__esModule",{value:!0});var e=p(__307d3e18fd611f85395c67cddeb1fe24);__9d8814c2d651791325671e2fd4ff2ade;__55cc9a6466186ba6dac3b7d90666eefa;var r;var g=
__cf890abdf040e0993fb71f2f839bc972;if(g&&g.__esModule)r=g;else{var s={};if(null!=g)for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&(s[o]=g[o]);s.default=g;r=s}var v=__8eca5e5171c0c22be18ea931ed65c747;o=p(__4d02fe17b8e885a34493e34af3d145dd);var y=__5e80b2d38fa1ffdd67aa3d521738d499,z=p(__509557c937caa8763def39004fcf3193),x=p(__922acd0053a6de3ea4c53d8902766ab6),t=-1!==navigator.platform.indexOf("Mac"),w=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i,
u=function(e){var i=e[0];i&&"MouseEvent"in window?(e=void 0,(0,y.supportsNewMouseEvent)()?e=new MouseEvent("click",{bubbles:!0,cancelable:!0}):(e=document.createEvent("MouseEvent"),e.initEvent("click",!0,!0)),i.dispatchEvent(e)):e.trigger("click")};n.makeShortcut=function(f){function i(b){return function(c,a){var a=a||{},f=a.focusedClass||"focused",i=a.hasOwnProperty("wrapAround")?a.wrapAround:!0,g=a.hasOwnProperty("escToCancel")?a.escToCancel:!0;d.add(function(){var a=(0,e.default)(c),d=a.filter("."+
f),j=0===d.length?void 0:{transition:!0};if(g)(0,e.default)(document).one("keydown",function(b){b.keyCode===z.default.ESCAPE&&d&&d.removeClass(f)});d.length&&d.removeClass(f);if((d=b(d,a,i))&&0<d.length)d.addClass(f),d.moveTo(j),d.is("a")?d.focus():d.find("a:first").focus()});return this}}var d=f.executor,g=f.bindKeys,k=f.addShortcutsToTitle,l=f.removeShortcutsFromTitle,h=f.keypressHandler,a=f.defaultPreventionHandler,c=[];return{moveToNextItem:i(function(b,a,c){var d;if(c&&0===b.length)return a.eq(0);
d=e.default.inArray(b.get(0),a);return d<a.length-1?a.eq(d+1):c?a.eq(0):b}),moveToPrevItem:i(function(b,a,c){var d;if(c&&0===b.length)return a.filter(":last");d=e.default.inArray(b.get(0),a);return 0<d?a.eq(d-1):c?a.filter(":last"):b}),click:function(b){c.push(b);k(b);d.add(function(){var a=(0,e.default)(b);u(a)});return this},goTo:function(b){d.add(function(){window.location.href=b});return this},followLink:function(b){c.push(b);k(b);d.add(function(){var a=(0,e.default)(b)[0];a&&{a:!0,link:!0}[a.nodeName.toLowerCase()]&&
(window.location.href=a.href)});return this},execute:function(b){var a=this;d.add(function(){b.apply(a,arguments)});return this},evaluate:function(b){b.call(this)},moveToAndClick:function(b){c.push(b);k(b);d.add(function(){var a=(0,e.default)(b);0<a.length&&(u(a),a.moveTo())});return this},moveToAndFocus:function(a){c.push(a);k(a);d.add(function(c){var d=(0,e.default)(a);0<d.length&&(d.focus(),d.moveTo&&d.moveTo(),d.is(":input")&&c.preventDefault())});return this},or:function(a){g(a);return this},
unbind:function(){(0,e.default)(document).unbind("keydown keypress",h).unbind("keydown keypress keyup",a);for(var b=0,d=c.length;b<d;b++)l(c[b]);c=[]}}};n.fromJSON=function(f,g){var d=[];f&&e.default.each(f,function(f,k){var l=k.op,h=k.param,a=void 0;if("execute"===l||"evaluate"===l)a=[new Function(h)];else if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(h)){try{a=JSON.parse(h)}catch(c){r.error("When using a parameter array, array must be in strict JSON format: "+h)}e.default.isArray(a)||r.error("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+
h)}else a=[h];e.default.each(k.keys,function(){var b=this;g&&t&&(b=e.default.map(b,function(a){return a.replace(/ctrl/i,"meta")}));b=n(b);b[l].apply(b,a);d.push(b)})});return d};(0,e.default)(document).bind("iframeAppended",function(f,g){(0,e.default)(g).load(function(){(0,e.default)(g).contents().bind("keyup keydown keypress",function(d){e.default.browser.safari&&"keypress"===d.type||(0,e.default)(d.target).is(":input")||e.default.event.trigger(d,arguments,document,!0)})})});(0,o.default)("whenIType",
n);q.default=n;return q=q["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-cookie', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/cookie.js' */
("undefined"===typeof window?global:window).__74896855d42a16a84b35c202ab5bc9b4=function(){function l(a){a=RegExp("\\b"+a.replace(i,"\\$&")+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)");return(a=document.cookie.match(a))&&a[1].replace(o,"")}function j(a,f,c){var d=l(k),b=RegExp("(\\s|\\|)*\\b"+a.replace(i,"\\$&")+"=[^|]*[|]*"),d=(d||"").replace(b,"|");""!==f&&(a=a+"="+f,4020>d.length+a.length&&(d+="|"+a));d=d.replace(p,"|");a=k;c=c||365;f="";d='"'+d.replace(q,'\\"')+'"';c&&(f=new Date,f.setTime(+f+864E5*c),f=
"; expires="+f.toGMTString());document.cookie=a+"="+d+f+";path=/"}function m(a,b){var c;c=(c=l(k))||"";var d=RegExp(a.replace(i,"\\$&")+"=([^|]+)");c=(c=c.match(d))&&c[1];return null!=c?c:b}function n(a){j(a,"")}var g={};"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.save=g.read=g.erase=void 0;var b;b=__c8cfa00f1eba9ac7af89ee3d0d33961d;if(!b||!b.__esModule){var e={};if(null!=b)for(var h in b)Object.prototype.hasOwnProperty.call(b,h)&&(e[h]=b[h]);e.default=b;b=e}var e=(e=__4d02fe17b8e885a34493e34af3d145dd)&&
e.__esModule?e:{"default":e},k="AJS.conglomerate.cookie",o=/(\\|^"|"$)/g,p=/\|\|+/g,q=/"/g,i=/[.*+?|^$()[\]{\\]/g;h={erase:n,read:m,save:j};(0,e.default)("cookie",h);(0,e.default)("Cookie",h);b.prop(AJS,"Cookie",{alternativeName:"cookie",sinceVersion:"5.8.0"});g.erase=n;g.read=m;g.save=j;return g}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.os.js' */
("undefined"===typeof window?global:window).__9046514ee4273e195fc535faaba755b5=function(){jQuery.os={};var a=navigator.platform.toLowerCase();jQuery.os.windows=-1!=a.indexOf("win");jQuery.os.mac=-1!=a.indexOf("mac");jQuery.os.linux=-1!=a.indexOf("linux");return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/plugins/jquery.form.js' */
(function(b){function m(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}b.fn.ajaxSubmit=function(a){function f(){function d(){var a=j.attr("target"),k=j.attr("action");c.setAttribute("target",f);"POST"!=c.getAttribute("method")&&c.setAttribute("method","POST");c.getAttribute("action")!=e.url&&c.setAttribute("action",e.url);e.skipEncodingOverride||
j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});e.timeout&&setTimeout(function(){s=!0;g()},e.timeout);var l=[];try{if(e.extraData)for(var m in e.extraData)l.push(b('<input type="hidden" name="'+m+'" value="'+e.extraData[m]+'" />').appendTo(c)[0]);i.appendTo("body");h.attachEvent?h.attachEvent("onload",g):h.addEventListener("load",g,!1);c.submit()}finally{c.setAttribute("action",k),a?c.setAttribute("target",a):j.removeAttr("target"),b(l).remove()}}function g(){if(!k.aborted){var a=
h.contentWindow?h.contentWindow.document:h.contentDocument?h.contentDocument:h.document;if(a&&a.location.href!=e.iframeSrc){h.detachEvent?h.detachEvent("onload",g):h.removeEventListener("load",g,!1);var d=!0;try{if(s)throw"timeout";var c="xml"==e.dataType||a.XMLDocument||b.isXMLDoc(a);m("isXml="+c);if(!c&&(window.opera&&(null==a.body||""==a.body.innerHTML))&&--w){m("requeing onLoad callback, DOM not available");setTimeout(g,250);return}k.responseText=a.body?a.body.innerHTML:a.documentElement?a.documentElement.innerHTML:
null;k.responseXML=a.XMLDocument?a.XMLDocument:a;k.getResponseHeader=function(a){return{"content-type":e.dataType}[a]};var f=/(json|script)/.test(e.dataType);if(f||e.textarea){var j=a.getElementsByTagName("textarea")[0];if(j)k.responseText=j.value;else if(f){var o=a.getElementsByTagName("pre")[0],q=a.getElementsByTagName("body")[0];o?k.responseText=o.textContent:q&&(k.responseText=q.innerHTML)}}else"xml"==e.dataType&&(!k.responseXML&&null!=k.responseText)&&(k.responseXML=x(k.responseText));var a=
k,p=e.dataType,c=e,t=a.getResponseHeader("content-type")||"",u="xml"===p||!p&&0<=t.indexOf("xml"),n=u?a.responseXML:a.responseText;u&&"parsererror"===n.documentElement.nodeName&&b.error&&b.error("parsererror");c&&c.dataFilter&&(n=c.dataFilter(n,p));"string"===typeof n&&("json"===p||!p&&0<=t.indexOf("json")?n=y(n):("script"===p||!p&&0<=t.indexOf("javascript"))&&b.globalEval(n));v=n}catch(r){m("error caught:",r),d=!1,k.error=r,e.error&&e.error.call(e.context,k,"error",r),l&&b.event.trigger("ajaxError",
[k,e,r])}k.aborted&&(m("upload aborted"),d=!1);d&&(e.success&&e.success.call(e.context,v,"success",k),l&&b.event.trigger("ajaxSuccess",[k,e]));l&&b.event.trigger("ajaxComplete",[k,e]);l&&!--b.active&&b.event.trigger("ajaxStop");e.complete&&e.complete.call(e.context,k,d?"success":"error");setTimeout(function(){i.removeData("form-plugin-onload");i.remove();k.responseXML=null},100)}}}var c=j[0];if(b(":input[name=submit],:input[id=submit]",c).length)alert('Error: Form elements must not have name or id of "submit".');
else{var e=b.extend(!0,{},b.ajaxSettings,a);e.context=e.context||e;var f="jqFormIO"+(new Date).getTime(),i=b('<iframe id="'+f+'" name="'+f+'" src="'+e.iframeSrc+'" />'),h=i[0];i.css({position:"absolute",top:"-1000px",left:"-1000px"});var k={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){m("aborting upload...");this.aborted=1;i.attr("src",e.iframeSrc);k.error="aborted";
e.error&&e.error.call(e.context,k,"error","aborted");l&&b.event.trigger("ajaxError",[k,e,"aborted"]);e.complete&&e.complete.call(e.context,k,"error")}},l=e.global;l&&!b.active++&&b.event.trigger("ajaxStart");l&&b.event.trigger("ajaxSend",[k,e]);if(e.beforeSend&&!1===e.beforeSend.call(e.context,k,e))e.global&&b.active--;else if(!k.aborted){var s=0,o=c.clk;if(o){var q=o.name;q&&!o.disabled&&(e.extraData=e.extraData||{},e.extraData[q]=o.value,"image"==o.type&&(e.extraData[q+".x"]=c.clk_x,e.extraData[q+
".y"]=c.clk_y))}e.forceSync?d():setTimeout(d,10);var v,w=50,x=b.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},y=b.parseJSON||function(a){return window.eval("("+a+")")}}}}if(!this.length)return m("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof a&&(a={success:a});var c=
this.attr("action");(c="string"===typeof c?b.trim(c):"")&&(c=(c.match(/^([^#]+)/)||[])[1]);c=c||window.location.href||"";a=b.extend(!0,{url:c,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);c={};this.trigger("form-pre-serialize",[this,a,c]);if(c.veto)return m("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return m("ajaxSubmit: submit aborted via beforeSerialize callback"),
this;var d,g,i=this.formToArray(a.semantic);if(a.data)for(d in a.extraData=a.data,a.data)if(a.data[d]instanceof Array)for(var h in a.data[d])i.push({name:d,value:a.data[d][h]});else g=a.data[d],g=b.isFunction(g)?g():g,i.push({name:d,value:g});if(a.beforeSubmit&&!1===a.beforeSubmit(i,this,a))return m("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[i,this,a,c]);if(c.veto)return m("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;d=b.param(i);
"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+d,a.data=null):a.data=d;var j=this,l=[];a.resetForm&&l.push(function(){j.resetForm()});a.clearForm&&l.push(function(){j.clearForm()});if(!a.dataType&&a.target){var s=a.success||function(){};l.push(function(d){var c=a.replaceTarget?"replaceWith":"html";b(a.target)[c](d).each(s,arguments)})}else a.success&&l.push(a.success);a.success=function(b,d,c){for(var e=a.context||a,g=0,f=l.length;g<f;g++)l[g].apply(e,[b,d,c||j,j])};d=0<b("input:file",
this).length;h="multipart/form-data"==j.attr("enctype")||"multipart/form-data"==j.attr("encoding");!1!==a.iframe&&(d||a.iframe||h)?a.closeKeepAlive?b.get(a.closeKeepAlive,f):f():b.ajax(a);this.trigger("form-submit-notify",[this,a]);return this};b.fn.ajaxForm=function(a){if(0===this.length){var f=this.selector,c=this.context;if(!b.isReady&&f)return m("DOM not ready, queuing ajaxForm"),b(function(){b(f,c).ajaxForm(a)}),this;m("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));
return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(d){d.isDefaultPrevented()||(d.preventDefault(),b(this).ajaxSubmit(a))}).bind("click.form-plugin",function(a){var c=a.target,f=b(c);if(!f.is(":submit,input:image")){c=f.closest(":submit");if(0==c.length)return;c=c[0]}var h=this;h.clk=c;"image"==c.type&&(void 0!=a.offsetX?(h.clk_x=a.offsetX,h.clk_y=a.offsetY):"function"==typeof b.fn.offset?(f=f.offset(),h.clk_x=a.pageX-f.left,h.clk_y=a.pageY-f.top):(h.clk_x=a.pageX-c.offsetLeft,
h.clk_y=a.pageY-c.offsetTop));setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a){var f=[];if(0===this.length)return f;var c=this[0],d=a?c.getElementsByTagName("*"):c.elements;if(!d)return f;var g,i,h,j,l,m;g=0;for(l=d.length;g<l;g++)if(i=d[g],h=i.name)if(a&&c.clk&&"image"==i.type)!i.disabled&&c.clk==i&&(f.push({name:h,value:b(i).val()}),f.push({name:h+".x",value:c.clk_x},
{name:h+".y",value:c.clk_y}));else if((j=b.fieldValue(i,!0))&&j.constructor==Array){i=0;for(m=j.length;i<m;i++)f.push({name:h,value:j[i]})}else null!==j&&"undefined"!=typeof j&&f.push({name:h,value:j});if(!a&&c.clk&&(a=b(c.clk),d=a[0],(h=d.name)&&!d.disabled&&"image"==d.type))f.push({name:h,value:a.val()}),f.push({name:h+".x",value:c.clk_x},{name:h+".y",value:c.clk_y});return f};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var f=[];this.each(function(){var c=
this.name;if(c){var d=b.fieldValue(this,a);if(d&&d.constructor==Array)for(var g=0,i=d.length;g<i;g++)f.push({name:c,value:d[g]});else null!==d&&"undefined"!=typeof d&&f.push({name:this.name,value:d})}});return b.param(f)};b.fn.fieldValue=function(a){for(var f=[],c=0,d=this.length;c<d;c++){var g=b.fieldValue(this[c],a);null===g||("undefined"==typeof g||g.constructor==Array&&!g.length)||(g.constructor==Array?b.merge(f,g):f.push(g))}return f};b.fieldValue=function(a,f){var c=a.name,d=a.type,g=a.tagName.toLowerCase();
void 0===f&&(f=!0);if(f&&(!c||a.disabled||"reset"==d||"button"==d||("checkbox"==d||"radio"==d)&&!a.checked||("submit"==d||"image"==d)&&a.form&&a.form.clk!=a||"select"==g&&-1==a.selectedIndex))return null;if("select"==g){var i=a.selectedIndex;if(0>i)return null;for(var c=[],g=a.options,h=(d="select-one"==d)?i+1:g.length,i=d?i:0;i<h;i++){var j=g[i];if(j.selected){var l=j.value;l||(l=j.attributes&&j.attributes.value&&!j.attributes.value.specified?j.text:j.value);if(d)return l;c.push(l)}}return c}return b(a).val()};
b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();"text"==a||"password"==a||"textarea"==b?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==b&&(this.selectedIndex=-1)})};b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};
b.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var f=this.type;"checkbox"==f||"radio"==f?this.checked=a:"option"==this.tagName.toLowerCase()&&(f=b(this).parent("select"),a&&(f[0]&&"select-one"==f[0].type)&&f.find("option").selected(!1),this.selected=a)})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.is-dirty.js' */
jQuery.fn.isDirty=function(){var b,d=[];window.onbeforeunload=function(){var a=window.onbeforeunload;!1!==b&&jQuery.each(d,function(){if(this.initVal!==$(this).val())return b=!0,!1});if(b)return window.onbeforeunload=null,window.setTimeout(function(){jQuery(document).bind("mousemove",function(){window.onbeforeunload=a;jQuery(document).unbind("mousemove",arguments.callee)})},1E3),b=void 0,AJS.params.dirtyMessage||""};return function(a){function c(b){var a=jQuery(this);jQuery.fn.isDirty.fieldInFocus=
a;-1===jQuery.inArray(this,d)&&(this.initVal=a.val(),d.push(this),a.die(b.type,c))}if(0!==this.length)return jQuery(":not(:input)").live("click",function(){delete jQuery.fn.isDirty.fieldInFocus}),jQuery(":input[type != hidden]",this.selector).bind("keydown",c).bind("keypress",c).bind("click",c),jQuery(a.ignoreUnloadFromElems).live("mousedown",function(){b=!1}),this.each(function(){var a=this.onsubmit;this.onsubmit=function(){b=!1;if(a)return a.apply(this,arguments)};$(this).submit(function(){b=!1})}),
this}}();;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.progressbar.js' */
(function(a){a.fn.progressBar=function(e,h){var f=a.extend({height:"1em",showPercentage:!0},h),b=this.attr("id")+"-incomplete-bar",c=this.attr("id")+"-complete-bar",g=this.attr("id")+"-percent-complete-text";if(0==a("#"+b).length){var d=a(document.createElement("div"));d.attr("id",b);d.css({width:"90%",border:"solid 1px #ccc","float":"left","margin-right":"0.5em"});d.addClass("progress-background-color");b=a(document.createElement("div"));b.attr("id",c);b.addClass("progress-fill-color");b.css({height:f.height,
width:e+"%"});c=a(document.createElement("span"));c.attr("id",g);c.addClass("percent-complete-text");c.html(e+"%");d.append(b);this.append(d);f.showPercentage&&this.append(c)}else a("#"+c).css("width",e+"%"),a("#"+g).html(e+"%")}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.selection.js' */
(function(e){document.selection?(e.fn.selection=function(d){var a=this[0];this.focus();if(!a)return!1;if(null==d)return document.selection.createRange().text;var c=a.scrollTop,b=document.selection.createRange();b.text=d;b.select();a.focus();a.scrollTop=c},e.fn.selectionRange=function(d,a){var c=this[0];this.focus();var b=document.selection.createRange();if(null==d){var e=this.val(),g=e.length,f=b.duplicate();f.moveToElementText(c);f.setEndPoint("StartToEnd",b);c=g-f.text.replace(/\u000D/g,"").length;
f.setEndPoint("StartToStart",b);b=g-f.text.replace(/\u000D/g,"").length;c!=b&&"\n"==e.charAt(c+1)&&(c+=1);return{end:c,start:b,text:e.substring(b,c),textBefore:e.substring(0,b),textAfter:e.substring(c)}}b.moveToElementText(c);b.collapse(!0);b.moveStart("character",d);b.moveEnd("character",a-d);b.select()}):(e.fn.selection=function(d){var a=this[0];if(!a)return!1;if(null==d)return a.setSelectionRange?a.value.substring(a.selectionStart,a.selectionEnd):!1;var c=a.scrollTop;if(a.setSelectionRange){var b=
a.selectionStart;a.value=a.value.substring(0,b)+d+a.value.substring(a.selectionEnd);a.selectionStart=b;a.selectionEnd=b+d.length}a.focus();a.scrollTop=c},e.fn.selectionRange=function(d,a){if(null==d){var c={start:this[0].selectionStart,end:this[0].selectionEnd},b=this.val();c.text=b.substring(c.start,c.end);c.textBefore=b.substring(0,c.start);c.textAfter=b.substring(c.end);return c}this[0].selectionStart=d;this[0].selectionEnd=a});e.fn.wrapSelection=function(d,a){this.selection(d+this.selection()+
(a||""))}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'auiplugin/node_modules/@atlassian/aui/src/js/jquery/jquery.throbber.js' */
jQuery.fn.throbber=function(d){var e=[],g={isLatentThreshold:100,minThrobberDisplay:200,loadingClass:"loading"};d(document).ajaxComplete(function(a,b){d(e).each(function(a){b===this.get(0)&&(this.hideThrobber(),e.splice(a,1))})});return function(a){var b,f,c=function(a,b){c.t=setTimeout(function(){clearTimeout(c.t);c.t=void 0;a()},b)},a=d.extend(g,a||{});if(!a.target)return this;f=jQuery(a.target);e.push(d.extend(this,{showThrobber:function(){c(function(){b||(f.addClass(a.loadingClass),c(function(){b&&
b()},a.minThrobberDisplay))},a.isLatentThreshold)},hideThrobber:function(){b=function(){f.removeClass(a.loadingClass);a.end&&a.end()};c.t||b()}}));this.showThrobber();return this}}(jQuery);;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.textoverflow-0.7.4', location = 'atlassian-jslibs/jquery-plugins/jquery.textoverflow/0.7.4/jquery.textoverflow-0.7.4.js' */
/**
 * @preserve jQuery Text Overflow v0.7.4
 *
 * Licensed under the new BSD License.
 * Copyright 2009-2011, Bram Stein
 * All rights reserved.
 */
!function(t){define("atlassian/jquery-plugins/jquery.textoverflow-0.7.4",function(){return function(e){return t(window,document,e),e}})}(function(t,e,n){!function(t){var n=e.documentElement.style,o="textOverflow"in n||"OTextOverflow"in n,i=function(t){return t.replace(/\s+$/g,"")},d=function(e,n,o){var d=0,l=[],r=function(t){var e,a=0,h=0;if(!(d>n))for(a=0;a<t.length;a+=1)1===t[a].nodeType?(e=t[a].cloneNode(!1),l[l.length-1].appendChild(e),l.push(e),r(t[a].childNodes),l.pop()):3===t[a].nodeType?(d+t[a].length<n?l[l.length-1].appendChild(t[a].cloneNode(!1)):(e=t[a].cloneNode(!1),h=n-d,o.wholeWord&&(h=Math.min(n-d,e.textContent.substring(0,n-d).lastIndexOf(" "))),e.textContent=o.trim?i(e.textContent.substring(0,h)):e.textContent.substring(0,h),l[l.length-1].appendChild(e)),d+=t[a].length):l.appendChild(t[a].cloneNode(!1))};return l.push(e.cloneNode(!1)),r(e.childNodes),t(l.pop().childNodes)};t.extend(t.fn,{textOverflow:function(e){var n=t.extend({str:"&#x2026;",autoUpdate:!1,trim:!0,title:!1,className:void 0,wholeWord:!1},e);return o?this:this.each(function(){var e=t(this),o=e.clone(),i=e.clone(),l=e.text(),r=e.width(),a=0,h=0,s=l.length,p=function(){r!==e.width()&&(e.replaceWith(i),e=i,i=e.clone(),e.textOverflow(t.extend({},n,{autoUpdate:!1})),r=e.width())};if(e.after(o.hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit","min-width":"inherit"})),o.width()>r){for(;a<s;)h=Math.floor(a+(s-a)/2),o.empty().append(d(i.get(0),h,n)).append(n.str),o.width()<r?a=h+1:s=h;a<l.length&&(e.empty().append(d(i.get(0),a-1,n)).append(n.str),n.title&&e.attr("title",l),n.className&&e.addClass(n.className))}o.remove(),n.autoUpdate&&setInterval(p,200)})}})}(n)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.pjax-2011.07.10', location = 'atlassian-jslibs/jquery-plugins/jquery.pjax/2011.07.10/jquery.pjax-2011.07.10.js' */
!function(t){define("atlassian/jquery-plugins/jquery.pjax-2011.07.10",function(){return function(e){return t(window,document,e),e}})}(function(t,e,r){!function(r){r.fn.pjax=function(t,e){if(e?e.container=t:e=r.isPlainObject(t)?t:{container:t},e.container&&"string"!=typeof e.container)throw"pjax container must be a string selector!";return this.live("click",function(t){if(t.which>1||t.metaKey)return!0;var a={url:this.href,container:r(this).attr("data-pjax"),clickedElement:r(this),fragment:null};r.pjax(r.extend({},a,e)),t.preventDefault()})},r.pjax=function(a){var n=r(a.container),i=a.success||r.noop;if(delete a.success,"string"!=typeof a.container)throw"pjax container must be a string selector!";var o={timeout:650,push:!0,replace:!1,data:{_pjax:!0},type:"GET",dataType:"html",beforeSend:function(t){n.trigger("start.pjax"),t.setRequestHeader("X-PJAX","true")},error:function(){t.location=a.url},complete:function(){n.trigger("end.pjax")},success:function(o){if(a.fragment){var u=r(o).find(a.fragment);if(!u.length)return t.location=a.url;o=u.children()}else if(!r.trim(o)||/<html/i.test(o))return t.location=a.url;n.html(o);var p=e.title,c=r.trim(n.find("title").remove().text());c&&(e.title=c);var s={pjax:a.container,fragment:a.fragment,timeout:a.timeout},l=r.param(a.data);"_pjax=true"!=l&&(s.url=a.url+(/\?/.test(a.url)?"&":"?")+l),a.replace?t.history.replaceState(s,e.title,a.url):a.push&&(r.pjax.active||(t.history.replaceState(r.extend({},s,{url:null}),p),r.pjax.active=!0),t.history.pushState(s,e.title,a.url)),(a.replace||a.push)&&t._gaq&&_gaq.push(["_trackPageview"]);var h=t.location.hash.toString();""!==h&&(t.location.href=h),i.apply(this,arguments)}};a=r.extend(!0,{},o,a),r.isFunction(a.url)&&(a.url=a.url());var u=r.pjax.xhr;return u&&u.readyState<4&&(u.onreadystatechange=r.noop,u.abort()),r.pjax.xhr=r.ajax(a),r(e).trigger("pjax",r.pjax.xhr,a),r.pjax.xhr};var a="state"in t.history,n=location.href;r(t).bind("popstate",function(e){var i=!a&&location.href==n;if(a=!0,!i){var o=e.state;if(o&&o.pjax){var u=o.pjax;r(u+"").length?r.pjax({url:o.url||location.href,fragment:o.fragment,container:u,push:!1,timeout:o.timeout}):t.location=location.href}}}),r.event.props&&r.inArray("state",r.event.props)<0?r.event.props.push("state"):!r.event.addProp||"state"in r.Event.prototype||r.event.addProp("state"),r.support.pjax=t.history&&t.history.pushState&&t.history.replaceState&&!navigator.userAgent.match(/(iPod|iPhone|iPad|WebApps\/.+CFNetwork)/),r.support.pjax||(r.pjax=function(e){t.location=r.isFunction(e.url)?e.url():e.url},r.fn.pjax=function(){return this})}(r)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.lazyload-1.8.0', location = 'atlassian-jslibs/jquery-plugins/jquery.lazyload/1.8.0/jquery.lazyload-1.8.0.js' */
!function(e){define("atlassian/jquery-plugins/jquery.lazyload-1.8.0",function(){return function(t){return e(window,document,t),t}})}(function(e,t,o){!function(e,t){var o=e(t);e.fn.lazyload=function(n){function i(){var t=0;f.each(function(){var o=e(this);if(!l.skip_invisible||o.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else o.trigger("appear")})}var r,f=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(l,n)),r=void 0===l.container||l.container===t?o:e(l.container),0===l.event.indexOf("scroll")&&r.bind(l.event,function(e){return i()}),this.each(function(){var t=this,o=e(t);t.loaded=!1,o.one("appear",function(){if(!this.loaded){if(l.appear){var n=f.length;l.appear.call(t,n,l)}e("<img />").bind("load",function(){o.hide().attr("src",o.data(l.data_attribute))[l.effect](l.effect_speed),t.loaded=!0;var n=e.grep(f,function(e){return!e.loaded});if(f=e(n),l.load){var i=f.length;l.load.call(t,i,l)}}).error(function(){o.attr("src",o.data(l.data_attribute))}).attr("src",o.data(l.data_attribute))}}),0!==l.event.indexOf("scroll")&&o.bind(l.event,function(e){t.loaded||o.trigger("appear")})}),o.bind("resize",function(e){i()}),i(),this},e.belowthefold=function(n,i){var r;return r=void 0===i.container||i.container===t?o.height()+o.scrollTop():e(i.container).offset().top+e(i.container).height(),r<=e(n).offset().top-i.threshold},e.rightoffold=function(n,i){var r;return r=void 0===i.container||i.container===t?o.width()+o.scrollLeft():e(i.container).offset().left+e(i.container).width(),r<=e(n).offset().left-i.threshold},e.abovethetop=function(n,i){var r;return r=void 0===i.container||i.container===t?o.scrollTop():e(i.container).offset().top,r>=e(n).offset().top+i.threshold+e(n).height()},e.leftofbegin=function(n,i){var r;return r=void 0===i.container||i.container===t?o.scrollLeft():e(i.container).offset().left,r>=e(n).offset().left+i.threshold+e(n).width()},e.inviewport=function(t,o){return!(e.rightofscreen(t,o)||e.leftofscreen(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return!e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(o,e)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.flot-0.7', location = 'atlassian-jslibs/jquery-plugins/jquery.flot/0.7/jquery.flot-0.7.js' */
/*! Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
!function(t){define("atlassian/jquery-plugins/jquery.flot-0.7",function(){return function(i){return t(window,document,i),i}})}(function(t,e,n){!function(t){t.color={},t.color.make=function(i,e,n,o){var a={};return a.r=i||0,a.g=e||0,a.b=n||0,a.a=null!=o?o:1,a.add=function(t,i){for(var e=0;e<t.length;++e)a[t.charAt(e)]+=i;return a.normalize()},a.scale=function(t,i){for(var e=0;e<t.length;++e)a[t.charAt(e)]*=i;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function t(t,i,e){return i<t?t:i>e?e:i}return a.r=t(0,parseInt(a.r),255),a.g=t(0,parseInt(a.g),255),a.b=t(0,parseInt(a.b),255),a.a=t(0,a.a,1),a},a.clone=function(){return t.color.make(a.r,a.b,a.g,a.a)},a.normalize()},t.color.extract=function(i,e){var n;do{if(n=i.css(e).toLowerCase(),""!=n&&"transparent"!=n)break;i=i.parent()}while(!t.nodeName(i.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(e){var n,o=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var a=t.trim(e).toLowerCase();return"transparent"==a?o(255,255,255,0):(n=i[a]||[0,0,0],o(n[0],n[1],n[2]))};var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(n),function(n){function o(o,r,l,s){function c(t,i){i=[Tt].concat(i);for(var e=0;e<t.length;++e)t[e].apply(this,i)}function u(){for(var t=0;t<s.length;++t){var i=s[t];i.init(Tt),i.options&&n.extend(!0,st,i.options)}}function f(t){var i;for(n.extend(!0,st,t),null==st.xaxis.color&&(st.xaxis.color=st.grid.color),null==st.yaxis.color&&(st.yaxis.color=st.grid.color),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=n.color.parse(st.grid.color).scale("a",.22).toString()),i=0;i<Math.max(1,st.xaxes.length);++i)st.xaxes[i]=n.extend(!0,{},st.xaxis,st.xaxes[i]);for(i=0;i<Math.max(1,st.yaxes.length);++i)st.yaxes[i]=n.extend(!0,{},st.yaxis,st.yaxes[i]);for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=n.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top"),st.y2axis&&(st.yaxes[1]=n.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right"),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&n.extend(!0,st.series.lines,st.lines),st.points&&n.extend(!0,st.series.points,st.points),st.bars&&n.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),i=0;i<st.xaxes.length;++i)v(mt,i+1).options=st.xaxes[i];for(i=0;i<st.yaxes.length;++i)v(pt,i+1).options=st.yaxes[i];for(var e in yt)st.hooks[e]&&st.hooks[e].length&&(yt[e]=yt[e].concat(st.hooks[e]));c(yt.processOptions,[st])}function h(t){lt=d(t),b(),k()}function d(t){for(var i=[],e=0;e<t.length;++e){var o=n.extend(!0,{},st.series);null!=t[e].data?(o.data=t[e].data,delete t[e].data,n.extend(!0,o,t[e]),t[e].data=o.data):o.data=t[e],i.push(o)}return i}function m(t,i){var e=t[i+"axis"];return"object"==typeof e&&(e=e.n),"number"!=typeof e&&(e=1),e}function p(){return n.grep(mt.concat(pt),function(t){return t})}function x(t){var i,e,n={};for(i=0;i<mt.length;++i)e=mt[i],e&&e.used&&(n["x"+e.n]=e.c2p(t.left));for(i=0;i<pt.length;++i)e=pt[i],e&&e.used&&(n["y"+e.n]=e.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function g(t){var i,e,n,o={};for(i=0;i<mt.length;++i)if(e=mt[i],e&&e.used&&(n="x"+e.n,null==t[n]&&1==e.n&&(n="x"),null!=t[n])){o.left=e.p2c(t[n]);break}for(i=0;i<pt.length;++i)if(e=pt[i],e&&e.used&&(n="y"+e.n,null==t[n]&&1==e.n&&(n="y"),null!=t[n])){o.top=e.p2c(t[n]);break}return o}function v(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==mt?"x":"y",options:n.extend(!0,{},t==mt?st.xaxis:st.yaxis)}),t[i-1]}function b(){var t,i=lt.length,e=[],o=[];for(t=0;t<lt.length;++t){var a=lt[t].color;null!=a&&(--i,"number"==typeof a?o.push(a):e.push(n.color.parse(lt[t].color)))}for(t=0;t<o.length;++t)i=Math.max(i,o[t]+1);var r=[],l=0;for(t=0;r.length<i;){var s;s=st.colors.length==t?n.color.make(100,100,100):n.color.parse(st.colors[t]);var c=l%2==1?-1:1;s.scale("rgb",1+c*Math.ceil(l/2)*.2),r.push(s),++t,t>=st.colors.length&&(t=0,++l)}var u,f=0;for(t=0;t<lt.length;++t){if(u=lt[t],null==u.color?(u.color=r[f].toString(),++f):"number"==typeof u.color&&(u.color=r[u.color].toString()),null==u.lines.show){var h,d=!0;for(h in u)if(u[h]&&u[h].show){d=!1;break}d&&(u.lines.show=!0)}u.xaxis=v(mt,m(u,"x")),u.yaxis=v(pt,m(u,"y"))}}function k(){function t(t,i,e){i<t.datamin&&i!=-x&&(t.datamin=i),e>t.datamax&&e!=x&&(t.datamax=e)}var i,e,o,a,r,l,s,u,f,h,d=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,x=Number.MAX_VALUE;for(n.each(p(),function(t,i){i.datamin=d,i.datamax=m,i.used=!1}),i=0;i<lt.length;++i)r=lt[i],r.datapoints={points:[]},c(yt.processRawData,[r,r.data,r.datapoints]);for(i=0;i<lt.length;++i){r=lt[i];var g=r.data,v=r.datapoints.format;if(v||(v=[],v.push({x:!0,number:!0,required:!0}),v.push({y:!0,number:!0,required:!0}),(r.bars.show||r.lines.show&&r.lines.fill)&&(v.push({y:!0,number:!0,required:!1,defaultValue:0}),r.bars.horizontal&&(delete v[v.length-1].y,v[v.length-1].x=!0)),r.datapoints.format=v),null==r.datapoints.pointsize)for(r.datapoints.pointsize=v.length,s=r.datapoints.pointsize,l=r.datapoints.points,insertSteps=r.lines.show&&r.lines.steps,r.xaxis.used=r.yaxis.used=!0,e=o=0;e<g.length;++e,o+=s){h=g[e];var b=null==h;if(!b)for(a=0;a<s;++a)u=h[a],f=v[a],f&&(f.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=x:u==-(1/0)&&(u=-x)),null==u&&(f.required&&(b=!0),null!=f.defaultValue&&(u=f.defaultValue))),l[o+a]=u;if(b)for(a=0;a<s;++a)u=l[o+a],null!=u&&(f=v[a],f.x&&t(r.xaxis,u,u),f.y&&t(r.yaxis,u,u)),l[o+a]=null;else if(insertSteps&&o>0&&null!=l[o-s]&&l[o-s]!=l[o]&&l[o-s+1]!=l[o+1]){for(a=0;a<s;++a)l[o+s+a]=l[o+a];l[o+1]=l[o-s+1],o+=s}}}for(i=0;i<lt.length;++i)r=lt[i],c(yt.processDatapoints,[r,r.datapoints]);for(i=0;i<lt.length;++i){r=lt[i],l=r.datapoints.points,s=r.datapoints.pointsize;var k=d,y=d,T=m,w=m;for(e=0;e<l.length;e+=s)if(null!=l[e])for(a=0;a<s;++a)u=l[e+a],f=v[a],f&&u!=x&&u!=-x&&(f.x&&(u<k&&(k=u),u>T&&(T=u)),f.y&&(u<y&&(y=u),u>w&&(w=u)));if(r.bars.show){var M="left"==r.bars.align?0:-r.bars.barWidth/2;r.bars.horizontal?(y+=M,w+=M+r.bars.barWidth):(k+=M,T+=M+r.bars.barWidth)}t(r.xaxis,k,T),t(r.yaxis,y,w)}n.each(p(),function(t,i){i.datamin==d&&(i.datamin=null),i.datamax==m&&(i.datamax=null)})}function y(i,a){var r=e.createElement("canvas");return r.className=a,r.width=gt,r.height=vt,i||n(r).css({position:"absolute",left:0,top:0}),n(r).appendTo(o),r.getContext||(r=t.G_vmlCanvasManager.initElement(r)),r.getContext("2d").save(),r}function T(){if(gt=o.width(),vt=o.height(),gt<=0||vt<=0)throw"Invalid dimensions for plot, width = "+gt+", height = "+vt}function w(t){t.width!=gt&&(t.width=gt),t.height!=vt&&(t.height=vt);var i=t.getContext("2d");i.restore(),i.save()}function M(){var t,i=o.children("canvas.base"),e=o.children("canvas.overlay");0==i.length||0==e?(o.html(""),o.css({padding:0}),"static"==o.css("position")&&o.css("position","relative"),T(),ct=y(!0,"base"),ut=y(!1,"overlay"),t=!1):(ct=i.get(0),ut=e.get(0),t=!0),ht=ct.getContext("2d"),dt=ut.getContext("2d"),ft=n([ut,ct]),t&&(o.data("plot").shutdown(),Tt.resize(),dt.clearRect(0,0,gt,vt),ft.unbind(),o.children().not([ct,ut]).remove()),o.data("plot",Tt)}function C(){st.grid.hoverable&&(ft.mousemove(J),ft.mouseleave($)),st.grid.clickable&&ft.click(K),c(yt.bindEvents,[ft])}function S(){Mt&&clearTimeout(Mt),ft.unbind("mousemove",J),ft.unbind("mouseleave",$),ft.unbind("click",K),c(yt.shutdown,[ft])}function z(t){function i(t){return t}var e,n,o=t.options.transform||i,a=t.options.inverseTransform;"x"==t.direction?(e=t.scale=bt/Math.abs(o(t.max)-o(t.min)),n=Math.min(o(t.max),o(t.min))):(e=t.scale=kt/Math.abs(o(t.max)-o(t.min)),e=-e,n=Math.max(o(t.max),o(t.min))),o==i?t.p2c=function(t){return(t-n)*e}:t.p2c=function(t){return(o(t)-n)*e},a?t.c2p=function(t){return a(n+t/e)}:t.c2p=function(t){return n+t/e}}function W(t){function i(i,e){return n('<div style="position:absolute;top:-10000px;'+e+'font-size:smaller"><div class="'+t.direction+"Axis "+t.direction+t.n+'Axis">'+i.join("")+"</div></div>").appendTo(o)}var e,a,r,l=t.options,s=t.ticks||[],c=[],u=l.labelWidth,f=l.labelHeight;if("x"==t.direction){if(null==u&&(u=Math.floor(gt/(s.length>0?s.length:1))),null==f){for(c=[],e=0;e<s.length;++e)a=s[e].label,a&&c.push('<div class="tickLabel" style="float:left;width:'+u+'px">'+a+"</div>");c.length>0&&(c.push('<div style="clear:left"></div>'),r=i(c,"width:10000px;"),f=r.height(),r.remove())}}else if(null==u||null==f){for(e=0;e<s.length;++e)a=s[e].label,a&&c.push('<div class="tickLabel">'+a+"</div>");c.length>0&&(r=i(c,""),null==u&&(u=r.children().width()),null==f&&(f=r.find("div.tickLabel").height()),r.remove())}null==u&&(u=0),null==f&&(f=0),t.labelWidth=u,t.labelHeight=f}function A(t){var i=t.labelWidth,e=t.labelHeight,o=t.options.position,a=t.options.tickLength,r=st.grid.axisMargin,l=st.grid.labelMargin,s="x"==t.direction?mt:pt,c=n.grep(s,function(t){return t&&t.options.position==o&&t.reserveSpace});n.inArray(t,c)==c.length-1&&(r=0),null==a&&(a="full");var u=n.grep(s,function(t){return t&&t.reserveSpace}),f=0==n.inArray(t,u);f||"full"!=a||(a=5),isNaN(+a)||(l+=+a),"x"==t.direction?(e+=l,"bottom"==o?(xt.bottom+=e+r,t.box={top:vt-xt.bottom,height:e}):(t.box={top:xt.top+r,height:e},xt.top+=e+r)):(i+=l,"left"==o?(t.box={left:xt.left+r,width:i},xt.left+=i+r):(xt.right+=i+r,t.box={left:gt-xt.right,width:i})),t.position=o,t.tickLength=a,t.box.padding=l,t.innermost=f}function F(t){"x"==t.direction?(t.box.left=xt.left,t.box.width=bt):(t.box.top=xt.top,t.box.height=kt)}function I(){var t,i=p();if(n.each(i,function(t,i){i.show=i.options.show,null==i.show&&(i.show=i.used),i.reserveSpace=i.show||i.options.reserveSpace,U(i)}),allocatedAxes=n.grep(i,function(t){return t.reserveSpace}),xt.left=xt.right=xt.top=xt.bottom=0,st.grid.show){for(n.each(allocatedAxes,function(t,i){N(i),D(i),L(i,i.ticks),W(i)}),t=allocatedAxes.length-1;t>=0;--t)A(allocatedAxes[t]);var e=st.grid.minBorderMargin;if(null==e)for(e=0,t=0;t<lt.length;++t)e=Math.max(e,lt[t].points.radius+lt[t].points.lineWidth/2);for(var o in xt)xt[o]+=st.grid.borderWidth,xt[o]=Math.max(e,xt[o])}bt=gt-xt.left-xt.right,kt=vt-xt.bottom-xt.top,n.each(i,function(t,i){z(i)}),st.grid.show&&(n.each(allocatedAxes,function(t,i){F(i)}),j()),G()}function U(t){var i=t.options,e=+(null!=i.min?i.min:t.datamin),n=+(null!=i.max?i.max:t.datamax),o=n-e;if(0==o){var a=0==n?1:.01;null==i.min&&(e-=a),null!=i.max&&null==i.min||(n+=a)}else{var r=i.autoscaleMargin;null!=r&&(null==i.min&&(e-=o*r,e<0&&null!=t.datamin&&t.datamin>=0&&(e=0)),null==i.max&&(n+=o*r,n>0&&null!=t.datamax&&t.datamax<=0&&(n=0)))}t.min=e,t.max=n}function N(t){var i,e=t.options;i="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==t.direction?gt:vt);var o,r,l,s,c,u,f,h=(t.max-t.min)/i;if("time"==e.mode){var d={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},m=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],p=0;null!=e.minTickSize&&(p="number"==typeof e.tickSize?e.tickSize:e.minTickSize[0]*d[e.minTickSize[1]]);for(var c=0;c<m.length-1&&!(h<(m[c][0]*d[m[c][1]]+m[c+1][0]*d[m[c+1][1]])/2&&m[c][0]*d[m[c][1]]>=p);++c);o=m[c][0],l=m[c][1],"year"==l&&(u=Math.pow(10,Math.floor(Math.log(h/d.year)/Math.LN10)),f=h/d.year/u,o=f<1.5?1:f<3?2:f<7.5?5:10,o*=u),t.tickSize=e.tickSize||[o,l],r=function(t){var i=[],e=t.tickSize[0],n=t.tickSize[1],o=new Date(t.min),r=e*d[n];"second"==n&&o.setUTCSeconds(a(o.getUTCSeconds(),e)),"minute"==n&&o.setUTCMinutes(a(o.getUTCMinutes(),e)),"hour"==n&&o.setUTCHours(a(o.getUTCHours(),e)),"month"==n&&o.setUTCMonth(a(o.getUTCMonth(),e)),"year"==n&&o.setUTCFullYear(a(o.getUTCFullYear(),e)),o.setUTCMilliseconds(0),r>=d.minute&&o.setUTCSeconds(0),r>=d.hour&&o.setUTCMinutes(0),r>=d.day&&o.setUTCHours(0),r>=4*d.day&&o.setUTCDate(1),r>=d.year&&o.setUTCMonth(0);var l,s=0,c=Number.NaN;do if(l=c,c=o.getTime(),i.push(c),"month"==n)if(e<1){o.setUTCDate(1);var u=o.getTime();o.setUTCMonth(o.getUTCMonth()+1);var f=o.getTime();o.setTime(c+s*d.hour+(f-u)*e),s=o.getUTCHours(),o.setUTCHours(0)}else o.setUTCMonth(o.getUTCMonth()+e);else"year"==n?o.setUTCFullYear(o.getUTCFullYear()+e):o.setTime(c+r);while(c<t.max&&c!=l);return i},s=function(t,i){var o=new Date(t);if(null!=e.timeformat)return n.plot.formatDate(o,e.timeformat,e.monthNames);var a=i.tickSize[0]*d[i.tickSize[1]],r=i.max-i.min,l=e.twelveHourClock?" %p":"";return a<d.minute?fmt="%h:%M:%S"+l:a<d.day?r<2*d.day?fmt="%h:%M"+l:fmt="%b %d %h:%M"+l:a<d.month?fmt="%b %d":a<d.year?r<d.year?fmt="%b":fmt="%b %y":fmt="%y",n.plot.formatDate(o,fmt,e.monthNames)}}else{var x=e.tickDecimals,g=-Math.floor(Math.log(h)/Math.LN10);null!=x&&g>x&&(g=x),u=Math.pow(10,-g),f=h/u,f<1.5?o=1:f<3?(o=2,f>2.25&&(null==x||g+1<=x)&&(o=2.5,++g)):o=f<7.5?5:10,o*=u,null!=e.minTickSize&&o<e.minTickSize&&(o=e.minTickSize),t.tickDecimals=Math.max(0,null!=x?x:g),t.tickSize=e.tickSize||o,r=function(t){var i,e=[],n=a(t.min,t.tickSize),o=0,r=Number.NaN;do i=r,r=n+o*t.tickSize,e.push(r),++o;while(r<t.max&&r!=i);return e},s=function(t,i){return t.toFixed(i.tickDecimals)}}if(null!=e.alignTicksWithAxis){var v=("x"==t.direction?mt:pt)[e.alignTicksWithAxis-1];if(v&&v.used&&v!=t){var b=r(t);if(b.length>0&&(null==e.min&&(t.min=Math.min(t.min,b[0])),null==e.max&&b.length>1&&(t.max=Math.max(t.max,b[b.length-1]))),r=function(t){var i,e,n=[];for(e=0;e<v.ticks.length;++e)i=(v.ticks[e].v-v.min)/(v.max-v.min),i=t.min+i*(t.max-t.min),n.push(i);return n},"time"!=t.mode&&null==e.tickDecimals){var k=Math.max(0,-Math.floor(Math.log(h)/Math.LN10)+1),y=r(t);y.length>1&&/\..*0$/.test((y[1]-y[0]).toFixed(k))||(t.tickDecimals=k)}}}t.tickGenerator=r,n.isFunction(e.tickFormatter)?t.tickFormatter=function(t,i){return""+e.tickFormatter(t,i)}:t.tickFormatter=s}function D(t){var i=t.options.ticks,e=[];null==i||"number"==typeof i&&i>0?e=t.tickGenerator(t):i&&(e=n.isFunction(i)?i({min:t.min,max:t.max}):i);var o,a;for(t.ticks=[],o=0;o<e.length;++o){var r=null,l=e[o];"object"==typeof l?(a=+l[0],l.length>1&&(r=l[1])):a=+l,null==r&&(r=t.tickFormatter(a,t)),isNaN(a)||t.ticks.push({v:a,label:r})}}function L(t,i){t.options.autoscaleMargin&&i.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,i[0].v)),null==t.options.max&&i.length>1&&(t.max=Math.max(t.max,i[i.length-1].v)))}function P(){ht.clearRect(0,0,gt,vt);var t=st.grid;t.show&&t.backgroundColor&&O(),t.show&&!t.aboveData&&Y();for(var i=0;i<lt.length;++i)c(yt.drawSeries,[ht,lt[i]]),R(lt[i]);c(yt.draw,[ht]),t.show&&t.aboveData&&Y()}function H(t,e){var n,o,a,r,l=p();for(i=0;i<l.length;++i)if(n=l[i],n.direction==e&&(r=e+n.n+"axis",t[r]||1!=n.n||(r=e+"axis"),t[r])){o=t[r].from,a=t[r].to;break}if(t[r]||(n="x"==e?mt[0]:pt[0],o=t[e+"1"],a=t[e+"2"]),null!=o&&null!=a&&o>a){var s=o;o=a,a=s}return{from:o,to:a,axis:n}}function O(){ht.save(),ht.translate(xt.left,xt.top),ht.fillStyle=rt(st.grid.backgroundColor,kt,0,"rgba(255, 255, 255, 0)"),ht.fillRect(0,0,bt,kt),ht.restore()}function Y(){var t;ht.save(),ht.translate(xt.left,xt.top);var i=st.grid.markings;if(i){if(n.isFunction(i)){var e=Tt.getAxes();e.xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,i=i(e)}for(t=0;t<i.length;++t){var o=i[t],a=H(o,"x"),r=H(o,"y");null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),a.to<a.axis.min||a.from>a.axis.max||r.to<r.axis.min||r.from>r.axis.max||(a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),a.from==a.to&&r.from==r.to||(a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),a.from==a.to||r.from==r.to?(ht.beginPath(),ht.strokeStyle=o.color||st.grid.markingsColor,ht.lineWidth=o.lineWidth||st.grid.markingsLineWidth,ht.moveTo(a.from,r.from),ht.lineTo(a.to,r.to),ht.stroke()):(ht.fillStyle=o.color||st.grid.markingsColor,ht.fillRect(a.from,r.to,a.to-a.from,r.from-r.to))))}}for(var e=p(),l=st.grid.borderWidth,s=0;s<e.length;++s){var c,u,f,h,d=e[s],m=d.box,x=d.tickLength;if(d.show&&0!=d.ticks.length){for(ht.strokeStyle=d.options.tickColor||n.color.parse(d.options.color).scale("a",.22).toString(),ht.lineWidth=1,"x"==d.direction?(c=0,u="full"==x?"top"==d.position?0:kt:m.top-xt.top+("top"==d.position?m.height:0)):(u=0,c="full"==x?"left"==d.position?0:bt:m.left-xt.left+("left"==d.position?m.width:0)),d.innermost||(ht.beginPath(),f=h=0,"x"==d.direction?f=bt:h=kt,1==ht.lineWidth&&(c=Math.floor(c)+.5,u=Math.floor(u)+.5),ht.moveTo(c,u),ht.lineTo(c+f,u+h),ht.stroke()),ht.beginPath(),t=0;t<d.ticks.length;++t){var g=d.ticks[t].v;f=h=0,g<d.min||g>d.max||"full"==x&&l>0&&(g==d.min||g==d.max)||("x"==d.direction?(c=d.p2c(g),h="full"==x?-kt:x,"top"==d.position&&(h=-h)):(u=d.p2c(g),f="full"==x?-bt:x,"left"==d.position&&(f=-f)),1==ht.lineWidth&&("x"==d.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),ht.moveTo(c,u),ht.lineTo(c+f,u+h))}ht.stroke()}}l&&(ht.lineWidth=l,ht.strokeStyle=st.grid.borderColor,ht.strokeRect(-l/2,-l/2,bt+l,kt+l)),ht.restore()}function j(){o.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],i=p(),e=0;e<i.length;++e){var n=i[e],a=n.box;if(n.show){t.push('<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis" style="color:'+n.options.color+'">');for(var r=0;r<n.ticks.length;++r){var l=n.ticks[r];if(!(!l.label||l.v<n.min||l.v>n.max)){var s,c={};"x"==n.direction?(s="center",c.left=Math.round(xt.left+n.p2c(l.v)-n.labelWidth/2),"bottom"==n.position?c.top=a.top+a.padding:c.bottom=vt-(a.top+a.height-a.padding)):(c.top=Math.round(xt.top+n.p2c(l.v)-n.labelHeight/2),"left"==n.position?(c.right=gt-(a.left+a.width-a.padding),s="right"):(c.left=a.left+a.padding,s="left")),c.width=n.labelWidth;var u=["position:absolute","text-align:"+s];for(var f in c)u.push(f+":"+c[f]+"px");t.push('<div class="tickLabel" style="'+u.join(";")+'">'+l.label+"</div>")}}t.push("</div>")}}t.push("</div>"),o.append(t.join(""))}function R(t){t.lines.show&&E(t),t.bars.show&&X(t),t.points.show&&q(t)}function E(t){function i(t,i,e,n,o){var a=t.points,r=t.pointsize,l=null,s=null;ht.beginPath();for(var c=r;c<a.length;c+=r){var u=a[c-r],f=a[c-r+1],h=a[c],d=a[c+1];if(null!=u&&null!=h){if(f<=d&&f<o.min){if(d<o.min)continue;u=(o.min-f)/(d-f)*(h-u)+u,f=o.min}else if(d<=f&&d<o.min){if(f<o.min)continue;h=(o.min-f)/(d-f)*(h-u)+u,d=o.min}if(f>=d&&f>o.max){if(d>o.max)continue;u=(o.max-f)/(d-f)*(h-u)+u,f=o.max}else if(d>=f&&d>o.max){if(f>o.max)continue;h=(o.max-f)/(d-f)*(h-u)+u,d=o.max}if(u<=h&&u<n.min){if(h<n.min)continue;f=(n.min-u)/(h-u)*(d-f)+f,u=n.min}else if(h<=u&&h<n.min){if(u<n.min)continue;d=(n.min-u)/(h-u)*(d-f)+f,h=n.min}if(u>=h&&u>n.max){if(h>n.max)continue;f=(n.max-u)/(h-u)*(d-f)+f,u=n.max}else if(h>=u&&h>n.max){if(u>n.max)continue;d=(n.max-u)/(h-u)*(d-f)+f,h=n.max}u==l&&f==s||ht.moveTo(n.p2c(u)+i,o.p2c(f)+e),l=h,s=d,ht.lineTo(n.p2c(h)+i,o.p2c(d)+e)}}ht.stroke()}function e(t,i,e){for(var n=t.points,o=t.pointsize,a=Math.min(Math.max(0,e.min),e.max),r=0,l=!1,s=1,c=0,u=0;;){if(o>0&&r>n.length+o)break;r+=o;var f=n[r-o],h=n[r-o+s],d=n[r],m=n[r+s];if(l){if(o>0&&null!=f&&null==d){u=r,o=-o,s=2;continue}if(o<0&&r==c+o){ht.fill(),l=!1,o=-o,s=1,r=c=u+o;continue}}if(null!=f&&null!=d){if(f<=d&&f<i.min){if(d<i.min)continue;h=(i.min-f)/(d-f)*(m-h)+h,f=i.min}else if(d<=f&&d<i.min){if(f<i.min)continue;m=(i.min-f)/(d-f)*(m-h)+h,d=i.min}if(f>=d&&f>i.max){if(d>i.max)continue;h=(i.max-f)/(d-f)*(m-h)+h,f=i.max}else if(d>=f&&d>i.max){if(f>i.max)continue;m=(i.max-f)/(d-f)*(m-h)+h,d=i.max}if(l||(ht.beginPath(),ht.moveTo(i.p2c(f),e.p2c(a)),l=!0),h>=e.max&&m>=e.max)ht.lineTo(i.p2c(f),e.p2c(e.max)),ht.lineTo(i.p2c(d),e.p2c(e.max));else if(h<=e.min&&m<=e.min)ht.lineTo(i.p2c(f),e.p2c(e.min)),ht.lineTo(i.p2c(d),e.p2c(e.min));else{var p=f,x=d;h<=m&&h<e.min&&m>=e.min?(f=(e.min-h)/(m-h)*(d-f)+f,h=e.min):m<=h&&m<e.min&&h>=e.min&&(d=(e.min-h)/(m-h)*(d-f)+f,m=e.min),h>=m&&h>e.max&&m<=e.max?(f=(e.max-h)/(m-h)*(d-f)+f,h=e.max):m>=h&&m>e.max&&h<=e.max&&(d=(e.max-h)/(m-h)*(d-f)+f,m=e.max),f!=p&&ht.lineTo(i.p2c(p),e.p2c(h)),ht.lineTo(i.p2c(f),e.p2c(h)),ht.lineTo(i.p2c(d),e.p2c(m)),d!=x&&(ht.lineTo(i.p2c(d),e.p2c(m)),ht.lineTo(i.p2c(x),e.p2c(m)))}}}}ht.save(),ht.translate(xt.left,xt.top),ht.lineJoin="round";var n=t.lines.lineWidth,o=t.shadowSize;if(n>0&&o>0){ht.lineWidth=o,ht.strokeStyle="rgba(0,0,0,0.1)";var a=Math.PI/18;i(t.datapoints,Math.sin(a)*(n/2+o/2),Math.cos(a)*(n/2+o/2),t.xaxis,t.yaxis),ht.lineWidth=o/2,i(t.datapoints,Math.sin(a)*(n/2+o/4),Math.cos(a)*(n/2+o/4),t.xaxis,t.yaxis)}ht.lineWidth=n,ht.strokeStyle=t.color;var r=B(t.lines,t.color,0,kt);r&&(ht.fillStyle=r,e(t.datapoints,t.xaxis,t.yaxis)),n>0&&i(t.datapoints,0,0,t.xaxis,t.yaxis),ht.restore()}function q(t){function i(t,i,e,n,o,a,r,l){for(var s=t.points,c=t.pointsize,u=0;u<s.length;u+=c){var f=s[u],h=s[u+1];null==f||f<a.min||f>a.max||h<r.min||h>r.max||(ht.beginPath(),f=a.p2c(f),h=r.p2c(h)+n,"circle"==l?ht.arc(f,h,i,0,o?Math.PI:2*Math.PI,!1):l(ht,f,h,i,o),ht.closePath(),e&&(ht.fillStyle=e,ht.fill()),ht.stroke())}}ht.save(),ht.translate(xt.left,xt.top);var e=t.points.lineWidth,n=t.shadowSize,o=t.points.radius,a=t.points.symbol;if(e>0&&n>0){var r=n/2;ht.lineWidth=r,ht.strokeStyle="rgba(0,0,0,0.1)",i(t.datapoints,o,null,r+r/2,!0,t.xaxis,t.yaxis,a),ht.strokeStyle="rgba(0,0,0,0.2)",i(t.datapoints,o,null,r/2,!0,t.xaxis,t.yaxis,a)}ht.lineWidth=e,ht.strokeStyle=t.color,i(t.datapoints,o,B(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),ht.restore()}function V(t,i,e,n,o,a,r,l,s,c,u,f){var h,d,m,p,x,g,v,b,k;u?(b=g=v=!0,x=!1,h=e,d=t,p=i+n,m=i+o,d<h&&(k=d,d=h,h=k,x=!0,g=!1)):(x=g=v=!0,b=!1,h=t+n,d=t+o,m=e,p=i,p<m&&(k=p,p=m,m=k,b=!0,v=!1)),d<l.min||h>l.max||p<s.min||m>s.max||(h<l.min&&(h=l.min,x=!1),d>l.max&&(d=l.max,g=!1),m<s.min&&(m=s.min,b=!1),p>s.max&&(p=s.max,v=!1),h=l.p2c(h),m=s.p2c(m),d=l.p2c(d),p=s.p2c(p),r&&(c.beginPath(),c.moveTo(h,m),c.lineTo(h,p),c.lineTo(d,p),c.lineTo(d,m),c.fillStyle=r(m,p),c.fill()),f>0&&(x||g||v||b)&&(c.beginPath(),c.moveTo(h,m+a),x?c.lineTo(h,p+a):c.moveTo(h,p+a),v?c.lineTo(d,p+a):c.moveTo(d,p+a),g?c.lineTo(d,m+a):c.moveTo(d,m+a),b?c.lineTo(h,m+a):c.moveTo(h,m+a),c.stroke()))}function X(t){function i(i,e,n,o,a,r,l){for(var s=i.points,c=i.pointsize,u=0;u<s.length;u+=c)null!=s[u]&&V(s[u],s[u+1],s[u+2],e,n,o,a,r,l,ht,t.bars.horizontal,t.bars.lineWidth)}ht.save(),ht.translate(xt.left,xt.top),ht.lineWidth=t.bars.lineWidth,ht.strokeStyle=t.color;var e="left"==t.bars.align?0:-t.bars.barWidth/2,n=t.bars.fill?function(i,e){return B(t.bars,t.color,i,e)}:null;i(t.datapoints,e,e+t.bars.barWidth,0,n,t.xaxis,t.yaxis),ht.restore()}function B(t,i,e,o){var a=t.fill;if(!a)return null;if(t.fillColor)return rt(t.fillColor,e,o,i);var r=n.color.parse(i);return r.a="number"==typeof a?a:.4,r.normalize(),r.toString()}function G(){if(o.find(".legend").remove(),st.legend.show){for(var t,i,e=[],a=!1,r=st.legend.labelFormatter,l=0;l<lt.length;++l)t=lt[l],i=t.label,i&&(l%st.legend.noColumns==0&&(a&&e.push("</tr>"),e.push("<tr>"),a=!0),r&&(i=r(i,t)),e.push('<td class="legendColorBox"><div style="border:1px solid '+st.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+t.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+i+"</td>"));if(a&&e.push("</tr>"),0!=e.length){var s='<table style="font-size:smaller;color:'+st.grid.color+'">'+e.join("")+"</table>";if(null!=st.legend.container)n(st.legend.container).html(s);else{var c="",u=st.legend.position,f=st.legend.margin;null==f[0]&&(f=[f,f]),"n"==u.charAt(0)?c+="top:"+(f[1]+xt.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(f[1]+xt.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(f[0]+xt.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(f[0]+xt.left)+"px;");var h=n('<div class="legend">'+s.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(o);if(0!=st.legend.backgroundOpacity){var d=st.legend.backgroundColor;null==d&&(d=st.grid.backgroundColor,d=d&&"string"==typeof d?n.color.parse(d):n.color.extract(h,"background-color"),d.a=1,d=d.toString());var m=h.children();n('<div style="position:absolute;width:'+m.width()+"px;height:"+m.height()+"px;"+c+"background-color:"+d+';"> </div>').prependTo(h).css("opacity",st.legend.backgroundOpacity)}}}}}function _(t,i,e){var n,o,a=st.grid.mouseActiveRadius,r=a*a+1,l=null;for(n=lt.length-1;n>=0;--n)if(e(lt[n])){var s=lt[n],c=s.xaxis,u=s.yaxis,f=s.datapoints.points,h=s.datapoints.pointsize,d=c.c2p(t),m=u.c2p(i),p=a/c.scale,x=a/u.scale;if(c.options.inverseTransform&&(p=Number.MAX_VALUE),u.options.inverseTransform&&(x=Number.MAX_VALUE),s.lines.show||s.points.show)for(o=0;o<f.length;o+=h){var g=f[o],v=f[o+1];if(null!=g&&!(g-d>p||g-d<-p||v-m>x||v-m<-x)){var b=Math.abs(c.p2c(g)-t),k=Math.abs(u.p2c(v)-i),y=b*b+k*k;y<r&&(r=y,l=[n,o/h])}}if(s.bars.show&&!l){var T="left"==s.bars.align?0:-s.bars.barWidth/2,w=T+s.bars.barWidth;for(o=0;o<f.length;o+=h){var g=f[o],v=f[o+1],M=f[o+2];null!=g&&(lt[n].bars.horizontal?d<=Math.max(M,g)&&d>=Math.min(M,g)&&m>=v+T&&m<=v+w:d>=g+T&&d<=g+w&&m>=Math.min(M,v)&&m<=Math.max(M,v))&&(l=[n,o/h])}}}return l?(n=l[0],o=l[1],h=lt[n].datapoints.pointsize,{datapoint:lt[n].datapoints.points.slice(o*h,(o+1)*h),dataIndex:o,series:lt[n],seriesIndex:n}):null}function J(t){st.grid.hoverable&&Q("plothover",t,function(t){return 0!=t.hoverable})}function $(t){st.grid.hoverable&&Q("plothover",t,function(t){return!1})}function K(t){Q("plotclick",t,function(t){return 0!=t.clickable})}function Q(t,i,e){var n=ft.offset(),a=i.pageX-n.left-xt.left,r=i.pageY-n.top-xt.top,l=x({left:a,top:r});l.pageX=i.pageX,l.pageY=i.pageY;var s=_(a,r,e);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+n.left+xt.left),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+n.top+xt.top)),st.grid.autoHighlight){for(var c=0;c<wt.length;++c){var u=wt[c];u.auto!=t||s&&u.series==s.series&&u.point[0]==s.datapoint[0]&&u.point[1]==s.datapoint[1]||et(u.series,u.point)}s&&it(s.series,s.datapoint,t)}o.trigger(t,[l,s])}function Z(){Mt||(Mt=setTimeout(tt,30))}function tt(){Mt=null,dt.save(),dt.clearRect(0,0,gt,vt),dt.translate(xt.left,xt.top);var t,i;for(t=0;t<wt.length;++t)i=wt[t],i.series.bars.show?at(i.series,i.point):ot(i.series,i.point);dt.restore(),c(yt.drawOverlay,[dt])}function it(t,i,e){if("number"==typeof t&&(t=lt[t]),"number"==typeof i){var n=t.datapoints.pointsize;i=t.datapoints.points.slice(n*i,n*(i+1))}var o=nt(t,i);o==-1?(wt.push({series:t,point:i,auto:e}),Z()):e||(wt[o].auto=!1)}function et(t,i){null==t&&null==i&&(wt=[],Z()),"number"==typeof t&&(t=lt[t]),"number"==typeof i&&(i=t.data[i]);var e=nt(t,i);e!=-1&&(wt.splice(e,1),Z())}function nt(t,i){for(var e=0;e<wt.length;++e){var n=wt[e];if(n.series==t&&n.point[0]==i[0]&&n.point[1]==i[1])return e}return-1}function ot(t,i){var e=i[0],o=i[1],a=t.xaxis,r=t.yaxis;if(!(e<a.min||e>a.max||o<r.min||o>r.max)){var l=t.points.radius+t.points.lineWidth/2;dt.lineWidth=l,dt.strokeStyle=n.color.parse(t.color).scale("a",.5).toString();var s=1.5*l,e=a.p2c(e),o=r.p2c(o);dt.beginPath(),"circle"==t.points.symbol?dt.arc(e,o,s,0,2*Math.PI,!1):t.points.symbol(dt,e,o,s,!1),dt.closePath(),dt.stroke()}}function at(t,i){dt.lineWidth=t.bars.lineWidth,dt.strokeStyle=n.color.parse(t.color).scale("a",.5).toString();var e=n.color.parse(t.color).scale("a",.5).toString(),o="left"==t.bars.align?0:-t.bars.barWidth/2;V(i[0],i[1],i[2]||0,o,o+t.bars.barWidth,0,function(){return e},t.xaxis,t.yaxis,dt,t.bars.horizontal,t.bars.lineWidth)}function rt(t,i,e,o){if("string"==typeof t)return t;for(var a=ht.createLinearGradient(0,e,0,i),r=0,l=t.colors.length;r<l;++r){var s=t.colors[r];if("string"!=typeof s){var c=n.color.parse(o);null!=s.brightness&&(c=c.scale("rgb",s.brightness)),null!=s.opacity&&(c.a*=s.opacity),s=c.toString()}a.addColorStop(r/(l-1),s)}return a}var lt=[],st={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ct=null,ut=null,ft=null,ht=null,dt=null,mt=[],pt=[],xt={left:0,right:0,top:0,bottom:0},gt=0,vt=0,bt=0,kt=0,yt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},Tt=this;Tt.setData=h,Tt.setupGrid=I,Tt.draw=P,Tt.getPlaceholder=function(){return o},Tt.getCanvas=function(){return ct},Tt.getPlotOffset=function(){return xt},Tt.width=function(){return bt},Tt.height=function(){return kt},Tt.offset=function(){var t=ft.offset();return t.left+=xt.left,t.top+=xt.top,t},Tt.getData=function(){return lt},Tt.getAxes=function(){var t={};return n.each(mt.concat(pt),function(i,e){e&&(t[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),t},Tt.getXAxes=function(){return mt},Tt.getYAxes=function(){
return pt},Tt.c2p=x,Tt.p2c=g,Tt.getOptions=function(){return st},Tt.highlight=it,Tt.unhighlight=et,Tt.triggerRedrawOverlay=Z,Tt.pointOffset=function(t){return{left:parseInt(mt[m(t,"x")-1].p2c(+t.x)+xt.left),top:parseInt(pt[m(t,"y")-1].p2c(+t.y)+xt.top)}},Tt.shutdown=S,Tt.resize=function(){T(),w(ct),w(ut)},Tt.hooks=yt,u(Tt),f(l),M(),h(r),I(),P(),C();var wt=[],Mt=null}function a(t,i){return i*Math.floor(t/i)}n.plot=function(t,i,e){var a=new o(n(t),i,e,n.plot.plugins);return a},n.plot.version="0.7",n.plot.plugins=[],n.plot.formatDate=function(t,i,e){var n=function(t){return t=""+t,1==t.length?"0"+t:t},o=[],a=!1,r=!1,l=t.getUTCHours(),s=l<12;null==e&&(e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),i.search(/%p|%P/)!=-1&&(l>12?l-=12:0==l&&(l=12));for(var c=0;c<i.length;++c){var u=i.charAt(c);if(a){switch(u){case"h":u=""+l;break;case"H":u=n(l);break;case"M":u=n(t.getUTCMinutes());break;case"S":u=n(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+e[t.getUTCMonth()];break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"0":u="",r=!0}u&&r&&(u=n(u),r=!1),o.push(u),r||(a=!1)}else"%"==u?a=!0:o.push(u)}return o.join("")}}(n)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.effects-1.8rc3', location = 'atlassian-jslibs/jquery-plugins/jquery.effects/1.8rc3/jquery.effects-1.8rc3.js' */
!function(e){define("atlassian/jquery-plugins/jquery.effects-1.8rc3",function(){return function(t){return e(window,document,t),t}})}(function(e,t,n){n.effects||function(e){function n(t){var n;return t&&t.constructor==Array&&3==t.length?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(t))?u.transparent:u[e.trim(t).toLowerCase()]}function a(t,a){var r;do{if(r=e.curCSS(t,a),""!=r&&"transparent"!=r||e.nodeName(t,"body"))break;a="backgroundColor"}while(t=t.parentNode);return n(r)}function r(){var e,n,a=t.defaultView?t.defaultView.getComputedStyle(this,null):this.currentStyle,r={};if(a&&a.length&&a[0]&&a[a[0]])for(var s=a.length;s--;)e=a[s],"string"==typeof a[e]&&(n=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),r[n]=a[e]);else for(e in a)"string"==typeof a[e]&&(r[e]=a[e]);return r}function s(t){var n,a;for(n in t)a=t[n],(null==a||e.isFunction(a)||n in f||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(a)))&&delete t[n];return t}function i(e,t){var n,a={_:0};for(n in t)e[n]!=t[n]&&(a[n]=t[n]);return a}function o(t,n,a,r){return"object"==typeof t&&(r=n,a=null,n=t,t=n.effect),e.isFunction(n)&&(r=n,a=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=a,a=n,n={}),n=n||{},a=a||n.duration,a=e.fx.off?0:"number"==typeof a?a:e.fx.speeds[a]||e.fx.speeds._default,r=r||n.complete,[t,n,a,r]}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(t,r){e.fx.step[r]=function(e){e.colorInit||(e.start=a(e.elem,r),e.end=n(e.end),e.colorInit=!0),e.elem.style[r]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var u={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},c=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,n,a,o){return e.isFunction(a)&&(o=a,a=null),this.each(function(){var u,f=e(this),l=f.attr("style")||" ",h=s(r.call(this)),p=f.attr("className");e.each(c,function(e,n){t[n]&&f[n+"Class"](t[n])}),u=s(r.call(this)),f.attr("className",p),f.animate(i(h,u),n,a,function(){e.each(c,function(e,n){t[n]&&f[n+"Class"](t[n])}),"object"==typeof f.attr("style")?(f.attr("style").cssText="",f.attr("style").cssText=l):f.attr("style",l),o&&o.apply(this,arguments)})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,a,r){return n?e.effects.animateClass.apply(this,[{add:t},n,a,r]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,a,r){return n?e.effects.animateClass.apply(this,[{remove:t},n,a,r]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(t,n,a,r,s){return"boolean"==typeof n||void 0===n?a?e.effects.animateClass.apply(this,[n?{add:t}:{remove:t},a,r,s]):this._toggleClass(t,n):e.effects.animateClass.apply(this,[{toggle:t},n,a,r])},switchClass:function(t,n,a,r,s){return e.effects.animateClass.apply(this,[{add:n,remove:t},a,r,s])}}),e.extend(e.effects,{version:"1.8rc3",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,a;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return t.wrap(a),a=t.parent(),"static"==t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){n[a]=t.css(a),isNaN(parseInt(n[a],10))&&(n[a]="auto")}),t.css({position:"relative",top:0,left:0})),a.css(n).show()},removeWrapper:function(e){return e.parent().is(".ui-effects-wrapper")?e.parent().replaceWith(e):e},setTransition:function(t,n,a,r){return r=r||{},e.each(n,function(e,n){unit=t.cssUnit(n),unit[0]>0&&(r[n]=unit[0]*a+unit[1])}),r}}),e.fn.extend({effect:function(t,n,a,r){var s=o.apply(this,arguments),i={options:s[1],duration:s[2],callback:s[3]},u=e.effects[t];return u&&!e.fx.off?u.call(this,i):this},_show:e.fn.show,show:function(t){if(!t||"number"==typeof t||e.fx.speeds[t])return this._show.apply(this,arguments);var n=o.apply(this,arguments);return n[1].mode="show",this.effect.apply(this,n)},_hide:e.fn.hide,hide:function(t){if(!t||"number"==typeof t||e.fx.speeds[t])return this._hide.apply(this,arguments);var n=o.apply(this,arguments);return n[1].mode="hide",this.effect.apply(this,n)},__toggle:e.fn.toggle,toggle:function(t){if(!t||"number"==typeof t||e.fx.speeds[t]||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=o.apply(this,arguments);return n[1].mode="toggle",this.effect.apply(this,n)},cssUnit:function(t){var n=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(a=[parseFloat(n),t])}),a}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,a,r,s){return e.easing[e.easing.def](t,n,a,r,s)},easeInQuad:function(e,t,n,a,r){return a*(t/=r)*t+n},easeOutQuad:function(e,t,n,a,r){return-a*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,a,r){return a*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,a,r){return a*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t+n:a/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,a,r){return a*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,a,r){return-a*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t+n:-a/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,a,r){return a*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,a,r){return a*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t*t+n:a/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,a,r){return-a*Math.cos(t/r*(Math.PI/2))+a+n},easeOutSine:function(e,t,n,a,r){return a*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,a,r){return-a/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,a,r){return 0==t?n:a*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,a,r){return t==r?n+a:a*(-Math.pow(2,-10*t/r)+1)+n},easeInOutExpo:function(e,t,n,a,r){return 0==t?n:t==r?n+a:(t/=r/2)<1?a/2*Math.pow(2,10*(t-1))+n:a/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,a,r){return-a*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,a,r){return a*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,a,r){return(t/=r/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+n:a/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,a,r){var s=1.70158,i=0,o=a;if(0==t)return n;if(1==(t/=r))return n+a;if(i||(i=.3*r),o<Math.abs(a)){o=a;var s=i/4}else var s=i/(2*Math.PI)*Math.asin(a/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+n},easeOutElastic:function(e,t,n,a,r){var s=1.70158,i=0,o=a;if(0==t)return n;if(1==(t/=r))return n+a;if(i||(i=.3*r),o<Math.abs(a)){o=a;var s=i/4}else var s=i/(2*Math.PI)*Math.asin(a/o);return o*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/i)+a+n},easeInOutElastic:function(e,t,n,a,r){var s=1.70158,i=0,o=a;if(0==t)return n;if(2==(t/=r/2))return n+a;if(i||(i=r*(.3*1.5)),o<Math.abs(a)){o=a;var s=i/4}else var s=i/(2*Math.PI)*Math.asin(a/o);return t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+n:o*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i)*.5+a+n},easeInBack:function(e,t,n,a,r,s){return void 0==s&&(s=1.70158),a*(t/=r)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,a,r,s){return void 0==s&&(s=1.70158),a*((t=t/r-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,a,r,s){return void 0==s&&(s=1.70158),(t/=r/2)<1?a/2*(t*t*(((s*=1.525)+1)*t-s))+n:a/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(t,n,a,r,s){return r-e.easing.easeOutBounce(t,s-n,0,r,s)+a},easeOutBounce:function(e,t,n,a,r){return(t/=r)<1/2.75?a*(7.5625*t*t)+n:t<2/2.75?a*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?a*(7.5625*(t-=2.25/2.75)*t+.9375)+n:a*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,a,r,s){return n<s/2?.5*e.easing.easeInBounce(t,2*n,0,r,s)+a:.5*e.easing.easeOutBounce(t,2*n-s,0,r,s)+.5*r+a}})}(n)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.dragtable-2.0.4', location = 'atlassian-jslibs/jquery-plugins/jquery.dragtable/2.0.4/jquery.dragtable-2.0.4.js' */
/*!
 * dragtable
 *
 * @Version 2.0.4
 *
 * Copyright (c) 2010, Andres Koetter akottr@gmail.com
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * Inspired by the dragtable from Dan Vanderkam (danvk.org/dragtable/)
 * Thanks to the jquery and jqueryui comitters
 *
 * Any comment, bug report, feature-request is welcome
 * Feel free to contact me.
 */
!function(e){define("atlassian/jquery-plugins/jquery.dragtable-2.0.4",function(){return function(t){return e(window,document,t),t}})}(function(e,t,i){!function(i){function o(){var n=i('<style id="__dragtable_disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');i(t.head).append(n),i(t.body).attr("onselectstart","return false;").attr("unselectable","on"),e.getSelection?e.getSelection().removeAllRanges():t.selection.empty()}function a(){i("#__dragtable_disable_text_selection__").remove(),l?i(t.body).attr("onselectstart",l):i(t.body).removeAttr("onselectstart"),r?i(t.body).attr("unselectable",r):i(t.body).removeAttr("unselectable")}function s(e,t){var i=e.parentNode,n=e.nextSibling===t?e:e.nextSibling;t.parentNode.insertBefore(e,t),i.insertBefore(t,n)}i.widget("akottr.dragtable",{options:{revert:!0,dragHandle:".table-handle",maxMovingRows:40,excludeFooter:!1,onlyHeaderThreshold:100,dragaccept:null,persistState:null,restoreState:null,clickDelay:10,containment:"parent",cursor:"move",cursorAt:!1,distance:0,tolerance:"pointer",axis:"x",beforeStart:i.noop,beforeMoving:i.noop,beforeReorganize:i.noop,beforeStop:i.noop},originalTable:{el:null,selectedHandle:null,sortOrder:null,startIndex:0,endIndex:0},sortableTable:{el:i(),selectedHandle:i(),movingRow:i()},persistState:function(){var e=this;this.originalTable.el.find("th").each(function(t){""!=this.id&&(e.originalTable.sortOrder[this.id]=t)}),i.ajax({url:this.options.persistState,data:this.originalTable.sortOrder})},_restoreState:function(e){for(n in e)this.originalTable.startIndex=i("#"+n).closest("th").prevAll().size()+1,this.originalTable.endIndex=parseInt(e[n]+1),this._bubbleCols()},_bubbleCols:function(){var e=this.originalTable.startIndex,t=this.originalTable.endIndex,i=this.originalTable.el.children();if(this.options.excludeFooter)var i=i.not("tfoot");if(e<t)for(var n=e;n<t;n++)for(var o=i.find("> tr > td:nth-child("+n+")").add(i.find("> tr > th:nth-child("+n+")")),a=i.find("> tr > td:nth-child("+(n+1)+")").add(i.find("> tr > th:nth-child("+(n+1)+")")),l=0;l<o.length;l++)s(o[l],a[l]);else for(var n=e;n>t;n--)for(var o=i.find("> tr > td:nth-child("+n+")").add(i.find("> tr > th:nth-child("+n+")")),a=i.find("> tr > td:nth-child("+(n-1)+")").add(i.find("> tr > th:nth-child("+(n-1)+")")),l=0;l<o.length;l++)s(o[l],a[l])},_rearrangeTableBackroundProcessing:function(){var e=this;return function(){e._bubbleCols(),e.options.beforeStop(this.originalTable),e.sortableTable.el.remove(),a(),null!==e.options.persistState&&(i.isFunction(e.options.persistState)?e.options.persistState(e.originalTable):e.persistState())}},_rearrangeTable:function(){var e=this;return function(){e.originalTable.selectedHandle.removeClass("dragtable-handle-selected"),e.sortableTable.el.sortable("disable"),e.sortableTable.el.addClass("dragtable-disabled"),e.options.beforeReorganize(e.originalTable,e.sortableTable),e.originalTable.endIndex=e.sortableTable.movingRow.prevAll().size()+1,setTimeout(e._rearrangeTableBackroundProcessing(),50)}},_generateSortable:function(e){!e.cancelBubble&&(e.cancelBubble=!0);for(var t=this,n=this.originalTable.el[0].attributes,a="",s=0;s<n.length;s++)n[s].nodeValue&&"id"!=n[s].nodeName&&"width"!=n[s].nodeName&&(a+=n[s].nodeName+'="'+n[s].nodeValue+'" ');var l=[],r=[];this.originalTable.el.find("tr").slice(0,this.options.maxMovingRows).each(function(e,t){for(var n=this.attributes,o="",a=0;a<n.length;a++)n[a].nodeValue&&"id"!=n[a].nodeName&&(o+=" "+n[a].nodeName+'="'+n[a].nodeValue+'"');l.push(o),r.push(i(this).height())});var d=[],h=0,c=t.originalTable.el.children();if(this.options.excludeFooter)var c=c.not("tfoot");c.find("> tr > th").each(function(e,t){h+=i(this).outerWidth()+2,d.push(i(this).width())});var b='<ul class="dragtable-sortable" style="position:absolute; width:'+h+'px;">';c.find("> tr > th").each(function(e,n){b+="<li>",b+='<table class="issue-table" '+a+">";var o=c.find("> tr > th:nth-child("+(e+1)+")");t.options.maxMovingRows>1&&(o=o.add(c.find("> tr > td:nth-child("+(e+1)+")").slice(0,t.options.maxMovingRows-1))),o.each(function(e){var t=i(this).clone().wrap("<div></div>").parent().html();0===t.toLowerCase().indexOf("<th")&&(b+="<thead>"),b+="<tr "+l[e]+'" style="height:'+r[e]+'px;">',b+=t,0===t.toLowerCase().indexOf("<th")&&(b+="</thead>"),b+="</tr>"}),b+="</table>",b+="</li>"}),b+="</ul>",this.sortableTable.el=this.originalTable.el.before(b).prev(),this.sortableTable.el.find("th").each(function(e,t){var n=i(this);d[e]>n.width()&&n.css({width:d[e]})}),this.sortableTable.selectedHandle=this.sortableTable.el.find("th .dragtable-handle-selected");var u=this.options.dragaccept?"li:has("+this.options.dragaccept+")":"li";this.sortableTable.el.sortable({items:u,stop:this._rearrangeTable(),revert:this.options.revert,tolerance:this.options.tolerance,containment:this.options.containment,cursor:this.options.cursor,cursorAt:this.options.cursorAt,distance:this.options.distance,axis:this.options.axis}),this.originalTable.startIndex=i(e.target).closest("th").prevAll().size()+1,this.options.beforeMoving(this.originalTable,this.sortableTable),this.sortableTable.movingRow=this.sortableTable.el.find("li:nth-child("+this.originalTable.startIndex+")"),o(),this.sortableTable.movingRow.trigger(i.extend(i.Event(e.type),{which:1,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})),this.sortableTable.el.find(".ui-sortable-placeholder").html('<div class="outer" style="height:100%;"><div class="inner" style="height:100%;"></div></div>')},bindTo:{},_create:function(){this.originalTable={el:this.element,selectedHandle:i(),sortOrder:{},startIndex:0,endIndex:0},this.bindTo=this.originalTable.el.find("th"),this.options.dragaccept&&(this.bindTo=this.bindTo.filter(this.options.dragaccept)),this.bindTo.find(this.options.dragHandle).size()>0&&(this.bindTo=this.bindTo.find(this.options.dragHandle)),null!==this.options.restoreState&&(i.isFunction(this.options.restoreState)?this.options.restoreState(this.originalTable):this._restoreState(this.options.restoreState));var e=this;this.bindTo.mousedown(function(t){clearTimeout(this.downTimer),this.downTimer=setTimeout(function(){e.originalTable.selectedHandle=i(this),e.originalTable.selectedHandle.addClass("dragtable-handle-selected"),e.options.beforeStart(this.originalTable),e._generateSortable(t)},e.options.clickDelay)}).mouseup(function(e){clearTimeout(this.downTimer)})},destroy:function(){this.bindTo.unbind("mousedown"),i.Widget.prototype.destroy.apply(this,arguments)}});var l=i(t.body).attr("onselectstart"),r=i(t.body).attr("unselectable")}(i)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.serializeobject-0.2', location = 'atlassian-jslibs/jquery-plugins/jquery.serializeobject/0.2/jquery.serializeobject-0.2.js' */
/*!
 * jQuery serializeObject - v0.2 - 1/20/2010
 * http://benalman.com/projects/jquery-misc-plugins/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(n){define("atlassian/jquery-plugins/jquery.serializeobject-0.2",function(){return function(e){return n(window,document,e),e}})}(function(n,e,i){!function(n,e){"$:nomunge";n.fn.serializeObject=function(){var i={};return n.each(this.serializeArray(),function(r,t){var u=t.name,a=t.value;i[u]=i[u]===e?a:n.isArray(i[u])?i[u].concat(a):[i[u],a]}),i}}(i)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.scrollintoview-1.8', location = 'atlassian-jslibs/jquery-plugins/jquery.scrollintoview/1.8/jquery.scrollintoview-1.8.js' */
/*!
 * jQuery scrollintoview() plugin and :scrollable selector filter
 *
 * Version 1.8 (14 Jul 2011)
 * Requires jQuery 1.4 or newer
 *
 * Copyright (c) 2011 Robert Koritnik
 * Licensed under the terms of the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(t){define("atlassian/jquery-plugins/jquery.scrollintoview-1.8",function(){return function(e){return t(window,document,e),e}})}(function(t,e,o){!function(o){var r={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},l={duration:0,direction:"y"},i=/^(?:html)$/i,n=function(t,r){r=r||(e.defaultView&&e.defaultView.getComputedStyle?e.defaultView.getComputedStyle(t,null):t.currentStyle);var l=!(!e.defaultView||!e.defaultView.getComputedStyle),i={top:parseFloat(l?r.borderTopWidth:o.css(t,"borderTopWidth"))||0,left:parseFloat(l?r.borderLeftWidth:o.css(t,"borderLeftWidth"))||0,bottom:parseFloat(l?r.borderBottomWidth:o.css(t,"borderBottomWidth"))||0,right:parseFloat(l?r.borderRightWidth:o.css(t,"borderRightWidth"))||0};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right}},c=function(e){var r=o(t),l=i.test(e[0].nodeName);return{border:l?{top:0,left:0,bottom:0,right:0}:n(e[0]),scroll:{top:(l?r:e).scrollTop(),left:(l?r:e).scrollLeft()},scrollbar:{right:l?0:e.innerWidth()-e[0].clientWidth,bottom:l?0:e.innerHeight()-e[0].clientHeight},rect:function(){var t=e[0].getBoundingClientRect();return{top:l?0:t.top,left:l?0:t.left,bottom:l?e[0].clientHeight:t.bottom,right:l?e[0].clientWidth:t.right}}()}};o.fn.extend({scrollIntoViewForAuto:function(t){t=o.extend({},l,t),t.direction=r["string"==typeof t.direction&&t.direction.toLowerCase()]||r.both;var e="";t.direction.x===!0&&(e="horizontal"),t.direction.y===!0&&(e=e?"both":"vertical");var n=this.eq(0),s=n.closest(":scrollable("+e+")");if(s.length>0){s=s.eq(0);var d={e:c(n),s:c(s)},h={top:d.e.rect.top-(d.s.rect.top+d.s.border.top),bottom:d.s.rect.bottom-d.s.border.bottom-d.s.scrollbar.bottom-d.e.rect.bottom,left:d.e.rect.left-(d.s.rect.left+d.s.border.left),right:d.s.rect.right-d.s.border.right-d.s.scrollbar.right-d.e.rect.right},a={};t.direction.y===!0&&(h.top<0?a.scrollTop=d.s.scroll.top+h.top-30:h.top>0&&h.bottom<0&&(a.scrollTop=d.s.scroll.top+Math.min(h.top,-h.bottom)+30)),t.direction.x===!0&&(h.left<0?a.scrollLeft=d.s.scroll.left+h.left:h.left>0&&h.right<0&&(a.scrollLeft=d.s.scroll.left+Math.min(h.left,-h.right))),o.isEmptyObject(a)?o.isFunction(t.complete)&&t.complete.call(s[0]):(i.test(s[0].nodeName)&&(s=o("html,body")),s.animate(a,t.duration).eq(0).queue(function(e){o.isFunction(t.complete)&&t.complete.call(s[0]),e()}))}return this}});var s={auto:!0,scroll:!0,visible:!1,hidden:!1};o.extend(o.expr[":"],{scrollable:function(t,o,l,n){var c=r["string"==typeof l[3]&&l[3].toLowerCase()]||r.both,d=e.defaultView&&e.defaultView.getComputedStyle?e.defaultView.getComputedStyle(t,null):t.currentStyle,h={x:s[d.overflowX.toLowerCase()]||!1,y:s[d.overflowY.toLowerCase()]||!1,isRoot:i.test(t.nodeName)};if(!h.x&&!h.y&&!h.isRoot)return!1;var a={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(h.x||h.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(h.y||h.isRoot)&&this.height.scroll>this.height.client}};return c.y&&a.scrollableY()||c.x&&a.scrollableX()}})}(o)});;
;
/* module-key = 'jira.webresources:jquery', location = '/static/lib/amd-shims/jquery-amd.js' */
define("jquery",["atlassian/jquery-plugins/jquery.textoverflow-0.7.4","atlassian/jquery-plugins/jquery.pjax-2011.07.10","atlassian/jquery-plugins/jquery.lazyload-1.8.0","atlassian/jquery-plugins/jquery.flot-0.7","atlassian/jquery-plugins/jquery.effects-1.8rc3","atlassian/jquery-plugins/jquery.dragtable-2.0.4","atlassian/jquery-plugins/jquery.serializeobject-0.2","atlassian/jquery-plugins/jquery.scrollintoview-1.8"],function(a,e,s,u,r,l,i,n){var j=AJS.$;return a(j),e(j),s(j),u(j),r(j),l(j),i(j),n(j),j});;
;
/* module-key = 'jira.webresources:jquery', location = '/static/lib/amd-shims/jquery-deferred-amd.js' */
define("jira/jquery/deferred",["jquery"],function(e){return e.Deferred});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-dialog.js' */
define("aui/dialog",function(){return AJS.Dialog});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-dropdown.js' */
define("aui/dropdown",function(){return AJS.dropDown});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-inline-dialog.js' */
define("aui/inline-dialog",function(){return AJS.InlineDialog});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-message.js' */
define("aui/message",function(){return AJS.messages});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-params.js' */
define("aui/params",function(){return AJS.params});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-populate-parameters.js' */
define("aui/populate-parameters",function(){return AJS.populateParameters});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-popup.js' */
define("aui/popup",function(){return AJS.popup});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-progressive-data-set.js' */
define("aui/progressive-data-set",function(){return AJS.ProgressiveDataSet});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-tabs.js' */
define("aui/tabs",function(){return AJS.tabs});;
;
/* module-key = 'jira.webresources:jira-logger', location = '/static/util/logger.js' */
define("jira/util/logger",["exports"],function(n){"use strict";function o(){}function e(n){return"undefined"!=typeof console&&"function"==typeof console[n]?console[n].bind(console):function(){if("undefined"!=typeof console&&console[n])return Function.prototype.apply.call(console[n],console,arguments)}}function r(n){return e(n)||o}n.log=r("log"),n.info=r("info"),n.warn=r("warn"),n.error=r("error"),n.debug=r("debug"),n.trace=function n(){var e=window.__tracer||window.JIRA&&window.JIRA.trace||o;if(e!==n)return e.apply(e,arguments)}});;
;
/* module-key = 'jira.webresources:jira-logger', location = '/static/util/safe-logger.js' */
define("jira/util/safe-logger",["exports","jquery","wrm/context-path","jira/util/logger"],function(r,e,n,o){function t(r,t,a,i){if("info"!==r&&"warn"!==r&&"error"!==r)throw new Error("Unknown level");if(AJS.isDevMode()!==!1)o[r](a);else{var c={sentFrom:"jira.legacy."+t,message:a,event:i||{},buildKey:"N/A",logTime:(new Date).toISOString()},f=JSON.stringify(c),l=n()+"/rest/internal/2/log/safe/"+r;e.ajax({type:"POST",url:l,data:f,contentType:"application/json"})}}r.safeInfo=function(r,e,n){try{return t("info",r,e,n)}catch(r){console.error(r)}},r.safeWarm=function(r,e,n){try{return t("warn",r,e,n)}catch(r){console.error(r)}},r.safeError=function(r,e,n){try{return t("error",r,e,n)}catch(r){console.error(r)}}});;
;
/* module-key = 'jira.webresources:jira-logger', location = '/static/util/unsafe-logger.js' */
define("jira/util/unsafe-logger",["exports","jquery","wrm/context-path","jira/util/logger"],function(e,r,t,n){function o(e,o,i,s){if("error"!==e)throw new Error("Unknown level");const c={sentFrom:"jira.legacy."+o,message:i,event:s,buildKey:"N/A",logTime:(new Date).toISOString()};if(a())n[e](c);else{const u=JSON.stringify(c),f=t()+"/rest/internal/2/log/unsafe/frontend-exception";r.ajax({type:"POST",url:f,data:u,contentType:"application/json"})}}function i(e){if(e instanceof Error)return{message:error.message,stack:error.stack};if("string"==typeof e||"number"==typeof e)return{message:e};if("object"==typeof e)return e;throw new Error("Error event type cannot be logged: "+typeof e)}function a(){const e=document.querySelector("meta[name=ajs-region]");return!!e&&"stg-volt"===e.getAttribute("content")}e.unsafeError=function(e,r,t){try{return o("error",e,r,i(t))}catch(e){console.error(e)}}});;
;
/* module-key = 'jira.webresources:deprecator', location = '/includes/jira/common/deprecator.js' */
define("jira/deprecator",function(){function e(e){return e+="",e?e.charAt(0).toUpperCase()+e.substring(1):""}function n(e){var n=new Error,t=n.stack||n.stacktrace,r=t&&t.replace(/^Error\n/,"")||"";return r?(r=r.split("\n"),r[e+2]):r}function t(){"undefined"!=typeof console&&console.warn&&Function.prototype.apply.call(console.warn,console,arguments)}function r(r,o){if("function"==typeof r)return r;var a=!1;return o=o||{},function(i){var p=n(i?i:1)||"";if(!a||c.indexOf(p)===-1){c.push(p),a=!0;var u=o.deprecationType+" "||"",f="DEPRECATED "+u+"- "+e(r)+" has been deprecated"+(o.sinceVersion?" since "+o.sinceVersion:"")+" and will be removed in "+(o.removeInVersion||"a future release")+".";o.alternativeName&&(f+=" Use "+o.alternativeName+" instead. "),o.extraInfo&&(f+=" "+o.extraInfo),p=""===p?" \n No stack trace of the deprecated usage is available in your current browser.":" \n "+p,o.extraObject?(f+="\n",t(f,o.extraObject,p)):t(f,p)}}}function o(e,n,t){t=t||{},t.deprecationType=t.deprecationType||"JS";var o=r(n||e.name||"this function",t);return function(){return o(),e.apply(this,arguments)}}function a(e,n,t){if(p){var o=e[n];t=t||{},t.deprecationType=t.deprecationType||"JS";var a=t.displayName||n,i=r(a,t);Object.defineProperty(e,n,{get:function(){return i(),o},set:function(e){return o=e,i(),e}})}}function i(e,n,t){if("function"==typeof e[n]){t=t||{},t.deprecationType=t.deprecationType||"JS";var r=t.displayName||n;e[n]=o(e[n],r,t)}else a(e,n,t)}var c=(Object.prototype.hasOwnProperty,[]),p=!1;try{Object.defineProperty&&(Object.defineProperty({},"blam",{get:function(){},set:function(){}}),exports.propertyDeprecationSupported=p=!0)}catch(e){}return{getDeprecatedLocation:n,prop:i}});;
;
/* module-key = 'jira.webresources:legacy-namespacing', location = '/includes/jira/common/legacy-config.js' */
define("jira/legacy/config",function(){function e(e){return r&&r.indexOf(e)!==-1}var t=document.querySelector("meta[name=ajs-dev-mode]");t=t&&"true"===t.getAttribute("content");var r=document.querySelector("meta[name=ajs-enabled-dark-features]");r=r&&r.getAttribute("content")||"";var n=e("amd.loader.noglobals"),a=t||n||e("amd.loader.globals.deprecation.warning"),o=function(){try{return Object.defineProperty&&Object.defineProperty({},"x",{get:function(){return!0}}).x===!0}catch(e){}return!1}();return{hasDefineProperty:o,logDeprecationNotice:a,noGlobals:n}});;
;
/* module-key = 'jira.webresources:legacy-namespacing', location = '/includes/jira/common/legacy-deprecator.js' */
define("jira/legacy/deprecator",["jira/deprecator"],function(e){return e});;
;
/* module-key = 'jira.webresources:legacy-namespacing', location = '/includes/jira/common/legacy-logger.js' */
define("jira/legacy/logger",["jira/util/logger"],function(o){function e(){var e=0,l=n.length;for(console&&console.groupCollapsed&&console.groupCollapsed("Global object deprecations ("+l+")");e<l;e++)o.warn.apply(void 0,n[e]);console&&console.groupEnd&&console.groupEnd(),n.length=0}var l,n=[];return function(){n.push(Array.prototype.slice.apply(arguments)),l&&clearTimeout(l),l=setTimeout(function(){e(),l=void 0},200)}});;
;
/* module-key = 'jira.webresources:legacy-namespacing', location = '/includes/jira/common/legacy-namespace.js' */
define("jira/legacy/namespace",["jira/legacy/config","jira/legacy/logger","jira/legacy/deprecator"],function(e,o,a){return function internalLegacyNamespacing(t,n,r){var i,c;if(e.logDeprecationNotice&&(i=e.noGlobals?"GONE: The global object "+t+" was not created!":"DEPRECATED: The global object "+t+" is deprecated.","object"!=typeof r&&"function"!=typeof r||r.__amdModuleName&&(i+=' Please use require(["'+r.__amdModuleName+'"]) instead.',delete r.__amdModuleName)),e.noGlobals)return void o(i);c=t.split("."),n=n||window;for(var l=0,d=c.length-1;l<d;l++){var f=n[c[l]];n=null!=f?f:n[c[l]]={}}return function(t){e.hasDefineProperty&&e.logDeprecationNotice?Object.defineProperty(n,c[l],{configurable:!0,get:function(){var e="";return a&&a.getDeprecatedLocation&&(e=a.getDeprecatedLocation(0)),e.indexOf(internalLegacyNamespacing.name)===-1&&(e&&e.indexOf("AJS.namespace")===-1?o(i,"\n"+e):o(i)),t},set:function(e){t=e}}):(e.logDeprecationNotice&&o(i),n[c[l]]=t)}(r||n[c[l]]||{}),n[c[l]]}});;
;
/* module-key = 'jira.webresources:legacy-namespacing', location = '/includes/jira/common/namespace.js' */
AJS.namespace=require("jira/legacy/namespace"),AJS.namespace("jQuery.namespace",null,function(e){AJS.namespace(e)});;
;
/* module-key = 'jira.webresources:ajs-underscorejs-amd-shim', location = '/static/lib/amd-shims/underscore-amd.js' */
define("underscore",function(){return _});;
;
/* module-key = 'jira.webresources:jira-metadata', location = '/static/util/strings.js' */
define("jira/util/strings",["exports","underscore"],function(n,t){"use strict";n.asBooleanOrString=function(n){var t=n?n.toLowerCase():"",r=n;return"true"===t?r=!0:"false"===t&&(r=!1),r},n.startsWith=function(n,r){return!t.isEmpty(n)&&(!t.isEmpty(r)&&0==n.indexOf(r))},n.endsWith=function(n,r){return!t.isEmpty(n)&&(!t.isEmpty(r)&&n.indexOf(r)+r.length==n.length)},n.substringAfter=function(n,r){if(t.isEmpty(n))return n;if(t.isEmpty(r))return"";var e=n.indexOf(r);return e<0?"":n.substring(e+r.length)},n.substringBefore=function(n,r){if(t.isEmpty(n))return n;if(t.isEmpty(r))return"";var e=n.indexOf(r);return e<0?"":n.substring(0,e)},n.contains=function(n,r){if(t.isEmpty(n))return!1;var e=n.indexOf(r);return e>=0},n.repeat=function(n,r){return t.isEmpty(n)?"":new Array(r+1).join(n)},n.length=function(n){return t.isEmpty(n)?0:n.length},n.replace=function(n,r,e){if(t.isEmpty(n))return"";if(t.isEmpty(r))return"";"undefined"==typeof e&&(e="");for(var i=0,s=n.indexOf(r);s>=0;){var u=n.substring(0,s),f=n.substring(s+r.length);n=u+e+f,i=s+e.length,s=n.indexOf(r,i)}return n.substring(s,n.length)},n.hashCode=function(n){var t,r=0;if(!n)return"";for(var e=0;e<n.length;e+=1)t=n.charCodeAt(e),r=31*r+t,r|=0;return""+r},n.camelCase=function(n){return n.replace(/^([A-Z])|[\s-_]+(\w)/g,function(n,t,r){return r?r.toUpperCase():t.toLowerCase()})}});;
;
/* module-key = 'jira.webresources:jira-metadata', location = '/static/util/data/meta.js' */
define("jira/util/data/meta",["jquery","jira/util/strings"],function(t,n){"use strict";var e={};return{set:function(t,n){e[t]=n},get:function(r){if("undefined"!=typeof e[r])return e[r];var i=t("meta[name='ajs-"+r+"']");if(i.length){var a=i.attr("content");return n.asBooleanOrString(a)}},getBoolean:function(t){return this.get(t)===!0},getNumber:function(t){return+this.get(t)},getAllAsMap:function(){var n={};return t("meta[name^=ajs-]").each(function(){n[this.name.substring(4)]=this.content}),t.extend(n,e)}}});;
;
/* module-key = 'jira.webresources:aui-extensions', location = '/includes/ajs/aui-experimental.js' */
AJS.namespace("AJS.asBooleanOrString",null,require("jira/util/strings").asBooleanOrString),AJS.namespace("AJS.Meta",null,require("jira/util/data/meta"));;
;
/* module-key = 'jira.webresources:feature-flags', location = '/js/featureflags/feature-manager.js' */
define("jira/featureflags/feature-manager",["wrm/data","exports","jira/util/top-same-origin-window"],function(e,t,a){var r=e.claim("jira.webresources:feature-flags.feature-flag-data"),n=r&&r["enabled-feature-keys"]||[],u=r&&r["feature-flag-states"]||{},i=function(e){for(var t=0,a=0;a<e.length;a+=1){var r=e.charCodeAt(a);t=(t<<5)-t+r,t&=t}return String(t>>>0)},o=function(e,t){return e.indexOf(t)!==-1},f=function(e,t){var r;try{r=window[t]||AJS.Meta.get(e)}catch(e){}if(!r)try{var n=a(window);r=n[t]||n.AJS.Meta.get(e)}catch(e){}try{return"object"==typeof r?r:JSON.parse(r)}catch(e){return null}},l=f("fe-feature-flags","featureFlags")||{},c=f("fe-statsig-values","_statsigValues")||{},v=function(e){var t="",a=!1;"string"==typeof e||e instanceof String?t=e:null!==e&&"object"==typeof e&&(t=e.key,a=e.fallback);var r=l[t];if(void 0!==r&&"value"in r&&(r=r.value),void 0!==r&&"boolean"==typeof r)return r;var f,v=c.feature_gates,s=i(t);if(void 0!==v&&(f=v[s]),void 0!==f&&"value"in f&&(f=f.value),void 0!==f&&"boolean"==typeof f)return f;var g=u[t];if(g===!0){var d=o(n,t+".disabled");return!d}return g===!1?o(n,t+".enabled"):!!o(n,t)||a},s=function(e){try{var t=l[e];return void 0!==t&&"value"in t?t.value:null}catch(e){return null}},g=function(e){var t="",a=!1;"string"==typeof e||e instanceof String?t=e:null!==e&&"object"==typeof e&&(t=e.key,a=e.fallback);var r=l[t];return void 0!==r&&"value"in r?r:void 0!==r&&"boolean"==typeof r?r:{value:a}};t.getFlagResultObject=function(e){return g(e)},t.getFlagValue=function(e){return s(e)},t.isFeatureEnabled=function(e){return v(e)},t.getStringValue=function(e){return s(e)}});;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events.js' */
define("jira/util/events",["jquery","exports","jira/featureflags/feature-manager"],function(e,n,t){"use strict";var i=e(document),a="legacy_";n.bind=function(e,n,t){i.bind(e,n,t)},n.one=function(e,n){i.one(e,n)},n.unbind=function(e,n){i.unbind(e,n)},n.trigger=function(e,n){i.trigger(e,n);var t="";t="string"==typeof e?a+e:a+e.type+(e.namespace?"."+e.namespace:"");var r=new CustomEvent(t,{detail:n});document.dispatchEvent(r)}});;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events/types.js' */
define("jira/util/events/types",{NEW_CONTENT_ADDED:"newContentAdded",NEW_PAGE_ADDED:"newPageAdded",REFRESH_TOGGLE_BLOCKS:"refreshToggleBlocks",CHECKBOXMULITSELECT_READY:"checkboxMultiSelectReady",VALIDATE_TIMETRACKING:"validateTimeTracking",REFRESH_ISSUE_PAGE:"refreshIssuePage",UPDATE_ISSUE_GLANCE:"updateIssueGlance"}),AJS.namespace("JIRA.Events",null,require("jira/util/events/types"));;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events/reasons.js' */
define("jira/util/events/reasons",{pageLoad:"pageLoad",inlineEditStarted:"inlineEditStarted",panelRefreshed:"panelRefreshed",criteriaPanelRefreshed:"criteriaPanelRefreshed",issueTableRefreshed:"issueTableRefreshed",issueTableRowRefreshed:"issueTableRowRefreshed",filterPanelOpened:"filterPanelOpened",layoutSwitcherReady:"layoutSwitcherReady",returnToSearch:"returnToSearch",shareDialogOpened:"shareDialogOpened",filtersSearchRefreshed:"filtersSearchRefreshed",tabUpdated:"tabUpdated",dialogReady:"dialogReady",componentsTableReady:"componentsTableReady",workflowReady:"workflowReady",workflowHeaderReady:"workflowHeaderReady",contentRefreshed:"contentRefreshed"}),AJS.namespace("JIRA.CONTENT_ADDED_REASON",null,require("jira/util/events/reasons"));;
;
/* module-key = 'jira.webresources:jira-formatter', location = '/static/util/formatter.js' */
define("jira/util/formatter",["exports","jira/util/data/meta"],function(t,r){"use strict";function e(t,r){return AJS.I18n.getText.apply(AJS.I18n,arguments)}function a(t){var e=r.get("user-locale-group-separator")||"";return t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,e)}var n=AJS.format.bind(AJS);t.format=n,t.formatNumber=a,t.formatText=n,t.I18n={},t.I18n.getText=e});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/static/lib/internal/util/navigator.js' */
define("internal/util/navigator",["jquery","underscore","exports"],function(n,r,e){"use strict";function t(n){return/\bTrident\b/.test(n)}function i(n){return n==c||/(Edge)\/(\d+)\.(\d+)/.test(n)}function o(n){if(n==c)return f;var r=n.match(/Edge\/(\d+)/);return r&&r[1]}var u=window.navigator.userAgent,s=window.navigator.platform,c="Mozilla/5.0 (Windows NT 10.0; Win64; x64)",f=12,a=r.once(function(){return/Chrome/.test(e._getUserAgent())}),d=r.once(function(){return t(u)||g()}),g=r.once(function(){return i(u)}),l=r.once(function(){return n.browser.mozilla&&!d()}),w=r.once(function(){return n.browser.safari&&!a()}),m=r.once(function(){return n.browser.webkit}),b=r.once(function(){return parseInt(n.browser.version,10)}),v=r.once(function(){return e._getPlatform().indexOf("Linux")!==-1}),x=r.once(function(){return e._getPlatform().indexOf("Mac")!==-1}),_=r.once(function(){return e._getPlatform().indexOf("Win")!==-1});e.isChrome=a,e.isIE=d,e.isEdge=g,e.isMozilla=l,e.isSafari=w,e.isWebkit=m,e.majorVersion=b,e.isLinux=v,e.isMac=x,e.isWin=_,e._isTrident=t,e._getUserAgent=function(){return u},e._getPlatform=function(){return s},i(u)&&(n.browser.version=o(u),n.browser.mozilla=!1,n.browser.msie=!0)});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/static/util/navigator.js' */
define("jira/util/navigator",["internal/util/navigator","jquery"],function(e,r){"use strict";var n=r.extend({},e);return n.isOpera=function(){return r.browser.opera===!0},n.modifierKey=function(){return AJS.Meta.get("keyboard-accesskey-modifier")},n.getLanguage=function(){return window.navigator.language},n});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/includes/ajs/browser/Navigator.js' */
!function(){var i=require("jira/util/navigator");AJS.Navigator={family:function(){return i.isIE()?this.Families.INTERNET_EXPLORER:i.isMozilla()?this.Families.MOZILLA:i.isWebkit()?this.Families.WEBKIT:i.isOpera()?this.Families.OPERA:this.Families.UNKNOWN},modifierKey:function(){return i.modifierKey()},platform:function(){return this.Platform}},AJS.Navigator.Families={INTERNET_EXPLORER:"msie",MOZILLA:"mozilla",WEBKIT:"webkit",OPERA:"opera",UNKNOWN:"unknown"},AJS.Navigator.Platform={platform:i._getPlatform(),isIOS:function(){return"iPod"===this.platform||"iPhone"===this.platform||"iPad"===this.platform}}}();;
;
/* module-key = 'jira.webresources:top-same-origin-window', location = '/static/util/top-same-origin-window.js' */
define("jira/util/top-same-origin-window",function(){const n="@atlassian/spa-iframe";return function(r,t){function e(n){try{if(void 0==n.location.href)return!1}catch(n){return!1}return!0}function i(n){return n===n.parent}function a(r){return t&&r.name===n}for(;!i(r)&&e(r.parent)&&!a(r);)r=r.parent;return r}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/assistive.js' */
define("jira/util/assistive",["jira/util/navigator"],function(t){function e(t){setTimeout(t,r)}function i(t){s||(s=this.getDocument().createElement("div"),s.setAttribute("id","assistive-text"),s.setAttribute("class","visually-hidden"),s.setAttribute("aria-hidden","false"),s.setAttribute("role","status"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-relevant","additions"),this.getDocument().body.appendChild(s)),s[u]=" ",e(function(){s[u]=t})}function n(t,e){e||(e="label-"+d,d+=1);var i=this.getDocument().getElementById(e);return i||(i=this.getDocument().createElement("div"),i.setAttribute("id",e),i.setAttribute("class","visually-hidden"),i.setAttribute("aria-hidden","false"),this.getDocument().body.appendChild(i)),i[u]=t,e}function a(){return document}var s,r=50,u=t.isIE()?"innerText":"textContent",d=0;return{wait:e,readText:i,createOrUpdateLabel:n,getDocument:a}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/elements.js' */
define("jira/util/elements",["jquery"],function(e){"use strict";return{elementIsFocused:function(t){return!(!t||e(t).get(0)!==document.activeElement)},consumesKeyboardEvents:function(t){var n=t instanceof e?t:e(t);return!n.is(":button")&&(n.is(":input")||n.is("[contentEditable]"))}}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/browser.js' */
define("jira/util/browser",["jira/util/elements","aui/params","jquery","exports"],function(e,n,t,a){"use strict";function r(n){var a=n.keyCode,r=t.ui.keyCode;if("keypress"!==n.type&&(a===r.DOWN||a===r.UP||a===r.LEFT||a===r.RIGHT)){var i=t(n.target);e.consumesKeyboardEvents(i)||n.preventDefault()}}a.canAccessIframe=function(e){var a=t(e);return!/^(http|https):\/\//.test(a.attr("src"))||n.baseURL&&0===t.trim(a.attr("src")).indexOf(n.baseURL)},a.disableKeyboardScrolling=function(){t(document.body).bind("keydown",r)},a.enableKeyboardScrolling=function(){t(document.body).unbind("keydown",r)},a.isSelenium=function(){return window.name.toLowerCase().indexOf("selenium")>=0},a.reloadViaWindowLocation=function(e){a.reloadViaWindowLocation._delegate(e,window.location)},a.reloadViaWindowLocation._delegate=function(){var e=function(){var e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),t=(e.getTime()-n.getTime())/1e3;return Math.max(Math.floor(t),1)},n="jwupdated",t=/(jwupdated=[0-9]*)/,a=function(a){var r=a.indexOf("#");if(r===-1)return a;var i=a.indexOf("?"),o=n+"="+e();return a=i===-1?a.replace("#","?"+o+"#"):t.test(a)?a.replace(t,o):a.replace("?","?"+o+"&")};return function(e,n){var t=e||n.href,r=a(t);t===n.href?n.replace(r):n.assign(r)}}()});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/browser/describeBrowser.js' */
define("jira/ajs/browser/describe-browser",["jira/util/navigator","jquery"],function(e,r){function i(){return e.isEdge()?"msie edge":e.isIE()?"msie":e.isSafari()?"webkit safari":e.isChrome()?"webkit chrome":e.isMozilla()?"mozilla":e.isOpera()?"opera":""}function s(){var s=[],a=i(),o=e.majorVersion();if(s.push(a),e.isIE())for(s.push("msie-"+o);o>6;)--o,s.push("msie-gt-"+o);r("html").addClass(s.join(" "))}return s}),AJS.namespace("AJS.describeBrowser",null,require("jira/ajs/browser/describe-browser"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/objects.js' */
define("jira/util/objects",["jquery","exports"],function(t,e){"use strict";e.begetObject=function(t){var e=function(){};return e.prototype=t,new e},e.copyObject=function(n,c){var o=t.isArray(n)?[]:{};return t.each(n,function(n,r){"object"!=typeof r||null===r||r instanceof t?o[n]=r:c!==!1&&(o[n]=e.copyObject(r,c))}),o}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/forms.js' */
define("jira/util/forms",["jira/util/navigator","jquery"],function(t,e){"use strict";return{submitOnEnter:function(t){return!(13===t.keyCode&&t.target.form&&!t.ctrlKey&&!t.shiftKey)||(e(t.target.form).submit(),!1)},submitOnCtrlEnter:function(r){return!(r.ctrlKey&&r.target.form&&(13===r.keyCode||!t.isMac()&&10===r.keyCode))||(e(r.target.form).submit(),!1)},getMultiSelectValues:function(t){for(var e="",r=0;r<t.length;r++)t.options[r].selected&&t.options[r].value&&t.options[r].value.length>0&&(e=e+" "+t.options[r].value);return e},getMultiSelectValuesAsArray:function(t){for(var e=[],r=0;r<t.length;r++)t.options[r].selected&&t.options[r].value&&t.options[r].value.length>0&&(e[e.length]=t.options[r].value);return e}}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/copyobject/copyObject.js' */
AJS.namespace("AJS.copyObject",null,require("jira/util/objects").copyObject);;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/users/logged-in-user.js' */
define("jira/util/users/logged-in-user",["jira/util/data/meta"],function(n){var e={};return e.username=function(){return n.get("remote-user")},e.accountId=function(){return n.get("atlassian-account-id")},e.fullName=function(){return n.get("remote-user-fullname")},e.isAnonymous=function(){return""===n.get("remote-user")},e.isSysadmin=function(){return!!n.getBoolean("is-sysadmin")},e.isAdmin=function(){return!!n.getBoolean("is-admin")},e.isSiteadmin=function(){return!!n.getBoolean("is-site-admin")},e});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/data/Cookie.js' */
define("jira/data/cookie",function(){var e={};return e.saveToConglomerate=function(n,t,r){var a=e.getValue(n);a=e.addOrAppendToValue(t,r,a),e.save(n,a,365)},e.readFromConglomerate=function(n,t,r){var a=e.getValue(n),o=e.getValueFromCongolmerate(t,a);return null!=o?o:r},e.eraseFromConglomerate=function(n,t){e.saveToConglomerate(n,t,"")},e.getValueFromCongolmerate=function(e,n){null==n&&(n="");for(var t=e+"=",r=n.split("|"),a=0;a<r.length;a++){for(var o=r[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(t.length,o.length)}return null},e.addOrAppendToValue=function(e,n,t){var r="";null==t&&(t="");for(var a=t.split("|"),o=0;o<a.length;o++){var l=a[o];if(""!==l){for(;" "===l.charAt(0);)l=l.substring(1,l.length);0!==l.indexOf(e)&&(r+=l+"|")}}if(null!=n&&""!==n){var u=e+"="+n;r.length+u.length<4020&&(r+=u)}return r},e.getValue=function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return unescape(a.substring(n.length,a.length))}return null},e.save=function(e,n,t){if("undefined"!=typeof contextPath){var r=contextPath;r||(r="/");var a;if(t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3),a="; expires="+o.toGMTString()}else a="";document.cookie=e+"="+escape(n)+a+";path="+r}},e.read=function(n,t){var r=e.getValue(n);return null!=r?r:t?(e.save(n,t,365),t):null},e.erase=function(n){e.save(n,"",-1)},e});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/layer-constants.js' */
define("jira/ajs/layer/layer-constants",["exports"],function(e){e.LEFT="left",e.RIGHT="right",e.ACTIVE_CLASS="active",e.BOX_SHADOW_CLASS="box-shadow",e.LOADING_CLASS="loading",e.INTELLIGENT_GUESS="Intelligent Guess"});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/common/util.js' */
!function(){var e=require("jira/util/events");AJS.namespace("JIRA.bind",null,e.bind),AJS.namespace("JIRA.unbind",null,e.unbind),AJS.namespace("JIRA.one",null,e.one),AJS.namespace("JIRA.trigger",null,e.trigger)}(),function(){var e=require("jira/util/users/logged-in-user");AJS.namespace("JIRA.isAdmin",null,e.isAdmin),AJS.namespace("JIRA.isSysadmin",null,e.isSysadmin),AJS.namespace("JIRA.isSiteadmin",null,e.isSiteadmin)}(),function(){var e=require("jira/util/elements");AJS.namespace("AJS.elementIsFocused",null,e.elementIsFocused),AJS.namespace("AJS.consumesKeyboardEvents",null,e.consumesKeyboardEvents)}(),function(){var e=require("jira/util/browser");AJS.namespace("AJS.canAccessIframe",null,e.canAccessIframe),AJS.namespace("AJS.isSelenium",null,e.isSelenium),AJS.namespace("AJS.reloadViaWindowLocation",null,e.reloadViaWindowLocation),AJS.namespace("AJS.enableKeyboardScrolling",null,e.enableKeyboardScrolling),AJS.namespace("AJS.disableKeyboardScrolling",null,e.disableKeyboardScrolling)}(),function(){var e=require("jira/util/objects");AJS.namespace("begetObject",window,e.begetObject)}(),function(){var e=require("jira/util/forms");AJS.namespace("submitOnEnter",window,e.submitOnEnter),AJS.namespace("submitOnCtrlEnter",window,e.submitOnCtrlEnter),AJS.namespace("getMultiSelectValues",window,e.getMultiSelectValues),AJS.namespace("getMultiSelectValuesAsArray",window,e.getMultiSelectValuesAsArray)}(),function(){var e=require("jira/data/cookie");AJS.namespace("saveToConglomerateCookie",window,e.saveToConglomerate),AJS.namespace("readFromConglomerateCookie",window,e.readFromConglomerate),AJS.namespace("eraseFromConglomerateCookie",window,e.eraseFromConglomerate),AJS.namespace("getValueFromCongolmerate",window,e.getValueFromCongolmerate),AJS.namespace("addOrAppendToValue",window,e.addOrAppendToValue),AJS.namespace("getCookieValue",window,e.getValue),AJS.namespace("saveCookie",window,e.save),AJS.namespace("readCookie",window,e.read),AJS.namespace("eraseCookie",window,e.erase)}(),jQuery.noConflict(),jQuery.ajaxSettings.traditional=!0,contextPath="undefined"==typeof contextPath?"":contextPath,function(){var e=require("jira/ajs/layer/layer-constants");AJS.namespace("AJS.LEFT",null,e.LEFT),AJS.namespace("AJS.RIGHT",null,e.RIGHT),AJS.namespace("AJS.ACTIVE_CLASS",null,e.ACTIVE_CLASS),AJS.namespace("AJS.BOX_SHADOW_CLASS",null,e.BOX_SHADOW_CLASS),AJS.namespace("AJS.LOADING_CLASS",null,e.LOADING_CLASS),AJS.namespace("AJS.INTELLIGENT_GUESS",null,e.INTELLIGENT_GUESS)}(),function(){var e=/[.*+?|^$()[\]{\\]/g;RegExp.escape=function(n){return n.replace(e,"\\$&")}}(),function(e){e.readData=function(n){var a={},o="";return e(n).children().each(function(n){n%2?a[o]=jQuery.trim(e(this).text()):o=jQuery.trim(e(this).text())}).remove(),e(n).remove(),a}}(jQuery),String.prototype.escapejQuerySelector=function(){return this.replace(/([:.])/g,"\\$1")},AJS.extractBodyFromResponse=function(e){var n=e.match(/<body[^>]*>([\S\s]*)<\/body[^>]*>/);return n&&n.length>0?n[1]:e},AJS.escapeHTML=AJS.escapeHtml,AJS.isDevMode=function(){return AJS.Meta.get("dev-mode")},function(){function e(e,n){try{return e()}catch(e){return n}}AJS.namespace("tryIt",window,e)}(),function(){function e(e,n){for(var a=0,o=e.length;a<o;a++)if(e[a]==n)return!0;return!1}AJS.namespace("arrayContains",window,e)}(),function(){function e(e,n){jQuery("#"+e).addClass(n)}AJS.namespace("addClassName",window,e)}(),function(){function e(e,n){jQuery("#"+e).removeClass(n)}AJS.namespace("removeClassName",window,e)}(),function(){function e(e){var n=document.getElementById(e);return n.value?e+"="+encodeURIComponent(n.value):""}AJS.namespace("getEscapedFieldValue",window,e)}(),function(){function e(e){for(var n="",a=0;a<e.length;a++)n=n+"&"+getEscapedFieldValue(e[a]);return n}AJS.namespace("getEscapedFieldValues",window,e)}(),function(){var e={toggleVisibility:function(e){var n=document.getElementById(e);n&&("1"==readFromConglomerateCookie("jira.conglomerate.cookie",e,"1")?(n.style.display="none",removeClassName(e+"header","headerOpened"),addClassName(e+"header","headerClosed"),saveToConglomerateCookie("jira.conglomerate.cookie",e,"0")):(n.style.display="",removeClassName(e+"header","headerClosed"),addClassName(e+"header","headerOpened"),eraseFromConglomerateCookie("jira.conglomerate.cookie",e)))}};AJS.namespace("GuiPrefs",window,e)}(),function(){function e(e){GuiPrefs.toggleVisibility(e)}AJS.namespace("toggle",window,e)}(),function(){function e(e,n){var a=document.getElementById(e),o=document.getElementById(n);"none"===a.style.display?(o.style.display="none",a.style.display="block",saveToConglomerateCookie("jira.viewissue.cong.cookie",e,"1"),saveToConglomerateCookie("jira.viewissue.cong.cookie",n,"0")):(a.style.display="none",o.style.display="block",saveToConglomerateCookie("jira.viewissue.cong.cookie",n,"1"),saveToConglomerateCookie("jira.viewissue.cong.cookie",e,"0"))}AJS.namespace("toggleDivsWithCookie",window,e)}(),function(){function e(e,n,a){null==a&&(a="1");var o=document.getElementById(e);o&&("1"!=readFromConglomerateCookie(n,e,a)?(o.style.display="none",removeClassName(e+"header","headerOpened"),addClassName(e+"header","headerClosed")):(o.style.display="",removeClassName(e+"header","headerClosed"),addClassName(e+"header","headerOpened")))}AJS.namespace("restoreDivFromCookie",window,e)}(),function(){function e(e){restoreDivFromCookie(e,"jira.conglomerate.cookie","1")}AJS.namespace("restore",window,e)}(),function(){function e(e){recolourTableRows(e,"rowNormal","rowAlternate",e+"_empty")}AJS.namespace("recolourSimpleTableRows",window,e)}(),function(){function e(e,n,a,o){var t=document.getElementById(e),i=document.getElementById(o),r=!1,s=0,l=t.rows,c=null,u=null;AJS.$(t).hasClass("aui")&&(n="",a="zebra");for(var d=1;d<l.length;d++){var m=l[d];"none"!==m.style.display&&(r?m.className=a:m.className=n,s++,r=!r),"none"!==m.style.display&&(null==c&&(c=m),u=m)}null!=c&&(c.className=c.className+" first-row"),null!=u&&(u.className=u.className+" last-row"),i&&(0===s?(t.style.display="none",i.style.display=""):(t.style.display="",i.style.display="none"))}AJS.namespace("recolourTableRows",window,e)}(),function(){function e(e){var n=document.createElement("div");return n.appendChild(document.createTextNode(e)),n.innerHTML}AJS.namespace("htmlEscape",window,e)}(),function(){function e(){return jQuery("#atlassian-token").attr("content")}AJS.namespace("atl_token",window,e)}();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/common/trace.js' */
AJS.namespace("JIRA.trace",window,function(){});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/lib/class/Class.js' */
define("jira/lib/class",["jira/util/objects","jquery"],function(t,e){var n=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,r=function(){};return r.extend=function(){function r(){!n&&this.init&&this.init.apply(this,arguments)}var o,s=this.prototype;if(arguments.length>1){var u=e.makeArray(arguments);o=u.pop();var a;return e.each(u,function(t,e){a=a?a.extend(e):e}),a.extend(this.prototype).extend(o)}o=arguments[0],n=!0;var c=new this;n=!1;for(var f in o)if(c[f]="function"==typeof o[f]&&"function"==typeof s[f]&&i.test(o[f]))c[f]=function(t,e){return function(){var n=this._super;this._super=s[t];var i=e.apply(this,arguments);return this._super=n,i}}(f,o[f]);else if("object"==typeof s[f]){var p=t.begetObject(o[f]);e.each(s[f],function(n,i){if(p[n]){if("object"==typeof p[n]){var r=t.begetObject(p[n]);e.each(i,function(t,e){r[t]||(r[t]=e)}),p[n]=r}}else p[n]=i}),c[f]=p}else c[f]=o[f];return r.fn=r.prototype=c,r.constructor=r,r.extend=arguments.callee,r},r.prototype.bind=function(t,n){return e(this).bind(t,n),this},r.prototype.trigger=function(t){var n=e(this),i=[].slice.call(arguments,1);return t=new e.Event(t),i.unshift(t),n.trigger.apply(n,i),!t.isDefaultPrevented()},r}),AJS.namespace("Class",null,require("jira/lib/class"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/control/Control.js' */
define("jira/ajs/control",["jira/lib/class","jquery"],function(t,e){return t.extend({INVALID:"INVALID",_throwReadOnlyError:function(t){new Error(this.CLASS_SIGNATURE+": Sorry ["+t+"] is a read-only property")},_assignEvents:function(t,n){if(this._unassignEvents(t,n),"string"==typeof n)for(var i in this._events[t])e(document).delegate(n,i,this._getDispatcher(t,i));else{n=e(n);for(i in this._events[t])n.bind(i,this._getDispatcher(t,i))}return this},_unassignEvents:function(t,n){if("string"==typeof n)for(var i in this._events[t])e(document).undelegate(n,i,this._getDispatcher(t,i));else{n=e(n);for(i in this._events[t])n.unbind(i,this._getDispatcher(t,i))}},_getDispatcher:function(t,n){var i=t+"/"+n;if(this._dispatchers||(this._dispatchers={}),!this._dispatchers[i]){var s=this._events[t][n],r=this;this._dispatchers[i]=function(t){return s.call(r,t,e(this))}}return this._dispatchers[i]},_isValidInput:function(){return!0},_handleKeyEvent:function(t){if(this._isValidInput(t))if("input"===t.type)"function"==typeof this.onEdit&&this.onEdit(t);else{var e=this.keys&&this.keys[t.key];"function"==typeof e&&e.call(this,t)}},getCustomEventName:function(t){return(this.CLASS_SIGNATURE||"")+"_"+t},_getCustomEventArgs:function(){return[this]},_supportsBoxShadow:function(){var t=document.body.style;return void 0!==t.WebkitBoxShadow||void 0!==t.MozBoxShadow||void 0!==t.boxShadow},_setOptions:function(t){var n,i;if(t=t||{},(t instanceof e||"string"==typeof t||"object"==typeof t&&t.nodeName)&&(t={element:t}),n=e(t.element),i=n.getOptionsFromAttributes(),this.options=e.extend(!0,this._getDefaultOptions(t),i,t),this.options.element=n,0===n.length)return this.INVALID},getCaret:function(t){var e=t.selectionStart;if(e>=0)return t.selectionEnd>e?-1:e;if(document.selection){var n=document.selection.createRange();if(0===n.text.length){var i=n.duplicate();return i.moveToElementText(t),i.setEndPoint("EndToStart",n),i.text.length}}return-1},_render:function(){var t,e=arguments[0],n=[];for(t=1;t<arguments.length;t++)n.push(arguments[t]);return this._renders[e].apply(this,n)}})}),AJS.namespace("AJS.Control",null,require("jira/ajs/control"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/descriptor/Descriptor.js' */
define("jira/ajs/descriptor",["jira/lib/class","jquery"],function(e,t){return e.extend({init:function(e){this._validate(e)&&(this.properties=t.extend(this._getDefaultOptions(),e))},allProperties:function(){return this.properties},_validate:function(e){return this.REQUIRED_PROPERTIES&&t.each(this.REQUIRED_PROPERTIES,function(t){if("undefined"==typeof e[t])throw new Error("AJS.Descriptor: expected property ["+t+"] but was undefined")}),!0}})}),AJS.namespace("AJS.Descriptor",null,require("jira/ajs/descriptor"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/input/Keyboard.js' */
define("jira/ajs/input/keyboard",["jira/util/navigator","jquery"],function(e,r){function n(e,r,n){return a[r]=e,u[e]=r,n&&(s[r]=!0),e}function t(e){return e.originalEvent||e}function i(e){var r=t(e);return null==r.which?r.keyCode:0!==r.which&&0!==r.charCode?r.which:null}function o(r){r=t(r);var n=c.specialKeyEntered(r);if(n)return n;if(e.isMozilla()){if("keypress"===r.type){var o=i(r);if(null!==o)return String.fromCharCode(o).toLowerCase()}}else if("keypress"!==r.type)return String.fromCharCode(r.keyCode).toLowerCase()}function f(e){return e+"+"}var a={},u={},s={},c={},y=c.SpecialKey={BACKSPACE:n("backspace",8,!0),TAB:n("tab",9,!0),RETURN:n("return",13,!0),SHIFT:n("shift",16),CTRL:n("ctrl",17),ALT:n("alt",18),PAUSE:n("pause",19),CAPS_LOCK:n("capslock",20),ESC:n("esc",27,!0),SPACE:n("space",32,!0),PAGE_UP:n("pageup",33),PAGE_DOWN:n("pagedown",34),END:n("end",35),HOME:n("home",36),LEFT:n("left",37),UP:n("up",38),RIGHT:n("right",39),DOWN:n("down",40),INSERT:n("insert",45),DELETE:n("del",46),F1:n("f1",112),F2:n("f2",113),F3:n("f3",114),F4:n("f4",115),F5:n("f5",116),F6:n("f6",117),F7:n("f7",118),F8:n("f8",119),F9:n("f9",120),F10:n("f10",121),F11:n("f11",122),F12:n("f12",123),NUMLOCK:n("numlock",144),SCROLL:n("scroll",145),META:n("meta",224)};return y.eventType=function(){return e.isMozilla()?"keypress":"keydown"},y.fromKeyCode=function(e){return a[e]},y.toKeyCode=function(e){return u[e]},y.isAscii=function(e){return!!s[e]},y.isSpecialKey=function(e){return!!y.toKeyCode(e)},c.characterEntered=function(e){var r=t(e);if("keypress"===r.type){var n=i(r);if(null!==n&&(!y.isAscii(n)||y.fromKeyCode(n)===y.SPACE))return String.fromCharCode(n)}},c.specialKeyEntered=function(r){if(r=t(r),e.isMozilla()){if("keypress"===r.type){var n=i(r);if(null===n)return y.fromKeyCode(r.keyCode);if(y.isAscii(n))return y.fromKeyCode(n)}}else if("keypress"!==r.type)return y.fromKeyCode(r.keyCode)},c.shortcutEntered=function(e){if(e=t(e),e.type===y.eventType()){var r=c.specialKeyEntered(e),n="";if(e.altKey&&r!==y.ALT&&(n+=f(y.ALT)),e.ctrlKey&&r!==y.CTRL&&(n+=f(y.CTRL)),e.metaKey&&!e.ctrlKey&&r!==y.META&&(n+=f(y.META)),e.shiftKey&&r!==y.SHIFT&&(n+=f(y.SHIFT)),r)return n+r;if(n.length>0&&"shift+"!==n){var i=o(e);if(i)return n+i}}},c}),AJS.namespace("JIRA.Keyboard",null,require("jira/ajs/input/keyboard"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/input/Mouse.js' */
define("jira/ajs/input/mouse",["jquery","jira/util/top-same-origin-window"],function(e,n){var t=n(window),i={},o=i.MotionDetector=function(){this.reset()};return o.prototype.reset=function(){this._handler=null,this._x=null,this._y=null,this.moved=!1},o.prototype.wait=function(n){var i=this;i._handler||(this.reset(),i._handler=function(e){i._x||i._y?e.pageX===i._x&&e.pageY===i._y||(i.unbind(),i.moved=!0,n&&n.call(this,e)):(i._x=e.pageX,i._y=e.pageY)},e(t.document).bind("mousemove",i._handler),t.document!==window.document&&e(window.document).bind("mousemove",i._handler))},o.prototype.unbind=function(){this._handler&&(e(t.document).unbind("mousemove",this._handler),this.reset())},i}),AJS.namespace("JIRA.Mouse",null,require("jira/ajs/input/mouse"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jquery/plugins/getoptionsfromattributes/getOptionsFromAttributes.js' */
!function(t){t.fn.getOptionsFromAttributes=function(){var e={};return this.length&&t.each(this[0].attributes,function(){var t,a=this.nodeValue,n=e;/^data-/.test(this.nodeName)&&(t=this.nodeName.replace(/^data-/,"").split("."),AJS.$.each(t,function(e,r){r=r.replace(/([a-z])-([a-z])/gi,function(t,e,a){return e+a.toUpperCase()}),r=r.replace(/_([a-z]+)/gi,function(t,e){return e.toUpperCase()}),e===t.length-1?n[r]=a.match(/^(tru|fals)e$/i)?"true"==a.toLowerCase():a:n[r]||(n[r]={}),n=n[r]}))}),e}}(jQuery);;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/ajax/SmartAjax.js' */
define("jira/ajs/ajax/smart-ajax",["jira/util/formatter","jira/util/logger","jquery","jira/jquery/deferred","jira/util/data/meta","jira/util/top-same-origin-window"],function(t,e,r,a,n,o){function s(t,r,a){var n=r?"["+r+"] ":" ";e.log("ajax"+n+t+" : "+a)}function u(t){var e={},a=function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),r=t.getTime()-e.getTime();return Math.max(Math.floor(r),1)},n=function(a,n,o,u){if(!u){var i=tryIt(function(){return a.responseText},"");u=e=new j.SmartAjaxResult(a,f,n,i,(!1),o)}s("error",u.requestId,u),r.isFunction(t.error)&&t.error(a,n,o,u)},o=function(a,o,s){return s.status<100?(e=new j.SmartAjaxResult(s,f,j.SmartAjaxResult.ERROR,"",(!1)),void n(s,j.SmartAjaxResult.ERROR,void 0,e)):(e=new j.SmartAjaxResult(s,f,o,a,(!0)),void(r.isFunction(t.success)&&t.success(a,o,s,e)))},u=function(a,n){r.isFunction(t.complete)&&t.complete(a,n,e)},m={jqueryAjaxFn:r.ajax,headers:{"X-AUSERNAME":encodeURIComponent(i()),"X-AACCOUNTID":encodeURIComponent(c())}},l=r.extend(!0,{},m,t);l.error=n,l.success=o,l.complete=u;var d=l.jqueryAjaxFn.apply(l,[l]),f=a();try{d.abort=function(t){return function(){if(s("aborted",f,""),d.aborted=!0,r.isFunction(t))try{t.apply(d,arguments)}catch(t){}}}(d.abort)}catch(t){}return d}function i(){var t=n.get("remote-user");return"undefined"==typeof t?"undefined":t}function c(){var t=n.get("atlassian-account-id");return"undefined"==typeof t?"undefined":t}function m(e,r){var a;f.AJS;return a=e.statusText==j.SmartAjaxResult.TIMEOUT?"The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.":401===e.status?"You are not authorised to perform this operation. Please log in.":e.hasData?"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.":"The Jira server could not be contacted. This may be a temporary glitch or the server may be down."}function l(e,r){var a='<div class="dialog-error"><p>'+e+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p></div>";return r||(a="<h1>"+"Communications Breakdown"+"</h1>"+a),d(a)}function d(t){var e=r('<div class="ajaxerror"/>');return e.append(t),e}var f=o(window),j={};return j.SmartAjaxResult=function(t,e,r,a,n,o){var s=tryIt(function(){return t.status},0),u={successful:n,status:s,statusText:r,errorThrown:o,readyState:t.readyState,hasData:null!=a&&a.length>0,data:a,xhr:t,aborted:t.aborted,requestId:e,validationError:!(400!==t.status||!a||!a.errors)};return u.toString=function(){return"{\nsuccessful  : "+this.successful+",\nstatus      : "+this.status+",\nstatusText  : "+this.statusText+",\nhasData     : "+this.hasData+",\nreadyState  : "+this.readyState+",\nrequestId   : "+this.requestId+",\naborted     : "+this.aborted+",\n}"},u},j.SmartAjaxResult.ERROR="error",j.SmartAjaxResult.TIMEOUT="timeout",j.SmartAjaxResult.NOTMODIFIED="notmodified",j.SmartAjaxResult.PARSEERROR="parseerror",j.makeChainableRequest=function(t){var e=r.extend({},t),n=a(),o=function(e,a,o,s){r.isFunction(t.error)&&t.error.apply(this,arguments),n.rejectWith(this,arguments)},s=function(e,a,n){r.isFunction(t.complete)&&t.complete.apply(this,arguments)},i=function(e,a,o,s){r.isFunction(t.success)&&t.success.apply(this,arguments),n.resolveWith(this,arguments)};return e.error=o,e.complete=s,e.success=i,u(e),n.promise()},j.makeRequest=function(t){return u(t)},j.buildDialogErrorContent=function(t,e){var r=Math.floor(t.status/100);if(t.hasData&&4!==r)return d(AJS.extractBodyFromResponse(t.data));var a=m(t);return l(a,e)},j.buildSimpleErrorContent=function(t,e){return m(t,e?e:{})},j}),AJS.namespace("JIRA.SmartAjax",null,require("jira/ajs/ajax/smart-ajax")),AJS.namespace("jira.ajax",null,require("jira/ajs/ajax/smart-ajax"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/ajax/initAjaxSetup.js' */
!function(){var e=require("jquery");e.ajaxSetup({timeout:6e4,async:!0,cache:!1,global:!0})}();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/reasons.js' */
define("jira/ajs/layer/hide-reasons",[],function(){return{clickOutside:"clickOutside",toggle:"toggle",escPressed:"esc",cancelClicked:"cancelClicked",submit:"submit",tabbedOut:"tabbedOut"}}),AJS.namespace("AJS.HIDE_REASON",null,require("jira/ajs/layer/hide-reasons"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/layer/LayerManager.js' */
!function(){function e(e,r){return"string"==typeof r&&(r=[r]),c.any(r,function(r){return u.contains(e,r)})}function r(){var e=window;try{for(;e.parent.window!==e.window&&e.parent.AJS;)e=e.parent}catch(e){}return e}function n(e){return(e.$layer||e.$popup||e.$||e.popup||e.element||e)[0]}function t(t){t.bind("showLayer",function(n,t,i){if(!e(i&&i.id,["user-hover-dialog","aui-inline-edit-error","watchers","jira-help-tip"])){var a=r().AJS;a.currentLayerItem&&i!==a.currentLayerItem&&"popup"!==a.currentLayerItem.type&&a.currentLayerItem.hide(),i&&(a.currentLayerItem=i,a.currentLayerItem.type=t)}}).bind("hideLayer",function(t,i,a){if(a&&!e(a.id,["user-hover-dialog","aui-inline-edit-error","jira-help-tip"])){var u=r().AJS;u.currentLayerItem&&(u.currentLayerItem===a?u.currentLayerItem=null:l.contains(n(a),n(u.currentLayerItem))&&u.currentLayerItem.hide())}}).bind("hideAllLayers",function(){var e=r().AJS;e.currentLayerItem&&e.currentLayerItem.hide()}).click(function(e){var n=r().AJS,t=n.currentLayerItem;!t||"popup"===t.type||"inlineDialog"===t.type&&t.persistent||r()===window&&e.originalEvent&&e.originalEvent.isProgrammatic||(t._validateClickToClose?t._validateClickToClose(e)&&(t instanceof AJS.InlineLayer?t.hide(o.clickOutside,e):t.hide()):t.hide())})}var i=require("jira/util/events"),a=require("jira/util/events/types"),u=require("jira/util/strings"),o=require("jira/ajs/layer/hide-reasons"),l=require("jquery"),c=require("underscore"),d=l(document);i.bind("Dialog.beforeHide",function(e){"undefined"!=typeof Calendar&&Calendar.current&&e.preventDefault(),JIRA.Dropdown&&JIRA.Dropdown.current&&e.preventDefault(),AJS.InlineLayer&&AJS.InlineLayer.current&&e.preventDefault(),AJS.Dropdown&&AJS.Dropdown.current&&e.preventDefault(),AJS.InlineDialog&&AJS.InlineDialog.current&&e.preventDefault()}),i.bind("Dialog.show",function(e){JIRA.Dropdown&&JIRA.Dropdown.current&&JIRA.Dropdown.current.hide(),AJS.InlineLayer&&AJS.InlineLayer.current&&(AJS.InlineLayer.current.hide(),e.preventDefault()),AJS.Dropdown&&AJS.Dropdown.current&&(AJS.Dropdown.current.hide(),e.preventDefault()),AJS.InlineDialog&&AJS.InlineDialog.current&&(AJS.InlineDialog.current.hide(),e.preventDefault())}),l(function(){"undefined"!=typeof Calendar&&(d.bind("beforeBlurInput",function(e){Calendar.current&&e.preventDefault(),JIRA.InlineLayer&&JIRA.InlineLayer.current&&e.preventDefault()}),a.BEFORE_INLINE_EDIT_CANCEL&&i.bind(a.BEFORE_INLINE_EDIT_CANCEL,function(e,r,n,t){t===JIRA.Issues.CANCEL_REASON.escPressed&&Calendar.current&&e.preventDefault()}))}),d.bind("iframeAppended",function(e,r){r=l(r),r.load(function(){t(r.contents())})}),t(d)}();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jquery/plugins/hasFixedParent/hasFixedParent.js' */
!function(n){n.fn.hasFixedParent=function(){var i=!1;return this.parents().each(function(){if("fixed"===n(this).css("position"))return i=this,!1}),i}}(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-backbone-backbone', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/backbone/backbone.js' */
("undefined"===typeof window?global:window).__2c84bbdd61b43f2115abf64994b2cc7a=function(){var o={exports:{}},m=o.exports,v={module:o,exports:m,underscore:__61c16d543bfae33bb4747b45f7b91f35,jquery:__307d3e18fd611f85395c67cddeb1fe24,underscore:__61c16d543bfae33bb4747b45f7b91f35,jquery:__307d3e18fd611f85395c67cddeb1fe24},i;i=function(h,f,d){var i=("undefined"===typeof window?global:window).define,j,k,d=[d,f,h].filter(function(d){return"function"===typeof d})[0],f=[f,h,[]].filter(Array.isArray)[0];j=
d.apply(null,f.map(function(d){return v[d]}));k=typeof j;"function"===typeof i&&i("string"===typeof h?h:"__2c84bbdd61b43f2115abf64994b2cc7a",f,d);"string"===k?j=String(j):"number"===k?j=Number(j):"boolean"===k&&(j=Boolean(j));void 0!==j&&(m=o.exports=j)};i.amd=!0;var h=this,q=function(h,f,d,i){var h=this,j=h.Backbone,k=[],o=k.push,m=k.slice,q=k.splice;f.VERSION="1.0.0";f.$=i;f.noConflict=function(){h.Backbone=j;return this};f.emulateHTTP=!1;f.emulateJSON=!1;var l=f.Events={on:function(a,b,c){if(!s(this,
"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!s(this,"once",a,[b,c])||!b)return this;var e=this,g=d.once(function(){e.off(a,g);b.apply(this,arguments)});g._callback=b;return this.on(a,g,c)},off:function(a,b,c){var e,g,w,f,h,i,j,k;if(!this._events||!s(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;f=a?[a]:d.keys(this._events);h=0;for(i=f.length;h<
i;h++)if(a=f[h],w=this._events[a]){this._events[a]=e=[];if(b||c){j=0;for(k=w.length;j<k;j++)g=w[j],(b&&b!==g.callback&&b!==g.callback._callback||c&&c!==g.context)&&e.push(g)}e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=m.call(arguments,1);if(!s(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;c&&x(c,b);e&&x(e,arguments);return this},stopListening:function(a,b,c){var e=this._listeners;if(!e)return this;var d=!b&&!c;"object"===
typeof b&&(c=this);a&&((e={})[a._listenerId]=a);for(var f in e)e[f].off(b,c,this),d&&delete this._listeners[f];return this}},r=/\s+/,s=function(a,b,c,e){if(!c)return!0;if("object"===typeof c){for(var d in c)a[b].apply(a,[d,c[d]].concat(e));return!1}if(r.test(c)){c=c.split(r);d=0;for(var f=c.length;d<f;d++)a[b].apply(a,[c[d]].concat(e));return!1}return!0},x=function(a,b){var c,e=-1,d=a.length,f=b[0],h=b[1],i=b[2];switch(b.length){case 0:for(;++e<d;)(c=a[e]).callback.call(c.ctx);break;case 1:for(;++e<
d;)(c=a[e]).callback.call(c.ctx,f);break;case 2:for(;++e<d;)(c=a[e]).callback.call(c.ctx,f,h);break;case 3:for(;++e<d;)(c=a[e]).callback.call(c.ctx,f,h,i);break;default:for(;++e<d;)(c=a[e]).callback.apply(c.ctx,b)}};d.each({listenTo:"on",listenToOnce:"once"},function(a,b){l[b]=function(b,e,g){var f=this._listeners||(this._listeners={}),h=b._listenerId||(b._listenerId=d.uniqueId("l"));f[h]=b;"object"===typeof e&&(g=this);b[a](e,g,this);return this}});l.bind=l.on;l.unbind=l.off;d.extend(f,l);var p=
f.Model=function(a,b){var c,e=a||{};b||(b={});this.cid=d.uniqueId("c");this.attributes={};d.extend(this,d.pick(b,v));b.parse&&(e=this.parse(e,b)||{});if(c=d.result(this,"defaults"))e=d.defaults({},e,c);this.set(e,b);this.changed={};this.initialize.apply(this,arguments)},v=["url","urlRoot","collection"];d.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return d.clone(this.attributes)},sync:function(){return f.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var e,g,f,h,i,j,k;if(null==a)return this;"object"===typeof a?(g=a,c=b):(g={})[a]=b;c||(c={});if(!this._validate(g,c))return!1;f=c.unset;h=c.silent;a=[];i=this._changing;this._changing=!0;i||(this._previousAttributes=d.clone(this.attributes),this.changed={});k=this.attributes;j=this._previousAttributes;this.idAttribute in g&&(this.id=g[this.idAttribute]);
for(e in g)b=g[e],d.isEqual(k[e],b)||a.push(e),d.isEqual(j[e],b)?delete this.changed[e]:this.changed[e]=b,f?delete k[e]:k[e]=b;if(!h){a.length&&(this._pending=!0);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,k[a[b]],c)}if(i)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,d.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=
void 0;return this.set(b,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?d.clone(this.changed):!1;var b,c=!1,e=this._changing?this._previousAttributes:this.attributes,g;for(g in a)if(!d.isEqual(e[g],b=a[g]))(c||(c={}))[g]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return d.clone(this._previousAttributes)},
fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(e){if(!b.set(b.parse(e,a),a))return false;c&&c(b,e,a);b.trigger("sync",b,e,a)};t(this,a);return this.sync("read",this,a)},save:function(a,b,c){var e,g=this.attributes;null==a||"object"===typeof a?(e=a,c=b):(e={})[a]=b;if(e&&(!c||!c.wait)&&!this.set(e,c))return!1;c=d.extend({validate:!0},c);if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=d.extend({},g,e));void 0===c.parse&&(c.parse=
!0);var f=this,h=c.success;c.success=function(a){f.attributes=g;var b=f.parse(a,c);c.wait&&(b=d.extend(e||{},b));if(d.isObject(b)&&!f.set(b,c))return false;h&&h(f,a,c);f.trigger("sync",f,a,c)};t(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=e);a=this.sync(a,this,c);e&&c.wait&&(this.attributes=g);return a},destroy:function(a){var a=a?d.clone(a):{},b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(d){(a.wait||b.isNew())&&e();c&&
c(b,d,a);b.isNew()||b.trigger("sync",b,d,a)};if(this.isNew())return a.success(),!1;t(this,a);var g=this.sync("delete",this,a);a.wait||e();return g},url:function(){var a=d.result(this,"urlRoot")||d.result(this.collection,"url")||y();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},d.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;var a=d.extend({},this.attributes,a),c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,d.extend(b||{},{validationError:c}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(a){p.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.attributes);return d[a].apply(d,b)}});var u=f.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},b))},A={add:!0,remove:!0,merge:!0},B={add:!0,merge:!1,remove:!1};d.extend(u.prototype,l,{model:p,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return f.sync.apply(this,arguments)},add:function(a,b){return this.set(a,d.defaults(b||{},B))},remove:function(a,b){a=d.isArray(a)?
a.slice():[a];b||(b={});var c,e,g,f;c=0;for(e=a.length;c<e;c++)if(f=this.get(a[c]))delete this._byId[f.id],delete this._byId[f.cid],g=this.indexOf(f),this.models.splice(g,1),this.length--,b.silent||(b.index=g,f.trigger("remove",f,this,b)),this._removeReference(f);return this},set:function(a,b){b=d.defaults(b||{},A);b.parse&&(a=this.parse(a,b));d.isArray(a)||(a=a?[a]:[]);var c,e,g,f,h,i=b.at,j=this.comparator&&null==i&&!1!==b.sort,k=d.isString(this.comparator)?this.comparator:null,l=[],m=[],n={};c=
0;for(e=a.length;c<e;c++)if(g=this._prepareModel(a[c],b))(f=this.get(g))?(b.remove&&(n[f.cid]=!0),b.merge&&(f.set(g.attributes,b),j&&(!h&&f.hasChanged(k))&&(h=!0))):b.add&&(l.push(g),g.on("all",this._onModelEvent,this),this._byId[g.cid]=g,null!=g.id&&(this._byId[g.id]=g));if(b.remove){c=0;for(e=this.length;c<e;++c)n[(g=this.models[c]).cid]||m.push(g);m.length&&this.remove(m,b)}l.length&&(j&&(h=!0),this.length+=l.length,null!=i?q.apply(this.models,[i,0].concat(l)):o.apply(this.models,l));h&&this.sort({silent:!0});
if(b.silent)return this;c=0;for(e=l.length;c<e;c++)(g=l[c]).trigger("add",g,this,b);h&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,d.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,d.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-
1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,d.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return d.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var e in a)if(a[e]!==b.get(e))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var e=d.isFunction(b)?b:function(a){return a.get(b)};return d.sortedIndex(this.models,a,e,c)},pluck:function(a){return d.invoke(this.models,"get",
a)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(e){c[a.reset?"reset":"set"](e,a);b&&b(c,e,a);c.trigger("sync",c,e,a)};t(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?d.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;b.success=function(a,b,d){d.wait&&c.add(a,d);e&&e(a,b,d)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof p)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?(this.trigger("invalid",this,a,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,e){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,e),b&&a==="change:"+b.idAttribute&&
(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){u.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.models);return d[a].apply(d,b)}});
d.each(["groupBy","countBy","sortBy"],function(a){u.prototype[a]=function(b,c){var e=d.isFunction(b)?b:function(a){return a.get(b)};return d[a](this.models,e,c)}});var i=f.View=function(a){this.cid=d.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},C=/^(\S+)\s*(.*)$/,D="model collection el id attributes className tagName events".split(" ");d.extend(i.prototype,l,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof f.$?a:f.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=d.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];d.isFunction(c)||(c=this[a[b]]);if(c){var e=b.match(C),g=e[1],e=e[2],c=d.bind(c,this),g=g+(".delegateEvents"+this.cid);
if(""===e)this.$el.on(g,c);else this.$el.on(g,e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=d.extend({},d.result(this,"options"),a));d.extend(this,d.pick(a,D));this.options=a},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var a=d.extend({},d.result(this,"attributes"));this.id&&(a.id=d.result(this,"id"));this.className&&(a["class"]=d.result(this,"className"));a=f.$("<"+
d.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});f.sync=function(a,b,c){var e=E[a];d.defaults(c||(c={}),{emulateHTTP:f.emulateHTTP,emulateJSON:f.emulateJSON});var g={type:e,dataType:"json"};c.url||(g.url=d.result(b,"url")||y());if(null==c.data&&b&&("create"===a||"update"===a||"patch"===a))g.contentType="application/json",g.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(c.emulateHTTP&&("PUT"===
e||"DELETE"===e||"PATCH"===e)){g.type="POST";c.emulateJSON&&(g.data._method=e);var h=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(h)return h.apply(this,arguments)}}"GET"!==g.type&&!c.emulateJSON&&(g.processData=!1);if("PATCH"===g.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=c.xhr=f.ajax(d.extend(g,c));b.trigger("request",b,a,c);return a};var E=
{create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};f.ajax=function(){return f.$.ajax.apply(f.$,arguments)};var k=f.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,H=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(k.prototype,l,{initialize:function(){},route:function(a,b,c){d.isRegExp(a)||(a=this._routeToRegExp(a));d.isFunction(b)&&(c=b,b="");c||(c=this[b]);var e=this;f.history.route(a,
function(d){d=e._extractParameters(a,d);c&&c.apply(e,d);e.trigger.apply(e,["route:"+b].concat(d));e.trigger("route",b,d);f.history.trigger("route",e,b,d)});return this},navigate:function(a,b){f.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,b=d.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(I,"\\$&").replace(F,"(?:$1)?").replace(G,function(a,c){return c?a:"([^/]+)"}).replace(H,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return d.map(c,function(a){return a?decodeURIComponent(a):null})}});var n=f.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,K=/msie [\w.]+/,L=/\/$/;n.started=!1;d.extend(n.prototype,l,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:
""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){var a=this.location.pathname,c=this.root.replace(L,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(z,"")},start:function(a){if(n.started)throw Error("Backbone.history has already been started");n.started=!0;this.options=d.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;
this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var a=this.getFragment(),b=document.documentMode,b=K.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(J,"/");b&&this._wantsHashChange&&(this.iframe=f.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)f.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&
!b)f.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(z,
""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){f.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);n.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&
this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return d.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!n.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});f.history=new n;p.extend=u.extend=k.extend=i.extend=n.extend=function(a,b){var c=this,e;e=a&&d.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};d.extend(e,c,b);var f=function(){this.constructor=e};f.prototype=c.prototype;e.prototype=new f;a&&d.extend(e.prototype,a);e.__super__=c.prototype;return e};var y=function(){throw Error('A "url" property or function must be specified');},t=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return f};if("function"===typeof i&&i.amd)i(["underscore","jquery","exports"],function(i,f,d){h.Backbone=q(h,d,i,f)});else if("undefined"!==typeof m){i=__61c16d543bfae33bb4747b45f7b91f35;
var r;try{r=__307d3e18fd611f85395c67cddeb1fe24}catch(M){}q(h,m,i,r)}else h.Backbone=q(h,{},h._,h.jQuery||h.Zepto||h.ender||h.$);return o.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-backbone', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/backbone.js' */
("undefined"===typeof window?global:window).__e3ce9f42f29f6bd2118d84461512f4a4=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__2c84bbdd61b43f2115abf64994b2cc7a,a=a&&a.__esModule?a:{"default":a};window.Backbone||(window.Backbone=a.default);b.default=window.Backbone;return b=b["default"]}.call(this);;
;
/* module-key = 'jira.webresources:ajs-backbone-amd-shim', location = '/static/lib/amd-shims/backbone-amd.js' */
define("backbone",["underscore","jquery"],function(){return Backbone});;
;
/* module-key = 'jira.webresources:number-formatter', location = '/includes/jira/numberformatter/NumberFormatter.js' */
AJS.namespace("JIRA.NumberFormatter.format",null,require("jira/util/formatter").formatNumber);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/meta.js' */
AJS.namespace("JIRA.Meta"),function(){var e=require("jira/util/data/meta"),t=require("aui/params");JIRA.Meta.getLoggedInUser=function(){return{name:e.get("remote-user"),fullName:e.get("remote-user-fullname")}},JIRA.Meta.getProject=function(){return t.projectKey},JIRA.Meta.getIssueKey=function(){return e.get("issue-key")}}();;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/ajax/AjaxUtil.js' */
define("jira/ajs/ajax/ajax-util",["jira/util/formatter","jquery","underscore","exports"],function(r,e,t,s){"use strict";var n=function(r){if(r){if(t.isArray(r.errorMessages)&&!t.isEmpty(r.errorMessages))return r.errorMessages.join(" ");if(t.isObject(r.errors)&&!t.isEmpty(r.errors))return t.values(r.errors).join(" ")}return null},a=function(r){var t;try{return t=r.responseText&&e.parseJSON(r.responseText),n(t)}catch(r){}return null},o=function(e){return 401===e.status?"You are not authorised to perform this operation. Please log in.":e.responseText?"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.":"The Jira server could not be contacted. This may be a temporary glitch or the server may be down."};s.getErrorMessageFromXHR=function(r){return a(r)||o(r)},s.isWebSudoFailure=function(r){return!1}}),AJS.namespace("JIRA.Ajax",null,require("jira/ajs/ajax/ajax-util"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/observer.js' */
!function(){var e=require("jira/util/events"),r=require("jira/util/events/types"),t=require("jira/util/events/reasons"),i=require("jquery");i(function(){var n=i(document);e.trigger(r.NEW_CONTENT_ADDED,[n,t.pageLoad]),e.trigger(r.NEW_PAGE_ADDED,[n])}),e.bind("dialogContentReady",function(i,n){var D=n.get$popupContent();e.trigger(r.NEW_CONTENT_ADDED,[D,t.dialogReady]),e.trigger(r.NEW_PAGE_ADDED,[D])}),e.bind("contentRefreshed",function(t,n){var D=i(n);e.trigger(r.NEW_CONTENT_ADDED,[D])})}();;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/json/JSONiefix.js' */
jQuery.browser.msie&&jQuery.browser.version>7&&"undefined"!=typeof JSON&&(JSON.stringify=null);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/version.js' */
define("jira/util/version",["aui/params"],function(r){var e={};return e.compare=function(e){if(r.JiraVersion){var n,a=r.JiraVersion.split("."),t=e.split("."),i=-1;n=a.length,a.length>t.length?(n=t.length,i=1):a.length===t.length&&(i=0);for(var l=0;l<n;l++){var u,o,s,p,h,c,f;if(u=a[l],o=t[l],h=/^(0+)(.*)$/,s=u.match(h),null!=s?(u="0."+u,c=parseFloat(u)):c=parseInt(u,10),p=o.match(h),null!=p?(o="0."+o,f=parseFloat(o)):f=parseInt(o,10),c<f)return-1;if(c>f)return 1}return i}},e.isGreaterThanOrEqualTo=function(r){return e.compare(r)!==-1},e}),AJS.namespace("JIRA.Version",null,require("jira/util/version"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/json/JSON.js' */
this.JSON||(this.JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,f,o,u,i=gap,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(o=a.length,n=0;n<o;n+=1)u[n]=str(n,a)||"null";return f=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,f}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)r=rep[n],"string"==typeof r&&(f=str(r,a),f&&u.push(quote(r)+(gap?": ":":")+f));else for(r in a)Object.hasOwnProperty.call(a,r)&&(f=str(r,a),f&&u.push(quote(r)+(gap?": ":":")+f));return f=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,f}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,f=t[e];if(f&&"object"==typeof f)for(n in f)Object.hasOwnProperty.call(f,n)&&(r=walk(f,n),void 0!==r?f[n]=r:delete f[n]);return reviver.call(t,e,f)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/parseuri/parseUri.js' */
/*!
 * parseUri 1.2.2
 * (c) Steven Levithan <stevenlevithan.com>
 * MIT License
 * MODIFIED BY ATLASSIAN
 */
define("jira/libs/parse-uri",function(){function r(e){for(var o=r.options,s=o.parser[o.strictMode?"strict":"loose"].exec(e),t={},i=14;i--;)t[o.key[i]]=s[i]||"";return t[o.q.name]={},t[o.key[12]].replace(o.q.parser,function(r,e,s){e&&(t[o.q.name][e]=s)}),t}return r.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r}),AJS.namespace("parseUri",null,require("jira/libs/parse-uri"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/parseOptionsFromFieldset.js' */
define("jira/data/parse-options-from-fieldset",["jquery"],function(e){function t(e){var t=r(e,e);return e.remove(),t}function r(t,a){var n={};return t.children().each(function(){var t,s=e(this);s.is("input[type=hidden]")?(t=i(s),n.hasOwnProperty(t.id)?e.isArray(n[t.id])?n[t.id].push(t.value):n[t.id]=[n[t.id],t.value]:n[t.id]=t.value):s.is("fieldset")?n[s.attr("title")||s.attr("id")]=r(s,a):s.insertBefore(a)}),n}function i(e){var t={},r=e.val();return t.id=e.attr("title")||e.attr("id"),t.value=r.match(/^(tru|fals)e$/i)?"true"==r.toLowerCase():r,t}return t}),AJS.namespace("JIRA.parseOptionsFromFieldset",null,require("jira/data/parse-options-from-fieldset"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/handleaccesskeys/handleAccessKeys.js' */
!function(e){var t=require("underscore");e.fn.handleAccessKeys=function(s){function n(t,n){if(t)return s.selective===!1||(/[a-z]/i.test(t)&&(t=t.toLowerCase()),e.inArray(t,n)!==-1)}function c(t){t.each(function(){var t=e(this);t.data(a)&&t.attr(a,t.data(a))})}function r(t,s){t.each(function(){var t=e(this);n(t.attr(a),s)&&(t.data(a,t.attr(a)),t.removeAttr(a))})}var a="accesskey";return e.browser.msie&&"7.0"==e.browser.version&&(a="accessKey"),s=s||{},this.each(function(){var s=e(this),n={getBlackList:t.once(function(){var e=[];return this.getMyAccesskeyElems().each(function(){this.hasAttribute(a)&&e.push(this.getAttribute(a).toLowerCase())}),e}),getMyAccesskeyElems:t.once(function(){return e(":input["+a+"], a["+a+"]",s)}),getOtherAccesskeyElems:t.once(function(){return e("form").not(s).find(":input["+a+"], a["+a+"]")})};return s.is("form")?void(s.data("handleAccessKeys.applied")||(s.data("handleAccessKeys.applied",!0),s.delegate(":input, a","focus",function(){r(n.getOtherAccesskeyElems(),n.getBlackList()),c(n.getMyAccesskeyElems())}).delegate(":input, a","blur",function(){c(n.getOtherAccesskeyElems())}))):(console.warn("jQuery.fn.handleAccessKeys: node type ["+s.prop("nodeName")+"] is not valid. Only <form> supported"),this)}),this}}(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/setselectionrange/setSelectionRange.js' */
jQuery.fn.setSelectionRange=function(e,t){if(0!=this.length)if(this[0].setSelectionRange)this[0].focus(),this[0].setSelectionRange(e,t);else if(this[0].createTextRange){var n=this[0].createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}},jQuery.fn.setCaretToPosition=function(e){this.setSelectionRange(e,e)};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/simpleclick/simpleClick.js' */
!function(e){e.event.special.simpleClick={add:function(c){c._clickHandler=function(e){if(!e.ctrlKey&&!e.metaKey&&!e.shiftKey)return c.handler.apply(this,arguments)},e(this).on("click",c.selector,c._clickHandler)},remove:function(c){e(this).off("click",c.selector,c._clickHandler)}}}(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/SessionStorage.js' */
define("jira/data/session-storage",function(){return{nativesupport:!0,length:function(){return sessionStorage.length},key:function(e){return sessionStorage.key(e)},getItem:function(e){return sessionStorage.getItem(e)},setItem:function(e,t){return sessionStorage.setItem(e,t)},removeItem:function(e){return sessionStorage.removeItem(e)},clear:function(){return sessionStorage.clear()},asJSON:function(){for(var e=this.length(),t="{\n",n=0;n<e;n++){var s=this.key(n),r=this.getItem(s);t+=s+":"+r,n<e-1&&(t+=","),t+="\n"}return t+="}\n"}}}),AJS.namespace("jira.app.session.storage",null,require("jira/data/session-storage")),AJS.namespace("JIRA.SessionStorage",null,require("jira/data/session-storage"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/LocalStorage.js' */
define("jira/data/local-storage",["jquery"],function(e){return"undefined"==typeof localStorage&&(localStorage={getItem:e.noop,setItem:e.noop,removeItem:e.noop,clear:e.noop}),localStorage});;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/persistence/persistence.js' */
define("jira/ajs/persistence",["jira/data/session-storage","jquery","exports"],function(e,n,a){var t="AJS.thisPage";a.nextPage=function(){var a=[];return n(window).unload(function(){e.setItem(t,JSON.stringify(a))}),function(e,t){var i;n.each(a,function(){this.name===e&&(this.value=t,i=!0)}),i||a.push({name:e,value:t})}}(),a.thisPage=function(){var n,a,i={};if(a=e.getItem(t),e.removeItem(t),a)for(a=JSON.parse(a),n=0;n<a.length;n++)i[a[n].name]=a[n].value;return function(e){return i[e]}}()}),AJS.namespace("AJS.nextPage",null,require("jira/ajs/persistence").nextPage),AJS.namespace("AJS.thisPage",null,require("jira/ajs/persistence").thisPage);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/xsrf/XSRF.js' */
define("jira/xsrf",["jira/util/formatter","jquery"],function(t,a){function n(t){var a=atl_token();a!==t&&(o(a,t),u(a,t),c(a,t))}var r="atlassian-token",e="atl_token",i="atl_token",f=function(a){return t.format("{0}={1}",e,a)},o=function(n,e){var i=t.format("meta#{0}",r);a(i).attr("content",e)},u=function(t,n){a("a,link").each(function(){var r=a(this),e=r.attr("href");e&&r.attr("href",e.replace(f(t),f(n)))})},c=function(n,r){a("form").each(function(){var e=a(this),o=e.attr("action");o&&e.attr("action",o.replace(f(n),f(r)));var u=t.format('input[name="{0}"][value="{1}"]',i,n);e.find(u).each(function(){a(this).attr("value",r)})})};return{updateTokenOnPage:n}}),AJS.namespace("jira.xsrf",null,require("jira/xsrf")),AJS.namespace("JIRA.XSRF",null,require("jira/xsrf"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/bindDefaultCustomEvent/bindDefaultCustomEvent.js' */
define("jira/ajs/default-custom-event",["jquery","exports"],function(e,n){var t={};n.bind=function(n,a){if(t[n])throw new Error("You have already bound a default handler for ["+n+"] event");t[n]=function(t){var u=e(document).data("events")[n],l=u[u.length-1].handler;l!==arguments.callee?(t.preventDefault=function(){a=null},u[u.length-1].handler=function(){l.apply(this,arguments),a&&a.apply(this,arguments),u[u.length-1].handler=l}):a.apply(this,arguments)},e(document).bind(n,t[n])},n.unbind=function(n){t[n]&&(e(document).unbind(n,t[n]),delete t[n])}}),AJS.namespace("AJS.bindDefaultCustomEvent",null,require("jira/ajs/default-custom-event").bind),AJS.namespace("AJS.unbindDefaultCustomEvent",null,require("jira/ajs/default-custom-event").unbind);;
;
/* module-key = 'jira.webresources:general-configuration', location = '/includes/jira/general-configuration/Settings.js' */
JIRA.Settings={},JIRA.Settings.ApplicationTitle={get:function(){return AJS.Meta.get("app-title")}};;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/ContentRetriever.js' */
define("jira/ajs/contentretriever/content-retriever",["jira/lib/class","jquery"],function(e,n){return e.extend({startingRequest:n.noop,finishedRequest:n.noop,cache:n.noop,isLocked:n.noop,content:n.noop})}),AJS.namespace("AJS.ContentRetriever",null,require("jira/ajs/contentretriever/content-retriever"));;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/AjaxContentRetriever.js' */
define("jira/ajs/contentretriever/ajax-content-retriever",["jira/ajs/contentretriever/content-retriever","jira/ajs/ajax/smart-ajax","jquery"],function(t,e,i){return t.extend({init:function(t){this.ajaxOptions=t,this.ajaxOptions.requestDelay||0===this.ajaxOptions.requestDelay||(this.ajaxOptions.requestDelay=75)},getAjaxOptions:function(){var t,e=this;return t="string"==typeof this.ajaxOptions?{url:this.ajaxOptions}:i.isFunction(this.ajaxOptions)?this.ajaxOptions():this.ajaxOptions,t.globalThrobber=!1,t.success=function(t,i,s){e._requestComplete(s,i,t,!0,null)},t.error=function(t,i){t.rc&&(t.status=t.rc),e._requestComplete(t,i,null,!1,null)},t},content:function(t){return i.isFunction(t)?(this.callback=t,this._makeRequest(t)):t&&this.callback&&(this.callback(t),delete this.callback),this.$content},startingRequest:function(t){t?this.startingCallback=t:this.startingCallback&&(this.locked=!0,this.startingCallback())},finishedRequest:function(t){t?this.finishedCallback=t:this.finishedCallback&&(this.locked=!1,this.finishedCallback())},failedRequest:function(t){t?this.failedCallback=t:this.failedCallback&&(this.locked=!1,this.failedCallback())},cache:function(t){return"undefined"!=typeof t&&(this.getAjaxOptions().cache=t),this.getAjaxOptions().cache},isLocked:function(){return this.locked},_requestComplete:function(t,s,a,n,r){if("abort"===s)return void(this.locked=!1);var o,u,c=this.getAjaxOptions();if(e.SmartAjaxResult&&(u=e.SmartAjaxResult.apply(window,arguments)),n)o=i.isFunction(c.formatSuccess)?c.formatSuccess(a):i("<div>"+a+"</div>");else{if(i.isFunction(c.formatError))o=c.formatError(a);else if(u){var l=401===u.status?"warning":"error";o=i('<div class="aui-message '+l+'"><span class="aui-icon icon-'+l+'"></span>'+e.buildSimpleErrorContent(u)+"</div>")}this.failedRequest()}this.content(o),this.finishedRequest()},_makeRequest:function(){function t(){e.startingRequest(),e.outstandingRequest=i.ajax(e.getAjaxOptions())}var e=this;this.getAjaxOptions();this.outstandingRequest&&(this.outstandingRequest.abort(),this.outstandingRequest=null),clearTimeout(this._queuedRequest),this.isLocked()?this._queuedRequest=setTimeout(function(){e._makeRequest()},this.ajaxOptions.requestDelay):t()}})}),AJS.namespace("AJS.AjaxContentRetriever",null,require("jira/ajs/contentretriever/ajax-content-retriever"));;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/DOMContentRetriever.js' */
define("jira/ajs/contentretriever/dom-content-retriever",["jira/ajs/contentretriever/content-retriever","jquery"],function(e,t){return e.extend({init:function(e){this.$content=t(e)},content:function(e){return t.isFunction(e)&&e(this.$content),this.$content}})}),AJS.namespace("AJS.DOMContentRetriever",null,require("jira/ajs/contentretriever/dom-content-retriever"));;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/DeferredContentRetriever.js' */
define("jira/ajs/contentretriever/deferred-content-retriever",["jira/ajs/contentretriever/content-retriever","jquery","underscore"],function(e,n,r){return e.extend({init:function(e){this.func=e},content:function(e){if(n.isFunction(e)){var t=this.func();t instanceof n?e(t):t.done(r.bind(function(n){e(n)},this))}},cache:function(){return!1}})}),AJS.namespace("AJS.DeferredContentRetriever",null,require("jira/ajs/contentretriever/deferred-content-retriever"));;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.StandardPositioning.js' */
define("jira/ajs/layer/inline-layer/standard-positioning",["jira/lib/class","jquery"],function(t,e){return t.extend({_getDefaultOptions:function(){return{shouldRenderToParent:!1}},init:function(t){t=t||{},this.positioningOptions=e.extend(!0,this._getDefaultOptions(),t),this.rebuiltCallbacks=[]},left:function(){var t=this.offset();return{left:t.left,top:t.top+this.offsetTarget().outerHeight()}},right:function(){var t=this.offset();return{left:t.left-this.layer().outerWidth()+this.offsetTarget().outerWidth(),top:t.top+this.offsetTarget().outerHeight()}},window:function(){return window},offset:function(){var t=this.offsetTarget().offset();return this.offsetTarget().hasFixedParent()||this.positioningOptions.shouldRenderToParent?(this.layer().css("position","fixed"),t.top=t.top-e(window).scrollTop()):this.layer().css("position","absolute"),t},rebuilt:function(t){var i=this;e.isFunction(t)?this.rebuiltCallbacks.push(t):e.each(this.rebuiltCallbacks,function(){this(i.layer())})},appendToBody:function(){this.layer().appendTo("body")},appendToPlaceholder:function(){this.layer().appendTo(this.$placeholder)},scrollTo:function(){}})});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.WindowPositioning.js' */
define("jira/ajs/layer/inline-layer/window-positioning",["jira/ajs/layer/inline-layer/standard-positioning","jquery"],function(t,e){return t.extend({_calculateOverflow:function(t){var i="fixed"===this.layer().css("position"),r=t.top+this.layer().outerHeight(!0),a=e(window).outerHeight(),n=e(window).scrollTop();return i?Math.max(0,r-a):Math.max(0,r-n-a)},left:function(){var t=this._super(),e=this._calculateOverflow(t);return e>0&&(t.left+=this.offsetTarget().outerWidth(),t.top-=e),t},right:function(){var t=this._super(),e=this._calculateOverflow(t);return e>0&&(t.left-=this.offsetTarget().outerWidth(),t.top-=e),t}})});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.IframePositioning.js' */
define("jira/ajs/layer/inline-layer/iframe-positioning",["jira/ajs/layer/inline-layer/standard-positioning","jira/util/navigator","jquery","jira/util/top-same-origin-window"],function(e,t,n,o){var i=o(window,!0),r=e.extend({offset:function(){var e=r.window(),t=r.topWindow(),o=n("iframe",t.document.body).filter(function(){return this.getAttribute("name")===e.name}),i=o.parent().offset(),l=this._super(),c=this._topDocumentScrollTop(),u=this._topDocumentScrollLeft(),a=this._iframeScrollTop(),d=this._iframeScrollLeft(),s=c-a,f=u-d;return{left:i.left+l.left+f,top:i.top+l.top+s}},_topDocumentScrollTop:function(){return this.isOffsetIncludingScroll()?0:Math.max(i.document.body.scrollTop,i.document.documentElement.scrollTop)},_topDocumentScrollLeft:function(){return this.isOffsetIncludingScroll()?0:Math.max(i.document.body.scrollLeft,i.document.documentElement.scrollLeft)},_iframeScrollTop:function(){return this.isOffsetIncludingScroll()?2*Math.max(window.document.body.scrollTop,window.document.documentElement.scrollTop):0},_iframeScrollLeft:function(){return this.isOffsetIncludingScroll()?2*Math.max(window.document.body.scrollLeft,window.document.documentElement.scrollLeft):0},isOffsetIncludingScroll:function(e){return"undefined"==typeof this.offsetIncludingScroll&&(this.offsetIncludingScroll=!0),"undefined"!=typeof e&&(this.offsetIncludingScroll=e),this.offsetIncludingScroll},appendToBody:function(){i.jQuery("body").append(this.layer())},window:function(){return i},scrollTo:function(){}});return t.isWebkit()&&(r=r.extend({appendToBody:function(){var e=this.layer();this.layer(this._rebuildLayerInParent()),i.jQuery("body").append(this.layer()),e.remove(),this.rebuilt()},appendToPlaceholder:function(){var e=this.layer();this.layer(this._rebuildLayerInIframe()),this.layer().appendTo(this.placeholder()),e.remove(),this.rebuilt()},_rebuildLayerInParent:function(){return i.jQuery("<div class='ajs-layer'>"+this.layer().html()+"</div>")},_rebuildLayerInIframe:function(){return n("<div class='ajs-layer'>"+this.layer().html()+"</div>")}})),t.isMozilla()&&(r=r.extend({appendToPlaceholder:function(){var e=this.layer();this.layer(e.clone(!0).appendTo(this.placeholder())),this.rebuilt(),window.setTimeout(function(){e.remove()},10)}})),r.window=function(){return window},r.topWindow=function(){return i},r});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.OptionsDescriptor.js' */
define("jira/ajs/layer/inline-layer/options-descriptor",["jira/ajs/layer/layer-constants","jira/ajs/descriptor","jira/ajs/contentretriever/ajax-content-retriever","jira/ajs/contentretriever/deferred-content-retriever","jira/ajs/contentretriever/dom-content-retriever","jira/ajs/layer/inline-layer/iframe-positioning","jira/ajs/layer/inline-layer/window-positioning","jira/ajs/layer/inline-layer/standard-positioning","aui/params","jquery"],function(t,e,i,r,n,o,s,p,a,h){return e.extend({init:function(t){if(this._super(t),!this.contentRetriever())if(this.ajaxOptions())this.contentRetriever(new i(this.ajaxOptions()));else if(h.isFunction(this.content()))this.contentRetriever(new r(this.content()));else{if(!this.content())throw new Error("InlineLayer.OptionsDescriptor: Expected either [ajaxOptions] or [contentRetriever] or [content] to be defined");this.contentRetriever(new n(this.content()))}if(!this.positioningController())if(!a.ignoreFrame&&this._inIFrame())this.positioningController(new o);else{var e={shouldRenderToParent:t.shouldRenderToParent},l=h("body"),c="hidden"===l.css("overflow")||"hidden"===l.css("overflowY");c?this.positioningController(new s(e)):this.positioningController(new p(e))}!this.offsetTarget()&&this.content()instanceof h&&this.offsetTarget(this.content().prev())},_inIFrame:function(){var t=window;try{for(;t.parent.window!==t.window;)if(t=t.parent,t.AJS)return!0}catch(t){}return!1},_getDefaultOptions:function(){return{alignment:t.INTELLIGENT_GUESS,shouldRenderToParent:!1,hideOnScroll:".form-body",cushion:20,width:200}},positioningController:function(t){return t?void(this.properties.positioningController=t):this.properties.positioningController},ajaxOptions:function(t){return t?void(this.properties.ajaxOptions=t):this.properties.ajaxOptions},content:function(t){if(t)t=h(t),t.length&&(this.properties.content=t);else if(this.properties.content&&(this.properties.content.length||h.isFunction(this.properties.content)))return this.properties.content},contentRetriever:function(t){return t?void(this.properties.contentRetriever=t):this.properties.contentRetriever},offsetTarget:function(t){if(t)t=h(t),t.length&&(this.properties.offsetTarget=t);else if(this.properties.offsetTarget&&(this.properties.offsetTarget.length||h.isFunction(this.properties.offsetTarget)))return this.properties.offsetTarget},cushion:function(t){return t?void(this.properties.cushion=t):this.properties.cushion},styleClass:function(t){return t?void(this.properties.styleClass=t):this.properties.styleClass},hideOnScroll:function(t){return t?void(this.properties.hideOnScroll=t):this.properties.hideOnScroll},alignment:function(t){return t?void(this.properties.alignment=t):this.properties.alignment},width:function(t){return t?void(this.properties.width=t):h.isFunction(this.properties.width)?this.properties.width.call(this):this.properties.width},allowDownsize:function(t){return t?void(this.properties.allowDownsize=t):this.properties.allowDownsize},customEvents:function(t){return t?void(this.properties.customEvents=t):this.properties.customEvents},shouldRenderToParent:function(t){return t?void(this.properties.shouldRenderToParent=t):this.properties.shouldRenderToParent}})});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.js' */
define("jira/ajs/layer/inline-layer",["jira/ajs/layer/layer-constants","jira/ajs/control","jira/ajs/layer/hide-reasons","jira/ajs/layer/inline-layer/options-descriptor","jira/ajs/contentretriever/content-retriever","jira/util/events","jquery"],function(t,i,e,s,n,o,r){var h=i.extend({CLASS_SIGNATURE:"AJS_InlineLayer",SCROLL_HIDE_EVENT:"scroll.hide-dropdown",init:function(t){var i=this;if(t instanceof s?this.options=t:this.options=new s(t),this.offsetTarget(this.options.offsetTarget()),this.contentRetriever=this.options.contentRetriever(),r.extend(this,this.options.positioningController()),!(this.contentRetriever instanceof n))throw new Error("InlineLayer: Failed construction, Content retriever does not implement interface [AJS.ContentRetrieverInterface]");this.contentRetriever.startingRequest(function(){i._showLoading()}),this.contentRetriever.finishedRequest(function(){i._hideLoading()}),this.contentRetriever.failedRequest&&this.contentRetriever.failedRequest(function(){i.onerror()}),this.$layer=this._render("layer",this.options.alignment())},content:function(t){var i=this;return r.isFunction(t)?void this.contentRetriever.content(function(e){i.$content=e.removeClass("hidden"),t.call(i)}):this.$content},offsetTarget:function(){var t=this.options.offsetTarget();return r.isFunction(t)&&(t=t()),t},contentChange:function(t){var i=this;r.isFunction(t)?(this.contentChangeCallback||(this.contentChangeCallback=[]),this.contentChangeCallback.push(t)):t||(this.trigger("contentChanged",[this]),this.setWidth(this.options.width()),this.setPosition(),this.contentChangeCallback&&r.each(this.contentChangeCallback,function(t,e){e(i)}))},onhide:function(t){var i=this;r.isFunction(t)?(this.hideCallback||(this.hideCallback=[]),this.hideCallback.push(t)):!t&&this.hideCallback&&r.each(this.hideCallback,function(t,e){e(i)})},onerror:function(t){var i=this;r.isFunction(t)?(this.errorCallback||(this.errorCallback=[]),this.errorCallback.push(t)):!t&&this.errorCallback&&r.each(this.errorCallback,function(t,e){e(i)})},layer:function(t){return t?void(this.$layer=t):this.$layer},placeholder:function(t){return t?void this._throwReadOnlyError("placeholder"):this.$placeholder},isVisible:function(t){return"undefined"!=typeof t&&this._throwReadOnlyError("visible"),this.visible},scrollableContainer:function(t){return t&&this._throwReadOnlyError("scrollableContainer"),this.$scrollableContainer},isInitialized:function(t){return t&&this._throwReadOnlyError("initialized"),this.initialized},hide:function(t,i){var e,s=i&&i.target;if(!this.isVisible())return!1;if(e=r.Event(h.EVENTS.beforeHide),this.trigger(e,[this.layer(),t,this.options.id,s]),o.trigger(e,[this.layer(),t,this.options.id,s]),!e.isDefaultPrevented()){this.visible=!1,this._makeInactiveAndHideLayer();var n=this;setTimeout(function(){n.appendToPlaceholder()},0),this.layer().attr("aria-hidden","true"),this._unbindEvents(),this.onhide(),this.trigger("hideLayer",[this]),r(document).trigger("hideLayer",[this.CLASS_SIGNATURE,this]),this.trigger(h.EVENTS.hide,[this.layer(),t,this.options.id]),o.trigger(h.EVENTS.hide,[this.layer(),t,this.options.id]),h.current=null}},_makeInactiveAndHideLayer:function(){this.layer().removeClass(t.ACTIVE_CLASS).hide(),this.offsetTarget().removeClass(t.ACTIVE_CLASS)},refreshContent:function(t){var i=this;this.content(function(){0===this.layer().has(this.content()).length&&this.layer().html(this.content()),r.isFunction(t)&&t.call(i),this.contentChange()})},show:function(){var t,i=this;this.isVisible()||(t=r.Event(h.EVENTS.beforeShow),this.trigger(t,[this.layer(),this.options.id]),o.trigger(t,[this.layer(),this.options.id]),t.isDefaultPrevented()||(this.isInitialized()?this.contentRetriever.cache()===!1?this.refreshContent(function(){i._showContent()}):i._showContent():this._lazyInit(function(){i._showContent()})))},_showContent:function(){this.offsetTarget().is(":visible")?this._show():this._makeInactiveAndHideLayer()},toggle:function(t){null==t&&(t=!this.isVisible()),t?this.show():this.hide(e.toggle)},setPosition:function(){var i,e=r(window);if(this.isInitialized()&&this.offsetTarget()&&0!==this.offsetTarget().length){var s=this.offsetTarget().get(0).getBoundingClientRect(),n=this.layer().width(),o=s.right+n<e.width(),h=s.left-n>0;if(this.options.alignment()===t.RIGHT?i=h||!o?this.right():this.left():this.options.alignment()===t.LEFT?i=o||!h?this.left():this.right():this.options.alignment()===t.INTELLIGENT_GUESS&&(i=s.left+s.width/2>e.width()/2?this.right():this.left()),this.trigger("setLayerPosition",[i,this]),this.options.properties.setMaxHeightToWindow||this.options.properties.setMaxHeightToWindow!==!1&&r(".aui-blanket").is(":visible")){var a=e.scrollLeft();a>0&&(i.left-=a);var l,c=this.fixedParent();l=c.size()?0:e.scrollTop(),i.maxHeight=e.height()-i.top+l-this.options.cushion()}i.minHeight=this.options.properties.minHeight;var d=/iPhone|iPad/.test(navigator.userAgent);if(d){var f=document.body.getBoundingClientRect();i.left=i.left-f.left,i.top=i.top-f.top-50}this.layer().css(i)}},setOverflowAndHeight:function(){this.options.properties.maxInlineResultsDisplayed&&this.layer().addClass("limited")},fixedParent:function(){return this.offsetTarget().parents().filter(function(){return"fixed"===r(this).css("position")})},setWidth:function(t){this.layer().width(t)},_lazyInit:function(i){this.initializing||(this.initializing=!0,this.refreshContent(function(){var e=this;this.initializing=!1,this.initialized=!0,this.layer().insertAfter(this.offsetTarget()),this._supportsBoxShadow()&&this.layer().addClass(t.BOX_SHADOW_CLASS),this.$placeholder=r("<div class='ajs-layer-placeholder' />").insertAfter(this.offsetTarget()),this.$scrollableContainer=this.offsetTarget().closest(this.options.hideOnScroll()),this.rebuilt(function(t){e.layer(t)}),i()}))},_show:function(){h.current&&h.current.hide(),this.visible=!0,this.content().show(),this.options.shouldRenderToParent()?this.layer().insertAfter(this.offsetTarget()):this.appendToBody(),this.layer().addClass(t.ACTIVE_CLASS),this.offsetTarget().addClass(t.ACTIVE_CLASS),this.layer().show(),this.layer().attr("aria-hidden","false"),this.setWidth(this.options.width()),this.setPosition(),this.setOverflowAndHeight(),this._bindEvents(),AJS.dim.dim||this.scrollTo(),h.current=this,this.trigger("showLayer",[this]),r(document).trigger("showLayer",[this.CLASS_SIGNATURE,this]),this.trigger(h.EVENTS.show,[this.layer(),this.options.id]),o.trigger(h.EVENTS.show,[this.layer(),this.options.id])},_hideLoading:function(){this.$layer.removeClass(t.LOADING_CLASS),this.offsetTarget().removeClass(t.LOADING_CLASS)},_showLoading:function(){this.$layer.addClass(t.LOADING_CLASS),this.offsetTarget().addClass(t.LOADING_CLASS)},_unbindEvents:function(){this.$scrollableContainer.unbind(this.SCROLL_HIDE_EVENT),this._unassignCustomEvents(),this._unassignEvents("container",document),this._unassignEvents("win",window)},_bindEvents:function(){var t=this;this.$scrollableContainer.one(this.SCROLL_HIDE_EVENT,function(){t.hide()}),this._assignCustomEvents(),this._assignEvents("container",document),this._assignEvents("win",window)},_assignCustomEvents:function(){var t=this.options.customEvents();if(t){this._unassignCustomEvents();for(var i in t)for(var e in t[i])r(i).on(e,this._getCustomEventsDispatcher(i,e,t))}},_unassignCustomEvents:function(){var t=this.options.customEvents();if(t)for(var i in t)for(var e in t[i])r(i).off(e,this._getCustomEventsDispatcher(i,e,t))},_getCustomEventsDispatcher:function(t,i,e){var s="custom",n=s+"/"+t+"/"+i;if(this._dispatchers||(this._dispatchers={}),!this._dispatchers[n]){var o=this,h=e[t][i];this._dispatchers[n]=function(t){return h.call(o,t,r(this))}}return this._dispatchers[n]},_validateClickToClose:function(t){return t.target!==this.offsetTarget()[0]&&(t.target!==this.layer()[0]&&(!(this.offsetTarget().has(t.target).length>0)&&!(this.layer().has(t.target).length>0)))},keys:{Esc:function(t){this.hide(e.escPressed,t)}},_events:{container:{"aui:keydown":function(t){this._handleKeyEvent(t)},click:function(t){this._validateClickToClose(t)&&this.hide(e.clickOutside,t)}},win:{resize:function(){this.setPosition()},scroll:function(){this.setPosition()}}},_renders:{layer:function(){return r("<div />").addClass("ajs-layer").addClass(this.options.styleClass())}}});return h.EVENTS={beforeHide:"InlineLayer.beforeHide",hide:"InlineLayer.hide",beforeShow:"InlineLayer.beforeShow",show:"InlineLayer.show"},h});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.create.js' */
define("jira/ajs/layer/inline-layer-factory",["jira/ajs/layer/inline-layer","jira/util/objects","jquery","exports"],function(n,e,t,r){r.createInlineLayers=function(r){var a=[];return r.content&&(r.content=t(r.content),t.each(r.content,function(){var c=e.copyObject(r);c.content=t(this),a.push(new n(c))})),1===a.length?a[0]:a}});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/initInlineLayer.js' */
AJS.namespace("AJS.InlineLayer",null,require("jira/ajs/layer/inline-layer")),AJS.namespace("AJS.InlineLayer.create",null,require("jira/ajs/layer/inline-layer-factory").createInlineLayers),AJS.namespace("AJS.InlineLayer.OptionsDescriptor",null,require("jira/ajs/layer/inline-layer/options-descriptor")),AJS.namespace("AJS.InlineLayer.StandardPositioning",null,require("jira/ajs/layer/inline-layer/standard-positioning")),AJS.namespace("AJS.InlineLayer.WindowPositioning",null,require("jira/ajs/layer/inline-layer/window-positioning")),AJS.namespace("AJS.InlineLayer.IframePositioning",null,require("jira/ajs/layer/inline-layer/iframe-positioning")),JIRA.bind(AJS.InlineLayer.EVENTS.beforeHide,function(e){"undefined"!=typeof Calendar&&Calendar.current&&e.preventDefault()});;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/aui.soy' */
// This file was automatically generated from aui.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.renderExtraAttributes = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.extraAttributes) {
    if (Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]') {
      var attrList7 = soy.$$getMapKeys(opt_data.extraAttributes);
      var attrListLen7 = attrList7.length;
      for (var attrIndex7 = 0; attrIndex7 < attrListLen7; attrIndex7++) {
        var attrData7 = attrList7[attrIndex7];
        output += ' ' + soy.$$escapeHtml(attrData7) + '="' + soy.$$escapeHtml(opt_data.extraAttributes[attrData7]) + '"';
      }
    } else {
      output += ' ' + soy.$$filterNoAutoescape(opt_data.extraAttributes);
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.renderExtraAttributes.soyTemplateName = 'aui.renderExtraAttributes';
}


aui.renderExtraClasses = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.extraClasses) {
    if ((opt_data.extraClasses) instanceof Array) {
      var classList23 = opt_data.extraClasses;
      var classListLen23 = classList23.length;
      for (var classIndex23 = 0; classIndex23 < classListLen23; classIndex23++) {
        var classData23 = classList23[classIndex23];
        output += ' ' + soy.$$escapeHtml(classData23);
      }
    } else {
      output += ' ' + soy.$$escapeHtml(opt_data.extraClasses);
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.renderExtraClasses.soyTemplateName = 'aui.renderExtraClasses';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/badges.soy' */
// This file was automatically generated from badges.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.badges.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.badges == 'undefined') { aui.badges = {}; }


aui.badges.badge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-badge' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.badges.badge.soyTemplateName = 'aui.badges.badge';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/buttons.soy' */
// This file was automatically generated from buttons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.buttons.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.buttons == 'undefined') { aui.buttons = {}; }


aui.buttons.button = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.href || opt_data.href == '') {
    output += '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + aui.buttons.buttonAttributes(soy.$$augmentMap(opt_data, {tagName: 'a'})) + '>' + aui.buttons.buttonIcon(opt_data) + ((opt_data.hasLabel) ? '<span class="aui-button-label">' : '') + soy.$$escapeHtml(opt_data.text) + ((opt_data.hasLabel) ? '</span>' : '') + '</a>';
  } else if (opt_data.tagName == 'input') {
    output += '<input type="' + soy.$$escapeHtml(opt_data.inputType ? opt_data.inputType : 'button') + '" ' + aui.buttons.buttonAttributes(opt_data) + ' value="' + soy.$$escapeHtml(opt_data.text) + '" />';
  } else {
    var theTagName__soy29 = opt_data.tagName ? opt_data.tagName : 'button';
    output += '<' + soy.$$escapeHtml(theTagName__soy29) + aui.buttons.buttonAttributes(soy.$$augmentMap(opt_data, {tagName: theTagName__soy29})) + '>' + aui.buttons.buttonIcon(opt_data) + ((opt_data.hasLabel) ? '<span class="aui-button-label">' : '') + soy.$$escapeHtml(opt_data.text) + ((opt_data.hasLabel) ? '</span>' : '') + '</' + soy.$$escapeHtml(theTagName__soy29) + '>';
  }
  return output;
};
if (goog.DEBUG) {
  aui.buttons.button.soyTemplateName = 'aui.buttons.button';
}


aui.buttons.buttons = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-buttons' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.buttons.buttons.soyTemplateName = 'aui.buttons.buttons';
}


aui.buttons.buttonAttributes = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-button' + ((opt_data.splitButtonType == 'main') ? ' aui-button-split-main' : '') + ((opt_data.dropdown2Target) ? ' aui-dropdown2-trigger' + ((opt_data.splitButtonType == 'more') ? ' aui-button-split-more' : '') : '');
  switch (opt_data.type) {
    case 'primary':
      output += ' aui-button-primary';
      break;
    case 'link':
      output += ' aui-button-link';
      break;
    case 'subtle':
      output += ' aui-button-subtle';
      break;
    case 'text':
      output += ' aui-button-text';
      break;
  }
  output += aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.isPressed) ? ' aria-pressed="' + soy.$$escapeHtml(opt_data.isPressed) + '"' : '') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' + ((opt_data.isDisabled == true) ? (opt_data.tagName == 'button' || opt_data.tagName == 'input') ? ' disabled="disabled" ' : '' : '') : '') + ((opt_data.dropdown2Target) ? ' aria-owns="' + soy.$$escapeHtml(opt_data.dropdown2Target) + '" aria-haspopup="true"' : '') + ((opt_data.tagName == 'a') ? ' tabindex="0"' : '');
  return output;
};
if (goog.DEBUG) {
  aui.buttons.buttonAttributes.soyTemplateName = 'aui.buttons.buttonAttributes';
}


aui.buttons.buttonIcon = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.iconType) ? '<span class="' + ((opt_data.iconType == 'aui') ? 'aui-icon' : '') + ((opt_data.iconClass) ? ' ' + soy.$$escapeHtml(opt_data.iconClass) : '') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) + ' ' : '') + '</span>' : '');
};
if (goog.DEBUG) {
  aui.buttons.buttonIcon.soyTemplateName = 'aui.buttons.buttonIcon';
}


aui.buttons.splitButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data.splitButtonMain, {splitButtonType: 'main'})) + aui.buttons.button(soy.$$augmentMap(opt_data.splitButtonMore, {splitButtonType: 'more'}));
};
if (goog.DEBUG) {
  aui.buttons.splitButton.soyTemplateName = 'aui.buttons.splitButton';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/dropdown.soy' */
// This file was automatically generated from dropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dropdown.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dropdown == 'undefined') { aui.dropdown = {}; }


aui.dropdown.trigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<a' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dd-trigger' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="dropdown-text">' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</span>' + ((! (opt_data.showIcon == false)) ? '<span class="icon icon-dropdown"></span>' : '') + '</a>';
};
if (goog.DEBUG) {
  aui.dropdown.trigger.soyTemplateName = 'aui.dropdown.trigger';
}


aui.dropdown.menu = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'ul') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown hidden' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'ul') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.menu.soyTemplateName = 'aui.dropdown.menu';
}


aui.dropdown.parent = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dd-parent' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.parent.soyTemplateName = 'aui.dropdown.parent';
}


aui.dropdown.item = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'li') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="dropdown-item' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a href="' + soy.$$escapeHtml(opt_data.url ? opt_data.url : '#') + '">' + soy.$$escapeHtml(opt_data.text) + '</a></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'li') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.item.soyTemplateName = 'aui.dropdown.item';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/dropdown2.soy' */
// This file was automatically generated from dropdown2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dropdown2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dropdown2 == 'undefined') { aui.dropdown2 = {}; }


aui.dropdown2.dropdown2 = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.trigger(soy.$$augmentMap(opt_data.trigger, {menu: opt_data.menu})) + aui.dropdown2.contents(opt_data.menu);
};
if (goog.DEBUG) {
  aui.dropdown2.dropdown2.soyTemplateName = 'aui.dropdown2.dropdown2';
}


aui.dropdown2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {extraClasses: 'aui-dropdown2-trigger' + aui.renderExtraClasses(opt_data)}));
};
if (goog.DEBUG) {
  aui.dropdown2.trigger.soyTemplateName = 'aui.dropdown2.trigger';
}


aui.dropdown2.contents = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-dropdown2' + aui.renderExtraClasses(opt_data) + '" role="menu" aria-hidden="true"' + aui.renderExtraAttributes(opt_data) + '><div role="application">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div></div>';
};
if (goog.DEBUG) {
  aui.dropdown2.contents.soyTemplateName = 'aui.dropdown2.contents';
}


aui.dropdown2.section = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.label) ? '<strong role="presentation" class="aui-dropdown2-heading">' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.dropdown2.section.soyTemplateName = 'aui.dropdown2.section';
}


aui.dropdown2.itemGroup = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' role="presentation" class="aui-dropdown2-section' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.label) ? '<strong role="presentation" class="aui-dropdown2-heading">' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + '<div role="group"' + ((opt_data.label) ? ' aria-label="' + soy.$$escapeHtml(opt_data.label) + '"' : '') + '>' + aui.dropdown2.itemList(opt_data) + '</div></div>';
};
if (goog.DEBUG) {
  aui.dropdown2.itemGroup.soyTemplateName = 'aui.dropdown2.itemGroup';
}


aui.dropdown2.itemList = function(opt_data, opt_ignored) {
  var output = '<ul' + ((opt_data.isTruncated) ? ' class="aui-list-truncate"' : '') + ' role="presentation">';
  var itemList76 = opt_data.items;
  var itemListLen76 = itemList76.length;
  for (var itemIndex76 = 0; itemIndex76 < itemListLen76; itemIndex76++) {
    var itemData76 = itemList76[itemIndex76];
    output += '<li ' + ((itemData76.isHidden) ? 'class="aui-dropdown2-hidden" aria-hidden="true"' : '') + ' role="presentation">';
    switch (itemData76.itemType) {
      case 'checkbox':
        output += aui.dropdown2.menuCheckbox(itemData76);
        break;
      case 'radio':
        output += aui.dropdown2.menuRadio(itemData76);
        break;
      default:
        output += aui.dropdown2.menuLink(itemData76);
    }
    output += '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  aui.dropdown2.itemList.soyTemplateName = 'aui.dropdown2.itemList';
}


aui.dropdown2.menuLink = function(opt_data, opt_ignored) {
  return '<a role="menuitem" tabindex="-1" class="' + aui.renderExtraClasses(opt_data) + ((opt_data.submenuTarget) ? ' aui-dropdown2-sub-trigger' : '') + ((opt_data.isDisabled) ? ' aui-dropdown2-disabled' : '') + '"' + ((opt_data.href) ? ' href="' + soy.$$escapeHtml(opt_data.href) + '"' : '') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' : '') + ((opt_data.submenuTarget) ? ' aria-controls="' + soy.$$escapeHtml(opt_data.submenuTarget) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  aui.dropdown2.menuLink.soyTemplateName = 'aui.dropdown2.menuLink';
}


aui.dropdown2.menuCheckbox = function(opt_data, opt_ignored) {
  return '<span role="menuitemcheckbox" tabindex="-1" class="aui-dropdown2-checkbox' + ((opt_data.isInteractive) ? ' aui-dropdown2-interactive' : '') + ((opt_data.isDisabled) ? ' aui-dropdown2-disabled' : '') + ((opt_data.isChecked) ? ' aui-dropdown2-checked' : '') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.isChecked) ? ' aria-checked="' + soy.$$escapeHtml(opt_data.isChecked) + '"' : ' aria-checked="false"') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</span>';
};
if (goog.DEBUG) {
  aui.dropdown2.menuCheckbox.soyTemplateName = 'aui.dropdown2.menuCheckbox';
}


aui.dropdown2.menuRadio = function(opt_data, opt_ignored) {
  return '<span role="menuitemradio" tabindex="-1" class="aui-dropdown2-radio' + ((opt_data.isInteractive) ? ' aui-dropdown2-interactive' : '') + ((opt_data.isDisabled) ? ' aui-dropdown2-disabled' : '') + ((opt_data.isChecked) ? ' aui-dropdown2-checked' : '') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.isChecked) ? ' aria-checked="' + soy.$$escapeHtml(opt_data.isChecked) + '"' : ' aria-checked="false"') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</span>';
};
if (goog.DEBUG) {
  aui.dropdown2.menuRadio.soyTemplateName = 'aui.dropdown2.menuRadio';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/form.soy' */
// This file was automatically generated from form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.form.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.form == 'undefined') { aui.form = {}; }


aui.form.form = function(opt_data, opt_ignored) {
  return '<form' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui' + ((opt_data.isUnsectioned) ? ' unsectioned' : '') + ((opt_data.isLongLabels) ? ' long-label' : '') + ((opt_data.isTopLabels) ? ' top-label' : '') + aui.renderExtraClasses(opt_data) + '" action="' + soy.$$escapeHtml(opt_data.action) + '" method="' + soy.$$escapeHtml(opt_data.method ? opt_data.method : 'post') + '"' + ((opt_data.enctype) ? ' enctype="' + soy.$$escapeHtml(opt_data.enctype) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</form>';
};
if (goog.DEBUG) {
  aui.form.form.soyTemplateName = 'aui.form.form';
}


aui.form.formDescription = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.form.formDescription.soyTemplateName = 'aui.form.formDescription';
}


aui.form.fieldset = function(opt_data, opt_ignored) {
  var output = '';
  var hasClass__soy51 = opt_data.isInline || opt_data.isDateSelect || opt_data.isGroup || opt_data.extraClasses;
  output += '<fieldset' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((hasClass__soy51) ? ' class="' + soy.$$escapeHtml(opt_data.isInline ? 'inline' : opt_data.isDateSelect ? 'date-select' : opt_data.isGroup ? 'group' : '') + aui.renderExtraClasses(opt_data) + '"' : '') + aui.renderExtraAttributes(opt_data) + '><legend><span>' + soy.$$filterNoAutoescape(opt_data.legendContent) + '</span></legend>' + soy.$$filterNoAutoescape(opt_data.content) + '</fieldset>';
  return output;
};
if (goog.DEBUG) {
  aui.form.fieldset.soyTemplateName = 'aui.form.fieldset';
}


aui.form.fieldGroup = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldGroup.soyTemplateName = 'aui.form.fieldGroup';
}


aui.form.buttons = function(opt_data, opt_ignored) {
  return '<div class="buttons-container' + ((opt_data.alignment) ? ' ' + soy.$$escapeHtml(opt_data.alignment) : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><div class="buttons">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  aui.form.buttons.soyTemplateName = 'aui.form.buttons';
}


aui.form.label = function(opt_data, opt_ignored) {
  return '<label' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.forField) ? ' for="' + soy.$$escapeHtml(opt_data.forField) + '"' : '') + ((opt_data.extraClasses) ? ' class="' + aui.renderExtraClasses(opt_data) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + ((opt_data.isRequired) ? '<span class="aui-icon icon-required"></span>' : '') + '</label>';
};
if (goog.DEBUG) {
  aui.form.label.soyTemplateName = 'aui.form.label';
}


aui.form.input = function(opt_data, opt_ignored) {
  var output = '';
  var baseType__soy126 = '';
  switch (opt_data.type) {
    case 'password':
    case 'email':
    case 'url':
    case 'tel':
    case 'search':
      baseType__soy126 += 'text';
      break;
    case 'submit':
    case 'reset':
      baseType__soy126 += 'button';
      break;
    default:
      baseType__soy126 += soy.$$escapeHtml(opt_data.type);
  }
  output += '<input class="' + soy.$$escapeHtml(baseType__soy126) + aui.renderExtraClasses(opt_data) + ((opt_data.icon && baseType__soy126 == 'text') ? ' aui-field-has-icon' : '') + '" type="' + soy.$$escapeHtml(opt_data.type) + '" name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.value) ? ' value="' + soy.$$escapeHtml(opt_data.value) + '"' : '') + (((opt_data.type == 'checkbox' || opt_data.type == 'radio') && opt_data.isChecked) ? ' checked="checked"' : '') + ((baseType__soy126 == 'text' && opt_data.type != 'password' && opt_data.maxLength) ? ' maxlength="' + soy.$$escapeHtml(opt_data.maxLength) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.type != 'password' && opt_data.size) ? ' size="' + soy.$$escapeHtml(opt_data.size) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.placeholderText) ? ' placeholder="' + soy.$$escapeHtml(opt_data.placeholderText) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.autocomplete) ? ' autocomplete="' + soy.$$escapeHtml(opt_data.autocomplete) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + (((opt_data.shouldApplyAccessibilityFixes || opt_data.requiredAttrForRequired) && opt_data.isRequired) ? ' aria-required="true"' : '') + ((opt_data.isInvalid) ? ' aria-invalid="true"' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '/>' + ((opt_data.icon && baseType__soy126 == 'text') ? aui.icons.icon({icon: opt_data.icon, useIconFont: true, size: 'small'}) : '');
  return output;
};
if (goog.DEBUG) {
  aui.form.input.soyTemplateName = 'aui.form.input';
}


aui.form.renderValidationArguments = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.validationArguments) {
    var argumentList209 = soy.$$getMapKeys(opt_data.validationArguments);
    var argumentListLen209 = argumentList209.length;
    for (var argumentIndex209 = 0; argumentIndex209 < argumentListLen209; argumentIndex209++) {
      var argumentData209 = argumentList209[argumentIndex209];
      output += (argumentData209 == 'required' || argumentData209 == 'pattern' || argumentData209 == 'min' || argumentData209 == 'max' || argumentData209 == 'minlength' || argumentData209 == 'maxlength') ? ' ' + soy.$$escapeHtml(argumentData209) + '="' + soy.$$escapeHtml(opt_data.validationArguments[argumentData209]) + '"' : ' ' + soy.$$escapeHtml('data-aui-validation-' + argumentData209) + '="' + soy.$$escapeHtml(opt_data.validationArguments[argumentData209]) + '"';
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.renderValidationArguments.soyTemplateName = 'aui.form.renderValidationArguments';
}


aui.form.renderTooltipArguments = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.tooltipArguments) {
    var argumentList227 = soy.$$getMapKeys(opt_data.tooltipArguments);
    var argumentListLen227 = argumentList227.length;
    for (var argumentIndex227 = 0; argumentIndex227 < argumentListLen227; argumentIndex227++) {
      var argumentData227 = argumentList227[argumentIndex227];
      output += ' ' + soy.$$escapeHtml('data-aui-notification-' + argumentData227) + '="' + soy.$$escapeHtml(opt_data.tooltipArguments[argumentData227]) + '"';
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.renderTooltipArguments.soyTemplateName = 'aui.form.renderTooltipArguments';
}


aui.form.renderInfoMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.infoMessage) ? ' data-aui-notification-info="' + soy.$$escapeHtml(opt_data.infoMessage) + '"' : '');
};
if (goog.DEBUG) {
  aui.form.renderInfoMessage.soyTemplateName = 'aui.form.renderInfoMessage';
}


aui.form.renderFieldComponentAttribute = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.infoMessage) ? ' data-aui-notification-field' : '') + ((opt_data.validationArguments) ? ' data-aui-validation-field' : '');
};
if (goog.DEBUG) {
  aui.form.renderFieldComponentAttribute.soyTemplateName = 'aui.form.renderFieldComponentAttribute';
}


aui.form.submit = function(opt_data, opt_ignored) {
  return '' + aui.form.button(soy.$$augmentMap(opt_data, {tagName: 'input', inputType: 'submit'}));
};
if (goog.DEBUG) {
  aui.form.submit.soyTemplateName = 'aui.form.submit';
}


aui.form.button = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {extraClasses: opt_data.extraClasses, extraAttributes: '' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + aui.renderExtraAttributes(opt_data)}));
};
if (goog.DEBUG) {
  aui.form.button.soyTemplateName = 'aui.form.button';
}


aui.form.linkButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {tagName: 'a', type: 'link', href: opt_data.href ? opt_data.href : opt_data.url, extraClasses: 'cancel' + aui.renderExtraClasses(opt_data), extraAttributes: '' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + aui.renderExtraAttributes(opt_data)}));
};
if (goog.DEBUG) {
  aui.form.linkButton.soyTemplateName = 'aui.form.linkButton';
}


aui.form.textarea = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<textarea name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '" class="textarea' + aui.renderExtraClasses(opt_data) + ' ' + ((opt_data.icon) ? 'aui-field-has-icon' : '') + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.rows) ? ' rows="' + soy.$$escapeHtml(opt_data.rows) + '"' : '') + ((opt_data.cols) ? ' cols="' + soy.$$escapeHtml(opt_data.cols) + '"' : '') + ((opt_data.autocomplete) ? ' autocomplete="' + soy.$$escapeHtml(opt_data.autocomplete) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + ((opt_data.placeholderText) ? ' placeholder="' + soy.$$escapeHtml(opt_data.placeholderText) + '"' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '>' + ((opt_data.value) ? soy.$$escapeHtml(opt_data.value) : '') + '</textarea>' + ((opt_data.icon) ? aui.icons.icon({icon: opt_data.icon, useIconFont: true, size: 'small'}) : '');
};
if (goog.DEBUG) {
  aui.form.textarea.soyTemplateName = 'aui.form.textarea';
}


aui.form.select = function(opt_data, opt_ignored) {
  var output = '<select' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '" class="' + soy.$$escapeHtml(opt_data.isMultiple ? 'multi-select' : 'select') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.size) ? ' size="' + soy.$$escapeHtml(opt_data.size) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + ((opt_data.isMultiple) ? ' multiple' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '>';
  var optionList381 = opt_data.options;
  var optionListLen381 = optionList381.length;
  for (var optionIndex381 = 0; optionIndex381 < optionListLen381; optionIndex381++) {
    var optionData381 = optionList381[optionIndex381];
    output += aui.form.optionOrOptgroup(soy.$$augmentMap(optionData381, {defaultValue: opt_data.value}));
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  aui.form.select.soyTemplateName = 'aui.form.select';
}


aui.form.optionOrOptgroup = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.options) {
    output += '<optgroup label="' + soy.$$escapeHtml(opt_data.text) + '"' + ((opt_data.disabled) ? ' disabled' : '') + '>';
    var optionList396 = opt_data.options;
    var optionListLen396 = optionList396.length;
    for (var optionIndex396 = 0; optionIndex396 < optionListLen396; optionIndex396++) {
      var optionData396 = optionList396[optionIndex396];
      output += aui.form.optionOrOptgroup(soy.$$augmentMap(optionData396, {defaultValue: opt_data.defaultValue}));
    }
    output += '</optgroup>';
  } else {
    output += '<option value="' + soy.$$escapeHtml(opt_data.value) + '"' + ((opt_data.selected || opt_data.defaultValue == opt_data.value) ? ' selected' : '') + ((opt_data.disabled) ? ' disabled' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.optionOrOptgroup.soyTemplateName = 'aui.form.optionOrOptgroup';
}


aui.form.value = function(opt_data, opt_ignored) {
  return '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-value' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</span>';
};
if (goog.DEBUG) {
  aui.form.value.soyTemplateName = 'aui.form.value';
}


aui.form.field = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var isCheckboxOrRadio__soy430 = opt_data.type == 'checkbox' || opt_data.type == 'radio';
  var fieldWidthClass__soy431 = opt_data.fieldWidth ? opt_data.fieldWidth + '-field ' : '';
  var fieldClasses__soy432 = fieldWidthClass__soy431 + (opt_data.extraFieldClasses ? opt_data.extraFieldClasses : '');
  output += '<div class="' + ((isCheckboxOrRadio__soy430) ? soy.$$escapeHtml(opt_data.type) : 'field-group') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.labelContent && ! isCheckboxOrRadio__soy430) ? aui.form.label({forField: opt_data.id, isRequired: opt_data.isRequired, content: opt_data.labelContent}) : '');
  switch (opt_data.type) {
    case 'textarea':
      output += aui.form.textarea({id: opt_data.id, name: opt_data.name, value: opt_data.value, rows: opt_data.rows, cols: opt_data.cols, autocomplete: opt_data.autocomplete, placeholderText: opt_data.placeholderText, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy432, icon: opt_data.icon, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
    case 'select':
      output += aui.form.select({id: opt_data.id, name: opt_data.name, value: opt_data.value, options: opt_data.options, isMultiple: opt_data.isMultiple, size: opt_data.size, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy432, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
    case 'value':
      output += aui.form.value({id: opt_data.id, content: '' + soy.$$escapeHtml(opt_data.value), extraClasses: fieldClasses__soy432});
      break;
    case 'text':
    case 'password':
    case 'email':
    case 'url':
    case 'tel':
    case 'search':
    case 'file':
    case 'radio':
    case 'checkbox':
    case 'button':
    case 'submit':
    case 'reset':
      output += aui.form.input({id: opt_data.id, name: opt_data.name, type: opt_data.type, value: opt_data.value, maxLength: opt_data.maxLength, size: opt_data.size, autocomplete: opt_data.autocomplete, placeholderText: opt_data.placeholderText, isChecked: opt_data.isChecked, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, isRequired: opt_data.isRequired, extraClasses: fieldClasses__soy432, icon: opt_data.icon, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments, extraAttributes: opt_data.extraInputAttributes, requiredAttrForRequired: opt_data.requiredAttrForRequired});
      break;
  }
  output += ((opt_data.labelContent && isCheckboxOrRadio__soy430) ? aui.form.label({forField: opt_data.id, isRequired: opt_data.isRequired, content: opt_data.labelContent}) : '') + ((opt_data.descriptionText || opt_data.descriptionContent) ? aui.form.fieldDescription({text: opt_data.descriptionText, content: opt_data.descriptionContent}) : '');
  if (opt_data.errorTexts) {
    var errorList521 = opt_data.errorTexts;
    var errorListLen521 = errorList521.length;
    for (var errorIndex521 = 0; errorIndex521 < errorListLen521; errorIndex521++) {
      var errorData521 = errorList521[errorIndex521];
      output += aui.form.fieldError({message: errorData521, id: opt_data.errorId});
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  aui.form.field.soyTemplateName = 'aui.form.field';
}


aui.form.fieldError = function(opt_data, opt_ignored) {
  return '<div ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="error' + aui.renderExtraClasses(opt_data) + '">' + soy.$$escapeHtml(opt_data.message) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldError.soyTemplateName = 'aui.form.fieldError';
}


aui.form.fieldDescription = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="description' + aui.renderExtraClasses(opt_data) + '" ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + '>' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : (opt_data.message) ? soy.$$escapeHtml(opt_data.message) : soy.$$filterNoAutoescape(opt_data.content)) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldDescription.soyTemplateName = 'aui.form.fieldDescription';
}


aui.form.textField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'text', isRequired: opt_data.isRequired, requiredAttrForRequired: opt_data.requiredAttrForRequired}));
};
if (goog.DEBUG) {
  aui.form.textField.soyTemplateName = 'aui.form.textField';
}


aui.form.textareaField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'textarea'}));
};
if (goog.DEBUG) {
  aui.form.textareaField.soyTemplateName = 'aui.form.textareaField';
}


aui.form.passwordField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'password'}));
};
if (goog.DEBUG) {
  aui.form.passwordField.soyTemplateName = 'aui.form.passwordField';
}


aui.form.fileField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'file'}));
};
if (goog.DEBUG) {
  aui.form.fileField.soyTemplateName = 'aui.form.fileField';
}


aui.form.selectField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'select'}));
};
if (goog.DEBUG) {
  aui.form.selectField.soyTemplateName = 'aui.form.selectField';
}


aui.form.checkboxField = function(opt_data, opt_ignored) {
  var param581 = '' + ((opt_data.isMatrix) ? '<div class="matrix">' : '');
  var fieldList585 = opt_data.fields;
  var fieldListLen585 = fieldList585.length;
  for (var fieldIndex585 = 0; fieldIndex585 < fieldListLen585; fieldIndex585++) {
    var fieldData585 = fieldList585[fieldIndex585];
    param581 += aui.form.field(soy.$$augmentMap(fieldData585, {type: 'checkbox', labelContent: '' + soy.$$escapeHtml(fieldData585.labelText), extraFieldClasses: opt_data.extraFieldClasses}));
  }
  param581 += ((opt_data.isMatrix) ? '</div>' : '') + ((opt_data.descriptionText || opt_data.descriptionContent || opt_data.errorTexts && opt_data.errorTexts.length) ? aui.form.field({descriptionText: opt_data.descriptionText, descriptionContent: opt_data.descriptionContent, errorTexts: opt_data.errorTexts, isDisabled: false}) : '');
  var output = '' + aui.form.fieldset({legendContent: opt_data.legendContent + (opt_data.isRequired ? '<span class="aui-icon icon-required"></span>' : ''), isGroup: true, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: param581});
  return output;
};
if (goog.DEBUG) {
  aui.form.checkboxField.soyTemplateName = 'aui.form.checkboxField';
}


aui.form.radioField = function(opt_data, opt_ignored) {
  var param609 = '' + ((opt_data.isMatrix) ? '<div class="matrix">' : '');
  var fieldList613 = opt_data.fields;
  var fieldListLen613 = fieldList613.length;
  for (var fieldIndex613 = 0; fieldIndex613 < fieldListLen613; fieldIndex613++) {
    var fieldData613 = fieldList613[fieldIndex613];
    param609 += aui.form.field(soy.$$augmentMap(fieldData613, {type: 'radio', name: opt_data.name ? opt_data.name : opt_data.id, labelContent: '' + soy.$$escapeHtml(fieldData613.labelText), extraFieldClasses: opt_data.extraFieldClasses}));
  }
  param609 += ((opt_data.isMatrix) ? '</div>' : '') + ((opt_data.descriptionText || opt_data.descriptionContent || opt_data.errorTexts && opt_data.errorTexts.length) ? aui.form.field({descriptionText: opt_data.descriptionText, descriptionContent: opt_data.descriptionContent, errorTexts: opt_data.errorTexts, isDisabled: false}) : '');
  var output = '' + aui.form.fieldset({legendContent: opt_data.legendContent + (opt_data.isRequired ? '<span class="aui-icon icon-required"></span>' : ''), isGroup: true, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: param609});
  return output;
};
if (goog.DEBUG) {
  aui.form.radioField.soyTemplateName = 'aui.form.radioField';
}


aui.form.valueField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'value'}));
};
if (goog.DEBUG) {
  aui.form.valueField.soyTemplateName = 'aui.form.valueField';
}


aui.form.emailField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'email'}));
};
if (goog.DEBUG) {
  aui.form.emailField.soyTemplateName = 'aui.form.emailField';
}


aui.form.urlField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'url'}));
};
if (goog.DEBUG) {
  aui.form.urlField.soyTemplateName = 'aui.form.urlField';
}


aui.form.telephoneField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'tel'}));
};
if (goog.DEBUG) {
  aui.form.telephoneField.soyTemplateName = 'aui.form.telephoneField';
}


aui.form.searchField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'search'}));
};
if (goog.DEBUG) {
  aui.form.searchField.soyTemplateName = 'aui.form.searchField';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/group.soy' */
// This file was automatically generated from group.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.group.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.group == 'undefined') { aui.group = {}; }


aui.group.group = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-group' + ((opt_data.isSplit) ? ' aui-group-split' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.group.group.soyTemplateName = 'aui.group.group';
}


aui.group.item = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-item' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.group.item.soyTemplateName = 'aui.group.item';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/labels.soy' */
// This file was automatically generated from labels.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.labels.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.labels == 'undefined') { aui.labels = {}; }


aui.labels.label = function(opt_data, opt_ignored) {
  return '' + ((opt_data.url && opt_data.isCloseable == true) ? '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-label aui-label-closeable aui-label-split' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a class="aui-label-split-main" href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.text) + '</a><span class="aui-label-split-close" >' + aui.labels.closeIcon(opt_data) + '</span></span>' : '<' + soy.$$escapeHtml(opt_data.url ? 'a' : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-label' + ((opt_data.isCloseable) ? ' aui-label-closeable' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.url) ? ' href="' + soy.$$escapeHtml(opt_data.url) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + ((opt_data.isCloseable) ? aui.labels.closeIcon(opt_data) : '') + '</' + soy.$$escapeHtml(opt_data.url ? 'a' : 'span') + '>');
};
if (goog.DEBUG) {
  aui.labels.label.soyTemplateName = 'aui.labels.label';
}


aui.labels.closeIcon = function(opt_data, opt_ignored) {
  return '<span tabindex="0" class="aui-icon aui-icon-close"' + ((opt_data.hasTitle != false) ? ' title="' + aui.labels.closeIconText(opt_data) + '"' : '') + '>' + aui.labels.closeIconText(opt_data) + '</span>';
};
if (goog.DEBUG) {
  aui.labels.closeIcon.soyTemplateName = 'aui.labels.closeIcon';
}


aui.labels.closeIconText = function(opt_data, opt_ignored) {
  return '' + ((opt_data.closeIconText) ? soy.$$escapeHtml(opt_data.closeIconText) : '(' + soy.$$escapeHtml('Remove') + ' ' + soy.$$escapeHtml(opt_data.text) + ')');
};
if (goog.DEBUG) {
  aui.labels.closeIconText.soyTemplateName = 'aui.labels.closeIconText';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/message.soy' */
// This file was automatically generated from message.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.message.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.message == 'undefined') { aui.message = {}; }


aui.message.info = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'info'}));
};
if (goog.DEBUG) {
  aui.message.info.soyTemplateName = 'aui.message.info';
}


aui.message.warning = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'warning'}));
};
if (goog.DEBUG) {
  aui.message.warning.soyTemplateName = 'aui.message.warning';
}


aui.message.error = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'error'}));
};
if (goog.DEBUG) {
  aui.message.error.soyTemplateName = 'aui.message.error';
}


aui.message.success = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'success'}));
};
if (goog.DEBUG) {
  aui.message.success.soyTemplateName = 'aui.message.success';
}


aui.message.hint = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'hint'}));
};
if (goog.DEBUG) {
  aui.message.hint.soyTemplateName = 'aui.message.hint';
}


aui.message.generic = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'generic'}));
};
if (goog.DEBUG) {
  aui.message.generic.soyTemplateName = 'aui.message.generic';
}


aui.message.message = function(opt_data, opt_ignored) {
  var output = '';
  var theTagName__soy21 = opt_data.tagName ? opt_data.tagName : 'div';
  var theType__soy22 = opt_data.type ? opt_data.type : 'generic';
  output += '<' + soy.$$escapeHtml(theTagName__soy21) + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-message aui-message-' + soy.$$escapeHtml(theType__soy22) + ' ' + soy.$$escapeHtml(theType__soy22) + ((opt_data.isCloseable) ? ' closeable' : '') + ((opt_data.isShadowed) ? ' shadowed' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.titleContent) ? '<p class="title"><strong>' + soy.$$filterNoAutoescape(opt_data.titleContent) + '</strong></p>' : '') + soy.$$filterNoAutoescape(opt_data.content) + ((opt_data.isCloseable) ? '<span class="aui-icon icon-close" role="button" tabindex="0"></span>' : '') + '</' + soy.$$escapeHtml(theTagName__soy21) + '>';
  return output;
};
if (goog.DEBUG) {
  aui.message.message.soyTemplateName = 'aui.message.message';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/page.soy' */
// This file was automatically generated from page.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.page.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.page == 'undefined') { aui.page = {}; }


aui.page.document = function(opt_data, opt_ignored, opt_ijData) {
  return '<!DOCTYPE html><html lang="' + soy.$$escapeHtml(opt_ijData.language ? opt_ijData.language : 'en') + '">' + aui.page.documentHTMLContent(opt_data, null, opt_ijData) + '</html>';
};
if (goog.DEBUG) {
  aui.page.document.soyTemplateName = 'aui.page.document';
}


aui.page.documentHTMLContent = function(opt_data, opt_ignored, opt_ijData) {
  var output = '';
  var thePageSize__soy9 = opt_data.pageSize ? opt_data.pageSize : opt_data.focusedPageSize ? opt_data.focusedPageSize : 'xlarge';
  output += '<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>' + soy.$$escapeHtml(opt_data.windowTitle) + '</title>' + ((opt_data.headContent) ? soy.$$filterNoAutoescape(opt_data.headContent) : '') + '</head><body' + ((opt_data.pageType) ? (opt_data.pageType == 'generic') ? (opt_data.extraClasses) ? ' class="' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : '' : (opt_data.pageType == 'focused') ? ' class="aui-page-focused aui-page-focused-' + soy.$$escapeHtml(thePageSize__soy9) + ' aui-page-size-' + soy.$$escapeHtml(thePageSize__soy9) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : (opt_data.pageType == 'notification') ? ' class="aui-page-notification aui-page-size-' + soy.$$escapeHtml(thePageSize__soy9) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : (opt_data.pageType == 'sidebar') ? ' class="aui-page-sidebar' + soy.$$escapeHtml(opt_data.sidebarState ? ' aui-sidebar-' + opt_data.sidebarState : '') + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : ' class="aui-page-' + soy.$$escapeHtml(opt_data.pageType) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : ' class="' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</body>';
  return output;
};
if (goog.DEBUG) {
  aui.page.documentHTMLContent.soyTemplateName = 'aui.page.documentHTMLContent';
}


aui.page.page = function(opt_data, opt_ignored, opt_ijData) {
  return '<div id="page"><header id="header" role="banner">' + soy.$$filterNoAutoescape(opt_data.headerContent) + '</header><!-- #header --><section id="content" role="main">' + soy.$$filterNoAutoescape(opt_data.contentContent) + '</section><!-- #content --><footer id="footer" role="contentinfo">' + soy.$$filterNoAutoescape(opt_data.footerContent) + '</footer><!-- #footer --></div><!-- #page -->';
};
if (goog.DEBUG) {
  aui.page.page.soyTemplateName = 'aui.page.page';
}


aui.page.header = function(opt_data, opt_ignored, opt_ijData) {
  return ((opt_data.bannerContent) ? '<div class="aui-banner aui-banner-error" role="banner">' + soy.$$filterNoAutoescape(opt_data.bannerContent) + '</div>' : '') + '<nav' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-header aui-dropdown2-trigger-group' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + aui.renderExtraAttributes(opt_data, null, opt_ijData) + ' role="navigation"><div class="aui-header-inner">' + ((opt_data.headerBeforeContent) ? '<div class="aui-header-before">' + soy.$$filterNoAutoescape(opt_data.headerBeforeContent) + '</div>' : '') + '<div class="aui-header-primary"><h1 id="logo" class="aui-header-logo' + ((opt_data.headerLogoImageUrl) ? ' aui-header-logo-custom' : (opt_data.logo) ? ' aui-header-logo-' + soy.$$escapeHtml(opt_data.logo) : '') + '"><a href="' + soy.$$escapeHtml(opt_data.headerLink ? opt_data.headerLink : '/') + '">' + ((opt_data.headerLogoImageUrl) ? '<img src="' + soy.$$escapeHtml(opt_data.headerLogoImageUrl) + '" alt="' + soy.$$escapeHtml(opt_data.headerLogoText) + '" />' : '<span class="aui-header-logo-device">' + soy.$$escapeHtml(opt_data.headerLogoText ? opt_data.headerLogoText : '') + '</span>') + ((opt_data.headerText) ? '<span class="aui-header-logo-text">' + soy.$$escapeHtml(opt_data.headerText) + '</span>' : '') + '</a></h1>' + ((opt_data.primaryNavContent) ? soy.$$filterNoAutoescape(opt_data.primaryNavContent) : '') + '</div>' + ((opt_data.secondaryNavContent) ? '<div class="aui-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryNavContent) + '</div>' : '') + ((opt_data.headerAfterContent) ? '<div class="aui-header-after">' + soy.$$filterNoAutoescape(opt_data.headerAfterContent) + '</div>' : '') + '</div><!-- .aui-header-inner--></nav><!-- .aui-header -->';
};
if (goog.DEBUG) {
  aui.page.header.soyTemplateName = 'aui.page.header';
}


aui.page.pagePanel = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ' class="aui-page-panel' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '><div class="aui-page-panel-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-panel-inner --></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '><!-- .aui-page-panel -->';
};
if (goog.DEBUG) {
  aui.page.pagePanel.soyTemplateName = 'aui.page.pagePanel';
}


aui.page.pagePanelNav = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ' class="aui-page-panel-nav' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '><!-- .aui-page-panel-nav -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelNav.soyTemplateName = 'aui.page.pagePanelNav';
}


aui.page.pagePanelContent = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ' class="aui-page-panel-content' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '><!-- .aui-page-panel-content -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelContent.soyTemplateName = 'aui.page.pagePanelContent';
}


aui.page.pagePanelSidebar = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'aside') + ' class="aui-page-panel-sidebar' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'aside') + '><!-- .aui-page-panel-sidebar -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelSidebar.soyTemplateName = 'aui.page.pagePanelSidebar';
}


aui.page.pagePanelItem = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ' class="aui-page-panel-item' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '><!-- .aui-page-panel-item -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelItem.soyTemplateName = 'aui.page.pagePanelItem';
}


aui.page.pageHeader = function(opt_data, opt_ignored, opt_ijData) {
  return '<header class="aui-page-header' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '><div class="aui-page-header-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-inner --></header><!-- .aui-page-header -->';
};
if (goog.DEBUG) {
  aui.page.pageHeader.soyTemplateName = 'aui.page.pageHeader';
}


aui.page.pageHeaderImage = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-image' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-image -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderImage.soyTemplateName = 'aui.page.pageHeaderImage';
}


aui.page.pageHeaderMain = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-main' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-main -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderMain.soyTemplateName = 'aui.page.pageHeaderMain';
}


aui.page.pageHeaderActions = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-actions' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-actions -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderActions.soyTemplateName = 'aui.page.pageHeaderActions';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/panel.soy' */
// This file was automatically generated from panel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.panel = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-panel' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.panel.soyTemplateName = 'aui.panel';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/table.soy' */
// This file was automatically generated from table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.table = function(opt_data, opt_ignored) {
  return '<table' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.columnsContent) ? soy.$$filterNoAutoescape(opt_data.columnsContent) : '') + ((opt_data.captionContent) ? '<caption>' + soy.$$filterNoAutoescape(opt_data.captionContent) + '</caption>' : '') + ((opt_data.theadContent) ? '<thead>' + soy.$$filterNoAutoescape(opt_data.theadContent) + '</thead>' : '') + ((opt_data.tfootContent) ? '<tfoot>' + soy.$$filterNoAutoescape(opt_data.tfootContent) + '</tfoot>' : '') + ((! opt_data.contentIncludesTbody) ? '<tbody>' : '') + soy.$$filterNoAutoescape(opt_data.content) + ((! opt_data.contentIncludesTbody) ? '</tbody>' : '') + '</table>';
};
if (goog.DEBUG) {
  aui.table.soyTemplateName = 'aui.table';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/tabs.soy' */
// This file was automatically generated from tabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.tabs = function(opt_data, opt_ignored) {
  var output = '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-tabs ' + soy.$$escapeHtml(opt_data.isVertical ? 'vertical-tabs' : 'horizontal-tabs') + ((opt_data.isDisabled) ? ' aui-tabs-disabled' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><ul class="tabs-menu">';
  var itemList19 = opt_data.menuItems;
  var itemListLen19 = itemList19.length;
  for (var itemIndex19 = 0; itemIndex19 < itemListLen19; itemIndex19++) {
    var itemData19 = itemList19[itemIndex19];
    output += aui.tabMenuItem(itemData19);
  }
  output += '</ul>' + soy.$$filterNoAutoescape(opt_data.paneContent) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
  return output;
};
if (goog.DEBUG) {
  aui.tabs.soyTemplateName = 'aui.tabs';
}


aui.tabMenuItem = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="menu-item' + ((opt_data.isActive) ? ' active-tab' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.text) + '</a></li>';
};
if (goog.DEBUG) {
  aui.tabMenuItem.soyTemplateName = 'aui.tabMenuItem';
}


aui.tabPane = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="tabs-pane' + ((opt_data.isActive) ? ' active-pane' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.tabPane.soyTemplateName = 'aui.tabPane';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '" ' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true" role="button"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex || (! opt_data.extraAttributes.href || ! opt_data.extraAttributes.tabindex))) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/toolbar.soy' */
// This file was automatically generated from toolbar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.toolbar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.toolbar == 'undefined') { aui.toolbar = {}; }


aui.toolbar.toolbar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.toolbar.toolbar.soyTemplateName = 'aui.toolbar.toolbar';
}


aui.toolbar.split = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-split toolbar-split-' + soy.$$escapeHtml(opt_data.split) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.toolbar.split.soyTemplateName = 'aui.toolbar.split';
}


aui.toolbar.group = function(opt_data, opt_ignored) {
  return '<ul' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</ul>';
};
if (goog.DEBUG) {
  aui.toolbar.group.soyTemplateName = 'aui.toolbar.group';
}


aui.toolbar.item = function(opt_data, opt_ignored) {
  return '<li ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-item' + ((opt_data.isPrimary) ? ' primary' : '') + ((opt_data.isActive) ? ' active' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</li>';
};
if (goog.DEBUG) {
  aui.toolbar.item.soyTemplateName = 'aui.toolbar.item';
}


aui.toolbar.trigger = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-trigger' + aui.renderExtraClasses(opt_data) + '" href="' + soy.$$escapeHtml(opt_data.url ? opt_data.url : '#') + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</a>';
};
if (goog.DEBUG) {
  aui.toolbar.trigger.soyTemplateName = 'aui.toolbar.trigger';
}


aui.toolbar.button = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.toolbar.item({isActive: opt_data.isActive, isPrimary: opt_data.isPrimary, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.toolbar.trigger({url: opt_data.url, title: opt_data.title, content: '' + ((opt_data.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClass) + '"></span>' : '') + ((opt_data.text) ? '<span class="trigger-text">' + soy.$$escapeHtml(opt_data.text) + '</span>' : '')})});
};
if (goog.DEBUG) {
  aui.toolbar.button.soyTemplateName = 'aui.toolbar.button';
}


aui.toolbar.link = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.item({id: opt_data.id, extraClasses: 'toolbar-item-link' + aui.renderExtraClasses(opt_data), extraAttributes: opt_data.extraAttributes, content: '' + aui.toolbar.trigger({url: opt_data.url, content: '' + soy.$$escapeHtml(opt_data.text)})});
};
if (goog.DEBUG) {
  aui.toolbar.link.soyTemplateName = 'aui.toolbar.link';
}


aui.toolbar.dropdownInternal = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.item({isPrimary: opt_data.isPrimary, id: opt_data.id, extraClasses: '' + soy.$$filterNoAutoescape(opt_data.itemClass) + aui.renderExtraClasses(opt_data), extraAttributes: opt_data.extraAttributes, content: '' + ((opt_data.splitButtonContent) ? soy.$$filterNoAutoescape(opt_data.splitButtonContent) : '') + aui.dropdown.parent({content: '' + aui.dropdown.trigger({extraClasses: 'toolbar-trigger', accessibilityText: opt_data.text}) + aui.dropdown.menu({content: opt_data.dropdownItemsContent})})});
};
if (goog.DEBUG) {
  aui.toolbar.dropdownInternal.soyTemplateName = 'aui.toolbar.dropdownInternal';
}


aui.toolbar.dropdown = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.dropdownInternal({isPrimary: opt_data.isPrimary, id: opt_data.id, itemClass: 'toolbar-dropdown', extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, text: opt_data.text, dropdownItemsContent: opt_data.dropdownItemsContent});
};
if (goog.DEBUG) {
  aui.toolbar.dropdown.soyTemplateName = 'aui.toolbar.dropdown';
}


aui.toolbar.splitButton = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.dropdownInternal({isPrimary: opt_data.isPrimary, id: opt_data.id, itemClass: 'toolbar-splitbutton', extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, dropdownItemsContent: opt_data.dropdownItemsContent, splitButtonContent: '' + aui.toolbar.trigger({url: opt_data.url, content: '' + soy.$$escapeHtml(opt_data.text)})});
};
if (goog.DEBUG) {
  aui.toolbar.splitButton.soyTemplateName = 'aui.toolbar.splitButton';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/toolbar2.soy' */
// This file was automatically generated from toolbar2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.toolbar2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.toolbar2 == 'undefined') { aui.toolbar2 = {}; }


aui.toolbar2.toolbar2 = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ' role="toolbar"><div class="aui-toolbar2-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  aui.toolbar2.toolbar2.soyTemplateName = 'aui.toolbar2.toolbar2';
}


aui.toolbar2.item = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2-' + soy.$$escapeHtml(opt_data.item) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.toolbar2.item.soyTemplateName = 'aui.toolbar2.item';
}


aui.toolbar2.group = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.toolbar2.group.soyTemplateName = 'aui.toolbar2.group';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/progress-tracker.soy' */
// This file was automatically generated from progress-tracker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.progressTracker.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.progressTracker == 'undefined') { aui.progressTracker = {}; }


aui.progressTracker.progressTracker = function(opt_data, opt_ignored) {
  var output = '<ol' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-progress-tracker' + ((opt_data.isInverted) ? ' aui-progress-tracker-inverted' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>';
  var param18 = '';
  var currentStepList19 = opt_data.steps;
  var currentStepListLen19 = currentStepList19.length;
  for (var currentStepIndex19 = 0; currentStepIndex19 < currentStepListLen19; currentStepIndex19++) {
    var currentStepData19 = currentStepList19[currentStepIndex19];
    if (currentStepData19['isCurrent']) {
      var stepList22 = opt_data.steps;
      var stepListLen22 = stepList22.length;
      for (var stepIndex22 = 0; stepIndex22 < stepListLen22; stepIndex22++) {
        var stepData22 = stepList22[stepIndex22];
        param18 += aui.progressTracker.step(soy.$$augmentMap(stepData22, {width: Math.round(100 / opt_data.steps.length * 10000) / 10000, href: stepIndex22 < currentStepIndex19 ? stepData22['href'] : null}));
      }
    }
  }
  output += aui.progressTracker.content({steps: opt_data.steps, content: param18});
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  aui.progressTracker.progressTracker.soyTemplateName = 'aui.progressTracker.progressTracker';
}


aui.progressTracker.content = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.content != '') {
    output += soy.$$filterNoAutoescape(opt_data.content);
  } else {
    var stepList36 = opt_data.steps;
    var stepListLen36 = stepList36.length;
    for (var stepIndex36 = 0; stepIndex36 < stepListLen36; stepIndex36++) {
      var stepData36 = stepList36[stepIndex36];
      output += aui.progressTracker.step(soy.$$augmentMap(stepData36, {isCurrent: stepIndex36 == 0, width: Math.round(100 / opt_data.steps.length * 10000) / 10000, href: null}));
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.progressTracker.content.soyTemplateName = 'aui.progressTracker.content';
}


aui.progressTracker.step = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-progress-tracker-step' + ((opt_data.isCurrent) ? ' aui-progress-tracker-step-current' : '') + aui.renderExtraClasses(opt_data) + '" style="width: ' + soy.$$escapeHtml(opt_data.width) + '%;"' + aui.renderExtraAttributes(opt_data) + '><' + soy.$$escapeHtml(opt_data.href ? 'a' : 'span') + ((opt_data.href) ? ' href="' + soy.$$escapeHtml(opt_data.href) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</' + soy.$$escapeHtml(opt_data.href ? 'a' : 'span') + '></li>';
};
if (goog.DEBUG) {
  aui.progressTracker.step.soyTemplateName = 'aui.progressTracker.step';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/expander.soy' */
// This file was automatically generated from expander.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.expander.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.expander == 'undefined') { aui.expander = {}; }


aui.expander.content = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-expander-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.initiallyExpanded) ? ' aria-expanded="' + soy.$$escapeHtml(opt_data.initiallyExpanded) + '"' : '') + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.expander.content.soyTemplateName = 'aui.expander.content';
}


aui.expander.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tag ? opt_data.tag : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.replaceText) ? ' data-replace-text="' + soy.$$escapeHtml(opt_data.replaceText) + '"' : '') + ((opt_data.replaceSelector) ? ' data-replace-selector="' + soy.$$escapeHtml(opt_data.replaceSelector) + '"' : '') + ' class="aui-expander-trigger' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ' aria-controls="' + soy.$$escapeHtml(opt_data.contentId) + '"' + ((opt_data.collapsible) ? ' data-collapsible="' + soy.$$escapeHtml(opt_data.collapsible) + '"' : '') + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tag ? opt_data.tag : 'div') + '>';
};
if (goog.DEBUG) {
  aui.expander.trigger.soyTemplateName = 'aui.expander.trigger';
}


aui.expander.revealText = function(opt_data, opt_ignored) {
  return '' + aui.expander.content({id: opt_data.contentId, content: '' + soy.$$escapeHtml(opt_data.contentContent) + aui.expander.trigger({id: opt_data.triggerId, contentId: opt_data.contentId, tag: 'a', content: '<span class=\'reveal-text-trigger-text\'>Show more</span>', replaceSelector: '.reveal-text-trigger-text', replaceText: 'Show less', extraAttributes: opt_data.triggerExtraAttributes, extraClasses: ((opt_data.triggerExtraClasses) ? soy.$$escapeHtml(opt_data.triggerExtraClasses) + '  ' : '') + ' aui-expander-reveal-text'}), extraAttributes: opt_data.contentExtraAttributes, extraClasses: opt_data.contentExtraClasses});
};
if (goog.DEBUG) {
  aui.expander.revealText.soyTemplateName = 'aui.expander.revealText';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/avatar.soy' */
// This file was automatically generated from avatar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.avatar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.avatar == 'undefined') { aui.avatar = {}; }


aui.avatar.avatar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-avatar aui-avatar-' + soy.$$escapeHtml(opt_data.size) + soy.$$escapeHtml(opt_data.isProject ? ' aui-avatar-project' : '') + soy.$$escapeHtml(opt_data.badgeContent ? ' aui-avatar-badged' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.avatarImageUrl) + '"' + ((opt_data.accessibilityText) ? ' alt="' + soy.$$escapeHtml(opt_data.accessibilityText) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.imageClasses) ? ' class="' + soy.$$escapeHtml(opt_data.imageClasses) + '"' : '') + ' /></span>' + ((opt_data.badgeContent) ? soy.$$filterNoAutoescape(opt_data.badgeContent) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.avatar.avatar.soyTemplateName = 'aui.avatar.avatar';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/icons.soy' */
// This file was automatically generated from icons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.icons.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.icons == 'undefined') { aui.icons = {}; }


aui.icons.icon = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-icon' + ((opt_data.useIconFont) ? ' aui-icon-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'small') : '') + ' aui' + soy.$$escapeHtml(opt_data.useIconFont ? '-iconfont' : '-icon') + soy.$$escapeHtml(opt_data.iconFontSet ? '-' + opt_data.iconFontSet : '') + '-' + soy.$$escapeHtml(opt_data.icon) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.icons.icon.soyTemplateName = 'aui.icons.icon';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/lozenges.soy' */
// This file was automatically generated from lozenges.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.lozenges.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.lozenges == 'undefined') { aui.lozenges = {}; }


aui.lozenges.lozenge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ' class="aui-lozenge' + soy.$$escapeHtml(opt_data.type ? ' aui-lozenge-' + opt_data.type : '') + soy.$$escapeHtml(opt_data.isSubtle ? ' aui-lozenge-subtle' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.maxLength) ? soy.$$truncate(soy.$$escapeHtml(opt_data.text), opt_data.maxLength, true) : soy.$$escapeHtml(opt_data.text)) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.lozenges.lozenge.soyTemplateName = 'aui.lozenges.lozenge';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'auiplugin/src/soy/sidebar.soy' */
// This file was automatically generated from sidebar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.sidebar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.sidebar == 'undefined') { aui.sidebar = {}; }


aui.sidebar.sidebar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.state) ? ' aria-expanded="' + ((opt_data.state == 'collapsed') ? 'false' : 'true') + '"' : '') + ' class="aui-sidebar ' + ((opt_data.isAnimated) ? 'aui-is-animated' : '') + aui.renderExtraClasses(opt_data) + '" ' + ((opt_data.isResponsive == false) ? 'data-aui-responsive="false"' : '') + aui.renderExtraAttributes(opt_data) + '><div class="aui-sidebar-wrapper"><div class="aui-sidebar-body">' + soy.$$filterNoAutoescape(opt_data.headerContent) + soy.$$filterNoAutoescape(opt_data.content) + '</div><div class="aui-sidebar-footer">' + ((opt_data.footerContent) ? soy.$$filterNoAutoescape(opt_data.footerContent) : (opt_data.settingsButtonUrl && opt_data.settingsText) ? '<a href="' + soy.$$escapeHtml(opt_data.settingsButtonUrl) + '" class="aui-button aui-button-subtle aui-sidebar-settings-button' + ((opt_data.isSettingsButtonSelected) ? ' aui-sidebar-settings-selected' : '') + '" data-tooltip="' + soy.$$escapeHtml(opt_data.settingsTooltip ? opt_data.settingsTooltip : opt_data.settingsText) + '"><span class="aui-icon aui-icon-small aui-iconfont-configure"></span><span class="aui-button-label">' + soy.$$escapeHtml(opt_data.settingsText) + '</span></a>' : '') + '<a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="' + soy.$$escapeHtml('Expand sidebar ( [ )') + '" href="#"><span class="aui-icon aui-icon-small"></span></a></div>' + ((opt_data.isResizable) ? '<div class="aui-sidebar-handle"></div>' : '') + '</div></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.sidebar.sidebar.soyTemplateName = 'aui.sidebar.sidebar';
}
;
;
/* module-key = 'jira.webresources:js-soy-templates', location = 'includes/templates/jira/links.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Links&&(JIRA.Templates.Links={}),JIRA.Templates.Links.helpLinkFromHelpPath=function(e,t){return""+JIRA.Templates.Links.helpLink({isLocal:e.helpPath.local,title:e.helpPath.title,description:e.helpPath.alt,url:e.helpPath.url,fragmentIdentifier:""+(e.fragmentIdentifier?soy.$$escapeHtml(e.fragmentIdentifier):"")})},JIRA.Templates.Links.helpLink=function(e,t){return'<a class="help-lnk'+(e.extraClasses?aui.renderExtraClasses(e):"")+'"'+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' href="'+soy.$$escapeHtml(e.url)+(e.fragmentIdentifier?soy.$$escapeHtml(e.fragmentIdentifier):"")+'" title="'+(e.isLocal?AJS.format("Get local help about {0}",e.title):AJS.format("Get online help about {0}",e.title))+'" data-helplink="'+(e.isLocal?"local":"online")+'"'+(e.isLocal?"":' target="_jirahelp"')+aui.renderExtraAttributes(e)+'><span class="aui-icon aui-icon-small aui-iconfont-help">'+(e.description?soy.$$escapeHtml(e.description):"")+"</span></a>"},JIRA.Templates.Links.button=function(e,t){return""+aui.buttons.button(soy.$$augmentMap(e,{tagName:"a",extraAttributes:'href="'+soy.$$escapeHtml(e.url)+'"'}))},JIRA.Templates.Links.basicHelpLink=function(e,t){var a="",l=e.isLocal?"local":"online",i=e.isLocal?"_self":"_jirahelp",n=null!=e.title?e.title:"";return a+=aui.buttons.button(soy.$$augmentMap(e,{extraClasses:"help-lnk",type:"link",tagName:"a",text:e.desc,extraAttributes:{href:e.url,title:n,target:i,"data-helplink":l}}))};;
;
/* module-key = 'jira.webresources:js-soy-templates', location = 'includes/templates/jira/header/pageHeader.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Headers&&(JIRA.Templates.Headers={}),JIRA.Templates.Headers.pageHeader=function(e,a){return"<"+soy.$$escapeHtml(e.tagName?e.tagName:"header")+' class="'+soy.$$escapeHtml("aui-page-header"+(e.containsBreadcrumbs?" contains-breadcrumbs":""))+'" '+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+'><div class="aui-page-header-inner">'+(e.imageContent?'<div class="aui-page-header-image">'+soy.$$filterNoAutoescape(e.imageContent)+"</div>":"")+'<div class="aui-page-header-main">'+soy.$$filterNoAutoescape(e.mainContent)+"</div>"+(e.actionsContent||e.helpContent?'<div class="aui-page-header-actions">'+(e.actionsContent?soy.$$filterNoAutoescape(e.actionsContent):"")+(e.helpContent?soy.$$filterNoAutoescape(e.helpContent):"")+"</div>":"")+"</div></"+soy.$$escapeHtml(e.tagName?e.tagName:"header")+">"},JIRA.Templates.Headers.projectAvatar=function(e,a){return"<span"+(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"")+' class="aui-avatar aui-avatar-large aui-avatar-project'+(e.isSystemAvatar?" jira-system-avatar":"")+aui.renderExtraClasses(e)+'"'+aui.renderExtraAttributes(e)+'><span class="aui-avatar-inner"><img id="project-avatar" alt="'+soy.$$escapeHtml(AJS.format("Uploaded image for project: \'\'{0}\'\'",e.avatarAlt))+'" src="'+soy.$$filterNoAutoescape(e.avatarUrl)+'" /></span>'+(e.projectTypeIcon?'<img src="data:image/svg+xml;base64,'+soy.$$escapeHtml(e.projectTypeIcon)+'" class="jira-project-avatar-icon" />':"")+"</span>"},JIRA.Templates.Headers.breadcrumbs=function(e,a){return'<div id="breadcrumbs-container"></div>'},JIRA.Templates.Headers.breadcrumbsProjectSettings=function(e,a){return'<div id="breadcrumbs-container" class="project-settings-breadcrumb"></div>'};;
;
/* module-key = 'jira.webresources:js-soy-templates', location = 'includes/templates/jira/jiraDialogs.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.JiraDialog&&(JIRA.Templates.JiraDialog={}),JIRA.Templates.JiraDialog.dialogChrome=function(o,e){return""+JIRA.Templates.JiraDialog.abstractDialogChrome(o)},JIRA.Templates.JiraDialog.formDialogChrome=function(o,e){return""+JIRA.Templates.JiraDialog.abstractDialogChrome(o)},JIRA.Templates.JiraDialog.abstractDialogChrome=function(o,e){return(o.titleText?'<div class="jira-dialog-heading"><h2>'+soy.$$escapeHtml(o.titleText)+"</h2></div>":"")+'<div class="jira-dialog-content">'+(o.formActionUrl?'<form class="aui" action="'+soy.$$escapeHtml(o.formActionUrl)+'" method="'+(o.formMethod?soy.$$escapeHtml(o.formMethod):"POST")+'"><div class="form-body">'+soy.$$filterNoAutoescape(o.bodyContent)+'</div><div class="form-footer buttons-container">'+soy.$$filterNoAutoescape(o.footerContent)+"</div></form>":soy.$$filterNoAutoescape(o.bodyContent)+(o.footerContent?'<div class="buttons-container">'+soy.$$filterNoAutoescape(o.footerContent)+"</div>":""))+"</div>"};;
;
/* module-key = 'jira.webresources:js-soy-templates', location = 'includes/jira/field/templates/statusCategoryField.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Fields&&(JIRA.Templates.Fields={}),"undefined"==typeof JIRA.Templates.Fields.Pickers&&(JIRA.Templates.Fields.Pickers={}),"undefined"==typeof JIRA.Templates.Fields.Pickers.Statuses&&(JIRA.Templates.Fields.Pickers.Statuses={}),JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelectField=function(e,t){var s='<div class="field-group">'+aui.form.label({forField:e.id,isRequired:!0,content:"Category"})+JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelect(e)+(e.statusCategoryHelpData?" "+JIRA.Templates.Links.helpLink(e.statusCategoryHelpData):"")+'<div class="description">',a="<b>"+soy.$$escapeHtml("To Do")+"</b>",o="<b>"+soy.$$escapeHtml("In Progress")+"</b>",l="<b>"+soy.$$escapeHtml("Done")+"</b>";return s+=soy.$$filterNoAutoescape(AJS.format("Helps identify where an issue is in its lifecycle. \u003cbr/\u003eIssues move from {0} to {1} when work starts on them, and later move to {2} when all work is complete.",a,o,l))+"</div>"+(e.errors&&e.errors.statusCategory?aui.form.fieldError({message:e.errors.statusCategory}):"")+"</div>"},JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelect=function(e,t){for(var s='<select id="'+soy.$$escapeHtml(e.id)+'" name="'+soy.$$escapeHtml(e.id)+'" class="select">',a=e.statusCategoryOptions,o=a.length,l=0;l<o;l++){var i=a[l];s+=JIRA.Templates.Fields.Pickers.Statuses.statusCategoryOption(i)}return s+="</select>"},JIRA.Templates.Fields.Pickers.Statuses.statusCategoryOption=function(e,t){return'<option value="'+soy.$$escapeHtml(e.value)+'" data-key="'+soy.$$escapeHtml(e.key)+'" data-color-name="'+soy.$$escapeHtml(e.colorName)+'" data-sequence="'+soy.$$escapeHtml(e.sequence)+'"'+(e.selected?" selected":"")+(e.isPlaceholder?' data-placeholder="true"':"")+">"+soy.$$escapeHtml(e.text)+"</option>"};;
;
/* module-key = 'jira.webresources:page-loading-indicator', location = '/includes/jira/loading/Loading.js' */
define("jira/loading/loading",["jquery"],function(i){function a(){e||(i(window).trigger("show.loading"),i("body").append(r).append(s),e=!0)}function n(){e&&(i(window).trigger("hide.loading"),s.remove(),r.remove(),e=!1)}var e=!1,r=i('<div class="jira-page-adg-loading-background" />'),s=i('<div class="jira-page-adg-spinner">   <span class="jira-page-adg-spinner-container">     <span class="jira-page-adg-spinner-wrapper" size="48">       <svg        class="jira-page-adg-spinner-svg"        focusable="false"        height="48"        size="48"        viewBox="0 0 48 48"        width="48"        xmlns="http://www.w3.org/2000/svg"      >        <circle cx="24" cy="24" r="21.5"></circle>      </svg>    </span>  </span></div>');return{showLoadingIndicator:a,hideLoadingIndicator:n,isVisible:function(){return e}}}),AJS.namespace("JIRA.Loading",null,require("jira/loading/loading"));;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-amdify', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/amdify.js' */
("undefined"===typeof window?global:window).__574ac67f906effeb9d8ec2753b23cf28=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,b){if(window.define){var c=window.define;c(a,[],function(){return b})}return b};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-flag', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/flag.js' */
("undefined"===typeof window?global:window).__e243db5c139a94f8b4c4fe7a1d0dbab0=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function g(a){var a=c.default.extend({},l,a),b,e=a,e=(0,m.default)('<div class="aui-flag"><div class="aui-message aui-message-{type} {type} {closeable} shadowed"><p class="title"><strong>{title}</strong></p>{body}<\!-- .aui-message --\></div></div>').fill({"body:html":e.body||"",closeable:"never"===e.close?"":"closeable",title:e.title||"",type:e.type}).toString();
b=(0,c.default)(e);b[0].close=function(){h(b)};"auto"===a.close?(j(b),b.find(".aui-message").addClass("aui-will-close"),setTimeout(function(){b[0].close()},n)):"manual"===a.close&&j(b);(0,c.default)("#"+i).find(".aui-flag").get().forEach(function(a){a.getAttribute("aria-hidden")==="true"&&(0,c.default)(a).remove()});a=(0,c.default)("#"+i);a.length||(a=(0,c.default)('<div id="'+i+'"></div>'),(0,c.default)("body").prepend(a));b.appendTo(a);(0,o.recomputeStyle)(b);return b.attr("aria-hidden","false")[0]}
function j(a){var b=(0,c.default)('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');b.click(function(){h(a)});b.keypress(function(b){if(b.which===k.default.ENTER||b.which===k.default.SPACE)h(a),b.preventDefault()});return a.find(".aui-message").append(b)[0]}function h(a){a=a.get(0);a.setAttribute("aria-hidden","true");a.dispatchEvent(new p.default("aui-flag-close",{bubbles:!0}));return a}var f={};"use strict";Object.defineProperty(f,"__esModule",{value:!0});var c=d(__307d3e18fd611f85395c67cddeb1fe24),
o=__c0311e8841bd8637e025a8fb1474f693,q=d(__574ac67f906effeb9d8ec2753b23cf28),r=d(__4d02fe17b8e885a34493e34af3d145dd),k=d(__509557c937caa8763def39004fcf3193),m=d(__eb201a36d4829c396b434af7bad3dea4),p=d(__5a18a90cc502f556e87c4181f8a6b4ab),n=5E3,i="aui-flag-container",l={body:"",close:"manual",title:"",type:"info"};(0,q.default)("aui/flag",g);(0,r.default)("flag",g);f.default=g;return f=f["default"]}.call(this);;
;
/* module-key = 'jira.webresources:messages', location = 'includes/jira/common/messages.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),JIRA.Templates.warningMsg=function(s,e){return'<div class="aui-message warning '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-warning"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"},JIRA.Templates.successMsg=function(s,e){return'<div class="aui-message success '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-success"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"},JIRA.Templates.errorMsg=function(s,e){return'<div class="aui-message error '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-error"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"},JIRA.Templates.infoMsg=function(s,e){return'<div class="aui-message info '+(s.closeable?"closeable":"")+'"><span class="aui-icon icon-info"></span>'+soy.$$filterNoAutoescape(s.msg)+(s.closeable?'<span class="aui-icon icon-close"></span>':"")+"</div>"};;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/flag.js' */
define("jira/flag",["jira/util/logger","aui/flag","jira/ajs/ajax/smart-ajax","underscore","jquery","wrm/data","wrm/context-path"],function(s,e,t,i,n,a,r){"use strict";function o(s){var e=c();i.contains(e,s)||(e.push(s),sessionStorage.setItem("dismissedFlags",JSON.stringify(e)))}function u(s){var e=i.without(c(),s);sessionStorage.setItem("dismissedFlags",JSON.stringify(e))}function c(){return JSON.parse(sessionStorage.getItem("dismissedFlags"))||[]}function f(){return i.union(j(),c())}function d(e){o(e),t.makeRequest({type:"PUT",url:r()+"/rest/flags/1.0/flags/"+encodeURIComponent(e)+"/dismiss"}).done(function(){u(e)}).always(function(){s.trace("flag.dismiss.finished:"+e)})}function g(s,t,a){a=a||{};var r=i.extend({},p,w[a.type],a,{title:s?s:"",body:t?t:""}),o=r.dismissalKey;if(o&&i.contains(f(),o))return!1;var u=e(r);o?(u.dismiss=function(){d(o)},u.addEventListener("aui-flag-close",u.dismiss)):u.dismiss=function(){};var c=n(u).find(".title");return""===n.trim(c.text())&&c.remove(),u}function l(s,e,t){return g(s,e,i.extend({},t,{type:"error"}))}function m(s,e,t){return g(s,e,i.extend({},t,{type:"warning"}))}function y(s,e,t){return g(s,e,i.extend({},t,{type:"success"}))}function h(s){s.forEach(function(s){g(s.title,s.htmlMessage,{close:s.auiClosingPolicy,type:s.auiMessageType})})}var p={type:"info",title:"",body:""},w={success:{close:"auto"}},j=i.once(function(){var s=a.claim("com.atlassian.jira.jira-header-plugin:dismissedFlags.flags")||{};return s.dismissed||[]}),v=c();return setTimeout(function(){i.each(v,d)},1e3),{showMsg:g,showMessages:h,showInfoMsg:g,showErrorMsg:l,showWarningMsg:m,showSuccessMsg:y}});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message-types.js' */
define("jira/message-types",{WARNING:JIRA.Templates.warningMsg,ERROR:JIRA.Templates.errorMsg,SUCCESS:JIRA.Templates.successMsg});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message.js' */
define("jira/message",["jira/flag","jquery","jira/message-types","jira/data/local-storage"],function(e,t,o,r){"use strict";function s(e,o){o=o||{};var r,s=o.type({msg:e,closeable:o.closeable}),a=t("<div>").html(s),n=null!=o.timeout?o.timeout:f;return o.closeable&&a.find(".icon-close").click(function(e){e.preventDefault(),null!=r&&window.clearTimeout(r),a.remove()}),n>0&&(r=window.setTimeout(function(){a.fadeOut(function(){a.remove()})},1e3*n)),a}function a(e,t){t=t||{};var o=s(e,t);return o.prependTo(t.target)}function n(e,t){return t=t||{},t.type="WARNING",p(e,t)}function u(e,t){return t=t||{},t.type="SUCCESS",p(e,t)}function i(e,t){return t=t||{},t.type="ERROR",p(e,t)}function c(o,r){var s={};r=r||{},s.type=r.type,"undefined"==typeof r.timeout?r.closeable===!1&&(s.close="auto"):r.timeout>0?s.close="auto":r.closeable===!1?s.close="never":s.close="manual";var a=t(e.showMsg("",o,s));return r.id&&a.attr("id",r.id),a}function l(e,o){return c(e,t.extend({},o,{type:"error"}))}function g(e,o){return c(e,t.extend({},o,{type:"warning"}))}function m(e,o){var r=t(e);o=o||{},r.css("backgroundColor","#fff").animate({backgroundColor:o.backgroundColor||"#ffd"}),window.setTimeout(function(){r.animate({backgroundColor:"#fff"},"slow",function(){r.css("backgroundColor","")})},3e3)}function d(e,o){return c(e,t.extend({},o,{type:"success"}))}var f=10,p=function(){var e="jira.messages.reloadMessageMsg",s="jira.messages.reloadMessageType",n="jira.messages.reloadMessageCloseable",u="jira.messages.reloadMessageTarget";return t(function(){var i,l,g,m=r.getItem(e);if(m){i=r.getItem(s),l="true"===r.getItem(n)||r.getItem(n)===!0,g=r.getItem(u),r.removeItem(e),r.removeItem(s),r.removeItem(n),r.removeItem(u);var d={WARNING:{soyTemplate:o.WARNING,auiType:"warning"},ERROR:{soyTemplate:o.ERROR,auiType:"error"},SUCCESS:{soyTemplate:o.SUCCESS,auiType:"success"}};!g||t(g).is(document.body)?c(m,{type:d[i].auiType,closeable:l}):a(m,{type:d[i].soyTemplate,closeable:l,target:t(g)})}}),function(t,o){r.setItem(e,t),r.setItem(s,o.type),o.closeable&&r.setItem(n,o.closeable),o.target&&r.setItem(u,o.target)}}(),I=function(){var e="jira.messages.fadeInBackground.color",o="jira.messages.fadeInBackground.target";return t(function(){var t=r.getItem(e),s=r.getItem(o);r.removeItem(e),r.removeItem(o),m(s,{backgroundColor:t})}),function(t,s){s=s||{};var a=r.getItem(o);a?(a=a.split(","),a.push(t),a=a.join(",")):a=t,r.setItem(o,a),r.setItem(e,s.backgroundColor||"#ffd")}}(),y={Types:o,DefaultTimeout:10,buildMsg:s,showMsg:c,showMessageAtTarget:a,showMsgOnReload:p,fadeInBackground:m,fadeInBackgroundOnReload:I,showErrorMsg:l,showWarningMsg:g,showSuccessMsg:d,showReloadErrorMsg:i,showReloadWarningMsg:n,showReloadSuccessMsg:u},v={removeInVersion:"8.0",alternativeName:"jira/flag",sinceVersion:"6.4"};return AJS.deprecate.prop(y,"showMsg",v),AJS.deprecate.prop(y,"showErrorMsg",v),AJS.deprecate.prop(y,"showWarningMsg",v),AJS.deprecate.prop(y,"showSuccessMsg",v),y});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message-namespace.js' */
AJS.namespace("JIRA.Messages",null,require("jira/message"));;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/message-jquery.js' */
!function(){var e=require("jira/message-types"),r=require("jira/message"),t=require("jquery");t.fn.fadeInBackground=function(e){return r.fadeInBackground(this,e),this},t.fn.showErrorMsg=function(t,s){return s=s||{},s.target=this,s.type=e.ERROR,r.showMessageAtTarget(t,s)},t.fn.showWarningMsg=function(t,s){return s=s||{},s.target=this,s.type=e.WARNING,r.showMessageAtTarget(t,s)},t.fn.showSuccessMsg=function(t,s){return s=s||{},s.target=this,s.type=e.SUCCESS,r.showMessageAtTarget(t,s)}}();;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/DialogFactory.js' */
define("jira/dialog/dialog-factory",{});;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/DialogRegister.js' */
define("jira/dialog/dialog-register",{});;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/Dialog.js' */
define("jira/dialog/dialog",["jira/jquery/deferred","jira/ajs/control","jira/ajs/layer/inline-layer","jira/util/data/meta","jira/ajs/ajax/smart-ajax","jira/loading/loading","jira/xsrf","jira/util/browser","jira/util/events","jira/util/navigator","aui/dropdown","jquery","underscore","wrm/require","jira/featureflags/feature-manager"],function(t,i,e,s,o,n,a,r,h,d,l,c,p,u,g){var f=AJS.bind,m=AJS.unbind,v=AJS.dim,_=AJS.layer,C=AJS.LayerManager.global,y=i.extend({_getDefaultOptions:function(){return{height:"auto",cached:!1,widthClass:"medium",modeless:!1,useReadyForInteractionMetric:!1,ajaxOptions:{data:{inline:!0,decorator:"dialog"}}}},init:function(t){if("string"==typeof t||t instanceof c?t={trigger:t}:t&&t.width&&(t.widthClass="custom"),this.classNames=y.ClassNames,this.OPEN_DIALOG_SELECTOR="."+this.classNames.DIALOG+"."+this.classNames.DIALOG_OPEN,this.options=c.extend(!0,this._getDefaultOptions(),t),this.options.width=y.WIDTH_PRESETS[this.options.widthClass]||t.width,"function"==typeof this.options.content?this.options.type="builder":this.options.content instanceof c||"object"==typeof this.options.content&&this.options.nodeName?this.options.type="element":(!this.options.type&&!this.options.content||"object"==typeof this.options.content&&this.options.content.url)&&(this.options.type="ajax"),this.options.trigger){var i=c.makeArray(this.options.trigger),e=this;c.each(i,function(t,i){e._assignEvents("trigger",i)})}this.onContentReadyCallbacks=[],this._assignEvents("container",document),this.initModeless(),this.defineResources(),this.options.prefetchResources&&this.downloadResources()},initModeless:function(){this.options.modeless=!!this.options.modeless,this.options.modeless&&(!1===this.options.windowTitle&&(this.options.windowTitle=document.title),this._temporarilyHidden=!1,this._auiDialogShowHandler=this._auiDialogHandlers.hideTemporarily.bind(this),this._auiDialogHideHandler=this._auiDialogHandlers.restoreVisibility.bind(this),this._auiDialogRemoveHandler=this._auiDialogHandlers.restoreVisibilityRebindable.bind(this),f("show.dialog",this._auiDialogShowHandler),f("hide.dialog",this._auiDialogHideHandler),f("remove.dialog",this._auiDialogRemoveHandler),AJS.dialog2&&(this._auiDialog2ShowHandler=this._auiDialog2Handlers.hideTemporarily.bind(this),this._auiDialog2HideHandler=this._auiDialog2Handlers.restoreVisibility.bind(this),AJS.dialog2.on("show",this._auiDialog2ShowHandler),AJS.dialog2.on("hide",this._auiDialog2HideHandler)))},_runContentReadyCallbacks:function(){var t=this;c.each(this.onContentReadyCallbacks,function(){this.call(t)})},_setContent:function(t,i){var e;if(!this.resourcesReady().isResolved())return this._showloadingIndicator(),void this.resourcesReady().done(this._setContent.bind(this,t,i));if(t)if(y.current===this){if(this.get$popup().show().css("visibility","hidden").addClass("popup-width-"+this.options.widthClass),this.$content=t,this.get$popupContent().html(t),i!==!1&&this.decorateContent&&this.decorateContent(),(e=this.get$popupContent().find("."+this.classNames.HEADING_AREA)).size()>0&&this.get$popupHeading().replaceWith(e),(e=this.get$popupContent().find("."+this.classNames.CONTENT_AREA)).size()>0&&(e.contents().insertAfter(e),e.remove()),this._positionInCenter(),i!==!1){c(document).trigger("dialogContentReady",[this]);const s=new CustomEvent("legacyJiraDialogContentReady",{detail:this});document.dispatchEvent(s),this._runContentReadyCallbacks()}this.get$popup().css("visibility",""),i!==!1&&c.isFunction(this.options.onContentRefresh)&&this.options.onContentRefresh.call(this),this._onShowContent()}else this.options.cached===!1&&delete this.$content;else this._contentRetrievers[this.options.type].call(this,this._setContent)},_ellipsify:function(t){t instanceof c||(t=this.get$popup()),c(".overflow-ellipsis",t).textOverflow({className:"ellipsified"})},_handleInitialDoneResponse:function(t,i,e){},getRequestUrlFromTrigger:function(){if(this.$activeTrigger&&this.$activeTrigger.length)return this.$activeTrigger.attr("href")||this.$activeTrigger.data("url")},_getRequestOptions:function(){var t={};return this._getAjaxOptionsObject()!==!1&&(t=c.extend(!0,t,this._getAjaxOptionsObject()),t.url||(t.url=this.getRequestUrlFromTrigger()),t)},_getAjaxOptionsObject:function(){var t=this.options.ajaxOptions;return c.isFunction(t)?t.call(this):t},_contentRetrievers:{element:function(t){this.$content||(this.$content=c(this.options.content).clone(!0)),t.call(this,this.$content)},builder:function(t){var i=this;this.$content||(this._showloadingIndicator(),this.options.content.call(this,function(e){i.$content=c(e),t.call(i,i.$content)}))},ajax:function(t){var i,e=this;this.$content||(i=this._getRequestOptions(),this._showloadingIndicator(),this.serverIsDone=!1,i.complete=function(s,n,a){if(a.successful){var r=e._detectRedirectInstructions(s);e.serverIsDone=r.serverIsDone,r.redirectUrl?e._performRedirect(r.redirectUrl):(i.dataType&&"json"===i.dataType.toLowerCase()&&e._buildContentFromJSON?e.$content=e._buildContentFromJSON(a.data):e.$content=a.data,e.serverIsDone?e._handleInitialDoneResponse(a.data,s,a):t.call(e,e.$content))}else{var h=o.buildDialogErrorContent(a);t.call(e,h)}},o.makeRequest(i))}},_detectRedirectInstructions:function(t){var i={serverIsDone:!1,redirectUrl:""},e=t.getResponseHeader("X-Atlassian-Dialog-Control");if(e){i.serverIsDone=!0;var s=e.indexOf("redirect:");0===s?i.redirectUrl=e.substr("redirect:".length):"permissionviolation"===e&&(i.redirectUrl=window.location.href)}return i},_performRedirect:function(t){r.reloadViaWindowLocation(t)},_renders:{popupHeading:function(){var t=c("<div />");return t.addClass(this.classNames.HEADING_AREA)},popupContent:function(){return c("<div />").addClass(this.classNames.CONTENT_AREA)},popup:function(){return c("<div />").attr("id",this.options.id||"").addClass(this.classNames.DIALOG).toggleClass(this.classNames.MODELESS_DIALOG,this.options.modeless).hide()}},_events:{trigger:{simpleClick:function(t,i){if(this.$activeTrigger=i,this.$activeTrigger.is("a")||(this.$activeTrigger=i.find("a")),this.options.analyticsComponent&&this.options.analyticsAction){var e;try{e=require("jira/components/analytics-tracker/tracker"),e.trackEvent(this.options.analyticsComponent,this.options.analyticsAction)}catch(t){e=null}}this.show(),t.preventDefault()}},container:{keydown:function(t){if(t.which===c.ui.keyCode.ESCAPE){var i=this.handleCancel();d.isIE()&&d.majorVersion()<12&&i===!1&&t.preventDefault()}}}},handleCancel:function(){return this.hide(!0,{reason:y.HIDE_REASON.escape})},_showloadingIndicator:function(){n.showLoadingIndicator()},_hideloadingIndicator:function(){n.hideLoadingIndicator()},_positionInCenter:function(){var t=c(window),i=this.get$popup(),e=this.getContentContainer(),s=this.getContentArea(),o=40,n=t.height(),a=0;if("number"==typeof this.options.width&&i.width(this.options.width),this.options.modeless)a=Math.round(n/2);else{i.css({marginLeft:-i.outerWidth()/2,marginTop:Math.max(-i.outerHeight()/2,o-n/2)});for(var r=i[0];r;)a+=r.offsetTop,r=r.offsetParent}var h=Math.max(n-a-o,y.CONSTRAINTS.MODELESS_MIN_HEIGHT),d=parseInt(s.css("padding-top"),10)+parseInt(s.css("padding-bottom"),10);s.css("maxHeight","");var l=h-(i.outerHeight()-e.outerHeight())-d;s.css("maxHeight",l),c(this).trigger("contentMaxHeightChanged",[l])},getContentArea:function(){return this.$popup.find(".form-body")},getContentContainer:function(){var t=this.$popup.find(".content-area-container");return 1===t.length?t:this.$popup.find(".form-body")},get$popup:function(){return this.$popup||(this.$popup=this._render("popup").appendTo("body"),this.$popup.addClass("box-shadow")),this.$popup},bindAnchorsToDialog:function(t){var i=this;t.click(function(t){i.$activeTrigger=c(this),delete i.$content,i._setContent(),t.preventDefault()})},get$popupContent:function(){return this.$popupContent||(this.$popupContent=this._render("popupContent").appendTo(this.get$popup())),this.$popupContent},get$popupHeading:function(){return this.$popupHeading||(this.$popupHeading=this._render("popupHeading").prependTo(this.get$popup())),this.$popupHeading},getLoadingIndicator:function(){return this.get$popupContent().find(".throbber:last")},showFooterLoadingIndicator:function(){var t=this.getLoadingIndicator();t.length&&(t.data("spinner")?t.hasClass("loading")||t.addClass("loading"):t.addClass("loading").spin())},hideFooterLoadingIndicator:function(){var t=this.getLoadingIndicator();t.length&&(t.removeClass("loading"),p.defer(function(){t.hasClass("loading")||t.spinStop()}))},_watchTab:function(t){var i,e,s;c(t.target).parents(this.get$popupContent()).length>0&&(i=c("html").hasClass("safari")?c(":input:visible:enabled, :checkbox:visible:enabled, :radio:visible:enabled",this.OPEN_DIALOG_SELECTOR):c("a:visible, :input:visible:enabled, :checkbox:visible:enabled, :radio:visible:enabled",this.OPEN_DIALOG_SELECTOR),e=i.first(),s=i.last(),(t.target===e[0]&&t.shiftKey||t.target===s[0]&&!t.shiftKey)&&(t.shiftKey?s.focus():e.focus(),t.preventDefault()))},_show:function(t){if(e.current&&e.current.hide(),l.current&&l.current.hide(),y.current){var i;if(y.current.options.stacked)i=y.current,i.stacked=!0,i.hide(!1),this.prev=i;else{y.stackroot=this;var s=y.current;for(i=s._removeStackState(),s.hide(!1);i;)s=i,i=s._removeStackState(),s._destroyIfNecessary()}}else this.stacked!==!0&&(y.stackroot=this,y.originalWindowTitle=document.title);this.options.modeless||(this.prev&&this.prev.options.modeless?v(!1):this.stacked!==!0&&v(!1)),y.current=this;var o=this.get$popup().addClass(this.classNames.DIALOG_OPEN);t||"blank"!==this.options.type&&!this.$content&&this.stacked!==!0?(delete this.$content,this._setContent()):(o.show(),this._positionInCenter(),this._onShowContent()),this.tabWatcher=function(t){9===t.keyCode&&y.current._watchTab(t)},c(document).bind("keydown",this.tabWatcher),c(this).trigger("Dialog.show",[this.$popup,this,this.id]),h.trigger("Dialog.show",[this.$popup,this,this.id]),this.options.modeless||r.disableKeyboardScrolling(),this.stacked=!1},show:function(t){var i=this.options.delayShowUntil,e=this;if(y.current===this)return!1;var s=new c.Event("beforeShow"),o=new c.Event("beforeShow");c(this).trigger(s),h.trigger(o,[this.options.id]),c(this).trigger("Dialog.beforeShow"),h.trigger("Dialog.beforeShow",[this.options.id]);var n=new CustomEvent("legacyJiraDialogBeforeShow",{detail:{id:this.options.id}});if(document.dispatchEvent(n),s.isDefaultPrevented()||o.isDefaultPrevented())return!1;if(this.downloadResources(),i){var a=i();"resolved"===a.state()?e._show(t):(this.options.modeless||v(!1),this._showloadingIndicator(),a.done(function(){e._show(t)}))}else e._show(t)},_setWindowTitle:function(){var t,i,e=this.options.windowTitle,o=this.get$popup();if(e!==!1&&("string"==typeof e?t=e:"function"==typeof e?t=e.call(this):(i=o.find("."+this.classNames.HEADING_AREA),i.length&&(t=i.text())),t)){var n=s.get("app-title"),a=[t];n&&a.push(n),document.title=a.join(" - ")}},_onShowContent:function(){this._setWindowTitle(),this._hideloadingIndicator(),this._ellipsify(),this.get$popup().addClass(this.classNames.CONTENT_READY)},_resetWindowTitle:function(){this.stacked!==!0&&y.stackroot===this&&y.originalWindowTitle&&(document.title!==y.originalWindowTitle&&(document.title=y.originalWindowTitle),delete y.originalWindowTitle)},notifyOfNewContent:function(){if(this.$content){this.decorateContent(),this._positionInCenter(),this._onShowContent(),c(document).trigger("dialogContentReady",[this]);const t=new CustomEvent("legacyJiraDialogContentReady",{detail:this});document.dispatchEvent(t)}},destroy:function(){this.options.modeless&&(AJS.dialog2&&(AJS.dialog2.off("show",this._auiDialog2ShowHandler),AJS.dialog2.off("hide",this._auiDialog2HideHandler),delete this._auiDialog2ShowHandler,delete this._auiDialog2HideHandler),m("show.dialog",this._auiDialogShowHandler),m("hide.dialog",this._auiDialogHideHandler),m("remove.dialog",this._auiDialogRemoveHandler),delete this._auiDialogShowHandler,delete this._auiDialogHideHandler,delete this._auiDialogRemoveHandler),this.$popup&&this.$popup.remove(),delete this.$popup,delete this.$popupContent,delete this.$popupHeading,delete this.$content},_destroyIfNecessary:function(){!this.options.cached&&this.destroy()},_removeStackState:function(){var t=this.prev;return delete this.prev,delete this.stacked,t},isCurrent:function(){return y.current===this},hide:function(t,i){if(y.current===this){var e=new c.Event("Dialog.beforeHide"),s=new c.Event("Dialog.beforeHide");i=i||{},h.trigger(e,[this.$popup,i.reason,this.options.id]),c(this).trigger(s,[this.$popup,i.reason,this.options.id]);var o;if(o=new CustomEvent("legacyJiraDialogBeforeHide",{detail:{popup:this.$popup,reason:i.reason,id:this.options.id}}),document.dispatchEvent(o),(i.reason===y.HIDE_REASON.escape||i.reason===y.HIDE_REASON.cancel)&&this.options.analyticsComponent&&this.options.analyticsAction){var n;try{n=require("jira/components/analytics-tracker/tracker"),n.trackEvent(this.options.analyticsComponent,this.options.analyticsAction+".cancel")}catch(t){n=null}}if(o&&o.defaultPrevented||e.isDefaultPrevented()||s.isDefaultPrevented())return!1;var d=c("input[name=atl_token]",this.OPEN_DIALOG_SELECTOR).attr("value");void 0!==d&&a.updateTokenOnPage(d),(t!==!1&&!this.prev&&!this.options.modeless||this.prev&&this.prev.options.modeless)&&AJS.undim(),this.get$popup().removeClass(this.classNames.DIALOG_OPEN).removeClass(this.classNames.CONTENT_READY).hide(),this._hideloadingIndicator(),this._resetWindowTitle(),c(document).trigger("hideAllLayers",[this.$popup,i.reason,this.options.id]),c(this).trigger("Dialog.hide",[this.$popup,i.reason,this.options.id]),h.trigger("Dialog.hide",[this.$popup,i.reason,this.options.id]);var l=new CustomEvent("legacyJiraDialogHide",{detail:{popup:this.$popup,reason:i.reason,id:this.options.id}});if(document.dispatchEvent(l),y.current=null,this.options.cached===!1&&this.stacked!==!0&&this.destroy(),this.options.modeless||r.enableKeyboardScrolling(),this.tabWatcher&&c(document).unbind("keydown",this.tabWatcher),this.stacked!==!0&&(this.prev?(this.prev.show(!!this.prev.options.reloadOnPop),delete this.prev):y.stackroot===this&&delete y.stackroot),this.options.elementToFocusOnClose)c(this.options.elementToFocusOnClose).focus();else if(this.$activeTrigger)this.$activeTrigger.focus();else if(this.options.id){var p=this.options.id,u="#"+p.substring(0,p.indexOf("-dialog"));u.length>1&&c(u).focus()}}},addHeading:function(t){var i=c("<div/>").html(t).contents(),e=c("<h2/>"),s=[];i.each(function(t){"div"===this.nodeName.toLowerCase()?s.push(this):e.append(this)}),this.get$popupHeading().html(s).append(e),e.attr("title",c.trim(e.text()))},onContentReady:function(t){c.isFunction(t)&&this.onContentReadyCallbacks.push(t)},_auiDialogHandlers:{hideTemporarily:function(t,i){this._temporarilyHidden||this._hideTemporarily()},restoreVisibility:function(t,i){if(this._temporarilyHidden){var e=C.getTopLayer(),s=!!e&&_(e);s&&s.isVisible()&&s.isBlanketed()||this._restoreVisibility()}},restoreVisibilityRebindable:function(t,i){this._restoreVisibility(t,i);var e=function(){f("remove.dialog",this._auiDialogRemoveHandler)};setTimeout(e.bind(this),0)}},_auiDialog2Handlers:{hideTemporarily:function(t,i){this._temporarilyHidden||this._hideTemporarily()},restoreVisibility:function(t,i){if(this._temporarilyHidden&&(!AJS.popup.current||!AJS.popup.current.element.is(":visible"))){for(;i;){var e=_(i);if(e.isVisible()&&e.isBlanketed())return;i=e.below()}this._restoreVisibility()}}},_hideTemporarily:function(){this.get$popup().addClass(this.classNames.DIALOG_NOT_VISIBLE),this._temporarilyHidden=!0},_restoreVisibility:function(){this.get$popup().removeClass(this.classNames.DIALOG_NOT_VISIBLE),this._temporarilyHidden=!1},defineResources:function(){p.isFunction(this.options.defineResources)&&this.options.defineResources.call(this)},requireContext:function(t){this.requireResource(t,"wrc!")},requireResource:function(t,i){this.wrmResources=this.wrmResources||[],this.wrmResources.push((i||"wr!")+t)},getRequiredResources:function(){return this.wrmResources||[]},downloadResources:function(){this.getRequiredResources().length>0&&!this.deferredResources&&(this.deferredResources=u(this.getRequiredResources()))},resourcesReady:function(){return this.deferredResources?this.deferredResources.promise():(new t).resolve().promise()}});return y.fn.dirtyFormWarning=function(){return this.bind("Dialog.beforeHide",function(t,i,e){if(!t.isDefaultPrevented()&&(e===y.HIDE_REASON.cancel||e===y.HIDE_REASON.escape)){var s=require("jira/jquery/plugins/isdirty"),o=s.getDirtyWarning();o&&!confirm(o)&&t.preventDefault()}})},y.ClassNames={DIALOG:"jira-dialog",HEADING_AREA:"jira-dialog-heading",CONTENT_AREA:"jira-dialog-content",DIALOG_OPEN:"jira-dialog-open",CONTENT_READY:"jira-dialog-content-ready",MODELESS_DIALOG:"jira-dialog-modeless",DIALOG_NOT_VISIBLE:"jira-dialog-not-visible"},y.WIDTH_PRESETS={small:360,medium:540,large:810},y.CONSTRAINTS={MODELESS_MIN_HEIGHT:240},y.HIDE_REASON={cancel:"cancel",escape:"esc",submit:"submit"},y}),AJS.namespace("AJS.FlexiPopup",null,require("jira/dialog/dialog")),AJS.namespace("JIRA.Dialog",null,require("jira/dialog/dialog"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issues-api', location = 'jira-global-issue-navigator-plugin/content/js/search/IssuesApi.js' */
define("jira/issues/api",["require"],function(e){"use strict";var s=e("jira/featureflags/feature-manager"),i={getEffectiveIssue:function(){return null},getEffectiveIssueId:function(){return null},getEffectiveIssueKey:function(){return null}};return{initialize:function(e){i=e.searchPageModule},editFieldOnSelectedIssue:function(e){var s=JIRA.Issues.Api.getFieldsOnSelectedIssue(),u=s&&s.get(e),t=u&&u.isEditable();return t&&i&&JIRA.Issues.Application.execute("issueEditor:editField",u),t},focusSearch:function(){AJS.$(".criteria-selector:first, #advanced-search").focus().select()},getSelectedIssue:function(){return i.getEffectiveIssue()},getSelectedIssueId:function(){return i.getEffectiveIssueId()},getSelectedIssueKey:function(){return i.getEffectiveIssueKey()},getFieldsOnSelectedIssue:function(){var e=JIRA.Issues.Application.request("issueEditor:fields");return e.length?e:void 0},hasSavesInProgress:function(){return JIRA.Issues.Application.request("issueEditor:hasSavesInProgress")},isCurrentlyLoadingIssue:function(){return i.isCurrentlyLoadingIssue()},isSelectedIssueAccessible:function(){return i.isHighlightedIssueAccessible()},issueIsVisible:function(){return i.isIssueVisible()},nextIssue:function(e){i&&i.nextIssue&&i.nextIssue(e)},openFocusShifter:function(){i.isIssueVisible()&&i.openFocusShifter()},prevIssue:function(e){i&&i.prevIssue&&i.prevIssue(e)},refreshSelectedIssue:function(e){return JIRA.Issues.Application.request("issueEditor:refreshIssue",e)},returnToSearch:function(e){i.returnToSearch({ignoreDirtiness:e})},showInlineIssueLoadError:function(e){i.showInlineIssueLoadError(e)},switchLayouts:function(e){var s,u=-1,t=i.getCurrentLayout(),n=i.getSortedLayouts();_.find(n,function(e,s){if(t instanceof e.View)return u=s,!0}),s=n[(u+1)%n.length],s&&("split-view"===s.id?JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-issue-selected"):"list-view"===s.id&&JIRA.Issues.Api.isNewIssueViewEnabled()&&AJS.$("body").trigger("global-issue-navigator-list-view-rendered"),i.changeLayout(s.id,e))},isQueryValid:function(){return i.queryModule.isQueryValid()},isFullScreenIssueVisible:function(){return i.isFullScreenIssueVisible&&i.isFullScreenIssueVisible()||!1},viewSelectedIssue:function(){if(JIRA.Issues.Api.isSelectedIssueAccessible()){var e=JIRA.Issues.Api.getSelectedIssueKey();i.isIssueVisible()||i.update({selectedIssueKey:e})}},toggleFilterPanel:function(){i.toggleFilterPanel()},waitForSavesToComplete:function(){var e=new jQuery.Deferred;window.setTimeout(function(){JIRA.Issues.Api.hasSavesInProgress()?JIRA.bind(JIRA.Events.INLINE_EDIT_SAVE_COMPLETE,function(){JIRA.Issues.Api.hasSavesInProgress()||e.resolve()}):e.resolve()},10)},updateIssue:function(e,s){return s=s||"thanks_issue_updated",i.updateIssue({key:e.key,id:e.id,action:JIRA.Issues.Actions.UPDATE,message:s,meta:{}})},toggleFullscreenIssue:function(){if(i.isFullScreenIssueVisible())i.standalone||i.returnToSearch();else{var e=i.isSplitViewLayout()?{reset:!0}:{};JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:i.getEffectiveIssueKey()},e)}},focusIssueList:function(){i.focusIssueList()},focusIssueEditor:function(){i.focusIssueEditor()},isNewIssueViewEnabled:function(){return!!s.isFeatureEnabled("return-new-issue-view-as-default_63doa")||"true"===AJS.$('meta[name="ajs-new-jira-issue-view-gin-enabled"]').attr("content")},getNewIssueViewToggleValue:function(){return s.isFeatureEnabled("return-new-issue-view-as-default_63doa")?"ON":AJS.$('meta[name="ajs-new-jira-issue-view-toggle-value"]').attr("content")},shouldSuppressLegacyShortcut:function(e){var s="e";return e===s?JIRA.Issues.Api.isNewIssueViewEnabled():JIRA.Issues.Api.isNewIssueViewEnabled()&&(i.isFullScreenIssueVisible()||i.isSplitViewLayout())}}}),AJS.namespace("JIRA.Issues.Api",null,require("jira/issues/api"));
//# sourceMappingURL=IssuesApi-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issues-api', location = 'jira-global-issue-navigator-plugin/content/js/search/LayoutPreferenceManager.js' */
define("jira/issues/layout-preference-manager",["require"],function(e){"use strict";return{PREFERRED_LAYOUT_KEY:"jira.issues.preferred.layout.key",getPreferredLayoutKey:function(){return AJS.Meta.get(this.PREFERRED_LAYOUT_KEY)},setPreferredLayoutKey:function(e,s){s=_.defaults({},s,{ajax:!0}),AJS.Meta.set(this.PREFERRED_LAYOUT_KEY,e),s.ajax&&AJS.$.ajax({data:{layoutKey:e},type:"POST",headers:JIRA.Issues.XsrfTokenHeader,url:AJS.contextPath()+"/rest/issueNav/latest/preferredSearchLayout"}).done(function(){JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("switchLayoutView")}).fail(function(e){JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("switchLayoutView",{reason:"switch-layout-view-failed-with-status-code",statusCode:e.status})})}}}),AJS.namespace("JIRA.Issues.LayoutPreferenceManager",null,require("jira/issues/layout-preference-manager"));
//# sourceMappingURL=LayoutPreferenceManager-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-legacy', location = 'jira-global-issue-navigator-plugin/content/js/search/LegacyIssueNavigatorShortcuts.js' */
define("jira/issues/search/legacyissuenavigatorshortcuts",["jira/issues/search/legacyissuenavigator","jquery"],function(e,t){"use strict";function s(){return r&&r.length>0}function i(e){var s=t(r[e]).find("td:first");t(r[e]).removeClass("focused"),a=s.attr("title"),s.removeAttr("title")}function n(e,s,i){var n=t(r[e]).addClass("focused").scrollIntoView();n.find("td").first().attr("title",a),i||u(e)}function o(e,t,s){var o=l[e];(o||0===o)&&(i(c),n(c=o,t,s))}function u(e){var s=t(r[e]);s.find(".hidden-link").removeAttr("tabIndex").focus()}var r,c,a,f={},l={};return f.initialize=function(){f.isNavigator=function(){return e.isNavigator()},f.selectNextIssue=function(){return JIRA.Issues.Api.nextIssue()},f.selectPreviousIssue=function(){return JIRA.Issues.Api.prevIssue()},f.viewSelectedIssue=function(){return JIRA.Issues.Api.viewSelectedIssue()},f.focusSearch=function(){JIRA.Issues.Api.focusSearch()}},f._quickEditSessionCompleteHandler=t.noop,f._quickCreateSubtaskSessionCompleteHandler=t.noop,f.isNavigator=t.noop,f.selectNextIssue=t.noop,f.selectPreviousIssue=t.noop,f.viewSelectedIssue=t.noop,f.focusSearch=t.noop,f.focusRow=function(e,i,n){s()&&(e?o(e,i,n):n||t(r[c]).find("a:first").focus())},t(document).ready(function(){if(e.isNavigator()){var i="true"===t("#focusSearch").attr("content");if(!i){var n=t(document.activeElement);n.is(":input")&&n.blur()}s()&&!t(document.activeElement).is(":input")&&setTimeout(function(){r.eq(c).scrollIntoView()},0),t(".issue-actions-trigger").click(function(){var e=t(this).closest("tr"),s=e.attr("rel");s&&f.focusRow(s,0,!0)})}}),f});
//# sourceMappingURL=LegacyIssueNavigatorShortcuts-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-legacy', location = 'jira-global-issue-navigator-plugin/content/js/search/LegacyIssueNavigator.js' */
define("jira/issues/search/legacyissuenavigator",["jira/data/session-storage","jira/util/browser","jquery"],function(e,s,t){"use strict";var i={initialize:function(){i.isNavigator=function(){return JIRA.Issues.Api.issueIsVisible()}},isNavigator:t.noop,setIssueUpdatedMsg:function(s){s=s||{};var t=s.issueMsg,i=s.issueId,u=s.issueKey;i||(i=this.getSelectedIssueId(),u=this.getSelectedIssueKey()),i&&e.setItem("selectedIssueId",i),u&&e.setItem("selectedIssueKey",u),t&&e.setItem("selectedIssueMsg",t)},reload:function(){s.reloadViaWindowLocation()},isRowSelected:function(){return 0!==i.get$focusedRow().length},get$focusedRow:function(){return t("#issuetable tr.issuerow.focused")},getSelectedIssueKey:function(){var e=i.get$focusedRow();if(0!==e.length)return e.attr("data-issuekey")},getSelectedIssueId:function(){return i.get$focusedRow().attr("rel")}};return i});
//# sourceMappingURL=LegacyIssueNavigator-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-legacy', location = 'jira-global-issue-navigator-plugin/content/js/search/LegacyIssue.js' */
define("jira/issues/search/legacyissue",["jira/util/browser","jira/util/events","jquery","wrm/context-path"],function(e,s,t,u){"use strict";var n={};return n.getStalker=function(){return t("#stalker")},n.getSubtaskContent=function(){return n.getSubtaskModule().find(".mod-content")},n.getSubtaskModule=function(){return t("#view-subtasks")},n.reload=function(){e.reloadViaWindowLocation()},n.refreshSubtasks=function(){var r=new t.Deferred,i=n.getSubtaskContent();return 0===i.length?(e.reloadViaWindowLocation(window.location.href+"#view-subtasks"),r.promise()):t.ajax({url:u+"/secure/ViewSubtasks.jspa?id="+n.getIssueId(),success:function(e){i.replaceWith(e),s.trigger("Issue.subtasksRefreshed",[n.getSubtaskContent()])}})},n.highlightSubtasks=function(e){t.each(e,function(e,s){t(".issuerow[data-issuekey='"+s.issueKey+"']").fadeInBackground()})},n.getIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()},n.getIssueKey=function(){return JIRA.Issues.Api.getSelectedIssueKey()},n.issueCreatedMessage=function(e,s){var t=s?"Subtask":"Issue",n='<a class="issue-created-key issue-link" data-issue-key="'+e.issueKey+'" href="'+u()+"/browse/"+e.issueKey+'">'+e.issueKey+" - "+AJS.escapeHtml(e.summary)+"</a>";return AJS.format("{0} {1} has been successfully created.",t,n)},n});
//# sourceMappingURL=LegacyIssue-min.js.map
;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issue/Issue.js' */
define("jira/issue",["jira/issues/search/legacyissue"],function(e){return e}),AJS.namespace("jira.app.issue",null,require("jira/issue")),AJS.namespace("JIRA.Issue",null,require("jira/issue"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issuenavigator/IssueNavigator.js' */
define("jira/issuenavigator/issue-navigator",["jira/issues/search/legacyissuenavigator"],function(a){return a}),AJS.namespace("jira.app.issuenavigator",null,require("jira/issuenavigator/issue-navigator")),AJS.namespace("JIRA.IssueNavigator",null,require("jira/issuenavigator/issue-navigator"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issuenavigator/IssueNavigator.Shortcuts.js' */
define("jira/issuenavigator/issue-navigator/shortcuts",["jira/issues/search/legacyissuenavigatorshortcuts"],function(s){return s}),AJS.namespace("jira.app.issuenavigator.shortcuts",null,require("jira/issuenavigator/issue-navigator/shortcuts")),AJS.namespace("JIRA.IssueNavigator.Shortcuts",null,require("jira/issuenavigator/issue-navigator/shortcuts"));;
;
/* module-key = 'jira.webresources:jira-dialog-config', location = '/includes/jira/dialog/IssueDialogUtil.js' */
define("jira/dialog/dialog-util",["jira/dialog/dialog-register","jira/jquery/deferred","jira/issuenavigator/issue-navigator","jira/util/users/logged-in-user","jquery"],function(e,t,s,i,a){var u={};u.getPostRequestAjaxOptions=function(){var e=u.getDefaultAjaxOptions.apply(this,arguments);return o(e,this.issueId,this.options.trigger)},u.getPostRequestAjaxOptionsWithCustomDefaultOptions=function(e){return o(e,this.issueId,this.options.trigger)};var o=function(e,t,s){var a=window.atl_token;switch(e.type="post",e.data.id=t,s){case"a.issueaction-assign-issue":break;case"a.issueaction-assign-to-me":e.data.atl_token=a,e.data.assignee=i.accountId();break;case".issueaction-watch-issue:not([id='toggle-watch-issue'])":e.data.atl_token=a,e.data.watch="watch";break;case".issueaction-unwatch-issue:not([id='toggle-watch-issue'])":e.data.atl_token=a,e.data.watch="unwatch";break;case".issueaction-vote-issue:not([id='toggle-vote-issue'])":e.data.atl_token=a,e.data.vote="vote";break;case".issueaction-unvote-issue:not([id='toggle-vote-issue'])":e.data.atl_token=a,e.data.vote="unvote"}return e};return u.getDefaultAjaxOptions=function(){if(JIRA&&"function"==typeof e.getDefaultAjaxOptions&&u.getDefaultAjaxOptions!==e.getDefaultAjaxOptions)return e.getDefaultAjaxOptions.apply(this,arguments);var t=s.get$focusedRow(),i=this.options.url||this.getRequestUrlFromTrigger();if(/id=\{0\}/.test(i)){if(!t.length)return!1;i=i.replace(/(id=\{0\})/,"id="+t.attr("rel"))}if(s.isNavigator()){var a=/[?&]id=([0-9]+)/.exec(i);this.issueId=a&&2===a.length?a[1]:null,this.issueId!==t.attr("rel")&&(s.Shortcuts.focusRow(this.issueId),t=s.get$focusedRow()),this.issueKey=s.getSelectedIssueKey()}return{url:i,data:{decorator:"dialog",inline:"true"}}},u.BeforeShowIssueDialogHandler=function(){var e=[];return{add:function(t){return e.push(t),this},execute:function(){var s=[];return 0===e.length?t().resolve():(a.each(e,function(e,t){s.push(t())}),a.when.apply(a,s))}}}(),u.storeCurrentIssueIdOnSucessfulSubmit=function(){s.isNavigator()&&s.setIssueUpdatedMsg({issueMsg:this.options.issueMsg,issueId:this.issueId,issueKey:this.issueKey})},u}),AJS.namespace("JIRA.Dialogs",null,require("jira/dialog/dialog-register")),AJS.namespace("JIRA.Dialogs.getDefaultAjaxOptions",null,require("jira/dialog/dialog-util").getDefaultAjaxOptions),AJS.namespace("JIRA.Dialogs.BeforeShowIssueDialogHandler",null,require("jira/dialog/dialog-util").BeforeShowIssueDialogHandler),AJS.namespace("JIRA.Dialogs.storeCurrentIssueIdOnSucessfulSubmit",null,require("jira/dialog/dialog-util").storeCurrentIssueIdOnSucessfulSubmit);;
;
/* module-key = 'jira.webresources:set-focus', location = '/includes/jira/focus/setFocus.js' */
define("jira/focus/set-focus",["jira/dialog/dialog","jquery"],function(e,t){var n="form.dont-default-focus",o="input:not(#issue-filter-submit), select, textarea, button, a.cancel",s=["."+e.ClassNames.CONTENT_AREA,"form.aui","form"],i=[],u=function(e,n,o,s){var i=!1;return t(n,e).not(o).find(s).each(function(){var e=t(this);if(e.is(":enabled, a")&&e.is(":visible"))return e.focus(),e.is(":text, :password, textarea")&&(e.is(".focus-select-end")?e.setCaretToPosition(e[0].value.length):e.setSelectionRange(0,e[0].value.length)),i=!0,!1}),i},c=function(){for(var e=0,t=i[i.length-1];!u(t.context,t.parentElementSelectors[e],t.excludeParentSelector,t.focusElementSelector)&&e<t.parentElementSelectors.length;)e++};return{FocusConfiguration:function(){this.context=document,this.excludeParentSelector=n,this.focusElementSelector=o,this.parentElementSelectors=s.slice(0),this.focusNow=c},triggerFocus:function(){0===i.length&&i.push(new this.FocusConfiguration),i[i.length-1].focusNow()},pushConfiguration:function(e){i.push(e)},popConfiguration:function(){i.pop()}}}),AJS.namespace("JIRA.setFocus",null,require("jira/focus/set-focus"));;
;
/* module-key = 'jira.webresources:set-focus', location = '/includes/jira/focus/initSetFocus.js' */
!function(r,u){r(function(){u.triggerFocus()})}(require("jquery"),require("jira/focus/set-focus"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/group/Group.js' */
define("jira/ajs/group",["jira/ajs/control","jquery"],function(t,i){return t.extend({init:function(){this.items=[],this.index=-1,this._assignEvents("instance",this)},addItem:function(t){this.items.push(t),this._assignEvents("item",t)},_removeItem:function(t){var e=i.inArray(t,this.items);if(e<0)throw new Error("Group: item ["+t+"] is not a member of this group");t.trigger("blur"),e<this.index&&this.index--,this.items.splice(e,1),this._unassignEvents("item",t)},removeItem:function(t){t.trigger("remove")},removeAllItems:function(){for(;this.items.length;)this.items[0].trigger("remove")},shiftFocus:function(t){if(this.index===-1&&1===t&&(t=0),this.items.length>0){var i=(Math.max(0,this.index)+this.items.length+t)%this.items.length;this.items[i].trigger("focus")}},prepareForInput:function(){this._assignEvents("keys",document)},_events:{instance:{focus:function(){0!==this.items.length&&(this.index<0?this.items[0].trigger("focus"):this._assignEvents("keys",document))},blur:function(){this.index>=0?this.items[this.index].trigger("blur"):this._unassignEvents("keys",document)}},keys:{"aui:keydown":function(t){this._handleKeyEvent(t)}},item:{focus:function(t){var e=this.index;this.index=i.inArray(t.target,this.items),e<0?this.trigger("focus"):e!==this.index&&this.items[e].trigger("blur")},blur:function(t){this.index===i.inArray(t.target,this.items)&&(this.index=-1,this.trigger("blur"))},remove:function(t){this._removeItem(t.target)}}},keys:{}})}),AJS.namespace("AJS.Group",null,require("jira/ajs/group"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/ItemDescriptor.js' */
define("jira/ajs/list/item-descriptor",["jira/ajs/descriptor","jquery"],function(e,t){return e.extend({init:function(e){e&&"object"==typeof e.meta&&(e.meta=JSON.stringify(e.meta)),this._super(e)},REQUIRED_PROPERTIES:{label:!0},_getDefaultOptions:function(){return{showLabel:!0}},styleClass:function(){return this.properties.styleClass},meta:function(){if(this.properties.meta)return JSON.parse(this.properties.meta)},value:function(){return this.properties.value},invalid:function(){return this.properties.invalid},labelSuffix:function(e){return"undefined"!=typeof e&&(this.properties.labelSuffix=e),this.properties.labelSuffix},title:function(){return this.properties.title},label:function(){return this.properties.label},type:function(){return this.properties.type},disabled:function(e){return e?void(this.properties.disabled=e):this.properties.disabled},allowDuplicate:function(){return this.properties.allowDuplicate},removeOnUnSelect:function(e){return"undefined"!=typeof e&&(this.properties.removeOnUnSelect=e),this.properties.removeOnUnSelect},icon:function(){return this.properties.icon},fallbackIcon:function(){return this.properties.fallbackIcon},selected:function(e){return"undefined"!=typeof e&&(this.properties.selected=e),this.properties.selected},model:function(e){return e?void(this.properties.model=e):this.properties.model},keywords:function(){return this.properties.keywords},href:function(){return this.properties.href},highlighted:function(e){return e===!1&&(this.properties.html&&!this.dontUpdateLabelOnHighlightedChange&&(this.properties.label=t("<div>"+this.properties.html+"</div>").text(),this.properties.html=null),this.properties.highlighted=!1),this.properties.highlighted&&this.properties.html},html:function(){return this.properties.html},fieldText:function(){return this.properties.fieldText},noExactMatch:function(){return this.properties.noExactMatch}})}),AJS.namespace("AJS.ItemDescriptor",null,require("jira/ajs/list/item-descriptor"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/MessageDescriptor.js' */
define("jira/ajs/list/message-descriptor",["jira/ajs/list/item-descriptor","jquery"],function(e,s){return e.extend({useAUI:function(){return this.properties.useAUI},messageID:function(){return this.properties.messageID},_getDefaultOptions:function(){return s.extend(this._super(),{useAUI:!0})}})}),AJS.namespace("AJS.MessageDescriptor",null,require("jira/ajs/list/message-descriptor"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/GroupDescriptor.js' */
define("jira/ajs/list/group-descriptor",["jira/ajs/descriptor","jira/ajs/list/item-descriptor"],function(t,e){return t.extend({_getDefaultOptions:function(){return{showLabel:!0,label:"",items:[]}},placement:function(){return this.properties.placement},styleClass:function(){return this.properties.styleClass},weight:function(){return this.properties.weight},label:function(){return this.properties.label},footerText:function(t){return t?void(this.properties.footerText=t):this.properties.footerText},footerHtml:function(t){return t?void(this.properties.footerHtml=t):this.properties.footerHtml},actionBarHtml:function(t){return t&&(this.properties.actionBarHtml=t),this.properties.actionBarHtml},showLabel:function(){return this.properties.showLabel},items:function(t){return t?(this.properties.items=t,this):this.properties.items},addItem:function(t){return this.properties.items.push(t),this},id:function(){return this.properties.id},setModel:function(t){this.properties.model=t},replace:function(){return this.properties.replace},uniqueItemScope:function(){return this.properties.uniqueItemScope},description:function(){return this.properties.description},model:function(t){return t?void(this.properties.model=t):this.properties.model}})}),AJS.namespace("AJS.GroupDescriptor",null,require("jira/ajs/list/group-descriptor"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/ItemDescriptorFactory.js' */
define("jira/ajs/list/item-descriptor-factory",["jira/ajs/list/item-descriptor","jira/ajs/list/message-descriptor"],function(e,s){function r(s,r){return s.isMessage?t(s,r):new e({label:s.label,styleClass:s.styleClass,value:s.value,keywords:s.keywords,meta:{groupIndex:r},type:s.hasOwnProperty("fieldType")?s.fieldType:null})}function t(e,r){return new s({label:e.label,styleClass:e.styleClass,useAUI:e.useAUI,messageID:e.messageID,value:e.value,keywords:e.keywords,meta:{groupIndex:r}})}return{createItemDescriptor:r,createMessageDescriptor:t}}),AJS.namespace("AJS.ItemDescriptor.create",null,require("jira/ajs/list/item-descriptor-factory").createItemDescriptor),AJS.namespace("AJS.MessageDescriptor.create",null,require("jira/ajs/list/item-descriptor-factory").createMessageDescriptor);;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/List.js' */
define("jira/ajs/list/list",["jira/util/logger","jira/util/formatter","jira/ajs/control","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/ajs/input/mouse","jira/util/assistive","jira/util/browser","jquery","underscore"],function(t,e,i,s,n,o,r,a,l,c){function h(t){return t.trim().toLowerCase().replace(/[\s\.]+/g,"-")}var u=0;return i.extend({MAX_RESULT_LIMIT:2e3,init:function(t){t=t||{},t?this.options=l.extend(!0,this._getDefaultOptions(t),t):this.options=this._getDefaultOptions(t),this.maxInlineResultsDisplayed=this.options.maxInlineResultsDisplayed||this.MAX_RESULT_LIMIT,this._renders=l.extend({},this._renders,this.options.renderers),this.disabled=!0,this.reset();var e=this;this.options.selectionHandler&&this.$container.delegate(this.options.itemSelector,this.options.selectionEvent,function(t){e.options.selectionHandler.call(e,t)}),this.motionDetector.wait(),this.$container.delegate(this.options.itemSelector,"mousemove",function(){e.disabled||!e.motionDetector.moved&&!a.isSelenium()||(e.index=l.inArray(this,e.$visibleItems),e.focus(!0))})},_getDefaultOptions:function(){return{selectionEvent:"click",delegateTarget:document,matchingStrategy:"(^|.*?(\\s+|\\())({0})(.*)",itemSelector:"li.aui-list-item",hasLinks:!0,stallEventBind:!0,expandAllResults:!1,suggestionRole:"option"}},index:0,moveToFirst:function(){this.$visibleItems.length>0&&(this.index=0,this.focus())},moveToNext:function(){this.index<this.maxIndex?(++this.index,this.focus()):this.options.expandAllResults&&this.hasTooManySuggestions?(this._expandAllResults(),++this.index,this.focus()):this.$visibleItems.length>1&&(this.index=0,this.focus())},container:function(t){return t?(this.$container=l(t),void(this.containerSelector=t)):this.$container},getItemsByDescriptor:function(t){var e=l();return this.$container.find(this.options.itemSelector).each(function(){var i=l.data(this,"descriptor");i&&i.value()===t.value()&&(e=e.add(this))}),e},scrollContainer:function(){return this.options.scrollContainer?this.$container.find(this.options.scrollContainer):this.$container.parent()},_isScrollConstrained:function(){var t=this.scrollContainer()[0];return t.clientHeight<t.scrollHeight},moveToPrevious:function(){this.index>0?(--this.index,this.focus()):this.$visibleItems.length>0&&(this.index=this.$visibleItems.length-1,this.focus())},scrollActiveItemIntoView:function(){var t=this.$visibleItems.filter(".active"),e=this.scrollContainer(),i=e.scrollTop();if(0!==t.length){if(!this._isScrollConstrained())return void t.scrollIntoView({callback:l.proxy(this.motionDetector,"wait")});if(0!==t.closest(e).length){if(t.is(e.find(this.items).first()))return void this._scrollContainerTo(0);var s=t.offset().top-e.offset().top,n=e.outerHeight()-t.outerHeight()-s;s>=0?n<0&&this._scrollContainerTo(i-n):this._scrollContainerTo(i+s)}}},_scrollContainerTo:function(t){var e=this.scrollContainer();e.scrollTop()!==t&&(this.motionDetector.unbind(),this.motionDetector.wait(),e.scrollTop(t))},focus:function(t){this.$visibleItems.removeClass("active");var e=this.$visibleItems.eq(this.index);e.addClass("active"),this.lastFocusedItemDescriptor=e.data("descriptor"),this.trigger("itemFocus",e,this.lastFocusedItemDescriptor),t||this.scrollActiveItemIntoView()},motionDetector:new o.MotionDetector,disable:function(){this.disabled||(this._unassignEvents("delegateTarget",this.options.delegateTarget),this.disabled=!0,this.lastFocusedItemDescriptor=null)},enable:function(){var t=this;t.disabled&&(this.options.stallEventBind?window.setTimeout(function(){t._assignEvents("delegateTarget",t.options.delegateTarget)},0):t._assignEvents("delegateTarget",t.options.delegateTarget),t.disabled=!1,this._scrollContainerTo(0))},getFocused:function(){return this.$visibleItems.filter(".active")},reset:function(t){this.$container=l(this.options.containerSelector),this.items=l(this.options.itemSelector,this.$container).not(".no-suggestions"),this.$visibleItems=this._computeVisibleItems(),this.groups=l(this.options.groupSelector,this.$container),this.maxIndex=this.$visibleItems.length-1,this.index=this.$visibleItems[t]?t:0,this.focus(!0)},_computeVisibleItems:function(){return this.items.not(".hidden, .disabled")},selectValue:function(e){var i=this.$container.find(this.options.itemSelector).filter(function(){return l(this).parent().data("descriptor").value()==e});i.length||t.log("WARN: No List item found with Decriptor value '"+e+"'"),i.click()},_getLinkFromItem:function(t){var e;return t=l(t),e=t.is("a")?t:t.find("a")},_makeResultDiv:function(t,e){function i(){c.length>0&&(r.append(a._generateUngroupedOptions(c,e)),c=[])}var o=l('<div class="aui-list-fixed" role="presentation">'),r=l('<div class="aui-list-scroll" tabindex="-1" role="presentation">'),a=this,c=[];return l.each(t,function(t,l){var h,u;l instanceof s?(i(),h="fixed"===l.placement()?o:r,u=a._generateOptGroup(l,e),h.append(u)):l instanceof n&&c.push(l)}),i(),0===o.children().length?r:o.add(r)},_addResultToContainer:function(t){if(0===t.not(".aui-list-fixed").find(this.options.itemSelector).length){var e=this.$container.find(".aui-list-scroll");0===e.length&&(e=l('<div class="aui-list-scroll" tabindex="-1" role="presentation">').appendTo(this.$container));var i=this._render("noSuggestion");r.readText(i.text()),e.html(i)}else t.find("ul:last").addClass("aui-last"),this.$container.html(t)},generateListFromJSON:function(t,e,i){this.suggestions=0,this.exactMatchIndex=-1,this.lastFocusedIndex=-1,this.lastQuery=e,this.lastData=t,this.forceAllResults=i,this.hasTooManySuggestions=!1;var s=this._makeResultDiv(t,e);this.$container.hide(),this._addResultToContainer(s,e),this.$container.show();var n=this.exactMatchIndex>=0?this.exactMatchIndex:this.lastFocusedIndex;this.reset(n)},appendToGroupDescriptor:function(t,e){var i=c.find(this.lastData,function(e){return e.id()===t});c.forEach(e,function(t){i.addItem(t)})},_highlight:function(t,e){return this.options.matchingHighlighter?this.options.matchingHighlighter(t,e):t.label().replace(e,function(t,e,i,s,n){var o=l("<div>");return e&&o.append(l("<span>").text(e)),s&&o.append(l("<em>").text(s)),n&&o.append(l("<span>").text(n)),o.html()})},_generateOption:function(t,e,i){var s;if(!t.highlighted()&&i&&i.test(t.label())&&(s=this._highlight(t,i)),this.exactMatchIndex<0){var n=l.trim(t.label()).toLowerCase();t.noExactMatch()||n!==l.trim(e).toLowerCase()?this.lastFocusedIndex<0&&this.lastFocusedItemDescriptor&&n===l.trim(this.lastFocusedItemDescriptor.label()).toLowerCase()&&(this.lastFocusedIndex=this.suggestions):this.exactMatchIndex=this.suggestions}return this.suggestions++,this._render("suggestion",t,s)},_filterOptions:function(t,i,s){if(!i)return t;for(var n=[],o=new RegExp(e.format(".*{0}.*",i),"i"),r=0,a=t.length;r<a;r++){var l=this._filterOption(t[r],o,s);l&&n.push(l)}return n},_filterOption:function(t,e,i){var s;if(t.highlighted())s=t;else if(i.test(t.label()))s=t;else if(t.keywords()){for(var n=[],o=""+t.keywords(),r=o.split(","),a=0;a<r.length;a++){var l=r[a];e.test(l)&&n.push(l)}n.length&&(t.labelSuffix(" "+n.join(", ")),s=t)}return s},_addOptionsToContainer:function(t,e,i,s){for(var n=this,o=this.maxInlineResultsDisplayed,a=!1,c=this.forceAllResults,h=[],u=0,d=t.length;u<d;u++){var p=t[u];if(!(u<o||c)){this.hasTooManySuggestions=!0;var g=n._render("tooManySuggestions",t.length-u);r.readText(g.text()),h.push(g[0]);break}var f=n._generateOption(p,i,s);f&&(a=!0,h.push(f[0]))}return e.html(l(h)),a},_filterAndAddOptions:function(t,i,s){var n,o;return s&&(n=RegExp.escape(s),o=new RegExp(e.format(this.options.matchingStrategy,n),"i"),t=this._filterOptions(t,n,o)),this.options.maxResultsDisplayedPerGroup&&(t=t.slice(0,this.options.maxResultsDisplayedPerGroup)),this._addOptionsToContainer(t,i,s,o)},_generateUngroupedOptions:function(t,e){var i=this._render("ungroupedSuggestions"),s=this._filterAndAddOptions(t,i,e);if(s)return i},_generateOptGroup:function(t,e){var i,s=l(),n=this._render("suggestionGroup",t),o=t.items();if(i=this._filterAndAddOptions(o,n,e))return t.label()&&t.showLabel()!==!1&&(s=s.add(this._render("suggestionGroupHeading",t))),t.footerText()?n.append(this._render("suggestionsGroupFooter",t.footerText())):t.footerHtml()&&n.append(t.footerHtml()),t.actionBarHtml()&&n.prepend(t.actionBarHtml()),s=s.add(n)},_expandAllResults:function(){this.generateListFromJSON(this.lastData,this.lastQuery,!0)},_events:{delegateTarget:{"aui:keydown":function(t){this._handleKeyEvent(t)}}},_renders:{suggestion:function(t,e){u+=1;var i=t.fieldText()||t.label(),s=AJS.escapeHtml(h(i)),n=l('<li class="aui-list-item"><a class="aui-list-item-link" role="presentation" /></li>').attr({role:this.options.suggestionRole,id:s+"-"+u}),o=n.children();if(n.addClass("aui-list-item-li-"+s),t.selected()&&n.addClass("aui-checked"),this.options.hasLinks&&o.attr("href",t.href()||"#"),t.styleClass()&&o.addClass(t.styleClass()),e?o.html(e):t.html()?o.html(t.html()):o.text(t.label()),t.labelSuffix()){var r=l("<span class='aui-item-suffix' />").text(t.labelSuffix());o.append(r)}if(t.icon()&&"none"!==t.icon()){var a=l('<img class="icon"  alt="" />');a.attr("src",t.icon()),o.addClass("aui-iconised-link").prepend(a)}return t.title()&&o.prop("title",t.title()),n.data("descriptor",t),n},noSuggestion:function(){return l('<li class="no-suggestions">').text("No Matches")},tooManySuggestions:function(t){if(this.options.expandAllResults){var i=this,s=l(["<button type='button' class='aui-button aui-button-link view-all'>",e.format("View all ({0} more)",t),"</button>"].join("")),n=l('<li class="no-suggestions"></li>').append(s);return s.click(function(t){i._expandAllResults(),t.stopPropagation()}),s=null,n}return l('<li class="no-suggestions">'+e.format("{0} more options. Continue typing to refine further.",t)+"</li>")},ungroupedSuggestions:function(){return l("<ul>")},suggestionGroup:function(t){return l("<ul/>").attr({id:h(t.label()),class:"aui-list-section","aria-label":t.label()}).addClass(t.styleClass()).data("descriptor",t)},suggestionGroupHeading:function(t){var e=l("<h5 />").text(t.label()).addClass(t.styleClass()).data("descriptor",t);return t.description()&&l("<span class='aui-section-description' />").text(" ("+t.description()+")").appendTo(e),e},suggestionsGroupFooter:function(t){return l("<li class='aui-list-section-footer' />").text(t)}},_acceptSuggestion:function(t){!t instanceof l&&(t=l(t));var e=this._getLinkFromItem(t);if(e.length){var i=new l.Event("click");e.trigger(i,[e]),i.isDefaultPrevented()||(window.location.href=e.attr("href"))}},getAllItems:function(){return this.$container.find(this.options.itemSelector)},_acceptUserInput:function(t){t.triggerHandler("blur")},_handleSectionByKeyboard:function(t){var e=this.getFocused(),i=l(t.target);if(0!==e.length){if(this._latestQuery&&l.trim(i.val())!==this._latestQuery){var s=i.val().toLowerCase().match(/\S+/g);if(s){var n=this.lastFocusedItemDescriptor&&this.lastFocusedItemDescriptor.html(),o=n?l("<div>").html(n):e,r=[];o.find("em,b").each(function(){var t=l(this),e=l(t.attr("nextSibling")).text().toLowerCase().match(/^\S*/)[0];l.each(t.text().toLowerCase().match(/\S+/g),function(t,i){r.push(i+e)})});for(var a=0;a<s.length;a++){for(var c=s[a],h=c.length,u=!1,d=0;d<r.length;d++)if(r[d].slice(0,h)===c){u=!0;break}if(!u)return void this._acceptUserInput(i)}}}this.scrollActiveItemIntoView(),this.options.selectionHandler&&!this.options.selectionHandler.call(this,t)||this._acceptSuggestion(e)}},_isValidInput:function(){return!this.disabled&&this.$container.is(":visible")},keys:{Down:function(t){this.moveToNext(),t.preventDefault()},Up:function(t){this.moveToPrevious(),t.preventDefault()},Return:function(t){this._handleSectionByKeyboard(t),t.preventDefault()}},_buildElementId:h})}),AJS.namespace("AJS.List",null,require("jira/ajs/list/list"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/PageableList.js' */
define("jira/ajs/list/pageable-list",["jira/util/formatter","jira/ajs/list/list","jira/ajs/list/group-descriptor","jquery","underscore"],function(t,e,i,s,n){return e.extend({init:function(t){var e={pageSize:50,pagingThreshold:100};t=s.extend(!0,e,t),this._super(t),this.pageSize=this.options.pageSize},generateListFromJSON:function(e,s,r){var a,o,h=[],g=0;if(this.pageNumber=this.pageNumber||1,s!==this.lastQuery&&(this.pageNumber=1),s){a=RegExp.escape(s),o=new RegExp(t.format(this.options.matchingStrategy,a),"i");for(var l=0;l<e.length;l++)h.push(new i(n.omit(e[l].allProperties(),"items"))),h[l].items(this._filterOptions(e[l].items(),a,o)),g+=h[l].items().length}else{h=e;for(var l=0;l<e.length;l++)g+=e[l].items().length}g<this.options.pagingThreshold&&(r=!0),this._super(h,s,r)},_filterAndAddOptions:function(e,i,s){var n;return s&&(n=new RegExp(t.format(this.options.matchingStrategy,RegExp.escape(s)),"i")),this._addOptionsToContainer(e,i,s,n)},_addOptionsToContainer:function(t,e,i,n){for(var r=!1,a=[],o=this.pageNumber*this.pageSize,h=0,g=t.length;h<g;h++){var l=t[h];if(this.forceAllResults||this.suggestions<o){var u=this._generateOption(l,i,n);u&&(r=!0,a.push(u[0]))}}return e.children().length?e.find(".aui-list-item:last").after(s(a)):e.html(s(a)),r},addNextPage:function(){var t,e,i,s=this.suggestions;this.pageNumber++;for(var n=0;n<this.lastData.length;n++)t=this.lastData[n],t.items().length>s&&(e=this.$container.find("#"+this._buildElementId(t.label())),0===e.length?(e=this._generateOptGroup(t,this.lastQuery),i="fixed"===t.placement()?this.$container.find(".aui-list-fixed"):this.$container.find(".aui-list-scroll"),i.append(e)):this._filterAndAddOptions(t.items().slice(s),e,this.lastQuery)),s-=t.items().length;return this.reset(this.index),this.suggestions},disable:function(){this._super(),this.pageNumber=1},showPageRenderError:function(){this.$container.find(".aui-last").append(this._render("errorRenderingPage"))},_renders:{errorRenderingPage:function(){return s("<li class='no-suggestions' />").text("Error rendering next page of results. Close dropdown and try again.")}},isDisplayedAllItems:function(){var t=n.reduce(this.lastData,function(t,e){return t+e.items().length},0);return t===this.suggestions}})});;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/ListWithMessages.js' */
define("jira/ajs/list/list-with-messages",["jira/ajs/list/list","jira/ajs/list/message-descriptor","jquery"],function(s,e,a){var t=s.extend({_filterOption:function(s,a,t){return s instanceof e?s:this._super(s,a,t)},_computeVisibleItems:function(){return this.items.not(".hidden, .disabled, .nofocus")},_generateOption:function(s,a,t){return s instanceof e?this._render(s.useAUI()?"AUImessage":"message",s):this._super(s,a,t)}});return t.prototype._renders.message=function(s){var e=s.messageID()||s.fieldText()||s.label(),t=AJS.escapeHtml(a.trim(e).toLowerCase()).replace(/[\s\.]+/g,"-"),i=a('<li class="aui-list-item nofocus">').addClass("aui-list-item-li-"+t),l=a('<span class="aui-list-item-message" />');return s.styleClass()&&l.addClass(s.styleClass()),l.text(s.label()),i.append(l).data("descriptor",s),i},t.prototype._renders.AUImessage=function(s){var e=s.messageID()||s.fieldText()||s.label(),t=AJS.escapeHtml(a.trim(e).toLowerCase()).replace(/[\s\.]+/g,"-"),i=a('<li class="aui-list-item nofocus aui-list-item-li-'+t+'">'),l=a('<div class="aui-list-item-aui-message aui-message" />'),n=a('<span class="aui-icon"/>'),r=a("<p />");return s.styleClass()?(l.addClass(s.styleClass()),n.addClass("icon-"+s.styleClass())):n.addClass("icon-generic"),r.text(s.label()),l.append(n).append(r),i.append(l).data("descriptor",s),i},t}),AJS.namespace("AJS.ListWithMessages",null,require("jira/ajs/list/list-with-messages"));;
;
/* module-key = 'jira.webresources:select-model', location = '/includes/ajs/select/SelectModel.js' */
define("jira/ajs/select/select-model",["jira/ajs/control","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/util/objects","jquery"],function(e,t,i,n,s){return e.extend({init:function(e){var t=this,i={};e&&(e instanceof s?i.element=e:e instanceof Element||"string"==typeof e?i.element=s(e):i=e),this._setOptions(i),this.$element=this.options.element.hide(),this.type=this.$element.attr("multiple")?"multiple":"single",this.id=this.$element.attr("id")||this.$element.attr("name"),"single"===this.type&&this.$element.attr("multiple","multiple"),this.$element.bind("reset",function(){t._parseDescriptors()}),this._parseDescriptors()},hasOptionByValue:function(e){return this.$element.find('option[value="'+e+'"]').length>0},getSelectedTexts:function(){for(var e=[],t=this.getDisplayableSelectedDescriptors(),i=0;i<t.length;i++)e.push(t[i].label());return e},putOption:function(e,t,i){var n;if(this.hasOptionByValue(e)){var r=this.getDescriptor(e);t||(t=r.label()),n=r.model()}else n=s("<option/>"),this.$element.append(n);i&&n.addClass("hidden"),t&&n.text(t),n.attr("value",e),this._parseOption(n)},changeSelectionByValue:function(e){var t=this.getDescriptor(e);if(t){var i=this.setSelected(t);return i||this.$element.trigger("change",t),!0}return!1},_getFreeInputEl:function(){return this.$element.find(".free-input")},removeFreeInputVal:function(){this._getFreeInputEl().remove()},updateFreeInput:function(e){var t=this._getFreeInputEl();e=s.trim(e),e?(t.length||(t=s("<option class='free-input' />").appendTo(this.$element)),t.attr({value:e,selected:"selected"})):t.remove()},_getDefaultOptions:function(){return{}},getSelectedValues:function(){for(var e=[],t=this.getDisplayableSelectedDescriptors(),i=0;i<t.length;i++)e.push(t[i].value());return e},setSelected:function(e){var t=this,i=!1,n=!1,r=this.$element.find("option").not(this._getExclusions()).filter(function(){return this.value===e.value()});if("single"===this.type){if(this.getValue()===e.value())return n;r=r.first(),this.$element.find("option:selected").not(this._getExclusions()).each(function(e,i){var n=s(this).data("descriptor");r[0]!==i&&t.setUnSelected(n)})}if(r.each(function(){var e=s(this);i=!0,n=!e.is(":selected"),e.attr("selected","selected").data("descriptor").selected(!0)}),!i){e.selected(!0),e.removeOnUnSelect(!0);var l=this._render("option",e);l.attr("selected","selected"),this.$element.append(l),n=!0}return e.highlighted(!1),n&&this.$element.trigger("change",e),n},setAllSelected:function(){var e=this;s(this.getDisplayableUnSelectedDescriptors()).each(function(){e.setSelected(this)})},setAllUnSelected:function(){var e=this;s(this.getDisplayableSelectedDescriptors()).each(function(){e.setUnSelected(this)})},setUnSelected:function(e){if(e){var t=this,i=e.value();this.$element.find("option:selected").not(this._getExclusions()).filter(function(){return s(this).attr("value")===i}).each(function(){var e=s(this);e.data("descriptor").selected(!1),t.options.removeOnUnSelect||e.data("descriptor").removeOnUnSelect()?e.remove():e.removeAttr("selected")})}},remove:function(e){e&&e.model()&&e.model().remove()},getDescriptor:function(e){var t;return e=s.trim(e.toLowerCase()),s.each(this.getAllDescriptors(!1),function(i,n){if(e===s.trim(n.label().toLowerCase())||e===s.trim(n.value().toLowerCase()))return t=n,!1}),t},_parseOption:function(e){var t,n,r;return e=s(e),this.options.removeNullOptions&&this._hasNullValue(e)?(e.remove(),null):(n=e.attr("data-icon"),r=e.attr("data-fallback-icon"),t=new i({styleClass:e.prop("className"),value:e.val(),invalid:e.hasClass("invalid_sel"),fieldText:e.attr("data-field-text"),title:e.attr("title"),meta:e.data("meta"),label:e.attr("data-field-label")||s.trim(e.text()),icon:n?n:e.css("backgroundImage").replace(/url\(['"]?(.*?)['"]?\)/,"$1"),fallbackIcon:r?r:"none",selected:e.prop("selected"),removeOnUnSelect:!!e.data("remove-on-unselect"),model:e}),e.data("descriptor",t),t)},_hasNullValue:function(e){return e.val()<0},_parseDescriptors:function(){function e(e){var n={label:e.attr("label"),placement:e.attr("data-placement"),footerText:e.attr("data-footer-text"),styleClass:e.prop("className"),model:e,items:i(e)},s=e.data("weight");s&&(n.weight=+s),e.data("descriptor",new t(n))}function i(e){var t=s("option",e),i=[];return s.each(t,function(){i.push(n._parseOption(this))}),i}var n=this,r=this.$element.children();r.each(function(t){var i=r.eq(t);i.is("optgroup")?e(i):i.is("option")&&(i.attr("data-placeholder")?(n.placeholder=i.text(),i.remove()):n._parseOption(i))})},getPlaceholder:function(){return this.placeholder},_getExclusions:function(){return".free-input"},getValue:function(){return"single"===this.type?this.$element.val()&&this.$element.val()[0]:this.$element.val()},getDisplayableSelectedDescriptors:function(){var e=[];return this.$element.find("option:selected").not(this._getExclusions()).each(function(){e.push(s.data(this,"descriptor"))}),e},getDisplayableUnSelectedDescriptors:function(){var e=[];return this.$element.find("option").not(":selected").not(this._getExclusions()).each(function(){e.push(s.data(this,"descriptor"))}),e},getAllDescriptors:function(e){var i,r=[];return this.$element.children().each(function(){var l,a=s(this);a.is("option")?a.data("descriptor")&&r.push(a.data("descriptor")):a.is("optgroup")&&(e!==!1&&(i=n.copyObject(a.data("descriptor").allProperties(),!1),i.items=[],l=new t(i),r.push(l)),a.children("option").each(function(){var t=s(this),i=t.data("descriptor");i&&(e!==!1?l.addItem(i):r.push(i))}))}),r},clearUnSelected:function(){this.$element.find("option:not(:selected)").not(this._getExclusions()).remove()},getUnSelectedDescriptors:function(){function e(e){var t=e.value().toLowerCase();return!(l[t]||a[t]&&e.allowDuplicate()===!1)&&(a[t]=!0,!0)}var i=this,r=[],l={},a={},o=this.getDisplayableSelectedDescriptors();s.each(o,function(e,t){l[t.value().toLowerCase()]=!0});var c=this.$element.children();return c.each(function(){var l,a,o=s(this);o.is("option")&&!this.selected?(l=s.data(this,"descriptor"),e(l)&&r.push(l)):o.is("optgroup")&&(a=n.copyObject(o.data("descriptor").allProperties(),!1),a.items=[],l=new t(a),r.push(l),o.find("option").not(i._getExclusions()).each(function(t){if(!t.selected){var i=s.data(this,"descriptor");e(i)&&l.addItem(i)}}))}),r},_renders:{option:function(e){var t=e.label(),i=e.fieldText()||t,n=new Option(i,e.value()),r=s(n),l=e.icon();return n.title=e.title(),i!=t&&r.data("field-label",t),e.selected()&&r.attr("selected","selected"),s.data(n,"descriptor",e),e.model(r),l&&r.css("backgroundImage","url("+l+")"),r},optgroup:function(e){var t=s("<optgroup />").addClass(e.styleClass()).attr("label",e.label());return e.model(t),t.data("descriptor",e),e.id()&&t.attr("id",e.id()),t}}})}),AJS.namespace("AJS.SelectModel",null,require("jira/ajs/select/select-model"));;
;
/* module-key = 'jira.webresources:select-model', location = '/includes/ajs/select/SuggestionCollectionModel.js' */
define("jira/ajs/select/suggestion-collection-model",["jira/ajs/control","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/util/objects","jquery","underscore"],function(e,t,s,i,r,n){return e.extend({init:function(e){e.element?e.element=r(e.element):e.element=r(e),this._setOptions(e),this.$element=this.options.element.hide(),this.type=this.$element.attr("data-multiple")?"multiple":"single",this.id=this.$element.attr("id")||this.$element.attr("name"),this.$optionsContainer=this.$element.siblings("#"+this.id+"-options"),this.selectedDescriptors=[],this.groupFilter=!1,this._parseDescriptors()},_getDefaultOptions:function(){return{}},_setValue:function(){var e=this.selectedDescriptors.map(function(e){return e.value()});this.$element.val(e.join(","))},getSelectedValues:function(){for(var e=[],t=0;t<this.selectedDescriptors.length;t++)e.push(this.selectedDescriptors[t].value());return e},setSelected:function(e,t){t="undefined"==typeof t||t,e=this._descriptor(e);var s=n.filter(this.getAllDescriptors(!1),function(t){return t.value()===e.value()});if(0===s.length)return!1;if("single"===this.type){if(e.value()===this.getValue())return!0;this.setAllUnSelected(),s=s.slice(0,1)}else s=n.filter(s,function(e){return e.selected()!==!0});return Array.prototype.push.apply(this.selectedDescriptors,s),n.each(s,function(e){e.selected(!0)}),this._setValue(),e.highlighted(!1),t&&this.$element.trigger("change",e),!0},setAllSelected:function(){var e=this;r(this.getDisplayableUnSelectedDescriptors()).each(function(){e.setSelected(this)})},setAllUnSelected:function(){n.each(this.selectedDescriptors,function(e){e.selected(!1)}),this.selectedDescriptors=[],this._setValue()},setUnSelected:function(e){e=this._descriptor(e);for(var t=0;t<this.selectedDescriptors.length;t++)this.selectedDescriptors[t].value()===e.value()&&(this.selectedDescriptors[t].selected(!1),this.selectedDescriptors.splice(t,1),t--);this._setValue()},remove:function(e){e=this._descriptor(e);for(var s=0;s<this.descriptors.length;s++)if(this.descriptors[s]instanceof t)for(var i=0;i<this.descriptors[s].items().length;i++)this.descriptors[s].items()[i].value()===e.value()&&(this.descriptors[s].items().splice(i,1),i--);else this.descriptors[s].value()===e.value()&&(this.descriptors.splice(s,1),s--)},getDescriptor:function(e){var t;return e=r.trim(e.toLowerCase()),r.each(this.getAllDescriptors(!1),function(s,i){if(e===r.trim(i.label().toLowerCase())||e===r.trim(i.value().toLowerCase()))return t=i,!1}),t},_parseDescriptors:function(){var e,i,r=[];if(r=this.$optionsContainer.data("suggestions")||[],this.descriptors=[],"string"==typeof r)try{r=JSON.parse(r),this.$optionsContainer.data("suggestions",r)}catch(e){r=[]}for(var n=0;n<r.length;n++)if("undefined"!=typeof r[n].items){e=new t({label:r[n].label}),i=r[n].items;for(var l=0;l<i.length;l++){var c=new s(i[l]);c.selected()===!0&&("single"===this.type&&this.selectedDescriptors.length>0?c.selected(!1):this.selectedDescriptors.push(c)),e.addItem(c)}this.descriptors.push(e)}else c=new s(r[n]),this.descriptors.push(c),c.selected()===!0&&("single"===this.type&&this.selectedDescriptors.length>0?c.selected(!1):this.selectedDescriptors.push(c));this._setValue()},getPlaceholder:function(){return this.placeholder},getValue:function(){return this.$element.val()},getDisplayableSelectedDescriptors:function(){return this.selectedDescriptors.slice()},getDisplayableUnSelectedDescriptors:function(){return n.filter(this.getAllDescriptors(!1),function(e){return this.selectedDescriptors.indexOf(e)===-1}.bind(this))},getAllDescriptors:function(e){var s=[];if(this.groupFilter!==!1)for(var i in this.descriptors)this.descriptors[i]instanceof t&&this.descriptors[i].label()==this.groupFilter&&(s=this.descriptors[i].items().slice());else if(e===!1)for(var i in this.descriptors)this.descriptors[i]instanceof t?s=s.concat(this.descriptors[i].items()):this.descriptors.hasOwnProperty(i)&&s.push(this.descriptors[i]);else s=this.descriptors.slice();return s},clearUnSelected:function(){var e=this;this.descriptors=n.filter(this.descriptors,function(s){return s instanceof t?(s.items(n.filter(s.items(),function(t){return e.selectedDescriptors.indexOf(t)!==-1})),!0):e.selectedDescriptors.indexOf(s)!==-1})},getUnSelectedDescriptors:function(){for(var e=this,s=[],i={},r={},l=function(e){var t=e.value().toLowerCase();return!(r[t]&&(!i[t]||e.allowDuplicate()!==!1))&&(i[t]=!0,!0)},c=0;c<this.selectedDescriptors.length;c++)r[this.selectedDescriptors[c].value().toLowerCase()]=!0;return n.each(this.descriptors,function(i){var r;i instanceof t?e.groupFilter===!1?(r=n.clone(i.allProperties()),r.items=n.filter(i.items(),l),s.push(new t(r))):e.groupFilter===i.label()&&(s=s.concat(n.filter(i.items(),l))):e.groupFilter===!1&&l(i)&&s.push(i)}),s},setFilterGroup:function(e){for(var s=0;s<this.descriptors.length;s++)if(this.descriptors[s]instanceof t&&this.descriptors[s].label()===e)return this.groupFilter=e,!0;return!1},clearFilterGroup:function(){this.groupFilter=!1},_descriptor:function(e){return"string"==typeof e&&(e=new s({value:e,label:e})),e}})});;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.constants.js' */
define("jira/ajs/dropdown/dropdown-constants",{TRIGGER_SELECTOR:".aui-dropdown-trigger",CONTENT_SELECTOR:".aui-dropdown-content"});;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.ListItem.js' */
define("jira/ajs/dropdown/dropdown-list-item",["jira/ajs/layer/layer-constants","jira/ajs/control","jira/ajs/input/mouse","jquery","jira/util/top-same-origin-window"],function(t,i,s,e,n){var o=n(window),l=i.extend({init:function(t){this._setOptions(t),this.$element=e(this.options.element),this.$elementLink=this.$element.is("a[href]")?this.$element:this.$element.find("a[href]"),this.hasFocus=!1,this._assignEvents("instance",this),this._assignEvents("element",this.$element)},_getDefaultOptions:function(){return{element:null,autoScroll:!0,focusClass:t.ACTIVE_CLASS,shouldFocusOptionLinks:!1}},_events:{instance:{focus:function(t){this.hasFocus=!0,this.$element.addClass(this.options.focusClass);var i=t.originalEvent&&t.originalEvent.nolinkfocus;this.options.shouldFocusOptionLinks&&!i&&this.$elementLink.focus(),t.noscrolling||(l.MOTION_DETECTOR.unbind(),this.isWaitingForMove=!0,this.options.autoScroll&&this.$element.scrollIntoView(l.SCROLL_INTO_VIEW_OPTIONS))},blur:function(){this.hasFocus=!1,this.$element.removeClass(this.options.focusClass)},accept:function(){var t=new e.Event("click");this.$elementLink.trigger(t),t.isDefaultPrevented()||(o.location=this.$elementLink.attr("href"))}},element:{mousemove:function(){(this.isWaitingForMove&&l.MOTION_DETECTOR.moved&&!this.hasFocus||!this.hasFocus)&&(this.isWaitingForMove=!1,this.trigger({type:"focus",noscrolling:!0,nolinkfocus:!0}))}}}});return l.MOTION_DETECTOR=new s.MotionDetector,l.SCROLL_INTO_VIEW_OPTIONS={duration:100,callback:function(){l.MOTION_DETECTOR.wait()}},l}),AJS.namespace("AJS.Dropdown.ListItem",null,require("jira/ajs/dropdown/dropdown-list-item"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.ListItemGroup.js' */
define("jira/ajs/dropdown/dropdown-list-item-group",["jira/ajs/group"],function(t){return t.extend({keys:{Up:function(t){this.shiftFocus(-1),t.preventDefault()},Down:function(t){this.shiftFocus(1),t.preventDefault()},Return:function(t){this.items[this.index].trigger("accept"),t.preventDefault()}}})}),AJS.namespace("AJS.Dropdown.ListItemGroup",null,require("jira/ajs/dropdown/dropdown-list-item-group"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.OptionsDescriptor.js' */
define("jira/ajs/dropdown/dropdown-options-descriptor",["jira/ajs/descriptor","jira/ajs/dropdown/dropdown-constants","jira/ajs/dropdown/dropdown-list-item-group","jira/ajs/contentretriever/ajax-content-retriever","jira/ajs/contentretriever/deferred-content-retriever","jira/ajs/contentretriever/dom-content-retriever","jquery"],function(t,e,r,i,n,o,s){return t.extend({init:function(t){if(this._super(t),!this.content()&&!this.trigger())throw new Error("Dropdown.OptionsDescriptor: expected either [content] or [trigger] to be defined.");this.trigger()&&!this.content()?this.content(this.trigger().next(e.CONTENT_SELECTOR)):this.content()&&!this.trigger()&&this.content(this.trigger().next(e.TRIGGER_SELECTOR)),this.trigger()&&!this.content()?(this.ajaxOptions()?this.ajaxOptions().url||(this.ajaxOptions().url=this.trigger().attr("href")):this.trigger().attr("href")&&this.ajaxOptions(this.trigger().attr("href")),this.contentRetriever(new i(this.ajaxOptions()))):this.content()&&(s.isFunction(this.content())?this.contentRetriever(new n(this.content())):this.contentRetriever(new o(this.content()))),this.listController()||this.listController(new r)},_getDefaultOptions:function(){return{trigger:null,ajaxOptions:null,autoScroll:!0}},content:function(t){return t?(t=s(t),void(t.length&&(this.properties.content=t))):this.properties.content},trigger:function(t){return t?void(this.properties.trigger=t):this.properties.trigger},contentRetriever:function(t){return t?void(this.properties.contentRetriever=t):this.properties.contentRetriever},listController:function(t){return t?void(this.properties.listController=t):this.properties.listController},focusFirstItem:function(t){return t?void(this.properties.focusFirstItem=t):this.properties.focusFirstItem},autoScroll:function(t){return"undefined"!=typeof t&&(this.properties.autoScroll=!!t),this.properties.autoScroll},ajaxOptions:function(t){return t?void(this.properties.ajaxOptions=t):this.properties.ajaxOptions},loop:function(t){return"undefined"==typeof t?this.properties.loop:void(this.properties.loop=t)},alignment:function(t){return t?void(this.properties.alignment=t):this.properties.alignment},eventDelegator:function(t){return"undefined"==typeof t?this.properties.eventDelegator:void(this.properties.eventDelegator=t)},shouldFocusOptionLinks:function(t){return"undefined"==typeof t?this.properties.shouldFocusOptionLinks:void(this.properties.shouldFocusOptionLinks=t)}})}),AJS.namespace("AJS.Dropdown.OptionsDescriptor",null,require("jira/ajs/dropdown/dropdown-options-descriptor"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.js' */
define("jira/ajs/dropdown/dropdown",["jira/ajs/control","jira/ajs/layer/inline-layer","jira/ajs/layer/layer-constants","jira/ajs/dropdown/dropdown-constants","jira/ajs/dropdown/dropdown-list-item","jira/ajs/dropdown/dropdown-options-descriptor","jquery"],function(t,i,r,o,e,n,s){var a=t.extend({CLASS_SIGNATURE:"AJS_DROPDOWN",init:function(t){var r,o=this;t instanceof n?this.options=t:this.options=new n(t),r=this.options.allProperties(),r.offsetTarget||(r.offsetTarget=r.trigger),this.layerController=new i(this.options.allProperties()),this.layerController._validateClickToClose=function(t){return t.target!==this.offsetTarget()[0]&&(t.target!==this.layer()[0]&&!(this.offsetTarget().has(t.target).length>0))},this.listController=this.options.listController(),this.listEnabler=function(t){o.listController._handleKeyEvent(t)},this.layerController.onhide(function(){o.hide(!0)}),this.layerController.onerror(function(){s.isFunction(o.options.properties.onerror)&&o.options.properties.onerror(o)}),this.layerController.contentChange(function(){o.listController.removeAllItems(),o.layerController.layer().find("div > ul > li:visible:has(a)").each(function(){o.listController.addItem(new e({element:this,autoScroll:o.options.autoScroll(),shouldFocusOptionLinks:o.options.shouldFocusOptionLinks()}))}),o.options.focusFirstItem()?o.listController.shiftFocus(0):o.listController.prepareForInput()}),this.trigger(this.options.trigger()),this._applyIdToLayer()},show:function(){const t=this.trigger();if(t.addClass(r.ACTIVE_CLASS),s(this).trigger("showLayer"),this.layerController.show(),this.options.focusFirstItem()?this.listController.shiftFocus(0):this.listController.prepareForInput(),this.options.shouldFocusOptionLinks())t.attr("aria-expanded",!0),this._assignEvents("layer",this.layerController.layer());else{const i=this.listController.items.length&&this.listController.items[0].$element.attr("id");t.attr({"aria-expanded":!0,"aria-activedescendant":this.options.focusFirstItem()||t.data("focus-first")?i:""})}t.data("focus-first")&&this.listController.shiftFocus(0)},hide:function(t){s(this).trigger("hideLayer");const i=this.trigger();i.removeClass(r.ACTIVE_CLASS),this.layerController.hide(),this.listController.trigger("blur"),this.options.shouldFocusOptionLinks()?(i.attr("aria-expanded",!1),this._unassignEvents("layer",this.layerController.layer()),t||i.focus()):i.attr({"aria-expanded":!1,"aria-activedescendant":""})},toggle:function(){this.layerController.isVisible()?this.hide():this.show()},content:function(t){return t?void this.layerController.content(t):this.layerController.content()},trigger:function(t){return t?(this.options.trigger()&&this._unassignEvents("trigger",this.options.trigger()),this.options.trigger(s(t)),this.layerController.offsetTarget()||this.layerController.offsetTarget(this.options.trigger()),this._assignEvents("trigger",this.options.trigger()),void 0):this.options.trigger()},_applyIdToLayer:function(){this.trigger().attr("id")&&this.layerController.layer().attr("id",this.trigger().attr("id")+"_drop")},handleTriggerKeydown:function(t){const i=this.trigger();switch(t.key){case"Up":case"ArrowUp":case"Down":case"ArrowDown":window.requestAnimationFrame(function(){if(!this.options.shouldFocusOptionLinks()){const t=this.content().find("li.active").attr("id");i.attr("aria-activedescendant",t),s(this).trigger("aui:dropdown:keydown")}}.bind(this));break;case"Tab":window.requestAnimationFrame(function(){this.hide(!0)}.bind(this))}},_events:{trigger:{click:function(t){t.preventDefault(),this.toggle()},"aui:keydown keydown":function(t){this.handleTriggerKeydown(t)}},layer:{keydown:function(t){"Tab"===t.key&&this.hide()}}}});return s.extend(a,o),a}),AJS.namespace("AJS.DropDown",null,require("jira/ajs/dropdown/dropdown")),AJS.namespace("AJS.Dropdown",null,require("jira/ajs/dropdown/dropdown"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jira/dropdown/Dropdown.js' */
define("jira/dropdown",["require"],function(i){function o(){try{return Boolean(n.require("jira/dialog/dialog").current)}catch(i){}return!1}var n=i("jira/util/top-same-origin-window")(window),t=i("jquery"),d=[];return{current:null,addInstance:function(){d.push(this)},hideInstances:function(){var i=this;t(d).each(function(){i!==this&&this.hideDropdown()})},getHash:function(){return this.hash||(this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown}),this.hash},displayDropdown:function(i){if(this.current!==this){this.hideInstances(),this.current=this,this.dropdown.css({display:"block"}),this.displayed=!0;var n=this.dropdown;o()||i||setTimeout(function(){var i=t(window),o=n.offset().top+n.prop("offsetHeight")-i.height()+10;i.scrollTop()<o&&t("html,body").animate({scrollTop:o},300,"linear")},100)}},hideDropdown:function(){this.displayed!==!1&&(this.current=null,this.dropdown.css({display:"none"}),this.displayed=!1)},init:function(i,o){var n=this;this.addInstance(this),this.dropdown=t(o),this.dropdown.css({display:"none"}),t(document).keydown(function(i){9===i.keyCode&&n.hideDropdown()}),i.target?t.aop.before(i,function(){n.displayed||n.displayDropdown()}):(n.dropdown.css("top",t(i).outerHeight()+"px"),i.click(function(i){n.displayed?n.hideDropdown():(n.displayDropdown(),i.stopPropagation()),i.preventDefault()})),t(document.body).click(function(){n.displayed&&n.hideDropdown()})}}}),AJS.namespace("JIRA.Dropdown",null,require("jira/dropdown")),AJS.namespace("jira.widget.dropdown",null,require("jira/dropdown"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jira/dropdown/AutoComplete.js' */
define("jira/dropdown/auto-complete",["require"],function(o){var n=o("jira/util/objects"),t=o("jquery"),i=o("jira/dropdown");return function(o,e){var r=n.begetObject(i);return r.init=function(o,n){this.addInstance(this),this.dropdown=t(n).click(function(o){o.stopPropagation()}),this.dropdown.css({display:"none"}),o.target?t.aop.before(o,function(){r.displayed||r.displayDropdown(o.target.preventScroll)}):o.click(function(o){r.displayed||(r.displayDropdown(),o.stopPropagation())}),t(document.body).click(function(){r.displayed&&r.hideDropdown()})},r.init(o,e),r}}),AJS.namespace("JIRA.Dropdown.AutoComplete",null,require("jira/dropdown/auto-complete"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jira/dropdown/Standard.js' */
define("jira/dropdown/standard",["jira/dropdown","jira/util/objects"],function(r,n){return function(d,a){var e=n.begetObject(r);return e.init(d,a),e}}),AJS.namespace("JIRA.Dropdown.Standard",null,require("jira/dropdown/standard"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.create.js' */
define("jira/ajs/dropdown/dropdown-factory",["jira/ajs/dropdown/dropdown","jira/util/objects","jquery"],function(e,t,r){function n(n){var o=[];if(n.content&&!n.trigger)n.content=r(n.content),r.each(n.content,function(){var c=t.copyObject(n);c.content=r(this),o.push(new e(c))});else if(!n.content&&n.trigger)n.trigger=r(n.trigger),r.each(n.trigger,function(){var c=t.copyObject(n);c.trigger=r(this),o.push(new e(c))});else if(n.content&&n.trigger){if(n.content=r(n.content),n.trigger=r(n.trigger),n.content.length!==n.trigger.length)throw new Error("Dropdown.create: Expected the same number of content elements as trigger elements");n.trigger.each(function(c){var i=t.copyObject(n);i.trigger=r(this),i.content=n.content.eq(c),o.push(new e(i))})}return o}return{createDropdown:n}}),AJS.namespace("AJS.Dropdown.create",null,require("jira/ajs/dropdown/dropdown-factory").createDropdown);;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jira/dropdown/containDropdown.js' */
define("jira/dropdown/contain-dropdown",["jquery","exports"],function(o,n){function e(n,e,i){function c(){return n.$.offset().top-o(e).offset().top}var s,d,l,p=25;n.$.parents(e).length!==-1&&(s=o(e),d=c(),p=30,l=s.outerHeight()-d-p,l<=parseInt(n.$.prop("scrollHeight"),10)?r(n,l):i&&t(n),n.reset())}function r(o,n){o.$.css({height:n}),"scroll"!==o.$.css("overflowY")&&o.$.css({width:15+o.$.prop("scrollWidth"),overflowY:"scroll",overflowX:"hidden"})}function t(o){o.$.css({height:"",width:"",overflowY:"",overflowX:""})}n=e,n.containHeight=r,n.releaseContainment=t}),AJS.namespace("AJS.containDropdown",null,require("jira/dropdown/contain-dropdown")),AJS.namespace("JIRA.containDropdown",null,require("jira/dropdown/contain-dropdown"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jquery/plugins/linkedmenu/linkedMenu.js' */
!function(e){e.deactivateLinkedMenu=function(){},e.linkedMenuInstances=[],e.fn.linkedMenu=function(n){var o,u,s=this,t=!1,i=function(n){n=e(n),s.blur(),n.trigger("click","focus","mousedown")},c=function(e){var n;37!==e.keyCode&&39!==e.keyCode&&27!==e.keyCode||(37===e.keyCode?(n=o-1,o-1>=0?r(s[n])&&(o=n,i(s[o])):(n=s.length-1,r(s[n])&&(o=n,i(s[o])))):39===e.keyCode?(n=o+1,n<s.length?r(s[n])&&(o=n,i(s[o])):(n=0,r(s[n])&&(o=n,i(s[o])))):s.disableLinkedMenu(e),e.preventDefault())},r=function(e){if(e!==s[o])return!0},d=function(){r(this)&&(o=e.inArray(this,s),i(this))},l=function(){var u=e.inArray(this,e(n.reflectFocus));r(s[u])&&(o=u,i(s[o]))},a=function(){var i,r;t||(e.currentLinkedMenu=s,n.onFocusRemoveClass&&(i=e(n.onFocusRemoveClass),r=n.onFocusRemoveClass.match(/\.([a-z]*)$/),r&&r[1]&&i.length>0&&(e(n.onFocusRemoveClass).removeClass(r[1]),u=function(){e(i).addClass(r[1])})),t=!0,o=e.inArray(this,s),s.mouseover(d),e.browser.mozilla?e(document).keypress(c):e(document).keydown(c),e(document).mousedown(s.disableLinkedMenu),n.reflectFocus&&e(n.reflectFocus).mouseover(l))};return s.disableLinkedMenu=function(o){e(document).unbind("keypress",c),e(document).unbind("keydown",c),s.unbind("mouseover",d),e(document).unbind("mousedown",arguments.callee),n.reflectFocus&&e(n.reflectFocus).unbind("mouseover",l),u&&u(),s.blur(),delete e.currentLinkedMenu,window.setTimeout(function(){t=!1},200)},n=n||{},i=n.focusElement||i,s.click(a),s}}(jQuery);;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jquery/plugins/scrollintoview/scrollIntoView.js' */
!function(){function t(t){t=t||{},t.marginTop=t.marginTop||t.margin||0,t.marginBottom=t.marginBottom||t.margin||0;var e=r(o),n=r("#stalker"),l=e.scrollTop(),a=e.height(),s=Math.max(0,i(this[0])-t.marginTop),h=t.marginTop+this.outerHeight()+t.marginBottom,c=l;if(c+a<s+h&&(c=s+h-a),0!==n.length){var u=this[0],g=null;do"absolute"===r(u).css("position")&&(g=u);while(u=u.offsetParent);g&&i(g)>i(n[0])&&(s-=n.outerHeight())}return c>s&&(c=s),c}function i(t){var i=t,o=0;do o+=i.offsetTop;while(i=i.offsetParent);i=t;do i&&i.scrollTop&&(o-=i.scrollTop),i=i.parentNode;while(i&&i!=document.body);return o}var o=require("jira/util/top-same-origin-window")(window,!0),r=o.jQuery||window.jQuery;window.jQuery.fn.scrollIntoView=function(i){if(0===this.length)return this;var e=this.hasFixedParent();if(e){var n=r(this),l=r(e),a=l.outerHeight(),s=l.scrollTop(),h=s+a,c=n.position(),u=c.top+n.height(),g=u+s>h,p=c.top<0;g?l.scrollTop(s+u-a):p&&l.scrollTop(s+c.top)}else{if(i=i||{},!this.is(":visible")&&i.callback)return i.callback(),this;var d=r(o).scrollTop(),f=t.call(this,i),m=r("#stalker");if(f!==d){var T=this,w=r(o.document);w.trigger("moveToStarted",T),i.duration?w.find("body, html").stop(!0).animate({scrollTop:f},i.duration,"swing",function(){i.callback&&i.callback(),w.trigger("moveToFinished",T),m.trigger("positionChanged")}):w.find("body, html").prop("scrollTop",f)}else i.callback&&i.callback()}return this},r.fn.isInView=function(i){if(this.length>0&&!this.hasFixedParent()){i=i||{};var e=r(o).scrollTop(),n=t.call(this,i);return n===e}return this}}();;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-jquery-tipsy', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery.tipsy.js' */
("undefined"===typeof window?global:window).__f673a5150978887490995d88aeec0c8d=function(){var b=jQuery,i=function(a){for(;a=a.parentNode;)if(a==document)return!0;return!1},j=function(a,c){this.$element=b(a);this.options=c;this.enabled=!0;this.fixTitle()},k=0;j.prototype={show:function(){if(i(this.$element[0])){var a=this.getTitle();if(a&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](a);c[0].className="tipsy";c.remove().css({top:0,left:0,visibility:"hidden",
display:"block"}).appendTo(document.body);var d=this;this.options.hoverable&&c.hover(function(){d.hoverTooltip=!0},function(){"in"!=d.hoverState&&(d.hoverTooltip=!1,"manual"!=d.options.trigger&&d.$element.trigger("hover"==d.options.trigger?"mouseleave.tipsy":"blur.tipsy"))});this.options.className&&c.addClass("function"==typeof this.options.className?this.options.className.call(this.$element[0]):this.options.className);var a=b.extend({},this.$element.offset(),{width:this.$element[0].getBoundingClientRect().width,
height:this.$element[0].getBoundingClientRect().height}),e={},f=c[0].offsetWidth,h=c[0].offsetHeight,g="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity;2===g.length&&(e.left="w"===g.charAt(1)?a.left+a.width/2-15:a.left+a.width/2-f+15);switch(g.charAt(0)){case "n":"undefined"===typeof e.left&&(e.left=a.left+a.width/2-f/2);e.top=a.top+a.height+this.options.offset;break;case "s":"undefined"===typeof e.left&&(e.left=a.left+a.width/2-f/2,c.css(e),
h=c[0].offsetHeight);e.top=a.top-h-this.options.offset;break;case "e":e.left=a.left-f-this.options.offset;e.top=a.top+a.height/2-h/2;break;case "w":e.left=a.left+a.width+this.options.offset,e.top=a.top+a.height/2-h/2}c.css(e).addClass("tipsy-"+g);c.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+g.charAt(0);this.options.fade?c.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):c.css({visibility:"visible",opacity:this.options.opacity});
this.options.aria&&(a="tipsyuid"+k++,c.attr("id",a),this.$element.attr("aria-describedby",a))}}},destroy:function(){this.$element.removeData("tipsy");this.unbindHandlers();this.hide()},unbindHandlers:function(){this.options.live?b(this.$element.context).off(".tipsy"):this.$element.unbind(".tipsy")},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){b(this).remove()}):this.tip().remove();this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var a=
this.$element;if(a.attr("title")||"string"!=typeof a.attr("original-title"))a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,d=this.options;this.fixTitle();d=this.options;"string"==typeof d.title?a=b.attr("title"==d.title?"original-title":d.title):"function"==typeof d.title&&(a=d.title.call(b[0]));return(a=(""+a).replace(/(^\s*|\s*$)/,""))||d.fallback},tip:function(){this.$tip||(this.$tip=b('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>').attr("role",
"tooltip"),this.$tip.data("tipsy-pointee",this.$element[0]));return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};b.fn.tipsy=function(a){function c(c){var d=b.data(c,"tipsy");d||(d=new j(c,b.fn.tipsy.elementOptions(c,a)),b.data(c,"tipsy",d));return d}function d(){var b=c(this);b.hoverState="in";0==a.delayIn?b.show():
(b.fixTitle(),setTimeout(function(){"in"==b.hoverState&&b.show()},a.delayIn))}function e(){var b=c(this);b.hoverState="out";0==a.delayOut?b.hide():setTimeout(function(){"out"==b.hoverState&&!b.hoverTooltip&&b.hide()},a.delayOut)}if(!0===a)return this.data("tipsy");if("string"==typeof a){var f=this.data("tipsy");if(f)f[a]();return this}a=b.extend({},b.fn.tipsy.defaults,a);a.hoverable&&(a.delayOut=a.delayOut||20);a.live||this.each(function(){c(this)});if("manual"!=a.trigger){var f="hover"==a.trigger?
"mouseenter.tipsy focus.tipsy":"focus.tipsy",h="hover"==a.trigger?"mouseleave.tipsy blur.tipsy":"blur.tipsy";if(a.live)b(this.context).on(f,this.selector,d).on(h,this.selector,e);else this.bind(f,d).bind(h,e)}return this};b.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,hoverable:!1,offset:0,opacity:0.8,title:"title",trigger:"hover"};b.fn.tipsy.revalidate=function(){b(".tipsy").each(function(){var a=b.data(this,"tipsy-pointee");(!a||
!i(a))&&b(this).remove()})};b.fn.tipsy.elementOptions=function(a,c){return b.metadata?b.extend({},c,b(a).metadata()):c};b.fn.tipsy.autoNS=function(){return b(this).offset().top>b(document).scrollTop()+b(window).height()/2?"s":"n"};b.fn.tipsy.autoWE=function(){return b(this).offset().left>b(document).scrollLeft()+b(window).width()/2?"e":"w"};b.fn.tipsy.autoBounds=function(a,c){return function(){var d=c[0],e=1<c.length?c[1]:!1,f=b(document).scrollTop()+a,h=b(document).scrollLeft()+a,g=b(this);g.offset().top<
f&&(d="n");g.offset().left<h&&(e="w");b(window).width()+b(document).scrollLeft()-g.offset().left<a&&(e="e");b(window).height()+b(document).scrollTop()-g.offset().top<a&&(d="s");return d+(e?e:"")}};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-tipsy', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/tipsy.js' */
("undefined"===typeof window?global:window).__e0e2fcbfe1adeeec3d129337203daa99=function(){"use strict";__f673a5150978887490995d88aeec0c8d;return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-tooltip', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/tooltip.js' */
("undefined"===typeof window?global:window).__8a6820c3d0bc5d638a8490d849a5b750=function(){function f(a,b,c){a.tipsy(c);"destroy"===c&&(b.live?(0,d.default)(a.context).off(".tipsy",a.selector):a.unbind(".tipsy"));return a}function g(a,b){a.tipsy(b);if(b&&b.hideOnClick&&("hover"===b.trigger||!b.trigger&&"hover"===a.tipsy.defaults.trigger)){var c=function(){(0,d.default)(this).tipsy("hide")};if(b.live)(0,d.default)(a.context).on("click.tipsy",a.selector,c);else a.bind("click.tipsy",c)}return a}"use strict";
var e=__307d3e18fd611f85395c67cddeb1fe24,d=e&&e.__esModule?e:{"default":e};__f673a5150978887490995d88aeec0c8d;d.default.fn.tooltip=function(a){var b=d.default.extend({},d.default.fn.tooltip.defaults,a);return b.live?("string"===typeof a?f(this,b,a):g(this,b),this):this.each(function(){var c=(0,d.default)(this);"string"===typeof a?f(c,b,a):g(c,b);return c})};d.default.fn.tooltip.defaults={opacity:1,offset:1,delayIn:500,hoverable:!0,hideOnClick:!0,aria:!0};return{}}.call(this);;
;
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = 'issue-status-plugin/templates/status.soy' */
// This file was automatically generated from status.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Template.Util.Issue.Status.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Template == 'undefined') { JIRA.Template = {}; }
if (typeof JIRA.Template.Util == 'undefined') { JIRA.Template.Util = {}; }
if (typeof JIRA.Template.Util.Issue == 'undefined') { JIRA.Template.Util.Issue = {}; }
if (typeof JIRA.Template.Util.Issue.Status == 'undefined') { JIRA.Template.Util.Issue.Status = {}; }


JIRA.Template.Util.Issue.Status.issueStatusResolver = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.issueStatus) ? '<span class="aui-icon aui-icon-small aui-iconfont-help jira-issue-status-render-error" title="' + soy.$$escapeHtml('No issue status information was provided') + '"></span>' : (opt_data.issueStatus.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatus(opt_data) : JIRA.Template.Util.Issue.Status.iconStatus({name: opt_data.issueStatus.name, iconUrl: opt_data.issueStatus.iconUrl, description: opt_data.issueStatus.description, isCompact: opt_data.isCompact}));
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatusResolver.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatusResolver';
}


JIRA.Template.Util.Issue.Status.iconStatus = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" width="16" height="16" alt="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$escapeHtml(opt_data.name) + ((opt_data.description) ? ' - ' + soy.$$escapeHtml(opt_data.description) : '') + '" class="jira-issue-status-icon">' + ((! opt_data.isCompact) ? ' ' + soy.$$escapeHtml(opt_data.name) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.iconStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.iconStatus';
}


JIRA.Template.Util.Issue.Status.issueStatus = function(opt_data, opt_ignored) {
  return '' + JIRA.Template.Util.Issue.Status.statusLozenge({name: opt_data.issueStatus.name, categoryKey: opt_data.issueStatus.statusCategory.key, colorName: opt_data.issueStatus.statusCategory.colorName, description: opt_data.issueStatus.description, isSubtle: opt_data.isSubtle, isCompact: opt_data.isCompact, maxWidth: opt_data.maxWidth});
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatus';
}


JIRA.Template.Util.Issue.Status.statusLozenge = function(opt_data, opt_ignored) {
  var output = '';
  var maxWidth__soy46 = opt_data.maxWidth ? opt_data.maxWidth : 'medium';
  var tooltipContent__soy47 = '<span class="jira-issue-status-tooltip-title">' + soy.$$escapeHtml(opt_data.name) + '</span>' + ((opt_data.description) ? '<br><span class="jira-issue-status-tooltip-desc">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '');
  output += '<span class=" jira-issue-status-lozenge aui-lozenge ' + JIRA.Template.Util.Issue.Status.statusLozengeClasses(opt_data) + ((opt_data.isSubtle && ! opt_data.isCompact) ? ' aui-lozenge-subtle' : '') + ((opt_data.isCompact) ? ' jira-issue-status-lozenge-compact' : '') + ' jira-issue-status-lozenge-max-width-' + soy.$$escapeHtml(maxWidth__soy46) + '" data-tooltip="' + soy.$$escapeHtml(tooltipContent__soy47) + '">' + soy.$$escapeHtml(opt_data.name) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozenge.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozenge';
}


JIRA.Template.Util.Issue.Status.statusLozengeClasses = function(opt_data, opt_ignored) {
  return 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.colorName ? opt_data.colorName : 'medium-gray') + ' ' + ((opt_data.categoryKey) ? 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.categoryKey) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozengeClasses.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozengeClasses';
}
;
;
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = '/issue-status-plugin/js/issue-status-plugin.js' */
AJS.$(function(){AJS.$.fn.tooltip&&AJS.$(".jira-issue-status-lozenge[data-tooltip]").tooltip({aria:!0,gravity:AJS.$.fn.tipsy.autoWE,delayIn:100,html:!0,live:!0,title:"data-tooltip",className:"jira-issue-status-tooltip"})});;
;
/* module-key = 'jira.webresources:select-pickers', location = 'includes/ajs/select/QueryableSelect.soy.js' */
if("undefined"==typeof AJS)var AJS={};"undefined"==typeof AJS.Templates&&(AJS.Templates={}),AJS.Templates.queryableSelect=function(e,t){for(var o="<select "+(e.name?'name="'+soy.$$escapeHtml(e.name)+'"':"")+" "+(e.id?'id="'+soy.$$escapeHtml(e.id)+'"':"")+' multiple="multiple">',p=e.descriptors,s=p.length,i=0;i<s;i++){var l=p[i];if(l.properties.items){o+='<optgroup label="'+soy.$$escapeHtml(l.properties.label)+'">';for(var r=l.properties.items,a=r.length,n=0;n<a;n++){var m=r[n];o+=AJS.Templates.option({option:m})}o+="</optgroup>"}else o+=AJS.Templates.option({option:l})}return o+="</select>"},AJS.Templates.option=function(e,t){return"<option "+(e.option.properties.className?'class="'+soy.$$escapeHtml(e.option.properties.className)+'"':"")+" "+(e.option.properties.title?'title="'+soy.$$escapeHtml(e.option.properties.title)+'"':"")+" "+(e.option.properties.meta?'data-meta="'+soy.$$escapeHtml(e.option.properties.meta)+'"':"")+" "+(e.option.properties.selected?'selected="selected"':"")+' value="'+soy.$$escapeHtml(e.option.properties.value)+'">'+soy.$$escapeHtml(e.option.properties.label)+"</option>"};;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/SelectHelper.js' */
define("jira/ajs/select/select-helper",function(){return{updateFreeInputVal:function(){this.options.submitInputVal&&this.model.updateFreeInput(this.$field.val())},removeFreeInputVal:function(){this.options.submitInputVal&&this.model.removeFreeInputVal()}}}),AJS.namespace("AJS.SelectHelper",null,require("jira/ajs/select/select-helper"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/fetchers/ajax-descriptor-fetcher.js' */
define("jira/ajs/select/fetchers/ajax-descriptor-fetcher",["jira/util/logger","jira/jquery/deferred","jira/lib/class","jira/ajs/ajax/smart-ajax","jira/featureflags/feature-manager","jquery","underscore"],function(e,t,s,n,i,u,r){return s.extend({init:function(e){this.options=r.extend({keyInputPeriod:75,minQueryLength:1,data:{},dataType:"json"},e)},makeRequest:function(e,t,s){const i=Object.assign({},t);i.complete=r.bind(function(){this.outstandingRequest=null,JIRA.trace("jira.suggestionhandler.done")},this);const u=i.onSuccessCompleted,a=i.onErrorCompleted;delete i.onSuccessCompleted,delete i.onErrorCompleted,i.success=r.bind(function(t){var n;i.query?n=i.formatResponse(t,s):(this.lastResponse=i.formatResponse(t,s),n=this.lastResponse),u&&u.apply(this,arguments),e.resolve(n)},this);var o=i.error;i.error=function(t,s,i,u){var r=!1;u.aborted?"timeout"===u.statusText&&(o?o.apply(this,arguments):alert(n.buildSimpleErrorContent(u,{alert:!0})),r=!0):(o?o.apply(this,arguments):alert(n.buildSimpleErrorContent(u,{alert:!0})),r=!0),a&&a.apply(this,arguments),r&&e.resolve()},this.outstandingRequest=n.makeRequest(i)},incubateRequest:function(e,t,s,n){return clearTimeout(this.queuedRequest),n&&this.outstandingRequest&&(this.outstandingRequest.abort(),this.outstandingRequest=null),!t.query&&this.lastResponse?e.resolve(this.lastResponse):this.outstandingRequest?this.queuedRequest=setTimeout(r.bind(function(){this.incubateRequest(e,t,s,!0)},this),t.keyInputPeriod):("function"==typeof t.data?t.data=t.data(s):t.data.query=s,"function"==typeof t.url&&(t.url=t.url()),s.length>=parseInt(t.minQueryLength,10)||n?this.makeRequest(e,t,s):e.resolve()),e},execute:function(e,s){var n=t();return n.fail(r.bind(function(){clearTimeout(this.queuedRequest),this.outstandingRequest&&this.outstandingRequest.abort()},this)),this.incubateRequest(n,r.extend({},this.options),e,s),n}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/fetchers/mixed-descriptor-fetcher.js' */
define("jira/ajs/select/fetchers/mixed-descriptor-fetcher",["jira/jquery/deferred","jira/lib/class","jira/ajs/select/fetchers/ajax-descriptor-fetcher","jquery","underscore"],function(e,t,i,r,s){return t.extend({init:function(e,t){this.ajaxFetcher=new i(e.ajaxOptions),this.options=e,this.model=t},execute:function(t,i){var r=e(),n=this.options.ajaxOptions.minQueryLength;if(n="number"==typeof n&&isFinite(n)?n:1,t.length>=n){var o=this.ajaxFetcher.execute(t,i).done(s.bind(function(e){var i;i=this.options.suggestionAtTop?[].concat(this.model.getAllDescriptors(),e):[].concat(e,this.model.getAllDescriptors()),r.resolve(i,t)},this));r.fail(function(){o.reject()})}else r.resolve(this.model.getUnSelectedDescriptors(),t);return r}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/fetchers/func-descriptor-fetcher.js' */
define("jira/ajs/select/fetchers/func-descriptor-fetcher",["jira/jquery/deferred","jira/lib/class","jquery"],function(e,r,t){return r.extend({init:function(e){this.options=e},execute:function(r){var t=e();return t.resolve(this.options.suggestions(r),r),t}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/fetchers/static-descriptor-fetcher.js' */
define("jira/ajs/select/fetchers/static-descriptor-fetcher",["jira/jquery/deferred","jira/lib/class","jquery"],function(e,t,r){return t.extend({init:function(e,t){this.model=t,this.model.$element.data("static-suggestions",!0)},execute:function(t){var r=e();return r.resolve(this.model.getUnSelectedDescriptors(),t),r}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/fetchers/namespace.js' */
AJS.namespace("AJS.StaticDescriptorFetcher",null,require("jira/ajs/select/fetchers/static-descriptor-fetcher")),AJS.namespace("AJS.AjaxDescriptorFetcher",null,require("jira/ajs/select/fetchers/ajax-descriptor-fetcher")),AJS.namespace("AJS.MixedDescriptorFetcher",null,require("jira/ajs/select/fetchers/mixed-descriptor-fetcher")),AJS.namespace("AJS.FuncDescriptorFetcher",null,require("jira/ajs/select/fetchers/func-descriptor-fetcher"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/suggest-helper.js' */
define("jira/ajs/select/suggestions/suggest-helper",["jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/ajs/select/fetchers/mixed-descriptor-fetcher","jira/ajs/select/fetchers/ajax-descriptor-fetcher","jira/ajs/select/fetchers/func-descriptor-fetcher","jira/ajs/select/fetchers/static-descriptor-fetcher","underscore"],function(e,t,r,i,n,s,c){return{createDescriptorFetcher:function(e,t){return e.ajaxOptions&&e.ajaxOptions.url?t&&"mixed"===e.content?new r(e,t):new i(e.ajaxOptions):e.suggestions?new n(e):t?new s(e,t):void 0},extractItems:function(t){return c.flatten(c.map(t,function(t){return t instanceof e?t.items():[t]}))},mirrorQuery:function(r,i,n){var s=n?r.toUpperCase():r;return new e({label:"user inputted option",showLabel:!1,replace:!0}).addItem(new t({value:s,label:s,labelSuffix:" ("+i+")",title:s,allowDuplicate:!1,noExactMatch:!0}))},isSelected:function(e,t){return c.any(t,function(t){return e.value()===t.value()})},removeDuplicates:function(t,r){return r=r||[],c.filter(t,c.bind(function(t){return t instanceof e?(t.items(this.removeDuplicates(t.items(),r)),!0):c.include(r,t.value())?void 0:(t.value()&&r.push(t.value()),!0)},this))},removeSelected:function(r,i){return c.filter(r,c.bind(function(r){return!(r instanceof t&&this.isSelected(r,i))&&(r instanceof e&&r.items(this.removeSelected(r.items(),i)),!0)},this))}}});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/default-suggest-handler.js' */
define("jira/ajs/select/suggestions/default-suggest-handler",["jira/jquery/deferred","jira/lib/class","jira/ajs/select/suggestions/suggest-helper","jquery","underscore"],function(e,t,r,s,i){return t.extend({init:function(e){this.options=e,this.descriptorFetcher=r.createDescriptorFetcher(e)},validateMirroring:function(e){return this.options.userEnteredOptionsMsg&&e.length>0},formatSuggestions:function(e,t){return this.validateMirroring(t)&&e.push(r.mirrorQuery(t,this.options.userEnteredOptionsMsg,this.options.uppercaseUserEnteredOnSelect)),e},execute:function(t,r){var s=e(),n=this.descriptorFetcher.execute(t,r).done(i.bind(function(e){e&&(e=this.formatSuggestions(e,t)),s.resolve(e,t)},this));return s.fail(function(){n.reject()}),s}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/select-suggest-handler.js' */
define("jira/ajs/select/suggestions/select-suggest-handler",["jira/ajs/select/suggestions/default-suggest-handler","jira/ajs/select/suggestions/suggest-helper"],function(e,s){return e.extend({init:function(e,t){this.descriptorFetcher=s.createDescriptorFetcher(e,t),this.options=e,this.model=t},formatSuggestions:function(e,t){var i=this._super(e,t),r=this.model.getDisplayableSelectedDescriptors();return this.options.removeDuplicates&&(i=s.removeDuplicates(e)),s.removeSelected(i,r)}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/invite-capable-suggest-handler.js' */
define("jira/ajs/select/suggestions/invite-capable-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/select/suggestions/suggest-helper","jira/ajs/list/item-descriptor","jira/util/formatter","underscore"],function(e,t,i,n,s){return e.extend({init:function(e,i){this.descriptorFetcher=t.createDescriptorFetcher(e,i),this.options=e,this.model=i},formatSuggestions:function(e,t){var r=this._super(e,t);return s.map(r,s.bind(function(e){return 0===e.items().length&&this._isValidEmail(t)?e.items([new i({value:t,label:t,html:"<div>"+n.format("Create \"{0}\"",t)+"</div>",allowDuplicate:!1,highlighted:!0})]):e},this))},_isValidEmail:function(e){function t(e,t){return e.substring(0,t.length)===t}function i(e,t){var i=e.length-t.length,n=e.indexOf(t,i);return n!==-1&&n===i}function n(e,t){var i=!1;return t.length<=e.length&&(i=e.indexOf(t)!==-1),i}var s=/^[a-zA-Z0-9_\-\+'`\?=\*%\$#!/^\{\|}~\.]+@([a-zA-Z0-9\-]+\.)+([a-zA-Z0-9]+)$/,r=!1;if(s.test(e)){var a=e.split("@")[0];r=!t(a,".")&&!i(a,".")&&!n(a,"..")}return r}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/assignee-suggest-handler.js' */
define("jira/ajs/select/suggestions/assignee-suggest-handler",["jira/util/formatter","jira/ajs/select/suggestions/select-suggest-handler"],function(e,s){return s.extend({formatSuggestions:function(s,t){var s=this._super(s,t);return 0===t.length&&s[0].footerText("Start Typing for Users"),s}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/checkbox-multi-select-suggest-handler.js' */
define("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler",["jira/util/formatter","jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/select/suggestions/suggest-helper","jira/ajs/list/group-descriptor"],function(e,t,s,l){return t.extend({createClearAll:function(){return"<li class='check-list-group-actions'><a class='clear-all' href='#'>"+"Clear selected items"+"</a></li>"},formatSuggestions:function(e,t){var a=s.removeDuplicates(this.model.getDisplayableSelectedDescriptors()),r=new l({styleClass:"selected-group",items:a,actionBarHtml:a.length>1?this.createClearAll():null});if(e.splice(0,0,r),t.length>0){e=s.removeDuplicates(e);var i=s.extractItems(e).sort(function(e,t){return e=e.label().toLowerCase(),t=t.label().toLowerCase(),e.localeCompare(t)});e=[new l({items:i})]}return e}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/user-list-suggest-handler.js' */
define("jira/ajs/select/suggestions/user-list-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler"],function(e){return e.extend({emailExpression:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,validateMirroring:function(e){return this.options.freeEmailInput&&e.length>0&&this.emailExpression.test(e)}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/only-new-items-suggest-handler.js' */
define("jira/ajs/select/suggestions/only-new-items-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler","underscore"],function(e,s){return e.extend({validateMirroring:function(e){var t=this._super(e);if(t){var r=e.toLowerCase(),n=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),i=s.some(n,function(e){var s=e.label();return s&&s.toLowerCase()===r});return!i}return!1}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/suggestions/namespace.js' */
AJS.namespace("AJS.SuggestHelper",null,require("jira/ajs/select/suggestions/suggest-helper")),AJS.namespace("AJS.DefaultSuggestHandler",null,require("jira/ajs/select/suggestions/default-suggest-handler")),AJS.namespace("AJS.SelectSuggestHandler",null,require("jira/ajs/select/suggestions/select-suggest-handler")),AJS.namespace("AJS.OnlyNewItemsSuggestHandler",null,require("jira/ajs/select/suggestions/only-new-items-suggest-handler")),AJS.namespace("AJS.CheckboxMultiSelectSuggestHandler",null,require("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler")),AJS.namespace("JIRA.AssigneeSuggestHandler",null,require("jira/ajs/select/suggestions/assignee-suggest-handler")),AJS.namespace("AJS.UserListSuggestHandler",null,require("jira/ajs/select/suggestions/user-list-suggest-handler"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/QueryableDropdownSelect.js' */
define("jira/ajs/select/queryable-dropdown-select",["jira/util/formatter","jira/jquery/deferred","jira/ajs/control","jira/ajs/select/suggestions/default-suggest-handler","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/util/navigator","jira/util/assistive","jquery","jira/featureflags/feature-manager","underscore"],function(t,e,i,n,s,o,r,a,l,d,h){var u="-suggestions",c=0;return i.extend({INVALID_KEYS:{Shift:!0,Esc:!0,Right:!0},init:function(t){this.suggestionsVisible=!1,this._setOptions(t),this._createFurniture(),this._createDropdownController(),this._createSuggestionsController(),this._createListController(),this._assignEventsToFurniture(),this.options.width&&this.setFieldWidth(this.options.width),this.options.loadOnInit&&this.requestSuggestions(!0)},_createDropdownController:function(){var t=this;this.options.dropdownController?this.dropdownController=this.options.dropdownController:this.dropdownController=s.createInlineLayers({offsetTarget:this.$field,width:this.$field.innerWidth(),content:this.options.element}),this.dropdownController.onhide(function(){t.hideSuggestions()})},_createSuggestionsController:function(){this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options):new n(this.options)},_createListController:function(){var e=this,i=null;this.suggestionsHandler.suggestionHighlighter&&(i=this.suggestionsHandler.suggestionHighlighter.bind(this.suggestionsHandler)),this.listController=new o({containerSelector:this.options.element,groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,matchingHighlighter:i,eventTarget:this.$field,selectionHandler:function(){return e.$field.val("Loading...").css("color","#999"),e.hideSuggestions(),!0}})},_onItemFocus:function(t,e){var i=this.$field,n=e&&e.id?e.id:"null";a.wait(function(){i.attr("aria-activedescendant",n)})},setFieldWidth:function(t){this.$container.css({width:t,minWidth:t})},showErrorMessage:function(e){var i=this.$container.parent(".field-group");return this.$errorMessage.text(t.format(this.options.errorMessage,e||this.getQueryVal())),1===i.length?void i.append(this.$errorMessage):(0===i.length&&(i=this.$container.parent(".frother-control-renderer")),1===i.length?void this.$errorMessage.prependTo(i):void(0===i.length&&this.$container.parent().append(this.$errorMessage)))},hideErrorMessage:function(){this.$errorMessage&&this.$errorMessage.remove(),this.$container.parent().find(".error").remove()},_getDefaultOptions:function(){return c+=1,{id:c,keyInputPeriod:75,localListLiveUpdateLimit:25,localListLiveUpdateDelay:150}},_createFurniture:function(){this.$container=this._render("container").insertBefore(this.options.element),this.suggestionsContainerId=this.options.id+u,this.$field=this._render("field").appendTo(this.$container),this.$dropDownIcon=this._render("dropdownAndLoadingIcon",this._hasDropdownButton()).appendTo(this.$container),this.options.overlabel&&(this.$overlabel=this._render("overlabel").insertBefore(this.$field),this.$overlabel.overlabel())},_hasDropdownButton:function(){return this.options.showDropdownButton||this.options.ajaxOptions&&0===this.options.ajaxOptions.minQueryLength},_assignEventsToFurniture:function(){var t=this;this._assignEvents("ignoreBlurElement",this.dropdownController.$layer),this._assignEvents("container",this.$container),this._hasDropdownButton()&&(this._assignEvents("ignoreBlurElement",this.$dropDownIcon),this._assignEvents("dropdownAndLoadingIcon",this.$dropDownIcon)),setTimeout(function(){t._assignEvents("field",t.$field),t._assignEvents("keys",t.$field)},15),this.listController.bind("itemFocus",this._onItemFocus.bind(this))},requestSuggestions:function(t){var i=this,n=e();return this.outstandingRequest=this.suggestionsHandler.execute(this.getQueryVal(),t).done(function(t,e){e===i.getQueryVal()&&n.resolve(t,e)}),"resolved"!==this.outstandingRequest.state()&&(window.clearTimeout(this.loadingWait),this.loadingWait=window.setTimeout(function(){"pending"===i.outstandingRequest.state()&&i.showLoading()},150),this.outstandingRequest.always(function(){i.hideLoading()})),n},showLoading:function(){return this.$dropDownIcon.addClass("loading").removeClass("noloading"),this.$dropDownIcon.data("spinner")||this.$dropDownIcon.spin(),this.$field.attr("aria-busy","true"),this},hideLoading:function(){return this.$dropDownIcon.removeClass("loading").addClass("noloading"),this.$dropDownIcon.spinStop(),this.$field.attr("aria-busy","false"),this},_setSuggestions:function(t){t?(this.listController.generateListFromJSON(t,this.getQueryVal()),this.showSuggestions()):this.hideSuggestions(),this.$container.attr("data-query",this.getQueryVal())},disable:function(){this.disabled||(this.$container.addClass("aui-disabled"),this.$disabledBlanket=this._render("disabledBlanket").appendTo(this.$container),this.$field.attr("disabled",!0),this.dropdownController.hide(),this.disabled=!0)},enable:function(){this.disabled&&(this.$container.removeClass("aui-disabled"),this.$disabledBlanket.remove(),this.$field.attr("disabled",!1),this.disabled=!1)},getQueryVal:function(){return l.trim(this.$field.val())},_isValidInput:function(t){return this.$field.is(":visible")&&!("aui:keydown"===t.type&&this.INVALID_KEYS[t.key])},_handleCharacterInput:function(t){if(this.options&&this.options.disableSearch)return void this.hideSuggestions();var e=this.getQueryVal().length;e>=1||t?this.requestSuggestions(t).done(h.bind(function(t){this._setSuggestions(t)},this)):this.hideSuggestions()},_handleDown:function(t){this.suggestionsVisible||(this.listController._latestQuery="",this._handleCharacterInput(!0)),t.preventDefault()},_rejectPendingRequests:function(){this.outstandingRequest&&this.outstandingRequest.reject()},showSuggestions:function(){this.suggestionsVisible||(this.suggestionsVisible=!0,this.dropdownController.show(),this.dropdownController.setWidth(this.$field.innerWidth()),this.dropdownController.setPosition(),this.listController.enable(),this.$field.attr("aria-controls",this.suggestionsContainerId))},hideSuggestions:function(){this.suggestionsVisible&&(this._rejectPendingRequests(),this.suggestionsVisible=!1,this.$dropDownIcon.addClass("noloading"),this.dropdownController.hide(),this.listController.disable(),this.$field.removeAttr("aria-activedescendant"),this.$field.removeAttr("aria-controls"))},_deactivate:function(){this.hideSuggestions()},_handleEscape:function(t){this.suggestionsVisible&&(t.stopPropagation(),"keyup"===t.type&&(this.hideSuggestions(),r.isIE()&&r.majorVersion()<12&&this.$field.focus()))},acceptFocusedSuggestion:function(){var t=this.listController.getFocused();0!==t.length&&t.is(":visible")&&this.listController._acceptSuggestion(t)},keys:{Down:function(t){this._hasDropdownButton()&&this._handleDown(t)},Up:function(t){t.preventDefault()},Return:function(t){t.preventDefault()}},onEdit:function(){this._handleCharacterInput()},_events:{dropdownAndLoadingIcon:{click:function(t){this.suggestionsVisible?this.hideSuggestions():(this._handleDown(t),this.$field.focus()),t.stopPropagation()}},container:{disable:function(){this.disable()},enable:function(){this.enable()}},field:{blur:function(){this.ignoreBlurEvent?this.ignoreBlurEvent=!1:this._deactivate()},click:function(t){t.stopPropagation()},"keydown keyup":function(t){27===t.keyCode&&this._handleEscape(t)}},keys:{"aui:keydown input":function(t){this._handleKeyEvent(t)}},ignoreBlurElement:{mousedown:function(t){function e(t){t.returnValue=!1}if(r.isIE()&&r.majorVersion()<12){var i=l(t.target)[0]==l(this.dropdownController.$layer)[0];if(i&&(this.ignoreBlurEvent=!0),"undefined"==typeof document.addEventListener){if(!i){var n=this.$field.get(0);n.attachEvent("onbeforedeactivate",e),setTimeout(function(){n.detachEvent("onbeforedeactivate",e)},0)}return}}t.preventDefault()}}},_renders:{disabledBlanket:function(){return l("<div class='aui-disabled-blanket' />").height(this.$field.outerHeight())},overlabel:function(){return l("<span class='overlabel' />").text(this.options.overlabel).attr({"data-target":this.options.id+"-field",id:this.options.id+"-overlabel"})},baseField:function(t){var e=document.createElement(t||"input");return l(e).attr({autocomplete:"off",role:"combobox","aria-autocomplete":"list"})},field:function(){return this._render("baseField").attr({class:"text",id:this.options.id+"-field",type:"text"})},container:function(){return l("<div class='queryable-select' id='"+this.options.id+"-queryable-container' />")},dropdownAndLoadingIcon:function(t){return l('<span class="icon noloading"><span>More</span></span>').toggleClass("drop-menu",!!t)},suggestionsContainer:function(t){return l("<div />").attr({class:"aui-list",id:t+u,tabindex:"-1",role:"listbox"})}}})}),AJS.namespace("AJS.QueryableDropdown",null,require("jira/ajs/select/queryable-dropdown-select")),AJS.namespace("AJS.QueryableDropdownSelect",null,require("jira/ajs/select/queryable-dropdown-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/MultiSelect.Lozenge.js' */
define("jira/ajs/select/multi-select/lozenge",["jira/util/formatter","jira/util/assistive","jira/ajs/control","jquery"],function(e,t,n,s){var i,o=0;return n.extend({init:function(e){this.id=o,o+=1,this._setOptions(e),this.$lozenge=this._render("lozenge"),this.$removeButton=this._render("removeButton"),this.$removeButton.tooltip(),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$removeButton.appendTo(this.$lozenge),this.$lozenge.appendTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{lozenge:function(){var n=AJS.escapeHtml(this.options.label);AJS.escapeHtml(this.options.title)||"";return i||(i=t.createOrUpdateLabel("Press delete or backspace to remove this option")),s('<li class="item-row" role="option"><button type="button" tabindex="-1" class="value-item"><span><span class="value-text">'+n+"</span></span></button></li>").attr({"aria-describedby":i,id:"item-row-"+this.id})},removeButton:function(){return s('<em class="item-delete" aria-label=" "></em>')}},_events:{instance:{focus:function(){this.$lozenge.addClass(this.options.focusClass)},blur:function(){this.$lozenge.removeClass(this.options.focusClass)},remove:function(){this.$lozenge.remove()}},lozenge:{click:function(){this.trigger("focus")}},removeButton:{click:function(){this.trigger("remove")}}}})}),AJS.namespace("AJS.MultiSelect.Lozenge",null,require("jira/ajs/select/multi-select/lozenge"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/MultiSelect.LozengeGroup.js' */
define("jira/ajs/select/multi-select/lozenge-group",["jira/ajs/group"],function(t){return t.extend({keys:{Left:function(){this.index>0&&this.shiftFocus(-1)},Right:function(){this.index===this.items.length-1?this.items[this.index].trigger("blur"):this.shiftFocus(1)},Backspace:function(){var t=this.index;t>0?this.shiftFocus(-1):this.items.length>1&&this.shiftFocus(1),this.items[t].trigger("remove")},Return:function(){this.items[this.index].trigger("blur")},Del:function(){var t=this.index;t+1<this.items.length&&this.shiftFocus(1),this.items[t].trigger("remove")}}})}),AJS.namespace("AJS.MultiSelect.LozengeGroup",null,require("jira/ajs/select/multi-select/lozenge-group"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/MultiSelect.js' */
define("jira/ajs/select/multi-select",["jira/util/formatter","jira/ajs/layer/layer-constants","jira/ajs/select/multi-select/lozenge","jira/ajs/select/multi-select/lozenge-group","jira/ajs/select/queryable-dropdown-select","jira/ajs/select/select-helper","jira/ajs/select/select-model","jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/ajs/list/item-descriptor","jira/util/objects","jira/util/assistive","jquery"],function(e,t,i,s,n,o,r,l,a,u,d,h,c,p){return n.extend({init:function(e){return this._setOptions(e)===this.INVALID?this.INVALID:(p.extend(this,o),this.options.element=p(this.options.element),this.lozengeGroup=this.options.itemGroup,this.prevQuery=void 0,this._createSelectModel(),this.options.disabled?(this._createFurniture(!0),this):(this._createFurniture(),this._createSuggestionsController(),this._createListController(),this._createDropdownController(),this._assignEventsToFurniture(),this._setInitState(),this.options.width&&this.setFieldWidth(this.options.width),void this.model.$element.addClass("multi-select-select").trigger("initialized",[this])))},_createSelectModel:function(){this.model=new r({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})},_setInitState:function(){this._restoreSelectedOptions(),this.options.inputText&&(this.$field.val(this.options.inputText),this.updateFreeInputVal())},_createListController:function(){var e=this;this.listController=new u({containerSelector:p(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,expandAllResults:this.options.expandAllResults,selectionHandler:function(t){return e._selectionHandler(this.getFocused(),t),!1}})},_createDropdownController:function(){var e=this;this.dropdownController=a.createInlineLayers({alignment:t.LEFT,offsetTarget:this.$field,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,content:p(".aui-list",this.$container)}),this.options.layerId&&(this.dropdownController.options.id=this.options.layerId),this.dropdownController.onhide(function(){e.hideSuggestions()})},_createSuggestionsController:function(){this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options,this.model):new l(this.options,this.model)},_getDefaultOptions:function(){return p.extend(!0,this._super(),{minRoomForText:50,errorMessage:"The value {0} is invalid.",showDropdownButton:!0,itemGroup:new s,suggestionsHandler:l,itemBuilder:function(e){return new i({label:e.label(),title:e.title(),container:this.$selectedItemsContainer})}})},_createFurniture:function(e){var t=this.model.$element.attr("id");if(this.model.$element.prevAll('label[for="'+t+'"]').attr({for:t+"-textarea"}),this.model.$element.prev().hasClass("ajs-multi-select-placeholder")&&this.model.$element.prev().remove(),e)this.model.$element.replaceWith(this._render("disableSelectField",t));else{this.$container=this._render("container",t),this.$field=this._render("field",t).appendTo(this.$container);var i=this._render("suggestionsContainer",t);this.$container.append(i),this.suggestionsContainerId=i.attr("id"),this.$container.insertBefore(this.model.$element),this.$dropDownIcon=this._render("dropdownAndLoadingIcon",this._hasDropdownButton()).appendTo(this.$container),this.$errorMessage=this._render("errorMessage",t),this.$selectedItemsWrapper=this._render("selectedItemsWrapper").appendTo(this.$container),this.$selectedItemsContainer=this._render("selectedItemsContainer").appendTo(this.$selectedItemsWrapper)}},_assignEventsToFurniture:function(){var e=this;this._super(),this._assignEvents("body",document),this._assignEvents("selectedItemsContainer",this.$selectedItemsContainer),this._assignEvents("lozengeGroup",this.lozengeGroup),this.model.$element.bind("updateOptions",function(t){e.options=p.extend(!0,e.options,e.model.$element.getOptionsFromAttributes()),e._createSuggestionsController()}).bind("selectOption",function(t,i){e.addItem(i)}).bind("removeOption",function(t,i){e.removeItem(i)}).bind("clearSelection",function(){e.clearLozenges()}).bind("showSuggestions",function(t){e._handleDown(t)}).bind("hideSuggestions",function(){e.hideSuggestions()})},_getUserInputValue:function(){return this.options.uppercaseUserEnteredOnSelect?this.$field.val().toUpperCase():this.$field.val()},clear:function(){this.$field.val(""),this.hideSuggestions(),this.clearSelection()},clearSelection:function(){this.model.setAllUnSelected(),this.updateItemsIndent(),this.model.$element.trigger("unselect",[this])},clearLozenges:function(){this.lozengeGroup.removeAllItems(),this.clear()},removeItem:function(e){var t=this;this.model.setUnSelected(e),window.setTimeout(function(){t.updateItemsIndent()},0),this.model.$element.trigger("unselect",[e,this])},_restoreSelectedOptions:function(){var e=this;p.each(this.model.getDisplayableSelectedDescriptors(),function(){e.addItem(this,!0)}),this.updateItemsIndent()},_shouldEnableLozengeGroup:function(){return this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0&&(0===this.$field.val().length||0===this.getCaret(this.$field[0]))},_handleBackSpace:function(){var e=this;this._shouldEnableLozengeGroup()&&setTimeout(function(){e.lozengeGroup.shiftFocus(-1)},0)},_handleLeft:function(){if(this._shouldEnableLozengeGroup()){var e=this;setTimeout(function(){e.lozengeGroup.shiftFocus(-1)},0)}},updateItemsIndent:function(){var e=20,t=this._getInputIndent(),i=t.top+e;i+=this.$container&&this.$container.closest(".inline-edit-fields").size()?0:6,this.$field.css({paddingTop:t.top,paddingLeft:t.left}),this.$field.css({height:i}),this.currentTopOffset&&this.currentTopOffset!==t.top&&this.$container.trigger("multiSelectHeightUpdated",[this]),this.currentTopOffset=t.top},_isItemPresent:function(e){var t=!1,i=e.value();return p.each(this.lozengeGroup.items,function(){if(this.value===i)return t=!0,!1}),t},addItem:function(e,t){if(e instanceof d&&(e=h.copyObject(e.allProperties(),!1)),e.value=p.trim(e.value),e.label=p.trim(e[this.options.itemAttrDisplayed])||e.value,e.title=p.trim(e.title)||e.label,e=new d(e),!this._isItemPresent(e)){var i=this.options.itemBuilder.call(this,e);this.lozengeGroup.addItem(i),this._assignEvents("lozenge",i),this.model.setSelected(e),this.updateItemsIndent(),this.dropdownController.setPosition(),i.value=e.value(),t||this.model.$element.trigger("selected",[e,this])}},_addMultipleItems:function(e,t){var i=this;p.each(e,function(e,s){t&&(s.removeOnUnSelect=!0),i.addItem(s)})},_getInputIndent:function(){var e,t,i,s,n=21,o=5,r=4,l=this.lozengeGroup.items.length-1;return i={top:r,left:o},l>=0&&(s=this.lozengeGroup.items[l].$lozenge,e=s.prop("offsetTop"),t=s.prop("offsetLeft")+s.outerWidth(),t>this.$container.width()-n-this.options.minRoomForText&&(e+=s.prop("offsetHeight"),t=0),i.top+=e,i.left+=t),i},_selectionHandler:function(e,t){var i=this;e.each(function(){i.addItem(p.data(this,"descriptor"))}),this.$field.val("").focus().scrollIntoView({margin:20}),this.hideSuggestions(),this.hideErrorMessage(),this.updateFreeInputVal(),this.model.$element.trigger("change"),t.preventDefault()},isValidItem:function(e){var t=this.listController.getFocused().data("descriptor");return!!t&&(e=e.toLowerCase(),e===p.trim(t.label.toLowerCase())||e===p.trim(t.value.toLowerCase()))},handleFreeInput:function(){var e,t=p.trim(this.$field.val());t&&(e=this.model.getDescriptor(t),e?(this.addItem(e),this.model.$element.trigger("change"),this.$field.val(""),this.hideErrorMessage(),this.updateFreeInputVal()):this.options.submitInputVal||this.showErrorMessage(t))},submitForm:function(){0!==this.$field.val().length||this.suggestionsVisible||p(this.$field[0].form).submit()},_handleCharacterInput:function(e,t){this._super(e,t),this.updateFreeInputVal()},_deactivate:function(){this.handleFreeInput(),this.lozengeGroup.trigger("blur"),this.hideSuggestions()},keys:{Left:function(){this._handleLeft()},Backspace:function(){this._handleBackSpace()},Return:function(e){this.submitForm(),e.preventDefault()},Tab:function(e){this.acceptFocusedSuggestion()}},_events:{body:{tabSelect:function(){this.$field.is(":visible")&&this.updateItemsIndent()},multiSelectRevealed:function(){this.$field.is(":visible")&&this.updateItemsIndent()}},field:{blur:function(){this.ignoreBlurEvent?(this.ignoreBlurEvent=!1,this.$field.focus()):this._deactivate()},"aui:keydown aui:keypress":function(e){this.lozengeGroup.index>=0&&(e.key in this.lozengeGroup.keys?e.preventDefault():"Return"===e.key?(this.submitForm(),e.preventDefault()):(this.onEdit(e),this.lozengeGroup.trigger("blur")))},click:function(){this.prevQuery=void 0,this.lozengeGroup.trigger("blur"),this.$field.focus()}},lozengeGroup:{focus:function(){this.$field.focus(),this.hideSuggestions(),this._unassignEvents("keys",this.$field),this.$field.attr("aria-controls",this.suggestionsContainerId)},blur:function(){this._assignEvents("keys",this.$field),this.$field.removeAttr("aria-controls"),this.$field.val()&&this.$field.val()!=this.prevQuery&&(this.prevQuery=this.$field.val(),this._handleCharacterInput())}},lozenge:{remove:function(e){this.removeItem(this.model.getDescriptor(e.target.value)),this.$field.focus()},focus:function(e){c.wait(function(){this.$field.attr("aria-activedescendant",e.currentTarget.$lozenge.attr("id"))}.bind(this))},blur:function(){this.$field.removeAttr("aria-activedescendant")}},selectedItemsContainer:{click:function(e){e.target===e.currentTarget&&(this.lozengeGroup.trigger("blur"),this.$field.focus())}}},_renders:{errorMessage:function(e){return p('<div class="error" />').attr("id",e+"-error")},selectedItemsWrapper:function(){return p('<div class="representation"></div>')},selectedItemsContainer:function(){return p('<ul class="items" role="listbox" />')},field:function(e){return this._render("baseField","textarea").attr({id:e+"-textarea",class:"text long-field",wrap:"off"})},disableSelectField:function(e){return p("<input type='text' class='long-field' />").attr({name:e,id:e})},container:function(e){return p('<div class="jira-multi-select long-field" id="'+e+'-multi-select">')},suggestionsContainer:function(e){return p('<div class="aui-list" tabindex="-1" />').attr("id",e+"-suggestions")}}})}),AJS.namespace("AJS.MultiSelect",null,require("jira/ajs/select/multi-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/jira/field/IssuePicker.js' */
define("jira/field/issue-picker",["jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery","jira/libs/parse-uri"],function(e,s,i,t,r,n){var a=t(),u=e.extend({_formatResponse:function(e){var t=[],u=function(){var e=n(window.location);return e.protocol+"://"+e.authority}();return e&&e.sections&&r(e.sections).each(function(e,n){var p=new s({weight:e,label:n.label,description:n.sub});n.issues&&n.issues.length>0&&r(n.issues).each(function(){p.addItem(new i({highlighted:!0,value:this.key,label:this.key+" - "+this.summaryText,icon:this.img?u+a+this.img:null,html:this.keyHtml+" - "+this.summary}))}),t.push(p)}),t},_getDefaultOptions:function(){return r.extend(!0,this._super(),{ajaxOptions:{formatResponse:this._formatResponse}})},_launchPopup:function(){function e(e,s){return null==e?s:e}var s,i,t,n,p=this;u.callback=function(e){"string"==typeof e&&(e=JSON.parse(e)),p._addMultipleItems(e,!0),p.$field.focus()},n=this.options.ajaxOptions.data,s=a+"/secure/popups/IssuePicker.jspa?",i={singleSelectOnly:"false",decorator:"popup",currentIssue:n.currentIssueKey||"",showSubTasks:e(n.showSubTasks,!1),showSubTasksParent:e(n.showSubTaskParent,!1)},n.currentProjectId&&(i.currentProjectId=n.currentProjectId),n.issueTypeId&&(i.issueTypeId=n.issueTypeId),s+=r.param(i),t=window.open(s,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width="+this.options.popupWidth+",height="+this.options.popupHeight+",scrollbars=yes,resizable"),t.opener=self,t.focus()},_createFurniture:function(e){var s;this._super(e),s=this._render("popupLink"),this._assignEvents("popupLink",s),this.$container.addClass("jira-issue-picker"),this.$container.addClass("hasIcon"),this.$container.after(s)},handleFreeInput:function(){var e=this.$field.val().toUpperCase().match(/\S+/g);e&&this._addMultipleItems(r.map(e,function(e){return{value:e,label:e}})),this.$field.val("")},_events:{popupLink:{click:function(e){this._launchPopup(),e.preventDefault()}}},_renders:{popupLink:function(){return r("<a class='issue-picker-popup' />").attr({href:"#",title:this.options.popupLinkMessage}).text(""+this.options.popupLinkMessage)}}});return u.callback=null,u}),AJS.namespace("jira.issuepicker",null,require("jira/field/issue-picker")),AJS.namespace("AJS.IssuePicker",null,require("jira/field/issue-picker")),AJS.namespace("JIRA.IssuePicker",null,require("jira/field/issue-picker"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/util/formatter","jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery"],function(e,t,i,s,a,l){var n=a();return t.extend({_getDefaultOptions:function(){return l.extend(!0,this._super(),{ajaxOptions:{url:n+"/includes/js/ajs/layer/labeldata.js",query:!0,formatResponse:this._formatResponse},removeDuplicates:!0,removeOnUnSelect:!0,userEnteredOptionsMsg:"New Label"})},isValidItem:function(e){return!/\s/.test(e)},_handleServerSuggestions:function(e){e&&e.token&&l.trim(this.$field.val())!==e.token||this._super(e)},_handleSpace:function(){""!==l.trim(this.$field.val())&&this.handleFreeInput()&&this.hideSuggestions()},keys:{Spacebar:function(e){this._handleSpace(),e.preventDefault()}},_formatResponse:function(t){var a=new i({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});return t&&t.suggestions&&l.each(t.suggestions,function(){a.addItem(new s({value:this.label,label:this.label,html:this.html,highlighted:!0}))}),[a]},handleFreeInput:function(){var e=l.trim(this.$field.val()).match(/\S+/g);if(e){for(var t,i=0;t=e[i];i++)this.addItem({value:t,label:t});this.model.$element.trigger("change")}this.$field.val("")}})}),AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker")),AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/SingleSelect.js' */
define("jira/ajs/select/single-select",["jira/util/formatter","jira/ajs/layer/layer-constants","jira/ajs/select/queryable-dropdown-select","jira/ajs/select/select-helper","jira/ajs/select/select-model","jira/ajs/select/suggestion-collection-model","jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/ajs/list/item-descriptor","jira/util/navigator","jquery","jira/util/formatter"],function(e,t,i,s,n,o,r,a,l,d,c,h,e){return i.extend({init:function(e){return this._setOptions(e)===this.INVALID?this.INVALID:(this._createSelectModel(),this.options.disabled?(this._createFurniture(!0),this):(h.extend(this,s),this._createFurniture(),this._createSuggestionsController(),this._createDropdownController(),this._createListController(),this._assignEventsToFurniture(),this._setInitState(),this.options.width&&this.setFieldWidth(this.options.width),this.$overlabel&&this.$overlabel.overlabel(this.$field),this.options.uneditable&&this.disable(),void this.model.$element.addClass("aui-ss-select").trigger("initialized",[this])))},disable:function(){this.$container.find(".drop-menu").addClass("hidden"),this.$container.find("input").attr("disabled","disabled"),this.$container.find("input").attr("aria-disabled","true"),this._super()},enable:function(){this.$container.find(".drop-menu").removeClass("hidden"),this.$container.find("input").removeAttr("disabled"),this.$container.find("input").removeAttr("aria-disabled"),this._super()},_setInitState:function(){this.options.editValue?(this._setEditingMode(),this.$field.val(this.options.editValue)):this.getSelectedDescriptor()?this.setSelection(this.getSelectedDescriptor()):(this._setEditingMode(),this.options.inputText&&this.$field.val(this.options.inputText))},_createSelectModel:function(){this.options.model?this.model=new this.options.model({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect}):this.model=new n({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})},_createDropdownController:function(){this.dropdownController=a.createInlineLayers({alignment:t.LEFT,offsetTarget:this.$field,content:h(".aui-list",this.$container),setMaxHeightToWindow:this.options.setMaxHeightToWindow,minHeight:this.options.minHeight})},_createSuggestionsController:function(){this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options,this.model):new r(this.options,this.model)},_assignEventsToFurniture:function(){var e=this;this._super(),this.model.$element.bind("reset",function(){var t=e.getSelectedDescriptor();t&&e.setSelection(e.getSelectedDescriptor())}).bind("showSuggestions",function(t){e._handleDown(t)}).bind("hideSuggestions",function(){e.hideSuggestions()}).bind("set-selection-value",function(t,i){e._setDescriptorWithValue(i)})},setFieldWidth:function(e){this.$container.css({maxWidth:e}),this.$field.css({maxWidth:e})},_createListController:function(){var e=this;this.listController=new l({containerSelector:h(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(t){var i=this.getFocused(),s=i.data("descriptor");return e.setSelection(s),e.$field.select(),t.preventDefault(),!1}})},_updateAriaSelectedValue:function(e){this.listController.$container.find("li[aria-selected]").removeAttr("aria-selected"),e.attr("aria-selected","true")},_onItemFocus:function(e,t){this._super(e,t),this._updateAriaSelectedValue(h(t))},_updateResultsAnnouncement:function(t){var i=500;this.$announcementContainer.text(" "),setTimeout(function(){t||this.$announcementContainer.text("No Matches")}.bind(this),i)},getSelectedDescriptor:function(){return this.model.getDisplayableSelectedDescriptors()[0]},getDisplayVal:function(e){return e[this.options.itemAttrDisplayed||"label"]()},_getDefaultOptions:function(){return h.extend(!0,this._super(),{errorMessage:"The value {0} is invalid.",revertOnInvalid:!1,showDropdownButton:!0,showIcon:!0})},_createFurniture:function(e){const t=this.model.$element,i=t.attr("id"),s=this.model.id,n=t.attr("required")||t.attr("aria-required"),o=t.attr("aria-describedby"),r=this.model.$element.attr("aria-labelledby");t.data("aui-ss",!0),this.$container=this._render("container",s);const a=t.data("container-class");a&&this.$container.addClass(a);const l=h("label[for='"+i+"']");if(l.length&&l.attr("for",s+"-field"),e){var d=t.val()&&t.val()[0];d=d||"",t.replaceWith(this._render("disableSelectField",i,d))}else{const c=this.model.getPlaceholder();this.$field=this._render("field",s,c).appendTo(this.$container);const u=this._render("suggestionsContainer",s);this.suggestionsContainerId=u.attr("id"),this.$container.append(u),this.$field.attr({"aria-required":n,"aria-describedby":o,"aria-invalid":"false"}),this.$field.attr("aria-controls",u.attr("id")),r&&this.$field.attr("aria-labelledby",r),this.$container.insertBefore(t),this.$dropDownIcon=this._render("dropdownAndLoadingIcon",this._hasDropdownButton()).appendTo(this.$container),this.$errorMessage=this._render("errorMessage",o),this.$announcementContainer=this._render("announcementContainer",i).appendTo(this.$container)}},getQueryVal:function(){return this.$container.hasClass("aui-ss-editing")?h.trim(this.$field.val()):""},_setSuggestions:function(e,t){e?(this._super(e,t),this.model.$element.trigger("suggestionsRefreshed",[this]),this._updateResultsAnnouncement(e.length)):this.hideSuggestions()},_setEditingMode:function(){this.$container.addClass("aui-ss-editing").removeClass("aui-ss-has-entity-icon"),this.$field.css("paddingLeft")},_hasIcon:function(){var e,t=this.getSelectedDescriptor();if(t&&this.options.showIcon)return e=t.icon(),e&&"none"!==e},_setReadOnlyMode:function(){this.$container.removeClass("aui-ss-editing"),this._hasIcon()&&(this.$container.addClass("aui-ss-has-entity-icon"),c.isIE()&&c.majorVersion()>8&&this.$container.append(this.$field.detach()))},submitForm:function(){this.suggestionsVisible||(this.handleFreeInput(),h(this.$field[0].form).submit())},selectValue:function(e){this.listController.selectValue(e)},showSuggestions:function(){this._super(),this.$field.attr("aria-expanded","true")},hideSuggestions:function(){this._super(),this.$field.attr("aria-expanded","false"),this.$announcementContainer.text("")},setSelection:function(e,t){t="undefined"==typeof t||t,"string"==typeof e&&(e=new d({value:e,label:e})),this.removeFreeInputVal(),this.$field.val(e.fieldText()||this.getDisplayVal(e)),this.$field.trigger("change"),this.model.setSelected(e,t)&&this.hideErrorMessage(),this._hasIcon()&&(this.$entityIcon&&this.$entityIcon.remove(),this.$entityIcon=this._render("entityIcon",e.icon()).appendTo(this.$container)),this._setReadOnlyMode(),this.hideSuggestions(),this.lastSelection=e,this.model.$element.trigger("selected",[e,this])},clear:function(){this.$field.val(""),this.hideSuggestions(),this.clearSelection()},clearSelection:function(){var e=this;e._setEditingMode(),e.model.setAllUnSelected(),e.model.$element.trigger("unselect",[this])},_handleServerSuggestions:function(e){this.cleanUpModel(),this._super(e)},cleanUpModel:function(){this.options.ajaxOptions.query&&this.model.clearUnSelected()},onEdit:function(){this.getSelectedDescriptor()&&this.clearSelection(),this._super(),this.model.$element.trigger("query")},handleFreeInput:function(e){e=e||h.trim(this.$field.val()),this.options.revertOnInvalid&&!this.model.getDescriptor(e)?this.setSelection(this.lastSelection||""):this.$container.hasClass("aui-ss-editing")&&(this._setDescriptorWithValue(e)?this.hideErrorMessage():this.options.submitInputVal||this.showErrorMessage(e))},hideErrorMessage:function(){this._super(),this.$field.attr("aria-invalid",!1),this.model.$element.attr("aria-invalid",!1)},showErrorMessage:function(e){const t="false"===this.model.$element.attr("aria-invalid");t&&(this.$field.attr("aria-invalid",!0).focus(),this.model.$element.attr("aria-invalid",!0),this._super(e))},_setDescriptorWithValue:function(e){var t=this.model.getDescriptor(e);return!!t&&(this.setSelection(t),!0)},_handleCharacterInput:function(e){this._super(e),this.$container.hasClass("aui-ss-editing")&&this.updateFreeInputVal()},_deactivate:function(){this.handleFreeInput(),this.hideSuggestions()},keys:{Return:function(e){this.submitForm(),e.preventDefault()},Tab:function(){this.acceptFocusedSuggestion()}},_events:{field:{focus:function(){var e=this;window.setTimeout(function(){e.$field.is(":focus")&&e.$field.select()},0)},click:function(){this._handleCharacterInput(!0)}}},_renders:{label:function(e,t){return h("<label />").attr("for",t).text(e).addClass("overlabel")},errorMessage:function(e){const t=h('<div class="error" />');return t.attr({id:e,role:"alert"}),t},entityIcon:function(e){var t=h('<img class="aui-ss-entity-icon" alt=""/>');return t.attr("src",e),t},field:function(e,t){var i=this._render("baseField").attr({class:"text aui-ss-field ajs-dirty-warning-exempt",id:e+"-field",type:"text","aria-haspopup":"true","aria-expanded":"false"});return t&&i.attr("placeholder",t),i},disableSelectField:function(e,t){return h("<input type='text' class='text long-field' />").attr({value:t,name:e,id:e})},container:function(e){return h('<div class="aui-ss'+(this.options.ajaxOptions?" ajax-ss":"")+'" id="'+e+'-single-select">')},dropdownAndLoadingIcon:function(e){return h('<span class="icon aui-ss-icon noloading"><span>More</span></span>').toggleClass("drop-menu",!!e)},announcementContainer:function(e){return h('<div class="assistive" id="'+e+'-single-select-announcement" aria-live="polite" role="status">')}}})}),AJS.namespace("AJS.SingleSelect",null,require("jira/ajs/select/single-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/ScrollableSingleSelect.js' */
define("jira/ajs/select/scrollable-single-select",["jira/jquery/deferred","jira/ajs/select/single-select","jira/ajs/layer/inline-layer-factory","jira/ajs/list/pageable-list","jquery","underscore"],function(e,t,s,i,n,o){return t.extend({init:function(e){var t={newResultsThreshold:90};e=n.extend(!0,t,e),this._super(e),this.newResultsThreshold=e.newResultsThreshold},_assignEventsToFurniture:function(){var e,t=this;this._super(),this.dropdownController.$layer.on("scroll",function(){100*this.scrollTop/t.newResultsThreshold>this.scrollHeight-this.clientHeight&&(e&&!e.isResolved()||(e=t._fetchNewContent().done(function(){t.listController.isDisplayedAllItems()&&"function"==typeof t.scrolledToBottomHandler&&t.scrolledToBottomHandler()}).fail(function(s){t.listController.showPageRenderError(),t.model.$element.one("suggestionsRefreshed",function(){e=void 0})})))})},_createListController:function(){var e=this;this.listController=new i({containerSelector:n(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,pageSize:this.options.pageSize,pagingThreshold:this.options.pagingThreshold,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(t){var s=this.getFocused(),i=s.data("descriptor");return e.setSelection(i),e.$field.select(),t.preventDefault(),!1}})},_fetchNewContent:function(){var t=e();return o.defer(function(){try{this.listController.addNextPage(),t.resolve()}catch(e){t.reject(e)}}.bind(this)),t}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/CheckboxMultiSelect.js' */
define("jira/ajs/select/checkbox-multi-select",["jira/util/formatter","jira/ajs/select/queryable-dropdown-select","jira/ajs/select/select-helper","jira/ajs/select/select-model","jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler","jira/ajs/list/list","jira/ajs/list/item-descriptor","jira/util/events","jira/util/events/types","jquery","underscore"],function(e,t,i,n,s,l,o,r,a,c,d){return t.extend({init:function(e){var t=this;c.extend(this,i),this._setOptions(e);var l=c(this.options.element);if(!l.attr("multiple"))throw"Cannot create CheckboxMultiSelect without multiple-select select element.";return this.options.element=c(this.options.element).hide(),this.model=new n({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect}),this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options,this.model):new s(this.options,this.model),this.options.element.bind("updateOptions",function(){t._setOptions(e)}).bind("selectOption",function(e,i){t.selectItem(i)}).bind("removeOption",function(e,i){t.unselectItem(i)}).bind("clear",function(){t.clear()}),this._createFurniture(),this._createDropdownController(),this._createListController(),this._assignEventsToFurniture(),this.render(),this.model.$element.addClass("check-list-select-select").trigger("initialized",[this]),r.trigger(a.CHECKBOXMULITSELECT_READY,[this.model.$element,this]),this},_createListController:function(){var e=this,t=null;this.suggestionsHandler.suggestionHighlighter&&(t=this.suggestionsHandler.suggestionHighlighter.bind(this.suggestionsHandler)),this.listController=new l({stallEventBind:this.options.stallEventBind,containerSelector:c(".aui-list",this.$container),scrollContainer:".aui-list-scroll",selectionEvent:"change",delegateTarget:this.$field,hasLinks:!1,itemSelector:".check-list-item",groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,matchingHighlighter:t,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,expandAllResults:this.options.expandAllResults,renderers:this._getCustomRenders(),selectionHandler:function(t){var i;return i="change"===t.type?c(t.target).closest(this.options.itemSelector):this.getFocused(),e._selectionHandler(i,t),!1}})},_createDropdownController:function(){this.dropdownController={show:c.noop,setWidth:c.noop,setPosition:c.noop,hide:c.noop}},_getCustomRenders:function(){return{suggestion:this._renders.suggestionItem,suggestionItemElement:this._renders.suggestionItemElement.bind(this),suggestionItemResolver:this._renders.suggestionItemResolver.bind(this)}},_handleCharacterInput:function(e){c.each(this.listController.$container.find(".invalid-item"),function(){c(this).tipsy("hide")}),c.each(this.listController.$container.find(".deprecated-item"),function(){c(this).tipsy("hide")}),this.requestSuggestions(e).done(d.bind(function(e){this._setSuggestions(e)},this)),this.$dropDownIcon.toggleClass("clear-field aui-iconfont-remove",!!this.getQueryVal()),this.$dropDownIcon.toggleClass("aui-iconfont-search",!this.getQueryVal()),this.listController.moveToFirst()},_getDefaultOptions:function(){return c.extend(!0,this._super(),{errorMessage:"The value {0} is invalid.",stallEventBind:!0})},_createFurniture:function(){var e=this.model.$element.attr("id");this.$container=this._render("container",e),this.$fieldContainer=this._render("fieldContainer").appendTo(this.$container),this.$fieldContainer.attr("data-no-focus-lock",!0),this.$field=this._render("field",e,this._getPlaceholderText()).appendTo(this.$fieldContainer);var t=this._render("suggestionsContainer",e);this.suggestionsContainerId=t.attr("id"),this.$container.append(t),this.$field.attr("aria-controls",t.attr("id")),this.$container.insertBefore(this.model.$element),this.$dropDownIcon=this._render("dropdownAndLoadingIcon").appendTo(this.$fieldContainer)},_getPlaceholderText:function(){var t=c.trim(this.model.$element.data("placeholder-text"));return t&&""!==t?t:"Search"},_assignEventsToFurniture:function(){var e=this;this._assignEvents("body",document),this.options.stallEventBind?window.setTimeout(function(){e._assignEvents("field",e.$field)._assignEvents("keys",e.$field)._assignEvents("container",e.$container)._assignEvents("fieldIcon",e.$dropDownIcon)},0):e._assignEvents("field",e.$field)._assignEvents("keys",e.$field)._assignEvents("fieldIcon",e.$dropDownIcon),this.listController.$container.delegate(".clear-all","click",function(t){t.preventDefault();var i=c(t.target);i.hasClass("disabled")||(i.parent().remove(),e.clear())}),this.listController.bind("itemFocus",this._onItemFocus.bind(this))},clear:function(){var e=this,t=this.model.getDisplayableSelectedDescriptors();this.model.setAllUnSelected(),0===this.$field.val().length?(this.$field.val(""),this.listController.$container.find(":checkbox").removeAttr("checked")):(this.clearQueryField(),this.listController.moveToFirst()),this._toggleClearButton(),c.each(t,function(){e.model.$element.trigger("unselect",[this,e,!0])})},clearQueryField:function(){this.$field.val(""),this._handleCharacterInput(!0),this.$field.focus()},unselectItem:function(e){this.model.setUnSelected(e),this.model.$element.trigger("unselect",[e,this,!1]),this.$container.find(".aui-list input[type=checkbox]").each(function(){this.value===e.value()&&(this.checked=!1)})},showLoading:function(){return this.$dropDownIcon.addClass("loading").removeClass("noloading"),this},hideLoading:function(){return this.$dropDownIcon.removeClass("loading").addClass("noloading"),this},_handleEscape:function(e){function t(e){27===e.keyCode&&(e.stopPropagation(),i.off("keyup",t))}var i=this.$field;"keydown"===e.type&&""!==i.val()&&(e.stopPropagation(),i.val(""),i.on("keyup",t),this._handleCharacterInput(!0))},selectItem:function(e,t){this.model.setSelected(e),t||this.model.$element.trigger("selected",[e,this]),this.$container.find(".aui-list input[type=checkbox]").each(function(){this.value===e.value()&&(this.checked=!0)})},_selectionHandler:function(e,t){var i=this;e.each(function(){var e=c.data(this,"descriptor"),n=c(this).find(":input");(i._directCheckboxClick||t.shiftKey)&&(e.properties.fromCheckbox=!0),i._setDescriptorSelection(e,n)}),this._toggleClearButton()},_toggleClearButton:function(){var e=this.model.getSelectedValues().length>0;this.listController.$container.find(".clear-all").attr("tabindex",e?null:-1).closest(".check-list-group-actions").toggleClass("hidden",!e)},_setDescriptorSelection:function(e,t){e.selected()?(this.unselectItem(e),t.removeAttr("checked")):(this.selectItem(e),t.attr("checked","checked"))},render:function(){this._handleCharacterInput(!0)},_events:{field:{keydown:function(e){function t(){""!==c.trim(i.$field.val())&&(i.$field.val(""),i._handleCharacterInput(!0))}if(13===e.keyCode){e.preventDefault();var i=this;this.model.$element.bind("unselect selected",t),setTimeout(function(){i.model.$element.unbind("unselect selected",t)},0)}}},container:{mousedown:function(e){function t(e){"mouseup"===e.type&&(i._directCheckboxClick=!0,setTimeout(function(){i._directCheckboxClick=!1},40)),c(document).unbind("mouseup mouseleave",t)}var i=this;c(e.target).is("input[type=checkbox]")&&c(document).unbind("mouseup mouseleave",t).bind("mouseup mouseleave",t),e.target!==this.$field.get(0)&&e.preventDefault()},click:function(){this.$field.get(0)!==document.activeElement&&this.$field.focus()}},fieldIcon:{click:function(e){c(e.target).hasClass("clear-field")&&this.clearQueryField()}}},_renders:{errorMessage:function(e){return c('<div class="error" />').attr("id",e+"-error")},fieldContainer:function(){return c("<div class='check-list-field-container' />")},field:function(e,t){return this._render("baseField").attr({placeholder:t,"aria-label":t,class:"aui-field check-list-field",id:e+"-input"})},disableSelectField:function(e){return c("<input type='text' class='long-field' />").attr({name:e,id:e})},container:function(e){return c('<div class="check-list-select" />').attr("id",e+"-multi-select")},suggestionItemElement:function(e,t){var i,n=c("<input type='checkbox' tabindex='0'/>").val(e.value()),s=c('<li class="check-list-item" role="option" />').attr("id",e.value()+"-"+this.options.id),l=c("<label class='item-label' />");e.styleClass()&&s.addClass(e.styleClass()),t?l.html(t):e.html()?l.html(e.html()):l.text(e.label()),e.selected()&&n.attr("checked","checked"),e.icon()&&"none"!==e.icon()&&(i=c("<img height='16' width='16' align='absmiddle' alt='' />").attr("src",e.icon()),e.fallbackIcon()&&"none"!==e.fallbackIcon()&&i.one("error",function(){this.src=e.fallbackIcon()}),l.prepend(i)),e.title()&&(l.attr("title",e.title()),l.attr("data-descriptor-title",e.title()),l.tipsy()),e.disabled()&&(s.addClass("disabled"),n.attr("disabled","disabled"));var o=e.meta()&&e.meta().isDeprecated;return o&&(s.addClass("disabled"),n.attr("disabled","disabled"),s.addClass("deprecated-disabled"),n.addClass("deprecated-disabled")),l.prepend(n),s.append(l),s},suggestionItemResolver:function(e,t){return this._render("suggestionItemElement",e,t)},suggestionItem:function(t,i){var n,s=this._render("suggestionItemResolver",t,i),l=s.find("label"),o=t.meta()&&t.meta().isDeprecated;if(t.invalid()||t.disabled()||o){s.addClass("has-invalid-item"),o?(l.append("<span class='deprecated-item'></span>"),n=l.find(".deprecated-item")):(l.append("<span class='invalid-item'></span>"),n=l.find(".invalid-item")),d.defer(function(){s.attr("original-title",s.attr("title")),s.removeAttr("title")});var r;t.title()?(r=t.title(),l.attr("original-title",r),l.removeAttr("title")):r=e.format("{0} \'\'{1}\'\' is not valid for your current Project(s) and/or Issue Type(s) selection","Value",t.label())}return s.data("descriptor",t)},dropdownAndLoadingIcon:function(){return c('<span class="icon-default aui-icon aui-icon-small aui-iconfont-search noloading"></span>')}},handleFreeInput:c.noop,hideSuggestions:c.noop,showErrorMessage:c.noop,_deactivate:c.noop})}),AJS.namespace("AJS.CheckboxMultiSelect",null,require("jira/ajs/select/checkbox-multi-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/CheckboxMultiSelectStatusLozenge.js' */
define("jira/ajs/select/checkbox-multi-select-status-lozenge",["jira/ajs/select/checkbox-multi-select","jquery"],function(e,t){return e.extend({_getCustomRenders:function(){var e=this._super();return e.suggestionItemStatusLozenge=this._renders.suggestionItemStatusLozenge,e},_renders:{suggestionItemStatusLozenge:function(e){var s=t("<input type='checkbox' tabindex='-1' />").val(e.value()),a=t('<li class="check-list-item" role="option" />').attr("id",e.value()+"-"+this.options.id),l=t("<label class='item-label' />");return e.styleClass()&&a.addClass(e.styleClass()),l.html(JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus:e.model().data("simple-status"),isSubtle:!0})),e.selected()&&s.attr("checked","checked"),e.title()&&l.attr("data-descriptor-title",e.title()),e.disabled()&&(a.addClass("disabled"),s.attr("disabled","disabled")),l.prepend(s),a.append(l),a},suggestionItemResolver:function(e,t){return e.model().data("simple-status")?this._render("suggestionItemStatusLozenge",e):this._render("suggestionItemElement",e,t)}}})}),AJS.namespace("AJS.CheckboxMultiSelectStatusLozenge",null,require("jira/ajs/select/checkbox-multi-select-status-lozenge"));;
;
/* module-key = 'jira.webresources:jira-analytics-amd', location = '/includes/jira/analytics.js' */
define("jira/analytics",function(){"use strict";function n(){return window.AJS||(window.AJS={}),window.AJS}function e(n){u.EventQueue.push(n)}var u=n();return u.EventQueue=u.EventQueue||[],{send:e}});;
;
/* module-key = 'jira.webresources:trigger-custom-event', location = '/js/customevents/trigger-custom-event.js' */
define("jira/customevents/trigger-custom-event",["underscore","jira/data/local-storage","jira/data/cookie"],function(n,e,t){var r=function(n){function e(n){try{if(null==n.location.href)return!1}catch(n){return!1}return!0}function t(n){return n===n.parent}for(var r=n;!t(r)&&e(r.parent);)r=r.parent;return r},i=function(i,a,o){var u=e.getItem("__storejs_navigation-session-provider_navigationSessionId")||t.read("navigationSessionId",null);if(u){var c=document.createEvent("Event");c.detail=n.extend({},{eventName:a},o),c.initEvent(i,!0,!1);var s=r(window);return s.document.dispatchEvent(c),c}};return{trigger:i,getTopmostSameOriginWindow:r}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client-library', location = 'jira-client-analytics-module/node_modules/@atlassiansox/analytics-web-client/dist/analytics-web-client.with-deps.amd.js' */
define("analytics-web-client",[],(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=r(1);r.d(t,"default",(function(){return n.default})),r.d(t,"STARGATE_PROXY_PATH",(function(){return n.STARGATE_PROXY_PATH}));var i=r(6);r.d(t,"apdexType",(function(){return i.apdexType})),r.d(t,"envType",(function(){return i.envType})),r.d(t,"eventType",(function(){return i.eventType})),r.d(t,"originType",(function(){return i.originType})),r.d(t,"platformType",(function(){return i.platformType})),r.d(t,"tenantType",(function(){return i.tenantType})),r.d(t,"userType",(function(){return i.userType})),r.d(t,"originTracingType",(function(){return i.originTracingType}));var s=r(97);r.d(t,"DwellTimeHelper",(function(){return s.default}));var o=r(99);r.d(t,"DwellTimeHelperWithBrowserInteraction",(function(){return o.default}));var a=r(13);r.d(t,"CompressionRule",(function(){return a.CompressionRule})),r.d(t,"StopLowPriorityEventDelayReason",(function(){return a.StopLowPriorityEventDelayReason}));var c=r(24);r.d(t,"ResilienceMechanism",(function(){return c.ResilienceMechanism}));var u=r(102);r.d(t,"TypeAheadHelper",(function(){return u.default}))},function(e,t,r){"use strict";r.r(t),r.d(t,"STARGATE_PROXY_PATH",(function(){return P})),r.d(t,"default",(function(){return j}));var n=r(2),i=r.n(n),s=r(3),o=r.n(s),a=r(6),c=r(7),u=r(10),l=r(11),d=r(13),h=r(15),f=r(22),m=r(83),p=r(8),g=r(90),y=r(91),b=r(92),v=r(93),I=r(94),E=r(95),O=r(84),w=r(96),T=r(55);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const P="/gateway/api/gasv3/api/v1";class j{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i()(this,"_useStargate",e=>null==e||e),i()(this,"_selectHost",e=>{let{useStargate:t,env:r,useLegacyUrl:n}=e;return t?n?r===a.envType.PROD?"api-private.atlassian.com/gasv3/api/v1":"api-private.stg.atlassian.com/gasv3/api/v1":window.location.host+P:r===a.envType.PROD?"as.atlassian.com/api/v1":"as.staging.atl-paas.net/api/v1"}),i()(this,"_endsWith",(e,t)=>-1!==e.indexOf(t,e.length-t.length)),i()(this,"_changeInternalUserId",(e,t)=>{this.eventProcessor.getUser().setUserId(e),t&&t!==this.eventProcessor.getUser().getAnonymousId()&&this.eventProcessor.getUser().setAnonymousId(t)}),i()(this,"_createSubproductGetter",e=>Object(u.default)(e,"Cannot get subproduct from the callback. Proceeding without it.")),i()(this,"_createEmbeddedProductGetter",e=>Object(u.default)(e,"Cannot get embeddedProduct from the callback. Proceeding without it.")),i()(this,"_getLastScreenEvent",()=>{try{return JSON.parse(this._safeSessionStorage.getItem("last.screen.event")||"")}catch(e){return this._safeSessionStorage.removeItem("last.screen.event"),null}}),i()(this,"_setLastScreenEvent",e=>{this._safeSessionStorage.setItem("last.screen.event",JSON.stringify({name:e.name,attributes:e.attributes}))}),i()(this,"_shouldEventBeDelayed",e=>{if(!e.tags||-1===e.tags.indexOf("measurement"))return!1;const t=!1!==e.highPriority;return this.eventDelayQueue.isDelayingLowPriorityEvents()&&!t}),i()(this,"_fireEvent",(e,t,r,n)=>{switch(t.eventType){case a.eventType.UI:case a.eventType.OPERATIONAL:case a.eventType.TRACK:return this.eventProcessor.track(e,t,r,n);case a.eventType.SCREEN:return this.eventProcessor.page(e,t,r,n);case a.eventType.IDENTIFY:return this.eventProcessor.identify(e,t,r,n);default:throw new Error("No handler has been defined for events of type "+t.eventType)}}),i()(this,"_fireDelayedEvent",(e,t,r,n)=>{try{this._changeInternalUserId(n.userId,n.anonymousId),t.tags=[...t.tags||[],"sentWithDelay"],this._fireEvent(e,t,r,void 0)}finally{this._changeInternalUserId(this._userInfo.userId,this._userInfo.anonymousId)}}),i()(this,"_delayEvent",(e,t,r,n,i)=>{this.eventDelayQueue.push(e,t,r,n),i&&i()}),i()(this,"_processEvent",(e,t,r,n)=>(this._testingCache.saveEvent(t),this._shouldEventBeDelayed(t)?(this._delayEvent(e,t,r,this._userInfo,n),Promise.resolve()):this._fireEvent(e,t,r,n))),i()(this,"setEmbeddedProduct",e=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(e),this.resetUIViewedTimers()}),i()(this,"clearEmbeddedProduct",()=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(null)}),i()(this,"setSubproduct",e=>{this._productInfo.subproduct=this._createSubproductGetter(e),this.resetUIViewedTimers()}),i()(this,"setOriginTracingHandlers",e=>{const t=this.originTracing.handleOriginParameters(e,this._historyReplaceFn);Object.keys(t).forEach(e=>{void 0!==t[e].taskSessionId&&this.task.createTaskSessionWithProvidedId(e,t[e].taskSessionId)});const r={};return Object.keys(t).forEach(e=>{t[e].originTracingAttributes?r[e]=t[e].originTracingAttributes:console.warn(`Handling method for origin parameter ${e} has not returned any attributes`)}),Object.keys(t).length>0?this.sendOperationalEvent({action:"landed",actionSubject:"origin",source:"webClient",attributes:{originTracesLanded:r}},()=>{}):Promise.resolve()}),i()(this,"setTenantInfo",(e,t)=>{if(!e)throw new Error("Missing tenantIdType");if(e!==a.tenantType.NONE&&!t)throw new Error("Missing tenantId");if(!Object(a.isType)(a.tenantType,e))throw new Error(`Invalid tenantIdType '${e}', must be an tenantType: [${Object(a.objectValues)(a.tenantType)}]`);this._tenantInfo={tenantIdType:e,tenantId:t}}),i()(this,"clearTenantInfo",()=>{this._tenantInfo={}}),i()(this,"setOrgInfo",e=>{if(!e)throw new Error("Missing orgId");this._orgInfo={orgId:e}}),i()(this,"clearOrgInfo",()=>{this._orgInfo={}}),i()(this,"setWorkspaceInfo",e=>{if(!e)throw new Error("Missing workspaceId");this._workspaceInfo={workspaceId:e}}),i()(this,"clearWorkspaceInfo",()=>{this._workspaceInfo={}}),i()(this,"setUserInfo",(e,t)=>{Object(h.validateIdentifyEvent)(e,t),this._changeInternalUserId(t),this._userInfo={userIdType:e,userId:t,anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),i()(this,"clearUserInfo",()=>{this._changeInternalUserId(void 0),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),i()(this,"getAnonymousId",()=>this._userInfo.anonymousId),i()(this,"setUIViewedAttributes",e=>{if(!e)throw new Error("Missing uiViewedAttributes");if("object"!=typeof e||Array.isArray(e))throw new Error("Invalid uiViewedAttributes type, should be a non array object");this._uiViewedAttributes=_({},e)}),i()(this,"getUIViewedAttributes",()=>this._uiViewedAttributes),i()(this,"clearUIViewedAttributes",()=>{this._uiViewedAttributes={}}),i()(this,"sendIdentifyEvent",(e,t,r)=>{this.setUserInfo(e,t);const n={userIdType:e,eventType:a.eventType.IDENTIFY};return this._processEvent(t,n,this._context,r)}),i()(this,"sendPageEvent",(e,t)=>this.sendScreenEvent(e,t)),i()(this,"sendScreenEvent",(e,t,r)=>{let n,i,s,o;"object"==typeof e?(n=e.name,i=e.attributes,s=e.containers,o=e.tags):(n=e,i=r),Object(h.validateScreenEvent)(n),Object(h.validateContainers)(s);const a=_({name:n},Object(l.buildScreenEvent)(this._productInfo,this._tenantInfo,this._userInfo,i,e.nonPrivacySafeAttributes,o,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,e,s));return this._setLastScreenEvent(a),this._processEvent(n,a,this._context,Object(w.default)(t,a))}),i()(this,"sendTrackEvent",(e,t)=>{Object(h.validateTrackEvent)(e);const r=Object(l.buildActionEvent)(this._productInfo,this._tenantInfo,this._userInfo,e,a.eventType.TRACK,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo);return this._processEvent(Object(l.buildActionName)(e),r,this._context,Object(w.default)(t,r))}),i()(this,"sendUIEvent",(e,t)=>{Object(h.validateUIEvent)(e);const r=Object(l.buildActionEvent)(this._productInfo,this._tenantInfo,this._userInfo,e,a.eventType.UI,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo);return this._processEvent(Object(l.buildActionName)(e),r,this._context,Object(w.default)(t,r))}),i()(this,"sendOperationalEvent",(e,t)=>{Object(h.validateOperationalEvent)(e);const r=Object(l.buildActionEvent)(this._productInfo,this._tenantInfo,this._userInfo,e,a.eventType.OPERATIONAL,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo);return this._processEvent(Object(l.buildActionName)(e),r,this._context,Object(w.default)(t,r))}),i()(this,"startUIViewedEvent",e=>{this.stopUIViewedEvent(),this._uiViewedEvent=new E.default(this._productInfo,()=>({embeddedProduct:this._productInfo.embeddedProduct(),subproduct:this._productInfo.subproduct(),tenantIdType:this._tenantInfo.tenantIdType,tenantId:this._tenantInfo.tenantId,userId:this._userInfo.userId,lastScreenEvent:this._getLastScreenEvent(),attributes:this._uiViewedAttributes}),t=>this.sendUIEvent(t,e)),this._uiViewedEvent.start()}),i()(this,"stopUIViewedEvent",()=>{this._uiViewedEvent&&(this._uiViewedEvent.stop(),this._uiViewedEvent=null)}),i()(this,"resetUIViewedTimers",()=>{this._uiViewedEvent&&this._uiViewedEvent.resetTimers()}),i()(this,"startApdexEvent",e=>{this._apdexEvent.start(e)}),i()(this,"getApdexStart",e=>this._apdexEvent.getStart(e)),i()(this,"stopApdexEvent",(e,t)=>{this._apdexEvent.stop(e,t)}),i()(this,"startLowPriorityEventDelay",(e,t)=>{this.eventDelayQueue.startLowPriorityEventDelay(e,t)}),i()(this,"stopLowPriorityEventDelay",()=>{this.eventDelayQueue.stopLowPriorityEventDelay()}),i()(this,"onEvent",(e,t)=>{if(!t)throw new Error("Missing analyticsData");if(!t.eventType)throw new Error("Missing analyticsData.eventType");if(t.eventType===a.eventType.TRACK)return this.sendTrackEvent(t);if(t.eventType===a.eventType.UI)return this.sendUIEvent(t);if(t.eventType===a.eventType.OPERATIONAL)return this.sendOperationalEvent(t);if(t.eventType===a.eventType.SCREEN)return this.sendScreenEvent(t.name,null,t.attributes);if(t.eventType===a.eventType.IDENTIFY)return this.sendIdentifyEvent(t.userIdType,t.userId);throw new Error(`Invalid analyticsData.eventType '${t.eventType}', must be an eventType: [${Object(a.objectValues)(a.eventType)}]`)}),!e)throw new Error("Missing productInfo");if(!e.env)throw new Error("Missing productInfo.env");if(!e.product)throw new Error("Missing productInfo.product");if(!Object(a.isType)(a.envType,e.env))throw new Error(`Invalid productInfo.env '${e.env}', must be an envType: [${Object(a.objectValues)(a.envType)}]`);if(e.origin){if(!Object(a.isType)(a.originType,e.origin))throw new Error(`Invalid productInfo.origin '${e.origin}', must be an originType: [${Object(a.objectValues)(a.originType)}]`)}else e.origin=a.originType.WEB;e.platform?Object(h.validatePlatform)(e):e.platform=e.origin===a.originType.WEB?a.platformType.WEB:a.platformType.DESKTOP,this.logger=t.logger||console,this._productInfo=_(_({},e),{},{subproduct:this._createSubproductGetter(e.subproduct),embeddedProduct:this._createEmbeddedProductGetter(e.embeddedProduct)}),this._tenantInfo={},this._orgInfo={},this._uiViewedAttributes={},this._context=Object(l.buildContext)(this._productInfo),this._safeSessionStorage=new y.default;const r=this._useStargate(t.useStargate),n=t.apiHost||this._selectHost({useStargate:r,env:e.env,useLegacyUrl:t.useLegacyUrl}),s=t.apiHostProtocol||"https",S={maxRetryDelay:6e4,minRetryDelay:t.minRetryDelay||1e3,backoffFactor:2,flushWaitMs:t.flushWaitInterval,flushBeforeUnload:t.flushBeforeUnload},j="awc-"+e.env;this.eventProcessor=new f.default({apiHost:n,apiHostProtocol:s,product:e.product,retryQueuePrefix:j,retryQueueOptions:S,xidPromiseGetter:()=>Object(T.XIDPromise)(t.xidConsent,t.xidPromiseFn),logger:this.logger}),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId()},this._pageVisibility=new p.default,this._tabTracking=new b.default,this._sessionTracking=new g.default({sessionExpiryTime:t.sessionExpiryTime,onNewSessionStarted:t.onNewSessionStarted}),this.task=new v.default,this.originTracing=new m.default,this._apdexEvent=new c.default(this.sendOperationalEvent,this._pageVisibility),this._historyReplaceFn="function"==typeof t.historyReplaceFn?t.historyReplaceFn:O.defaultHistoryReplaceFn,this.eventDelayQueue=new d.default(this._fireDelayedEvent,t.delayQueueCompressors||[]),this._testingCache=new I.default,this._pageLoadId=o()(),this._workspaceInfo={}}}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(4),i=r(5);e.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";r.r(t),r.d(t,"envType",(function(){return n})),r.d(t,"eventType",(function(){return i})),r.d(t,"platformType",(function(){return s})),r.d(t,"originType",(function(){return o})),r.d(t,"tenantType",(function(){return a})),r.d(t,"userType",(function(){return c})),r.d(t,"apdexType",(function(){return u})),r.d(t,"desktopPlatforms",(function(){return l})),r.d(t,"webPlatforms",(function(){return d})),r.d(t,"originTracingType",(function(){return h})),r.d(t,"objectValues",(function(){return f})),r.d(t,"isType",(function(){return m}));let n=function(e){return e.LOCAL="local",e.DEV="dev",e.STAGING="staging",e.PROD="prod",e}({}),i=function(e){return e.TRACK="track",e.UI="ui",e.OPERATIONAL="operational",e.SCREEN="screen",e.IDENTIFY="identify",e}({}),s=function(e){return e.MAC="mac",e.LINUX="linux",e.WINDOWS="windows",e.DESKTOP="desktop",e.WEB="web",e.MOBILE_WEB="mobileWeb",e}({}),o=function(e){return e.DESKTOP="desktop",e.WEB="web",e}({}),a=function(e){return e.CLOUD_ID="cloudId",e.ORG_ID="orgId",e.OPSGENIE_CUSTOMER_ID="opsgenieCustomerId",e.HALP_TEAM_ID="halpTeamId",e.TRELLO_WORKSPACE_ID="trelloWorkspaceId",e.NONE="none",e}({}),c=function(e){return e.ATLASSIAN_ACCOUNT="atlassianAccount",e.HASHED_EMAIL="hashedEmail",e.TRELLO="trello",e.OPSGENIE="opsgenie",e.HALP="halp",e}({}),u=function(e){return e.TRANSITION="transition",e.INITIAL_LOAD="initialLoad",e}({});const l=Object.freeze([s.DESKTOP,s.MAC,s.LINUX,s.WINDOWS]),d=Object.freeze([s.WEB,s.MOBILE_WEB]);let h=function(e){return e.ATL_ORIGIN="atlOrigin",e}({});function f(e){return Object.values(e)}function m(e,t){return Object.values(e).indexOf(t)>-1}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(2),i=r.n(n),s=r(6),o=r(8),a=r(9);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class l{constructor(e,t){if(i()(this,"_getEventKey",e=>{let{task:t,taskId:r}=e;return r?`${t}.${r}`:t}),i()(this,"_getEventTimingByName",e=>{const t=this._performance.getEntriesByName(e);return t[t.length-1]}),i()(this,"_getApdexFields",e=>{const t=this._getApdexTimings(e),r=this._calculateApdex({duration:t.duration,threshold:e.threshold});return u(u({},t),{},{apdex:r})}),i()(this,"_getApdexTimings",e=>{const t=this._getEventKey(e),r=t+"-start",n=e.startTime||this._getStartTime(e,r),i=e.stopTime||this._getStopTime();return this._cleanApdexState(t),{startTime:n,stopTime:i,duration:i-n}}),i()(this,"_getStartTime",(e,t)=>{let r;const n=this._performance.getTimeOrigin();if(e.type===s.apdexType.INITIAL_LOAD)r=n;else{r=n+this._getEventTimingByName(t).startTime}return r}),i()(this,"_getStopTime",()=>this._performance.getTimeOrigin()+this._performance.now()),i()(this,"_cleanApdexState",e=>{this._performance.clearMarks(e+"-start"),this._performance.clearMarks(e+"-stop"),this._startedEvents.delete(e)}),i()(this,"_getVisibilityFields",e=>{let t;if(e.type===s.apdexType.INITIAL_LOAD)t=!this._wasPreviouslyHidden;else if(e.type===s.apdexType.TRANSITION){const r=this._getEventKey(e);t=this._isActiveEvents.get(r)}return(e.startTime||e.stopTime)&&(t=!this._pageVisibility.getIsHidden()),{isActiveTab:t}}),i()(this,"_calculateApdex",e=>{let t,{duration:r,threshold:n=this._threshold}=e;return t=r<=n?1:r<=4*n?.5:0,t}),i()(this,"_validateStartEvent",e=>{if(!e)throw new Error('Missing "event" in Apdex start event');if(!e.task)throw new Error('Missing "task" in Apdex start event');if("string"!=typeof e.task)throw new Error('Invalid "task" in Apdex start event');if(e.taskId&&"string"!=typeof e.taskId)throw new Error('Invalid "taskId" in Apdex start event')}),i()(this,"_validateStopEvent",e=>{if(!e)throw new Error('Missing "event" in Apdex stop event');if(!e.task)throw new Error('Missing "task" in Apdex stop event');if("string"!=typeof e.task)throw new Error('Invalid "task" in Apdex stop event');if(e.taskId&&"string"!=typeof e.taskId)throw new Error('Invalid "taskId" in Apdex stop event');if(!e.type)throw new Error('Missing "type" in Apdex stop event');if(e.type&&!Object(s.isType)(s.apdexType,e.type))throw new Error('Invalid "type" in Apdex stop event');if(e.threshold&&"number"!=typeof e.threshold)throw new Error('Invalid "threshold" in Apdex stop event');if(!e.startTime&&e.type===s.apdexType.TRANSITION){const t=this._getEventKey(e);if(!this._startedEvents.has(t))throw new Error(`Apdex event transition "${t}" was not started`)}if(e.startTime&&!("number"==typeof e.startTime&&e.startTime>=0))throw new Error('Invalid "startTime" in Apdex stop event');if(e.stopTime&&"number"!=typeof e.stopTime)throw new Error('Invalid "stopTime" in Apdex stop event');if(e.stopTime<=e.startTime)throw new Error('"stopTime" should be greater than "startTime" in Apdex stop event')}),i()(this,"_shouldSendEvent",e=>!!e&&"number"==typeof e.apdex),i()(this,"_sendEvent",(e,t)=>{this._shouldSendEvent(e)&&this._onEvent({source:"ui",action:"readyForUser",actionSubject:"ui",attributes:u(u({},e.additionalAttributes),{},{task:e.task,taskId:e.taskId,type:e.type,threshold:e.threshold||this._threshold,apdex:e.apdex,startTime:e.startTime,stopTime:e.stopTime,duration:e.duration,isActiveTab:e.isActiveTab})},t)}),!e)throw new Error("Missing onEvent callback");if("function"!=typeof e)throw new Error("Invalid onEvent, must be function");if(!(t instanceof o.default))throw new Error("Invalid pageVisibility, must be PageVisibility class");this._startedEvents=new Map,this._performance=new a.default,this._onEvent=e,this._threshold=1e3,this._wasPreviouslyHidden=t.getIsHidden(),this._isActiveEvents=new Map,this._pageVisibility=t,this._pageVisibility.addCallback("apdexEvent",e=>{this.onVisibilityChange(!e)})}start(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;const t=this._getEventKey(e),r=t+"-start";this._startedEvents.set(t,!0),this._isActiveEvents.set(t,!this._pageVisibility.getIsHidden()),this._performance.clearMarks(r),this._performance.mark(r)}getStart(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;const t=this._getEventKey(e)+"-start";return this._getEventTimingByName(t)}stop(e,t){if(this._validateStopEvent(e),!this._performance.isAvailable())return;const r=this._getApdexFields(e),n=this._getVisibilityFields(e);this._sendEvent(u(u(u({},e),r),n),t)}onVisibilityChange(e){e||(this._wasPreviouslyHidden=!0,this._isActiveEvents.forEach((e,t)=>this._isActiveEvents.set(t,!1)))}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r(2),i=r.n(n);class s{constructor(){i()(this,"_bindEventListeners",()=>{document.addEventListener(this._visibilityChange,this._handleVisibilityChange,!1)}),i()(this,"_handleVisibilityChange",()=>{const e=document[this._hidden];this._isHidden=e,this._callbacks.forEach(t=>t(e))}),this._isHidden=!1,this._callbacks=new Map,this._hidden=void 0,this._visibilityChange=void 0,void 0!==document.hidden?(this._isHidden=document.hidden,this._hidden="hidden",this._visibilityChange="visibilitychange"):void 0!==document.msHidden?(this._isHidden=document.msHidden,this._hidden="msHidden",this._visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this._isHidden=document.webkitHidden,this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==this._hidden&&this._bindEventListeners()}addCallback(e,t){if("string"!=typeof e)throw new Error("Invalid name, must be string");if("function"!=typeof t)throw new Error("Invalid callback, must be function");this._callbacks.set(e,t)}removeCallback(e){this._callbacks.has(e)&&this._callbacks.delete(e)}getIsHidden(){return this._isHidden}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));class n{constructor(){this._performance=window.performance}clearMarks(){this._performance&&this._performance.clearMarks&&this._performance.clearMarks(...arguments)}mark(){this._performance&&this._performance.mark&&this._performance.mark(...arguments)}getEntriesByName(){return this._performance&&this._performance.getEntriesByName?this._performance.getEntriesByName(...arguments):[]}getTimeOrigin(){return this._performance&&(this._performance.timeOrigin||this._performance.timing)?this._performance.timeOrigin||this._performance.timing.navigationStart:0}now(){return this._performance&&this._performance.now?this._performance.now():Date.now?Date.now():+new Date}isAvailable(){return!!(this._performance&&this._performance.clearMarks&&this._performance.mark&&this._performance.getEntriesByName&&this._performance.timing)}}},function(e,t,r){"use strict";r.r(t);t.default=(e,t)=>()=>{if((e=>"function"==typeof e)(e))try{return e()}catch(e){return void console.error(`${t} - ${e instanceof Error?e.message:String(e)}`)}return e}},function(e,t,r){"use strict";r.r(t),r.d(t,"filterAndBuildContainers",(function(){return b})),r.d(t,"buildContainersWithName",(function(){return v})),r.d(t,"buildActionFields",(function(){return I})),r.d(t,"buildScreenEvent",(function(){return E})),r.d(t,"buildActionName",(function(){return O})),r.d(t,"buildContext",(function(){return w})),r.d(t,"extractProductOverrides",(function(){return T})),r.d(t,"buildActionEvent",(function(){return S}));var n=r(2),i=r.n(n),s=r(6),o=r(12);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return{tenantIdType:e.tenantIdType,tenantId:e.tenantId}}function l(e){return{userIdType:e.userIdType}}function d(e){return{orgId:e.orgId}}function h(e){return{workspaceId:e.workspaceId}}function f(e){return e.anonymousId?{anonymousId:e.anonymousId}:{}}function m(e,t){return void 0===t?e:t}function p(e,t){const r=t||{};return{env:m(e.env,r.env),product:m(e.product,r.product),subproduct:m(e.subproduct(),r.subproduct),version:m(e.version,r.version),origin:m(e.origin,r.origin),platform:m(e.platform,r.platform)}}function g(e){return Object(o.isPlainObject)(e)&&Object.keys(e).length>0}function y(e,t){return g(t)?{[e]:t}:void 0}function b(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];t[r]={id:n.id,type:n.type}}),t}function v(e){if(g(e)){return y("containers",b(e))}}function I(e,t){return c({containerType:e.containerType,containerId:e.containerId,source:e.source,objectType:e.objectType,objectId:e.objectId,actionSubject:e.actionSubject,action:e.action,actionSubjectId:e.actionSubjectId,attributes:e.attributes,nonPrivacySafeAttributes:e.nonPrivacySafeAttributes,tags:e.tags,highPriority:e.highPriority,eventType:t},v(e.containers))}function E(e,t,r,n,i,o,a,m,g,b,I,E,O,w){const T=p(e),S=u(t),_=l(r),P=d(b),j=h(E),k={title:"",path:"",url:"",referrer:"",search:"",eventType:s.eventType.SCREEN};return c(c(c(c(c(c(c(c(c(c({},T),S),_),P),k),function(e){return y("attributes",e)}(n)),function(e){return y("nonPrivacySafeAttributes",e)}(i)),v(w)),f(O)),{},{tags:o,tabId:a,sessionId:m,taskSessions:g,pageLoadId:I},j)}function O(e){return`${e.actionSubject} ${e.action}`}function w(e){const t=window.screen||{};return{context:{locale:e.locale,screen:{width:t.width,height:t.height,density:window.devicePixelRatio},library:{name:"analytics.js",version:"4.15.0"}}}}function T(e){const{env:t,product:r,subproduct:n,version:i,origin:s,platform:o}=e;return{env:t,product:r,subproduct:n,version:i,origin:s,platform:o}}function S(e,t,r,n,i,s,o,a,m,g,y){const b=p(e,T(n)),v=u(t),E=d(m),O=h(y),w=l(r),S=I(n,i);return c(c(c(c(c(c(c({},b),v),E),w),S),f(n)),{},{tabId:s,sessionId:o,taskSessions:a,pageLoadId:g},O)}},function(e,t,r){"use strict";function n(e){return!0==(null!==(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function i(e){if(!1===n(e))return!1;const t=e.constructor;if("function"!=typeof t)return!1;const r=t.prototype;return!1!==n(r)&&"isPrototypeOf"in r}r.r(t),r.d(t,"isPlainObject",(function(){return i}))},function(e,t,r){"use strict";r.r(t);var n=r(14);r.d(t,"CompressionRule",(function(){return n.CompressionRule}));var i=r(17);r.d(t,"default",(function(){return i.default}));var s=r(21);r.d(t,"StopLowPriorityEventDelayReason",(function(){return s.StopLowPriorityEventDelayReason}))},function(e,t,r){"use strict";r.r(t),r.d(t,"CompressionRule",(function(){return a}));var n=r(2),i=r.n(n),s=r(15),o=r(16);class a{constructor(e,t){if(i()(this,"canCompress",e=>{try{return e&&Object(s.isActionEventType)(e.eventType)&&this.predicate(e)}catch(e){return!1}}),i()(this,"compress",e=>{const[t,r]=Object(o.partition)(e,e=>this.canCompress(e)),n=this.compressFn(t);if(!n)throw new Error("No events were returned from the compression function");return n.forEach(e=>{Object(s.validateActionEventType)(e.eventType),Object(s.validateActionEvent)(e)}),n.concat(r)}),"function"!=typeof e)throw new Error("Invalid predicate, must be a function that accepts an event and returns a boolean");if("function"!=typeof t)throw new Error("Invalid compressFn, must be a function that both accepts and returns an array of events");this.predicate=e,this.compressFn=t}}},function(e,t,r){"use strict";r.r(t),r.d(t,"validateContainersObject",(function(){return o})),r.d(t,"validateContainers",(function(){return a})),r.d(t,"isActionEventType",(function(){return c})),r.d(t,"validateActionEventType",(function(){return u})),r.d(t,"validateActionEvent",(function(){return l})),r.d(t,"validateScreenEvent",(function(){return d})),r.d(t,"validateTrackEvent",(function(){return h})),r.d(t,"validateDwellBaseEvent",(function(){return f})),r.d(t,"validateUIEvent",(function(){return m})),r.d(t,"validateOperationalEvent",(function(){return p})),r.d(t,"validateIdentifyEvent",(function(){return g})),r.d(t,"validatePlatform",(function(){return y}));var n=r(6),i=r(12);const s=Object.freeze([n.eventType.OPERATIONAL,n.eventType.TRACK,n.eventType.UI]);function o(e){if(!Object(i.isPlainObject)(e))throw new Error("properties.containers must be an Object");if(!("id"in e))throw new Error("properties.containers is missing field 'id'");if("string"!=typeof e.id)throw new Error("properties.containers.id must be of type String");if("type"in e&&"string"!=typeof e.type)throw new Error("properties.containers.type must be of type String")}function a(e){if(e){if(e&&e.constructor!==Object)throw new Error("properties.containers must be an Object");Object.values(e).forEach(e=>o(e))}}function c(e){switch(e){case n.eventType.OPERATIONAL:case n.eventType.TRACK:case n.eventType.UI:return!0;default:return!1}}function u(e){if(!c(e))throw new Error(`Invalid action event type: ${e}, must be one of: [${s}]`);return!0}function l(e){if(!e)throw new Error("Missing event");if(!e.source)throw new Error("Missing event.source");if(!e.actionSubject)throw new Error("Missing event.actionSubject");if(!e.action)throw new Error("Missing event.action");a(e.containers)}function d(e){if(!e)throw new Error("Missing name")}function h(e){l(e)}function f(e){if(!e)throw new Error("Missing event");if(!e.source)throw new Error("Missing event.source");if(!e.actionSubject)throw new Error("Missing event.actionSubject")}function m(e){l(e)}function p(e){l(e)}function g(e,t){if(!e)throw new Error("Missing userIdType");if(!t)throw new Error("Missing userId");if(!Object(n.isType)(n.userType,e))throw new Error(`Invalid userIdType '${e}', must be an userType: [${Object(n.objectValues)(n.userType)}]`)}function y(e){if(!Object(n.isType)(n.platformType,e.platform))throw new Error(`Invalid productInfo.platform '${e.platform}', must be a platformType: [${Object(n.objectValues)(n.platformType)}]`);if(e.origin===n.originType.DESKTOP&&!Object(n.isType)(n.desktopPlatforms,e.platform))throw new Error(`Invalid productInfo.platform '${e.platform}', must be one of [mac, linux, windows]`);if(e.origin===n.originType.WEB&&!Object(n.isType)(n.webPlatforms,e.platform))throw new Error(`Invalid productInfo.platform '${e.platform}', must be one of [web, mobileWeb]`)}},function(e,t,r){"use strict";r.r(t),r.d(t,"mapKeys",(function(){return n})),r.d(t,"pick",(function(){return i})),r.d(t,"pickBy",(function(){return o})),r.d(t,"omitBy",(function(){return s})),r.d(t,"omit",(function(){return a})),r.d(t,"equals",(function(){return c})),r.d(t,"partition",(function(){return u}));const n=(e,t)=>Object.keys(e).reduce((r,n)=>(r[t(e[n],n,e)]=e[n],r),{}),i=(e,t)=>t.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{}),s=(e,t)=>Object.keys(e).filter(r=>!t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),o=(e,t)=>Object.keys(e).filter(r=>t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),a=(e,t)=>Object.keys(e).filter(e=>t.indexOf(e)<0).reduce((t,r)=>(t[r]=e[r],t),{}),c=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return e===t;if(e.prototype!==t.prototype)return!1;const r=Object.keys(e);return r.length===Object.keys(t).length&&r.every(r=>c(e[r],t[r]))},u=(e,t)=>e.reduce((e,r,n,i)=>(e[t(r,n,i)?0:1].push(r),e),[[],[]])},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(2),i=r.n(n),s=r(18),o=r(19),a=r(21);class c{constructor(e,t){var r=this;i()(this,"push",(e,t,r,n)=>{this.delayQueue.push(e,t,r,n)}),i()(this,"startLowPriorityEventDelay",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DEFAULT_DELAY_TIMEOUT,t=arguments.length>1?arguments[1]:void 0;if(Number.isNaN(e)||e<=0)throw new Error(`Invalid timeout period: ${e}, must be a number greater than 0`);r.delayTimeout&&clearTimeout(r.delayTimeout);const n=e?Math.min(e,s.MAX_DELAY_TIMEOUT):s.MAX_DELAY_TIMEOUT;r.delayCallback=t,r.delayTimeout=setTimeout(()=>r.stopLowPriorityEventDelay(a.StopLowPriorityEventDelayReason.TIMEOUT),n),r.delayQueue.cancelFlush(),r.isDelaying=!0})),i()(this,"stopLowPriorityEventDelay",(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.StopLowPriorityEventDelayReason.MANUAL;r.delayTimeout&&(clearTimeout(r.delayTimeout),r.delayTimeout=void 0),r.delayQueue.startFlush(),r.isDelaying=!1,null===(e=r.delayCallback)||void 0===e||e.call(r,t),r.delayCallback=void 0})),i()(this,"isDelayingLowPriorityEvents",()=>this.isDelaying),this.isDelaying=!1,this.delayQueue=new o.default(e,t)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_DELAY_TIMEOUT",(function(){return n})),r.d(t,"MAX_DELAY_TIMEOUT",(function(){return i}));const n=1e4,i=3e4},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(2),i=r.n(n),s=r(11),o=r(16),a=r(20);class c{constructor(e,t){i()(this,"push",(e,t,r,n)=>{this.eventArgs.push({identifier:e,builtEvent:t,context:r,userInfo:n})}),i()(this,"size",()=>this.eventArgs.length),i()(this,"startFlush",()=>{try{this.eventArgs=this.compressEventArgs(this.eventArgs)}catch(e){console.warn(`Failed to perform compression on the delayed analytics events. Error: ${e.message}. Sending ${this.eventArgs.length} uncompressed events instead`)}this.flushNextBatch()}),i()(this,"cancelFlush",()=>{this.flushBatchTimeout&&(clearTimeout(this.flushBatchTimeout),this.flushBatchTimeout=null)}),i()(this,"flushNextBatch",()=>{this.eventArgs.splice(0,7).forEach(e=>this.processFn(e.identifier,e.builtEvent,e.context,e.userInfo)),this.eventArgs.length>0?this.flushBatchTimeout=setTimeout(()=>this.flushNextBatch(),100):this.flushBatchTimeout=null}),i()(this,"compressEventArgs",e=>{const[t,r]=Object(o.partition)(e,e=>this.compressor.canCompress(e.builtEvent)),n=t.reduce((e,t)=>{const r=e.find(e=>Object(o.equals)(e.userInfo,t.userInfo)&&Object(o.equals)(e.context,t.context));return r?r.eventArgs.push(t):e.push({userInfo:t.userInfo,context:t.context,eventArgs:[t]}),e},[]).reduce((e,t)=>{try{const r=t.eventArgs.map(e=>e.builtEvent),n=this.compressor.compress(r).map(e=>({identifier:Object(s.buildActionName)(e),builtEvent:e,userInfo:t.userInfo,context:t.context}));return e.concat(n)}catch(e){return console.warn(`Failed to compress some analytics events. Error: ${e.message}. Sending ${t.eventArgs.length} uncompressed events instead`),t.eventArgs}},[]);return r.forEach(e=>n.push(e)),n}),this.processFn=e,this.flushBatchTimeout=null,this.eventArgs=[],this.compressor=new a.default(t)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(2),i=r.n(n),s=r(11),o=r(16),a=r(14);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i()(this,"canCompress",e=>this.compressionRules.some(t=>t.canCompress(e))),i()(this,"compress",e=>this.createGroups(e).reduce((e,t)=>{const r=this.compressGroup(t);return e.concat(r)},[])),i()(this,"createGroups",e=>e.reduce((e,t)=>{const r=this.compressionRules.find(e=>e.canCompress(t));let n;if(r){const e=Object(s.buildActionFields)(t,t.eventType);n=Object(o.omit)(t,Object.keys(e))}const i=e.find(e=>r===e.compressor&&Object(o.equals)(n,e.contextFields));return i?i.events.push(t):e.push({contextFields:n,compressor:r,events:[t]}),e},[])),i()(this,"compressGroup",e=>{if(!e.compressor)return e.events;try{return e.compressor.compress(e.events).map(t=>u(u({},t),e.contextFields))}catch(t){return console.warn(`Failed to compress some analytics events. Error: ${t.message}. Sending ${e.events.length} uncompressed events instead`),e.events}}),!Array.isArray(e))throw new Error("Event compressors must be constructed with an array of CompressionRules");if(!e.every(e=>e instanceof a.CompressionRule))throw new Error("Event compressors can only be constructed with instances of CompressionRule");this.compressionRules=e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"StopLowPriorityEventDelayReason",(function(){return n}));let n=function(e){return e.TIMEOUT="timeout",e.MANUAL="manual",e}({})},function(e,t,r){"use strict";r.r(t);var n=r(23);r.d(t,"default",(function(){return n.default}))},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r(2),i=r.n(n),s=r(3),o=r.n(s),a=r(24),c=r(48),u=r(55),l=r(61),d=r(62),h=r(60),f=r(64),m=r(80);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class y{constructor(e){i()(this,"sendEvents",async(e,t)=>{const r=this.resilienceQueue.getGlobalRetryCount(),n=this.metrics.getMetricsPayload(),i=g(g({},n),{},{httpRetryCount:r});for(let e in i)0===i[e]&&delete i[e];const s=await this.attachXIDs(e),o=(new Date).toISOString(),a={batch:s.map(e=>(e.msg.sentAt=o,e.msg)),sentAt:o,metadata:i};try{const e=await Object(d.sendEvents)({url:this.gasv3BatchUrl,batch:a,timeout:this.options.requestTimeout});this.metrics.subtractFromMetrics(n),t(null,e)}catch(e){t(e,null)}}),this.user=new f.default,this.options=g(g({},e),{},{requestTimeout:e.requestTimeout||l.DEFAULT_REQUEST_TIMEOUT,retryQueueOptions:e.retryQueueOptions||{},logger:e.logger||console}),this.xidPromiseCallback=e.xidPromiseGetter(),this.gasv3BatchUrl=`${e.apiHostProtocol}://${e.apiHost}/batch`,this.metrics=Object(c.default)(),this.resilienceQueue=Object(a.default)(e.retryQueuePrefix,e.product,this.options.retryQueueOptions,this.options.logger),this.resilienceQueue.start(this.sendEvents)}getUser(){return this.user}async track(e,t,r,n){const i=g(g({},this.buildBaseEvent(r,h.SegmentEventTypes.TRACK,t)),{},{type:h.SegmentEventTypes.TRACK,properties:Object(m.prepareEventProperties)(t),event:e}),s=g(g({},i),{},{messageId:this.createMessageId()}),o=this.packageEvent(s);await this.resilienceQueue.addItem(o),n&&n()}async page(e,t,r,n){const i=g(g({},this.buildBaseEvent(r,h.SegmentEventTypes.PAGE,t)),{},{type:h.SegmentEventTypes.PAGE,properties:Object(m.prepareEventProperties)(t),name:e}),s=g(g({},i),{},{messageId:this.createMessageId()}),o=this.packageEvent(s);await this.resilienceQueue.addItem(o),n&&n()}async identify(e,t,r,n){const i=g(g({},this.buildBaseEvent(r,h.SegmentEventTypes.IDENTIFY,t)),{},{type:h.SegmentEventTypes.IDENTIFY,traits:Object(m.prepareEventProperties)(t)}),s=g(g({},i),{},{messageId:this.createMessageId()}),o=this.packageEvent(s);await this.resilienceQueue.addItem(o),n&&n()}buildBaseEvent(e,t,r){const n=Object(m.prepareEventProperties)(e);return{context:Object(m.buildContext)(n),timestamp:(new Date).toISOString(),type:t,userId:this.user.getUserId(),anonymousId:r.anonymousId||this.user.getAnonymousId()}}createMessageId(){return"ajs-"+o()()}packageEvent(e){const{apiHost:t,apiHostProtocol:r}=this.options;return{headers:{"Content-Type":"text/plain"},msg:e,url:`${r}://${t}/${e.type.charAt(0)}`}}async attachXIDs(e){return this.xidPromiseCallback?Object(u.attachXidToMultipleEvents)(e,this.xidPromiseCallback):Promise.resolve(e)}}},function(e,t,r){"use strict";r.r(t);var n=r(25),i=r(49);r.d(t,"ResilienceMechanism",(function(){return i.ResilienceMechanism})),t.default=(e,t,r,i)=>new n.default(e,t,r||{},i)},function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_POLLING_OPTIONS",(function(){return m})),r.d(t,"default",(function(){return p}));var n=r(2),i=r.n(n),s=r(26),o=r(31),a=r(48),c=r(50),u=r(51),l=r(49);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const f={backoffFactor:0,backoffJitterPercentage:0,flushWaitMs:6e4,minRetryDelay:6e4,maxRetryDelay:6e4},m={backoffFactor:2,backoffJitterPercentage:.2,batchFlushSize:7,flushBeforeUnload:!1,flushWaitMs:500,maxAttempts:10,maxItems:1e3,maxRetryDelay:3e4,minRetryDelay:1e3};class p{constructor(e,t,r,n){this.queuePrefix=e,this.resilience=new o.default(t,{logger:n,maxAttempts:null==r?void 0:r.maxAttempts,maxEventLimit:null==r?void 0:r.maxItems}),this.options=this.buildOptions(r),this.scheduler=new u.default(h(h({},this.options),{},{waitInterval:null!=r&&r.flushBeforeUnload?0:this.options.flushWaitMs}),this.scheduleCallback.bind(this)),this.longPollingScheduler=new u.default(h(h({},f),{},{waitInterval:f.flushWaitMs}),this.scheduleLongCallBack.bind(this)),this.metricsCollector=Object(a.default)(),this.networkStatus=new c.default(e=>{e===l.NetworkStatusEnum.OFFLINE?this.scheduler.stop():this.checkEventCountAndReschedule()})}start(e){this.batchFlushCallback=e,this.longPollingScheduler.schedule()}stop(){this.scheduler.stop(),this.longPollingScheduler.stop()}async addItem(e){const t=JSON.parse(JSON.stringify(e)),{numberOfEvictedItems:r}=await this.resilience.addItem(t,{},o.GuardPolicy.EVICT);this.scheduler.schedule(),this.metricsCollector.addToEventCount(),r>0&&this.metricsCollector.addToItemsDiscardedByOverflowCounter(r)}getGlobalRetryCount(){return this.scheduler.getFailureCount()}async scheduleCallback(e){if(this.networkStatus.getNetworkStatus()!==l.NetworkStatusEnum.OFFLINE)try{e(await this.resilience.processItems(this.flush.bind(this),this.options.batchFlushSize))}catch(t){if(t.name===o.CallbackProcessingErrorName)return void e(u.DoneState.ERROR)}finally{await this.checkEventCountAndReschedule()}else e(u.DoneState.NOOP)}async checkEventCountAndReschedule(){const e=await this.resilience.getItemCount();e>0&&this.scheduler.schedule({immediate:e>=this.options.batchFlushSize})}async scheduleLongCallBack(e){const t=Object(s.purgeOrphanedQueues)(this.queuePrefix);this.metricsCollector.addToPurgedQueuesMetrics(t);const r=await Object(s.reclaimEvents)(this.queuePrefix,async e=>{const t=e.map(e=>({item:e.item,retryAttempts:e.attemptNumber,id:e.id})),{items:r}=await this.resilience.bulkAddItem(t,o.GuardPolicy.IGNORE);return r.length===t.length?{status:"successful"}:{status:"partial",acceptedItemIds:r.map(e=>e.id)}});this.metricsCollector.addToReclaimMetrics(r),await this.checkEventCountAndReschedule(),e(u.DoneState.SUCCESS),this.longPollingScheduler.schedule()}flush(e,t){this.metricsCollector.setResilienceMechanism(this.resilience.storeType());const{batchFlushCallback:r}=this;if(!r)throw new Error("batchFlushCallback has not been set. Call PullBatchableQueue#start first.");return new Promise((n,i)=>{if(e.length<=0)return void n(u.DoneState.NOOP);const s=e.map(e=>{const t=e.item;return e.retryAttempts>0&&t.msg&&(t.msg._metadata||(t.msg._metadata={}),t.msg._metadata.failedAttempts=e.retryAttempts),t});r(s,e=>{e?(t.numberOfDeletedItems>0&&this.metricsCollector.addToItemsDiscardedByRetryCounter(t.numberOfDeletedItems),i(e)):n(u.DoneState.SUCCESS)})})}buildOptions(e){return{backoffFactor:(null==e?void 0:e.backoffFactor)||m.backoffFactor,backoffJitterPercentage:void 0!==(null==e?void 0:e.backoffJitterPercentage)?e.backoffJitterPercentage:m.backoffJitterPercentage,batchFlushSize:(null==e?void 0:e.batchFlushSize)||m.batchFlushSize,flushBeforeUnload:(null==e?void 0:e.flushBeforeUnload)||m.flushBeforeUnload,flushWaitMs:(null==e?void 0:e.flushWaitMs)||m.flushWaitMs,maxItems:(null==e?void 0:e.maxItems)||m.maxItems,maxAttempts:(null==e?void 0:e.maxAttempts)||m.maxAttempts,maxRetryDelay:(null==e?void 0:e.maxRetryDelay)||m.maxRetryDelay,minRetryDelay:(null==e?void 0:e.minRetryDelay)||m.minRetryDelay}}}},function(e,t,r){"use strict";r.r(t);var n=r(27);r.d(t,"reclaimEvents",(function(){return n.default}));var i=r(30);r.d(t,"purgeOrphanedQueues",(function(){return i.default}))},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),s=r(3),o=r.n(s),a=r(28),c=r(29);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=e=>new Promise(t=>{setTimeout(t,e)}),h=async(e,t)=>{const{queue:r,inProgress:n}=e.storageKeys,i=JSON.parse(localStorage.getItem(r)||"[]"),s=JSON.parse(localStorage.getItem(n)||"{}"),o=[...i,...Object.entries(s).map(e=>{let[t,r]=e;return l(l({},r),{},{attemptNumber:r.attemptNumber+1,id:t})})];if(o.length>0){const i=await t(o);if("successful"===i.status)f(e.storageKeys);else if("partial"===i.status){const e=o.filter(e=>!i.acceptedItemIds.includes(e.id));return localStorage.removeItem(n),localStorage.setItem(r,JSON.stringify(e)),{fullReclaim:!1}}}else f(e.storageKeys);return{fullReclaim:!0}},f=e=>{localStorage.removeItem(e.queue),localStorage.removeItem(e.inProgress),localStorage.removeItem(e.reclaimEnd),localStorage.removeItem(e.reclaimStart),localStorage.removeItem(e.ack)};t.default=async(e,t)=>{if("string"!=typeof e||0===e.length)return{fullReclaims:0,partialReclaims:0,failedReclaims:0};const r=o()(),n=(e=>{try{return Object.keys(localStorage).filter(t=>t.startsWith(e)).map(e=>e.split(".")).filter(t=>{if(3===t.length&&t[0]===e&&t[2]===a.LocalStorageKeySuffix.ACK)try{const e=localStorage.getItem(t.join("."));if(e){const t=parseInt(e);return a.Timers.RECLAIM_TIMEOUT+t<Date.now()}}catch(e){}return!1}).map(e=>e[1])}catch(e){}return[]})(e).map(n=>(async(e,t)=>{const{ack:r,reclaimStart:n,reclaimEnd:i}=e.storageKeys,s=Date.now();if(localStorage.setItem(n,e.reclaimProcessId),localStorage.setItem(r,s.toString()),await d(a.Timers.RECLAIM_WAIT),Date.now()>s+a.Timers.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId)throw new Error("Took to long to callback, reclaim abandonded. After reclaimStart.");if(localStorage.setItem(i,e.reclaimProcessId),await d(a.Timers.RECLAIM_WAIT),Date.now()>s+a.Timers.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId||localStorage.getItem(i)!==e.reclaimProcessId)throw new Error("Took to long to callback, reclaim abandonded. After reclaimEnd.");return h(e,t)})({queuePrefix:e,reclaimProcessId:r,storageKeys:Object(c.createLocalStorageKeys)(e,n)},t)),i=await Promise.allSettled(n),s=i.filter(e=>"rejected"===e.status),u=i.filter(e=>"fulfilled"===e.status).map(e=>e.value),l=u.filter(e=>e.fullReclaim),f=u.filter(e=>!e.fullReclaim);return{failedReclaims:s.length,partialReclaims:f.length,fullReclaims:l.length}}},function(e,t,r){"use strict";r.r(t),r.d(t,"LocalStorageKeySuffix",(function(){return n})),r.d(t,"Timers",(function(){return i}));let n=function(e){return e.IN_PROGRESS="inProgress",e.QUEUE="queue",e.RECLAIM_START="reclaimStart",e.RECLAIM_END="reclaimEnd",e.ACK="ack",e}({}),i=function(e){return e[e.RECLAIM_TIMEOUT=1e4]="RECLAIM_TIMEOUT",e[e.RECLAIM_WAIT=500]="RECLAIM_WAIT",e[e.RECLAIM_WAIT_THRESHOLD=2e3]="RECLAIM_WAIT_THRESHOLD",e}({})},function(e,t,r){"use strict";r.r(t),r.d(t,"createLocalStorageKeys",(function(){return i}));var n=r(28);const i=(e,t)=>({[n.LocalStorageKeySuffix.ACK]:`${e}.${t}.${n.LocalStorageKeySuffix.ACK}`,[n.LocalStorageKeySuffix.QUEUE]:`${e}.${t}.${n.LocalStorageKeySuffix.QUEUE}`,[n.LocalStorageKeySuffix.IN_PROGRESS]:`${e}.${t}.${n.LocalStorageKeySuffix.IN_PROGRESS}`,[n.LocalStorageKeySuffix.RECLAIM_START]:`${e}.${t}.${n.LocalStorageKeySuffix.RECLAIM_START}`,[n.LocalStorageKeySuffix.RECLAIM_END]:`${e}.${t}.${n.LocalStorageKeySuffix.RECLAIM_END}`})},function(e,t,r){"use strict";r.r(t);var n=r(28),i=r(29);const s=Object.values(n.LocalStorageKeySuffix);t.default=e=>{if("string"!=typeof e||0===e.length)return 0;try{const t=Object.keys(localStorage).filter(t=>t&&t.startsWith(e+".")||!1).map(e=>e.split(".")).filter(e=>3===e.length&&s.includes(e[2])).reduce((e,t)=>{const[,r,n]=t;return void 0===e[r]&&(e[r]={}),e[r][n]=!0,e},{}),r=Object.keys(t).filter(e=>!0!==t[e][n.LocalStorageKeySuffix.ACK]);return r.forEach(t=>{const{queue:r,inProgress:n,reclaimStart:s,reclaimEnd:o}=Object(i.createLocalStorageKeys)(e,t);localStorage.removeItem(n),localStorage.removeItem(r),localStorage.removeItem(s),localStorage.removeItem(o)}),r.length}catch(e){}return 0}},function(e,t,r){"use strict";r.r(t);var n=r(32),i=r(33);r.d(t,"GuardPolicy",(function(){return i.GuardPolicy})),r.d(t,"StoreType",(function(){return i.StoreType}));var s=r(34);r.d(t,"CallbackProcessingErrorName",(function(){return s.CallbackProcessingErrorName})),t.default=n.default},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(33),i=r(34),s=r(40),o=r(46),a=r(45);class c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.namespace=e,this.options=Object(a.createOptionsWithDefaults)(t),!e||0===e.length||"string"!=typeof e)throw new Error("Invalid namespace provided");this.resilience=this.getResilienceMechanism(e,t)}getResilienceMechanism(e,t){if(!t.useMemory)try{return new s.default(e,t)}catch(e){var r;if(!(e instanceof i.NoIndexedDbError))null===(r=t.logger)||void 0===r||r.warn("Attempted to create IndexedDbResilience but failed. Using memory instead.")}return new o.default(this.namespace,t)}addItem(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.GuardPolicy.ABANDON;return this.runOrFailOver(()=>this.resilience.addItem(e,t,r))}bulkAddItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.GuardPolicy.ABANDON;return this.runOrFailOver(()=>this.resilience.bulkAddItem(e,t))}getItems(e){return this.runOrFailOver(()=>this.resilience.getItems(e))}deleteItems(e){return this.runOrFailOver(()=>this.resilience.deleteItems(e))}getItemCount(){return this.runOrFailOver(()=>this.resilience.getItemCount())}processItems(e,t){return this.runOrFailOver(()=>this.resilience.processItems(e,t))}storeType(){return this.resilience.storeType()}async runOrFailOver(e){try{return await e()}catch(t){if(Object(i.shouldIgnoreResilienceDbError)(t))throw t;return this.resilience.storeType()===n.StoreType.INDEXEDDB&&await this.failOver(),e()}}async failOver(){const e=this.resilience,t=new o.default(this.namespace,this.options);this.resilience=t;try{const{items:r}=await e.getItems(this.options.maxEventLimit);if(r.length>0){const i=(await t.bulkAddItemWrapperType(r,n.GuardPolicy.IGNORE)).items.map(e=>e.id);await e.deleteItems(i)}}catch(e){this.options.logger.warn("Unexpected error from ResilienceDb, switching to MemoryDb")}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"NAMESPACE_AND_TIME_ADDED_INDEX",(function(){return n})),r.d(t,"RESILIENCE_DB_NAME",(function(){return i})),r.d(t,"RESILIENCE_STORE_NAME",(function(){return s})),r.d(t,"TIME_TO_PROCESS_AFTER_INDEX",(function(){return o})),r.d(t,"TIME_ADDED_INDEX",(function(){return a})),r.d(t,"RETRY_INDEX",(function(){return c})),r.d(t,"INDEXEDDB_TIMEOUT",(function(){return u})),r.d(t,"StoreType",(function(){return l})),r.d(t,"GuardPolicy",(function(){return d}));const n="namespace-timeAdded",i="analytics-web-client",s="analytics-resilience",o="timeToBeProcessedAfter",a="timeAdded",c="retryAttempts",u=15e3;let l=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),d=function(e){return e.IGNORE="ignore",e.ABANDON="abandon",e.EVICT="evict",e}({})},function(e,t,r){"use strict";r.r(t);var n=r(35);r.d(t,"AbandonWriteError",(function(){return n.default})),r.d(t,"AbandonWriteErrorName",(function(){return n.AbandonWriteErrorName}));var i=r(36);r.d(t,"CallbackProcessingError",(function(){return i.default})),r.d(t,"CallbackProcessingErrorName",(function(){return i.CallbackProcessingErrorName}));var s=r(37);r.d(t,"InvalidPolicyError",(function(){return s.default})),r.d(t,"InvalidPolicyErrorName",(function(){return s.InvalidPolicyErrorName}));var o=r(38);r.d(t,"NoIndexedDbError",(function(){return o.default})),r.d(t,"NoIndexedDbErrorName",(function(){return o.NoIndexedDbErrorName}));var a=r(39);r.d(t,"shouldIgnoreResilienceDbError",(function(){return a.shouldIgnoreResilienceDbError}))},function(e,t,r){"use strict";r.r(t),r.d(t,"AbandonWriteErrorName",(function(){return n})),r.d(t,"default",(function(){return i}));const n="AbandonWriteError";class i extends Error{constructor(e){super("Event Limit reached. Abandoning write to: "+e),Object.setPrototypeOf(this,i.prototype),this.name=n}}},function(e,t,r){"use strict";r.r(t),r.d(t,"CallbackProcessingErrorName",(function(){return n})),r.d(t,"default",(function(){return i}));const n="CallbackProcessingError";class i extends Error{constructor(e){super("Error thrown while processing events in callback: "+(e&&"object"==typeof e&&"toString"in e&&"function"==typeof e.toString&&e.toString()||"string"==typeof e&&e||"Argument passed to CallbackProcessingError was not an Error or string.")),Object.setPrototypeOf(this,i.prototype),this.name=n}}},function(e,t,r){"use strict";r.r(t),r.d(t,"InvalidPolicyErrorName",(function(){return n})),r.d(t,"default",(function(){return i}));const n="InvalidPolicyError";class i extends Error{constructor(e,t){super(`Method '${t}' cannot be called with policy '${e}'.`),this.name=n}}},function(e,t,r){"use strict";r.r(t),r.d(t,"NoIndexedDbErrorName",(function(){return n})),r.d(t,"default",(function(){return i}));const n="NoIndexedDbError";class i extends Error{constructor(){super("window.indexeddb is undefined."),Object.setPrototypeOf(this,i.prototype),this.name=n}}},function(e,t,r){"use strict";r.r(t),r.d(t,"shouldIgnoreResilienceDbError",(function(){return o}));var n=r(35),i=r(36),s=r(37);const o=e=>{if(e&&"object"==typeof e&&"name"in e){const t=e;return"string"==typeof t.name&&(t.name===n.AbandonWriteErrorName||t.name===i.CallbackProcessingErrorName||t.name===s.InvalidPolicyErrorName)}return!1}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r(41),i=r.n(n),s=r(2),o=r.n(s),a=r(33),c=r(43),u=r(34),l=r(44),d=r(45);const h=["item"],f=["items"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class g{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o()(this,"startDB",async()=>new Promise(async(e,t)=>{window.setTimeout(()=>{this.logger.warn("IndexedDB timed out."),t(new u.NoIndexedDbError)},a.INDEXEDDB_TIMEOUT);const r=window.indexedDB.open(a.RESILIENCE_DB_NAME,1);r.onupgradeneeded=e=>{if(0!==e.oldVersion)throw new Error("We cannot upgrade the database. Do not do this.");const t=r.result.createObjectStore(a.RESILIENCE_STORE_NAME,{keyPath:"id"});t.createIndex(a.TIME_TO_PROCESS_AFTER_INDEX,a.TIME_TO_PROCESS_AFTER_INDEX,{unique:!1}),t.createIndex(a.RETRY_INDEX,a.RETRY_INDEX,{unique:!1}),t.createIndex(a.TIME_ADDED_INDEX,a.TIME_ADDED_INDEX,{unique:!1}),t.createIndex(a.NAMESPACE_AND_TIME_ADDED_INDEX,["namespace","timeAdded"],{unique:!1})};try{return await Object(d.requestToPromise)(r),e(r.result)}catch(e){this.logger.warn("IndexedDB failed to initialise.",e),t(new u.NoIndexedDbError)}})),o()(this,"addItem",(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.GuardPolicy.ABANDON;const{logger:i,namespace:s}=t,o=Object(d.convertToItemWrapper)(e,s,r),{objectStore:c}=await t.getObjectStoreAndTransaction("readwrite");if(n===a.GuardPolicy.IGNORE)throw new u.InvalidPolicyError(n,"IndexedDbConnector#addItem");try{if(!o.namespace||0===o.namespace.length||"string"!=typeof o.namespace)throw new Error("Namespace not specified");const e=await t.globalEventLimitGuard.insertItems(c,[o],n);if(1===e.items.length)return{item:e.items[0],numberOfEvictedItems:e.numberOfEvictedItems};throw new Error("Incorrect number of items added. Expected: 1, got: "+e.items.length)}catch(e){if(Object(u.shouldIgnoreResilienceDbError)(e))throw e;throw i.log("Failed to add item to table",e),new Error("Request to add item to table failed")}})),o()(this,"bulkAddItem",(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.GuardPolicy.ABANDON;const{logger:n,namespace:s}=t,o=e.map(e=>{let{item:t}=e,r=i()(e,h);return Object(d.convertToItemWrapper)(t,s,r)}),{objectStore:c}=await t.getObjectStoreAndTransaction("readwrite");try{return await t.globalEventLimitGuard.insertItems(c,o,r)}catch(e){if(Object(u.shouldIgnoreResilienceDbError)(e))throw e;throw n.log("Failed to add item to table",e),new Error("Request to add item to table failed")}})),o()(this,"getItems",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.GET_ITEM_COUNT;const r=e>0?e:c.GET_ITEM_COUNT,{logger:n}=t,i=t.options.maxAttempts,{transaction:s,objectStore:o}=await t.getObjectStoreAndTransaction("readwrite"),u=o.index(a.TIME_TO_PROCESS_AFTER_INDEX),l=IDBKeyRange.upperBound(Date.now()),h=u.openCursor(l),f=await new Promise(async(e,t)=>{const s=[];let o=0;h.onerror=e=>{n.error("Failed to open cursor:",e),t("Failed to open cursor")},h.onsuccess=t=>{const a=t.target.result;if(a){const t=p({},a.value);s.push(t);const u=a.value;if(u.retryAttempts+=1,u.timeToBeProcessedAfter=Date.now()+c.VISIBILITY_TIMEOUT,u.retryAttempts>=i){++o;const e=a.delete();Object(d.monitorErrorsOnRequest)(e,n)}else{const e=a.update(u);Object(d.monitorErrorsOnRequest)(e,n)}s.length<r?a.continue():e({items:s,numberOfDeletedItems:o})}else e({items:s,numberOfDeletedItems:o})}});return await Object(d.commitTransaction)(s,t.logger),f})),o()(this,"deleteItems",async e=>{const{transaction:t,objectStore:r}=await this.getObjectStoreAndTransaction("readwrite");try{const n=e.map(e=>this.deleteItem(r,e));await Object(d.commitTransaction)(t,this.logger),await Promise.all(n)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}}),o()(this,"getItemCount",async()=>{const{transaction:e,objectStore:t}=await this.getObjectStoreAndTransaction("readonly"),r=t.index(a.TIME_TO_PROCESS_AFTER_INDEX),n=IDBKeyRange.upperBound(Date.now()),i=r.count(n),s=await Object(d.requestToPromise)(i);return await Object(d.commitTransaction)(e,this.logger),s.target.result}),o()(this,"processItems",(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.GET_ITEM_COUNT;const n=await t.getItems(r),{items:s}=n,o=i()(n,f);try{const r=await e(s,o),n=s.map(e=>e.id);return await t.deleteItems(n),r}catch(e){throw new u.CallbackProcessingError(e)}})),o()(this,"deleteItem",async(e,t)=>{const{logger:r}=this;try{await Object(d.requestToPromise)(e.delete(t))}catch(e){throw r.error("Failed to delete item:",t,e),e}}),o()(this,"getObjectStoreAndTransaction",async e=>{const t=(await this.db).transaction(a.RESILIENCE_STORE_NAME,e),r=t.objectStore(a.RESILIENCE_STORE_NAME);return{transaction:t,objectStore:r}}),this.options=Object(d.createOptionsWithDefaults)(r),this.namespace=e,this.logger=this.options.logger,!window.indexedDB)throw new u.NoIndexedDbError;this.db=this.startDB(),this.db.catch(()=>{}),this.globalEventLimitGuard=new l.default(this.options.maxEventLimit,this.namespace,this.logger,this.deleteItem)}storeType(){return a.StoreType.INDEXEDDB}}},function(e,t,r){var n=r(42);e.exports=function(e,t){if(null==e)return{};var r,i,s=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.r(t),r.d(t,"GET_ITEM_COUNT",(function(){return n})),r.d(t,"VISIBILITY_TIMEOUT",(function(){return i})),r.d(t,"MAX_ATTEMPTS",(function(){return s})),r.d(t,"EVENT_COUNT_LIMIT",(function(){return o}));const n=7,i=6e4,s=10,o=5e3},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(2),i=r.n(n),s=r(33),o=r(34),a=r(45);class c{constructor(e,t,r,n){if(i()(this,"deleteOldestNEvents",async(e,t)=>{var r;const n=e.index(s.NAMESPACE_AND_TIME_ADDED_INDEX),i=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),o=n.getAllKeys(i,t),c=await Object(a.requestToPromise)(o),u=null==c||null===(r=c.target)||void 0===r?void 0:r.result;if(u&&Array.isArray(u)&&u.length>0)try{const t=u.map(t=>this.deleteItemHandler(e,t));await Promise.all(t)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}}),!(e>0))throw Error("Event Limit has to be set higher than 1");this.eventLimit=e,this.namespace=t,this.logger=r,this.deleteItemHandler=n}async insertItems(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.GuardPolicy.ABANDON;const n=[...t];let i=0;switch(r){case s.GuardPolicy.ABANDON:await this.throwIfNotEnoughSpace(e,t.length);break;case s.GuardPolicy.EVICT:i=await this.evictIfNotEnoughSpace(e,t.length);break;case s.GuardPolicy.IGNORE:await this.calculateHowManyEventsWeCanAdd(e,n)}const o=n.map(t=>Object(a.requestToPromise)(e.add(t)));return await Promise.all(o),await Object(a.commitTransaction)(e.transaction,this.logger),{items:n,numberOfEvictedItems:i}}async throwIfNotEnoughSpace(e,t){const r=await this.calculateFreeSpace(e);if(r<t)throw new o.AbandonWriteError(`Not enough space in IndexedDb. Needed ${t} but only had ${r}`)}async evictIfNotEnoughSpace(e,t){const r=await this.calculateFreeSpace(e);if(r<t){const n=t-r;return await this.deleteOldestNEvents(e,n),n}return 0}async calculateHowManyEventsWeCanAdd(e,t){const r=await this.calculateFreeSpace(e);if(r<t.length){const e=t.length-r,n=t.length-e;t.splice(n,e)}}async calculateFreeSpace(e){const t=await this.getCountofEventsInObjectStore(e);return this.eventLimit-t}async getCountofEventsInObjectStore(e){const t=e.index(s.NAMESPACE_AND_TIME_ADDED_INDEX),r=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),n=t.count(r);return(await Object(a.requestToPromise)(n)).target.result}}},function(e,t,r){"use strict";r.r(t),r.d(t,"convertToItemWrapper",(function(){return o})),r.d(t,"createOptionsWithDefaults",(function(){return a})),r.d(t,"requestToPromise",(function(){return c})),r.d(t,"transactionToPromise",(function(){return u})),r.d(t,"commitTransaction",(function(){return l})),r.d(t,"monitorErrorsOnRequest",(function(){return d}));var n=r(3),i=r.n(n),s=r(43);const o=(e,t,r)=>{let{id:n,retryAttempts:s,timeToProcessOffset:o}=r;return{item:e,id:n||i()(),retryAttempts:s||0,timeToBeProcessedAfter:Date.now()+(o||0),namespace:t,timeAdded:Date.now()}},a=e=>({logger:e.logger||console,useMemory:e.useMemory||!1,maxAttempts:e.maxAttempts||s.MAX_ATTEMPTS,maxEventLimit:e.maxEventLimit||s.EVENT_COUNT_LIMIT}),c=e=>new Promise((t,r)=>{e.onsuccess=e=>{t(e)},e.onerror=e=>{r(e)}}),u=e=>new Promise((t,r)=>{e.oncomplete=()=>{t()},e.onerror=e=>{r(e)},e.onabort=e=>{r(e)}}),l=(e,t)=>{try{"function"==typeof e.commit&&e.commit()}catch(e){throw t.error("Failed to force commit transaction:",e),e}return u(e)},d=(e,t)=>{e.onerror=e=>{t.warn("Error thrown from request:",e)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r(2),i=r.n(n),s=r(41),o=r.n(s),a=r(33),c=r(43),u=r(34),l=r(47),d=r(45);const h=["item"],f=["items"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.namespace=e,this.memoryStore=[],this.options=Object(d.createOptionsWithDefaults)(t),this.globalEventLimitGuard=new l.default(this.options.maxEventLimit,{addItems:this.addItems.bind(this),getItemCount:this.getItemCount.bind(this),evictEventsIfNeeded:this.evictEventsIfNeeded.bind(this)})}async addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.GuardPolicy.ABANDON;if(r===a.GuardPolicy.IGNORE)throw new u.InvalidPolicyError(r,"IndexedDbConnector#addItem");const n=Object(d.convertToItemWrapper)(e,this.namespace,t),i=await this.globalEventLimitGuard.insertItemsToMemoryStore([n],r);return Promise.resolve({item:i.items[0],numberOfEvictedItems:i.numberOfEvictedItems})}bulkAddItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.GuardPolicy.ABANDON;const r=e.map(e=>{let{item:t}=e,r=o()(e,h);return Object(d.convertToItemWrapper)(t,this.namespace,r)});return this.bulkAddItemWrapperType(r,t)}bulkAddItemWrapperType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.GuardPolicy.ABANDON;return Promise.resolve(this.globalEventLimitGuard.insertItemsToMemoryStore(e,t))}getItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.GET_ITEM_COUNT;return Promise.resolve(this.synchronousGetItems(e))}synchronousGetItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.GET_ITEM_COUNT;const t=e>0?e:c.GET_ITEM_COUNT,r=Date.now(),n=[],i=[];for(let e of this.memoryStore)if(e.timeToBeProcessedAfter<=r&&(n.push(p({},e)),e.timeToBeProcessedAfter+=c.VISIBILITY_TIMEOUT,e.retryAttempts+=1,e.retryAttempts>=this.options.maxAttempts&&i.push(e)),n.length>=t)break;return i.forEach(e=>{const t=this.memoryStore.indexOf(e);this.memoryStore.splice(t,1)}),{items:n,numberOfDeletedItems:i.length}}deleteItems(e){return this.memoryStore=this.memoryStore.filter(t=>!e.includes(t.id)),Promise.resolve(void 0)}getItemCount(){const e=Date.now(),t=this.memoryStore.filter(t=>t.timeToBeProcessedAfter<=e).length;return Promise.resolve(t)}async processItems(e,t){const r=this.synchronousGetItems(t),{items:n}=r,i=o()(r,f),s=n.map(e=>e.id);try{const t=await e(n,i);return await this.deleteItems(s),t}catch(e){throw new u.CallbackProcessingError(e)}}storeType(){return a.StoreType.MEMORY}addItems(e){this.memoryStore.push(...e),this.memoryStore.sort((function(e,t){return e.timeAdded-t.timeAdded}))}evictEventsIfNeeded(e){const t=this.memoryStore.length;if(t>e){const r=t-e;return this.memoryStore.splice(0,r),r}return 0}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r(2),i=r.n(n),s=r(33),o=r(34);class a{constructor(e,t){if(i()(this,"insertItemsToMemoryStore",(e,t)=>{switch(t){case s.GuardPolicy.ABANDON:return this.handleAbandonIfLimitWillExceedPolicy(e);case s.GuardPolicy.EVICT:return Promise.resolve(this.handleEvictOldestIfLimitExceededPolicy(e));case s.GuardPolicy.IGNORE:return this.handleAddAsManyAsPossible(e)}}),!(e>0))throw Error("Event Limit has to be set higher than 1");this.eventLimit=e,this.memoryItemHandlers=t}async handleAbandonIfLimitWillExceedPolicy(e){if(await this.memoryItemHandlers.getItemCount()+e.length>this.eventLimit)throw new o.AbandonWriteError(s.StoreType.MEMORY);return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:0}}handleEvictOldestIfLimitExceededPolicy(e){this.memoryItemHandlers.addItems(e);return{items:e,numberOfEvictedItems:this.memoryItemHandlers.evictEventsIfNeeded(this.eventLimit)}}async handleAddAsManyAsPossible(e){const t=this.eventLimit-await this.memoryItemHandlers.getItemCount(),r=t>e.length?e:e.slice(0,t);return this.memoryItemHandlers.addItems(r),{items:r,numberOfEvictedItems:0}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"MetricsCollector",(function(){return o}));var n=r(2),i=r.n(n),s=r(49);class o{constructor(){i()(this,"itemsDiscardedByRetry",0),i()(this,"eventCount",0),i()(this,"itemsDiscardedByOverflow",0),i()(this,"resilienceMechanism",s.ResilienceMechanism.INDEXEDDB),i()(this,"localstorageNumberOfQueuesPurged",0),i()(this,"localstorageNumberOfFullReclaims",0),i()(this,"localstorageNumberOfPartialReclaims",0),i()(this,"localstorageNumberOfFailedReclaims",0)}addToItemsDiscardedByRetryCounter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.itemsDiscardedByRetry+=e}addToEventCount(){this.eventCount++}addToItemsDiscardedByOverflowCounter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.itemsDiscardedByOverflow+=e}setResilienceMechanism(e){this.resilienceMechanism=e}addToReclaimMetrics(e){this.localstorageNumberOfFullReclaims+=e.fullReclaims,this.localstorageNumberOfPartialReclaims+=e.partialReclaims,this.localstorageNumberOfFailedReclaims+=e.failedReclaims}addToPurgedQueuesMetrics(e){this.localstorageNumberOfQueuesPurged+=e}subtractFromMetrics(e){this.itemsDiscardedByRetry=this.subtractFromCount(this.itemsDiscardedByRetry,e.itemsDiscardedByRetry),this.eventCount=this.subtractFromCount(this.eventCount,e.eventCount),this.itemsDiscardedByOverflow=this.subtractFromCount(this.itemsDiscardedByOverflow,e.itemsDiscardedByOverflow),this.localstorageNumberOfFullReclaims=this.subtractFromCount(this.localstorageNumberOfFullReclaims,e.fullReclaims),this.localstorageNumberOfPartialReclaims=this.subtractFromCount(this.localstorageNumberOfPartialReclaims,e.partialReclaims),this.localstorageNumberOfFailedReclaims=this.subtractFromCount(this.localstorageNumberOfFailedReclaims,e.failedReclaims),this.localstorageNumberOfQueuesPurged=this.subtractFromCount(this.localstorageNumberOfQueuesPurged,e.localstorageQueuesPurged)}subtractFromCount(e,t){return Math.max(e-(t||0),0)}getMetricsPayload(){return{itemsDiscardedByRetry:this.itemsDiscardedByRetry,eventCount:this.eventCount,itemsDiscardedByOverflow:this.itemsDiscardedByOverflow,resilienceMechanism:this.resilienceMechanism,localstorageQueuesPurged:this.localstorageNumberOfQueuesPurged,fullReclaims:this.localstorageNumberOfFullReclaims,partialReclaims:this.localstorageNumberOfPartialReclaims,failedReclaims:this.localstorageNumberOfFailedReclaims}}}let a=null;t.default=()=>(a||(a=new o),a)},function(e,t,r){"use strict";r.r(t),r.d(t,"ResilienceMechanism",(function(){return n})),r.d(t,"NetworkStatusEnum",(function(){return i}));let n=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),i=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e}({})},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r(49);class i{constructor(e){window.addEventListener("offline",()=>e(n.NetworkStatusEnum.OFFLINE)),window.addEventListener("online",()=>e(n.NetworkStatusEnum.ONLINE))}getNetworkStatus(){return window.navigator.onLine?n.NetworkStatusEnum.ONLINE:n.NetworkStatusEnum.OFFLINE}}},function(e,t,r){"use strict";r.r(t);var n=r(52);r.d(t,"default",(function(){return n.default}));var i=r(54);r.d(t,"DoneState",(function(){return i.DoneState}))},function(e,t,r){"use strict";r.r(t),r.d(t,"QueuedScheduleTypes",(function(){return f})),r.d(t,"default",(function(){return m}));var n=r(2),i=r.n(n),s=r(53),o=r(54);const a=1e3,c=3e4,u=2,l=0,d=500,h=5e3;let f=function(e){return e[e.NONE=0]="NONE",e[e.IMMEDIATE=1]="IMMEDIATE",e[e.WAIT=2]="WAIT",e}({});class m{constructor(e,t){var r=this;i()(this,"schedule",(function(){let{immediate:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{immediate:!1};r.operationInFlight?e?r.queuedSchedule=f.IMMEDIATE:r.queuedSchedule!==f.IMMEDIATE&&(r.queuedSchedule=f.WAIT):(e||r.options.waitInterval<=0)&&0===r.failureCount?(r.clearTimeout(),r.run()):r.failureCount>0&&null===r.scheduledTimeout?r.scheduledTimeout=window.setTimeout(r.run,r.calculateBackoff()):null===r.scheduledTimeout&&(r.scheduledTimeout=window.setTimeout(r.run,r.options.waitInterval))})),i()(this,"stop",()=>{this.clearTimeout(),this.queuedSchedule=f.NONE}),i()(this,"getFailureCount",()=>this.failureCount),i()(this,"getCallbackStatus",()=>this.callbackTimer.getCallbackStatus()),i()(this,"clearTimeout",()=>{null!==this.scheduledTimeout&&(window.clearTimeout(this.scheduledTimeout),this.scheduledTimeout=null)}),i()(this,"run",()=>{this.operationInFlight=!0,this.clearTimeout();try{this.callbackTimer.executeCallbackWithTimeout(this.callback,this.done,()=>this.done(o.DoneState.ERROR))}catch(e){this.done(e)}}),i()(this,"done",e=>{this.operationInFlight=!1,e===o.DoneState.ERROR||this.callbackTimer.getCallbackStatus()===s.CallbackStatus.TIMED_OUT?(this.failureCount++,this.clearTimeout()):e===o.DoneState.SUCCESS&&(this.failureCount=0),this.processQueuedSchedule()}),i()(this,"processQueuedSchedule",()=>{if(this.queuedSchedule!==f.NONE){const e=this.queuedSchedule===f.IMMEDIATE;this.queuedSchedule=f.NONE,this.schedule({immediate:e})}else this.failureCount>0&&this.schedule()}),i()(this,"calculateBackoff",()=>{const{minRetryDelay:e,maxRetryDelay:t,backoffFactor:r,backoffJitterPercentage:n}=this.options;let i=e*r**this.failureCount;if(n){const e=Math.random(),t=Math.floor(e*n*i);Math.floor(10*e)<5?i-=t:i+=t}return Number(Math.min(i,t).toPrecision(1))}),this.options={minRetryDelay:e.minRetryDelay||a,maxRetryDelay:e.maxRetryDelay||c,backoffFactor:e.backoffFactor||u,backoffJitterPercentage:e.backoffJitterPercentage||l,waitInterval:void 0!==e.waitInterval?e.waitInterval:d,callbackTimeoutPeriod:e.callbackTimeoutPeriod||h},this.scheduledTimeout=null,this.failureCount=0,this.callback=t,this.operationInFlight=!1,this.queuedSchedule=f.NONE,this.callbackTimer=new s.CallbackWithTimeout(this.options.callbackTimeoutPeriod)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"CallbackStatus",(function(){return s})),r.d(t,"CallbackEvent",(function(){return o})),r.d(t,"CallbackWithTimeout",(function(){return a}));var n=r(2),i=r.n(n);let s=function(e){return e.IDLE="idle",e.RUNNING="running",e.COMPLETED="completed",e.TIMED_OUT="timedOut",e}({}),o=function(e){return e.EXECUTE="execute",e.COMPLETE="complete",e.TIMEOUT="timeout",e}({});class a{constructor(e){if(i()(this,"timeoutHandle",void 0),i()(this,"callbackStatus",s.IDLE),!(e>0))throw new Error("CallbackWithTimeout requires timeout period higher than 0");this.timeoutPeriod=e}transitionCallbackStatus(e,t){switch(e){case s.IDLE:case s.TIMED_OUT:case s.COMPLETED:t===o.EXECUTE&&(this.callbackStatus=s.RUNNING);break;case s.RUNNING:switch(t){case o.COMPLETE:this.callbackStatus=s.COMPLETED;break;case o.TIMEOUT:this.callbackStatus=s.TIMED_OUT}break;default:this.callbackStatus=e}}executeCallbackWithTimeout(e,t,r){this.transitionCallbackStatus(this.callbackStatus,o.EXECUTE),this.timeoutHandle=window.setTimeout(()=>{this.transitionCallbackStatus(this.callbackStatus,o.TIMEOUT),r()},this.timeoutPeriod),e(e=>{this.cancelTimeout(),this.getCallbackStatus()!==s.TIMED_OUT&&(this.transitionCallbackStatus(this.callbackStatus,o.COMPLETE),t(e))})}getCallbackStatus(){return this.callbackStatus}cancelTimeout(){this.timeoutPeriod>0&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=void 0)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"DoneState",(function(){return n}));let n=function(e){return e[e.NOOP=0]="NOOP",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR",e}({})},function(e,t,r){"use strict";r.r(t);var n=r(56);r.d(t,"createUnknownXid",(function(){return n.createUnknownXid}));var i=r(57);r.d(t,"XIDItemType",(function(){return i.XIDItemType})),r.d(t,"XIDState",(function(){return i.XIDState}));var s=r(58);r.d(t,"XIDPromise",(function(){return s.XIDPromise}));var o=r(59);r.d(t,"attachXidToSingleEvent",(function(){return o.attachXidToSingleEvent})),r.d(t,"attachXidToMultipleEvents",(function(){return o.attachXidToMultipleEvents}))},function(e,t,r){"use strict";r.r(t),r.d(t,"XID_TIMEOUT",(function(){return i})),r.d(t,"createTimeoutXid",(function(){return s})),r.d(t,"createUnknownXid",(function(){return o}));var n=r(57);const i=5e3,s=()=>[{type:n.XIDItemType.XC,state:"TIMEOUT"},{type:n.XIDItemType.UID,state:"TIMEOUT"}],o=()=>[{type:n.XIDItemType.XC,state:"UNKNOWN"},{type:n.XIDItemType.UID,state:"UNKNOWN"}]},function(e,t,r){"use strict";r.r(t),r.d(t,"XIDItemType",(function(){return n})),r.d(t,"XIDState",(function(){return i}));let n=function(e){return e.XC="xc",e.UID="uid",e}({}),i=function(e){return e.NEW="NEW",e.CHANGED="CHANGED",e.EXISTING="EXISTING",e.TIMEOUT="TIMEOUT",e.ERROR="ERROR",e.UNAVAILABLE="UNAVAILABLE",e.MALFORMED="MALFORMED",e.UNKNOWN="UNKNOWN",e}({})},function(e,t,r){"use strict";r.r(t),r.d(t,"XIDPromise",(function(){return i}));var n=r(56);const i=(e,t)=>{if(e&&t&&"function"==typeof t){const e=()=>new Promise(e=>{setTimeout(()=>e(()=>Object(n.createTimeoutXid)()),n.XID_TIMEOUT)}),r=()=>t().catch(()=>()=>Object(n.createUnknownXid)());return Promise.race([r(),e()])}}},function(e,t,r){"use strict";r.r(t),r.d(t,"attachXidToSingleEvent",(function(){return c})),r.d(t,"attachXidToMultipleEvents",(function(){return u}));var n=r(2),i=r.n(n),s=r(60);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(!(t&&t instanceof Function))return e;if(e.msg.type===s.SegmentEventTypes.PAGE||e.msg.type===s.SegmentEventTypes.TRACK){const r=t();r&&Array.isArray(r)&&(e.msg.properties=a(a({},e.msg.properties),{},{xid:r}))}else if(e.msg.traits&&e.msg.type===s.SegmentEventTypes.IDENTIFY){const r=t();r&&Array.isArray(r)&&(e.msg.traits=a(a({},e.msg.traits),{},{xid:r}))}return e}async function u(e,t){try{const r=await t;return e.map(e=>c(e,r))}catch(t){return e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"SegmentEventTypes",(function(){return n})),r.d(t,"CrossDomainIdentifierType",(function(){return i})),r.d(t,"CrossDomainIdentifierState",(function(){return s}));let n=function(e){return e.IDENTIFY="identify",e.PAGE="page",e.TRACK="track",e}({}),i=function(e){return e.XC="xc",e.UID="uid",e}({}),s=function(e){return e.NEW="NEW",e.CHANGED="CHANGED",e.EXISTING="EXISTING",e.TIMEOUT="TIMEOUT",e.ERROR="ERROR",e.UNAVAILABLE="UNAVAILABLE",e.MALFORMED="MALFORMED",e.UNKNOWN="UNKNOWN",e}({})},function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_REQUEST_TIMEOUT",(function(){return n}));const n=1e4},function(e,t,r){"use strict";r.r(t),r.d(t,"sendEvents",(function(){return a}));var n=r(2),i=r.n(n),s=r(63);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const a=async e=>{var t;const r=null===(t=c(e))||void 0===t?void 0:t.signal,n=u(e.url),s=await fetch(e.url,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e.batch),signal:r},n));if(429===s.status||s.status>=500&&s.status<600)throw new Error(`HTTP Error ${s.status} (${s.statusText})`);return s},c=e=>{if(e.abortController)return e.abortController;if(e.timeout){const t=new AbortController;return setTimeout(()=>{t.abort()},e.timeout),t}},u=Object(s.default)(e=>new URL(e).origin===location.origin?{}:{mode:"cors",credentials:"include"})},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(i=e[r],s=t[r],!(i===s||n(i)&&n(s)))return!1;var i,s;return!0}function s(e,t){void 0===t&&(t=i);var r=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var s=e.apply(this,n);return r={lastResult:s,lastArgs:n,lastThis:this},s}return n.clear=function(){r=null},n}},function(e,t,r){"use strict";r.r(t),r.d(t,"ANONYMOUS_ID_KEY",(function(){return c})),r.d(t,"default",(function(){return u}));var n=r(65),i=r(3),s=r.n(i),o=r(71),a=r(76);const c="ajs_anonymous_id";class u{constructor(){this.store=new a.default({useStoragePrefix:!1}),this.cookie=new o.default}getUserId(){return this.userId||null}setUserId(e){this.userId=e}getAnonymousId(){return this.getAnonymousIdFromLocalStorageAndUpdateCookieIfStale()||this.getAnonymousIdFromCookieAndUpdateLocalStorage()||this.generateNewAnonymousId()}setAnonymousId(e){const t=JSON.stringify(e);return this.cookie.set(c,t),this.lastAnonymousIdCookieUpdate=Date.now(),this.store.setItem(c,t)}getAnonymousIdFromStorage(e){const t="LOCAL_STORAGE"===e?this.store.getItem(c):this.cookie.get(c);if(t){const e={type:"UNSAFE",anonymousId:t};try{const r=JSON.parse(t);return r&&"string"==typeof r?{type:"SAFE",anonymousId:r}:e}catch(t){return e}}return{type:"NOT_FOUND"}}getAnonymousIdFromLocalStorageAndUpdateCookieIfStale(){const e=this.getAnonymousIdFromStorage("LOCAL_STORAGE");let t=!1;switch((!this.lastAnonymousIdCookieUpdate||Object(n.default)(new Date,new Date(this.lastAnonymousIdCookieUpdate))>=7)&&(t=!0),e.type){case"SAFE":return t&&this.setAnonymousId(e.anonymousId),e.anonymousId;case"UNSAFE":return e.anonymousId;case"NOT_FOUND":default:return null}}getAnonymousIdFromCookieAndUpdateLocalStorage(){const e=this.getAnonymousIdFromStorage("COOKIE");switch(e.type){case"SAFE":case"UNSAFE":return this.store.setItem(c,JSON.stringify(e.anonymousId)),e.anonymousId;case"NOT_FOUND":default:return null}}generateNewAnonymousId(){const e=s()();return this.setAnonymousId(e),e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r(66),i=r(68),s=r(67);function o(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function a(e,t){Object(s.default)(2,arguments);var r=Object(n.default)(e),a=Object(n.default)(t),c=o(r,a),u=Math.abs(Object(i.default)(r,a));r.setDate(r.getDate()-c*u);var l=Number(o(r,a)===-c),d=c*(u-l);return 0===d?0:d}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r(67);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){Object(n.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,r){"use strict";function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(69),i=r(70),s=r(67);function o(e,t){Object(s.default)(2,arguments);var r=Object(i.default)(e),o=Object(i.default)(t),a=r.getTime()-Object(n.default)(r),c=o.getTime()-Object(n.default)(o);return Math.round((a-c)/864e5)}},function(e,t,r){"use strict";function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r(66),i=r(67);function s(e){Object(i.default)(1,arguments);var t=Object(n.default)(e);return t.setHours(0,0,0,0),t}},function(e,t,r){"use strict";r.r(t);var n=r(72);r.d(t,"default",(function(){return n.default}))},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r(2),i=r.n(n),s=r(73),o=r.n(s),a=r(74),c=r(75),u=r(79);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class h{constructor(){this.cookieLike=Object(u.canUseCookie)()?o.a:new c.default}set(e,t,r){return this.cookieLike.set(e,t,d(d({},a.COOKIE_OPTIONS),{},{domain:Object(u.getTld)()},r))}get(e){return this.cookieLike.get(e)}remove(e,t){this.cookieLike.remove(e,d({},t))}}},function(e,t,r){var n,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(s){if(void 0===(i="function"==typeof(n=s)?n.call(t,r,t,e):n)||(e.exports=i),!0,e.exports=s(),!!0){var o=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=o,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function s(t,r,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c].split(";")[0]));return document.cookie=t+"="+r+a}}function o(e,r){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var a=s[o].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,r){s(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}))},function(e,t,r){"use strict";r.r(t),r.d(t,"COOKIE_OPTIONS",(function(){return n}));const n={expires:365,secure:"https:"===window.location.protocol,path:"/"}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r(76);class i{constructor(){this.safeStorage=new n.default({useStoragePrefix:!1})}set(e,t){return this.safeStorage.setItem(e,t),t}get(e){return this.safeStorage.getItem(e)||void 0}remove(e){this.safeStorage.removeItem(e)}}},function(e,t,r){"use strict";r.r(t);var n=r(77),i=r(78);t.default=class extends i.default{constructor(e){let t;try{t=window.localStorage||n.default}catch(e){t=n.default}super(t,e)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"InMemoryStore",(function(){return s}));var n=r(2),i=r.n(n);class s{constructor(){i()(this,"_data",{}),i()(this,"length",0),i()(this,"setItem",(e,t)=>(this._data[e]=t,this.length=Object.keys(this._data).length,t)),i()(this,"getItem",e=>e in this._data?this._data[e]:null),i()(this,"removeItem",e=>(e in this._data&&delete this._data[e],this.length=Object.keys(this._data).length,null)),i()(this,"clear",()=>{this._data={},this.length=0}),i()(this,"key",e=>Object.keys(this._data)[e])}}t.default=new s},function(e,t,r){"use strict";r.r(t),r.d(t,"AWC_STORAGE_PREFIX",(function(){return a})),r.d(t,"GLOBAL_IN_MEMORY_NAME",(function(){return c})),r.d(t,"isSupported",(function(){return u})),r.d(t,"isQuotaExceeded",(function(){return l})),r.d(t,"default",(function(){return d}));var n=r(2),i=r.n(n),s=r(6),o=r(77);const a="awc",c="awcInMemoryStorageFallback";function u(e){if(!e)return!1;try{const t="awc.storage.support";e.setItem(t,"test_value");const r=e.getItem(t);return e.removeItem(t),"test_value"===r}catch(e){return!1}}function l(e){let t=!1;if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i()(this,"getStore",()=>this._store),i()(this,"getItem",e=>this._store.getItem(this.createKey(e))),i()(this,"removeItem",e=>this._store.removeItem(this.createKey(e))),i()(this,"setItem",(e,t)=>{try{this._store.setItem(this.createKey(e),t)}catch(r){l(r)&&(this.swapToInMemory(),this._store.setItem(this.createKey(e),t))}}),i()(this,"swapToInMemory",()=>{if(this._store===o.default)return;const e=Object.keys(this._store||{});let t;u(window[c])?t=window[c]:(t=o.default,window[c]||(window[c]=o.default)),e.forEach(e=>{if(0===e.indexOf(this.getPrefix())){const r=this._store.getItem(e);r&&t.setItem(e,r)}}),this._store=t}),i()(this,"clear",()=>this._store.clear()),i()(this,"key",e=>this._store.key(e)),i()(this,"getPrefix",()=>this._prefix),i()(this,"createKey",e=>this._prefix?`${this.getPrefix()}.${e}`:e),this.options=t;const r=[];(void 0===t.useStoragePrefix||t.useStoragePrefix)&&r.push(a),t.envPrefix&&t.envPrefix!==s.envType.PROD&&r.push(t.envPrefix),this._prefix=r.join("-"),u(e)?this._store=e:this.swapToInMemory()}}},function(e,t,r){"use strict";r.r(t),r.d(t,"canUseCookie",(function(){return o})),r.d(t,"COOKIE_NAME",(function(){return a})),r.d(t,"COOKIE_VALUE",(function(){return c})),r.d(t,"getTld",(function(){return u}));var n=r(73),i=r.n(n),s=r(63);const o=()=>!("file:"===location.protocol||"chrome-extension:"===location.protocol),a="__awc_tld_test__",c="tld_test",u=Object(s.default)(()=>{const{hostname:e}=location,t=e.split(".");for(let e=1;e<=t.length;e++){const r="."+t.slice(-1*e).join(".");if(i.a.set(a,c,{domain:r}),i.a.get(a)===c)return i.a.remove(a,{domain:r}),r}return e})},function(e,t,r){"use strict";r.r(t),r.d(t,"buildContext",(function(){return u})),r.d(t,"prepareEventProperties",(function(){return l})),r.d(t,"nestedRemoveUndefinedValues",(function(){return d}));var n=r(2),i=r.n(n),s=r(81),o=r.n(s);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u=e=>c(c({},e.context),{},{userAgent:navigator.userAgent}),l=e=>{const t=d(e);return o()(t)},d=e=>{if(null===e||"object"!=typeof e)return e;const t={};return Object.keys(e).forEach(r=>{const n=h(e,r);void 0!==n&&(Array.isArray(n)?t[r]=n.map(e=>d(e)):t[r]="object"==typeof n&&null!==n?d(n):n)}),t},h=(e,t)=>e[t]},function(e,t,r){"use strict";var n=r(82);function i(e,t){return void 0===t&&(t=!0),e&&"object"==typeof e?function(e,t){return Object.keys(e).forEach((function(r){e[r]=i(e[r],t)})),e}(e,t):Array.isArray(e)?function(e,t){return e.forEach((function(r,n){e[n]=i(r,t)})),e}(e,t):n.is(e,t)?n.parse(e):e}e.exports=i},function(e,t,r){"use strict";var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],r=n.exec(e),i=0;if(!r)return new Date(e);for(var s,o=0;s=t[o];o++)r[s]=parseInt(r[s],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?i=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(i=60*r[11]+r[12],"+"===r[10]&&(i=0-i));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+i,r[7],r[8]);return new Date(a)},t.is=function(e,t){return"string"==typeof e&&((!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&n.test(e))}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r(2),i=r.n(n),s=r(6),o=r(84);class a{constructor(){i()(this,"handleOriginParameters",(e,t)=>{const r=Object.keys(e);if(!(r.length>0))throw new Error("Empty parameter mapping provided");const n=r.filter(e=>Object.values(s.originTracingType).indexOf(e)<0);if(n.length>0)throw new Error(`Invalid Origin Tracing Parameter(s) supplied: ${n.join()}!`);const i=Object(o.default)((e,t)=>r.indexOf(t)>=0,t);return Object.keys(i).map(t=>({[t]:e[t](i[t])})).reduce((e,t)=>Object.assign(e,t),{})}),this._originStore={}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"defaultHistoryReplaceFn",(function(){return s}));var n=r(85),i=r(16);const s=e=>window.history.replaceState({},"",e);t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;const r=window.location.href,o=window.location.hash,a=""!==o?r.replace(o,""):r,{url:c,query:u}=Object(n.parseUrl)(a),l=Object(i.pickBy)(u,e);if(Object.keys(l).length>0){const r=Object(i.omitBy)(u,e);if(Object.keys(r).length>0){t(`${c}?${Object(n.stringify)(r)}${o}`)}else t(`${c}${o}`)}return l}},function(e,t,r){"use strict";const n=r(86),i=r(87),s=r(88),o=r(89),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&l(r,e).includes(e.arrayFormatSeparator);r=s?l(r,e):r;const o=i||s?r.split(e.arrayFormatSeparator).map(t=>l(t,e)):null===r?r:l(r,e);n[t]=o};case"bracket-separator":return(t,r,n)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(n[t]=r?l(r,e):r);const s=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>l(t,e));void 0!==n[t]?n[t]=[].concat(n[t],s):n[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){if(""===i)continue;let[e,o]=s(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:l(o,t),r(l(e,t),o,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=f(r[e],t);else n[e]=f(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=h,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",i,"]"].join("")]:[...r,[u(t,e),"[",u(i,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,e),t,u(i,e)].join("")]:[[n,u(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{const i=e[r];return void 0===i?"":null===i?u(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":i.reduce(n(r),[]).join("&"):u(r,t)+"="+u(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:m(h(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=d(e.url).split("?")[0]||"",i=t.extract(e.url),s=t.parse(i,{sort:!1}),o=Object.assign(s,e.query);let c=t.stringify(o,r);c&&(c="?"+c);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l="#"+(r[a]?u(e.fragmentIdentifier,r):e.fragmentIdentifier)),`${n}${c}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:s,fragmentIdentifier:c}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:c},n)},t.exclude=(e,r,n)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,r){"use strict";var n=new RegExp("(%[a-f0-9]{2})|([^%]+?)","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],s(r),s(n))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=i.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=o(r[0]);n!==r[0]&&(t[r[0]]=n)}r=i.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),s=0;s<n.length;s++){var o=n[s],a=e[o];(i?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_SESSION_EXPIRY_TIME_MS",(function(){return a})),r.d(t,"DEFAULT_EXPIRY_DEBOUNCE",(function(){return c})),r.d(t,"DEFAULT_DEBOUNCE_THRESHOLD_PERCENTAGE",(function(){return u})),r.d(t,"NOOP",(function(){return l})),r.d(t,"default",(function(){return d}));var n=r(2),i=r.n(n),s=r(76);const o=/^\d+$/,a=18e5,c=5e3,u=.9,l=()=>{};class d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,"_generateNewSessionId",()=>{const e=Date.now().toString();return this._safeLocalStorage.setItem("session.id",e),this._onNewSessionStarted&&this._onNewSessionStarted(),e}),i()(this,"_updateSessionExpiry",()=>{const e=Date.now()+this._sessionExpiryTime;return this._safeLocalStorage.setItem("session.expiry",e.toString()),e}),i()(this,"_debouncedUpdateSessionExpiry",e=>{const{_updateSessionExpiry:t}=this;if(e<Date.now()+this._sessionExpiryDebounceThresholdPercentage*this._sessionExpiryTime)return t();this._sessionExpiryDebounceTimer&&clearTimeout(this._sessionExpiryDebounceTimer),this._sessionExpiryDebounceTimer=setTimeout(()=>{t()},this._sessionExpiryDebounce)}),this._sessionExpiryTime=e.sessionExpiryTime||a,this._sessionExpiryDebounce=e.sessionExpiryDebounce||c,this._sessionExpiryDebounceThresholdPercentage=e.sessionExpiryDebounceThresholdPercentage||u,this._onNewSessionStarted=e.onNewSessionStarted?e.onNewSessionStarted:l,this._safeLocalStorage=new s.default}getCurrentSessionId(){const e=this._safeLocalStorage.getItem("session.id"),t=parseInt(this._safeLocalStorage.getItem("session.expiry")||"0",10)||0;return this._debouncedUpdateSessionExpiry(t),!e||t<=Date.now()||Number.isNaN(t)?this._generateNewSessionId():o.test(e)?e:this._generateNewSessionId()}}},function(e,t,r){"use strict";r.r(t);var n=r(77),i=r(78);t.default=class extends i.default{constructor(e){let t;try{t=window.sessionStorage||n.default}catch(e){t=n.default}super(t,e)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(2),i=r.n(n),s=r(3),o=r.n(s),a=r(91);class c{constructor(){i()(this,"_generateNewTabId",()=>{const e=o()();return this._safeSessionStorage.setItem("tab.id",e),e}),this._safeSessionStorage=new a.default}getCurrentTabId(){let e=this._safeSessionStorage.getItem("tab.id");return e||(e=this._generateNewTabId()),e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r(2),i=r.n(n),s=r(85),o=r(3),a=r.n(o),c=r(6),u=r(16),l=r(91),d=r(84);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m="taskSessionsInit";class p{constructor(){i()(this,"_taskSessionsNotRecentlyInitialised",e=>null===this._safeSessionStorage.getItem("taskSessions")||null===this._safeSessionStorage.getItem(m)||parseInt(this._safeSessionStorage.getItem(m)||"0",10)<e-3e3),i()(this,"_removeTaskSessionPrefix",(e,t)=>t.split("awc.")[1]),i()(this,"_isTaskSessionQueryParam",(e,t)=>t.startsWith("awc.")),i()(this,"getAllTaskSessions",()=>{try{return JSON.parse(this._safeSessionStorage.getItem("taskSessions")||"")}catch(e){return{}}}),i()(this,"_writeToSessionStorage",e=>{try{this._safeSessionStorage.setItem("taskSessions",JSON.stringify(e))}catch(e){}}),i()(this,"_appendTaskSessions",e=>{const t=this.getAllTaskSessions(),r=null===t?e:Object.assign(t,e);this._writeToSessionStorage(r)}),i()(this,"_safelyRemoveKey",(e,t)=>null===e?{}:(delete e[t],e)),i()(this,"createTaskSession",e=>{const t=a()(),r={};return r[e]=t,this._appendTaskSessions(r),t}),i()(this,"createTaskSessionWithProvidedId",(e,t)=>{if("string"!=typeof t)throw new TypeError("invalid taskSessionId, must be string");const r={};r[e]=t,this._appendTaskSessions(r)}),i()(this,"completeTaskSession",e=>{const t=this.getAllTaskSessions(),r=this._safelyRemoveKey(t,e);this._writeToSessionStorage(r)}),i()(this,"formatTaskSessionQueryString",e=>{let{uri:t,includedTaskSessions:r}=e;const{url:n,query:i}=Object(s.parseUrl)(t),o=this.getAllTaskSessions(),a=r?Object(u.pick)(o,r):Object(u.omit)(o,Object.values(c.originTracingType));if(0===Object.keys(a).length)return t;const l=f(f({},Object(u.mapKeys)(a,(e,t)=>"awc."+t)),i);return`${n}?${Object(s.stringify)(l)}`}),i()(this,"stripQueryParameters",()=>{const e=Object(u.mapKeys)(Object(d.default)(this._isTaskSessionQueryParam),this._removeTaskSessionPrefix);this._appendTaskSessions(e)});const e=Date.now();this._safeSessionStorage=new l.default;try{this._taskSessionsNotRecentlyInitialised(e)&&(this._writeToSessionStorage({}),this._safeSessionStorage.setItem(m,e.toString()))}catch(e){}}}},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),s=r(73),o=r.n(s);t.default=class{constructor(){i()(this,"_bind",()=>{window.testAnalytics||(window.testAnalytics={eventCache:[],events:()=>window.testAnalytics.eventCache,clear:()=>{window.testAnalytics.eventCache=[];try{localStorage.removeItem("awc.ui.viewed.last.sent"),localStorage.removeItem("awc-staging.ui.viewed.last.sent"),localStorage.removeItem("awc-dev.ui.viewed.last.sent"),localStorage.removeItem("awc-local.ui.viewed.last.sent")}catch(e){}}})}),i()(this,"_cache",e=>{window.testAnalytics.eventCache.length>=100&&(window.testAnalytics.eventCache=window.testAnalytics.eventCache.slice(1,window.testAnalytics.eventCache.length)),window.testAnalytics.eventCache.push(e)}),i()(this,"_shouldCacheEvent",()=>this._isDebugCookieEnabled),i()(this,"saveEvent",e=>{e&&this._shouldCacheEvent()&&(window.testAnalytics||this._bind(),e.tags instanceof Array?e.tags.push("synthetic"):e.tags=["synthetic"],this._cache(e))}),this._isDebugCookieEnabled=(()=>{try{return JSON.parse(o.a.get("atlassian_analytics_debug")||"false")}catch(e){o.a.remove("atlassian_analytics_debug")}return!1})(),this._isDebugCookieEnabled&&this._bind()}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r(41),i=r.n(n),s=r(2),o=r.n(s),a=r(6),c=r(76);const u=["embeddedProduct"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class h{constructor(e,t,r){var n=this;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(o()(this,"start",()=>{this._startInterval(),this._bindEventListeners()}),o()(this,"stop",()=>{this._stopInterval(),this._unbindEventListeners()}),o()(this,"resetTimers",()=>{this._intervalId&&(this.stop(),this.start())}),o()(this,"_bindEventListeners",()=>{window.addEventListener("focus",this._focusListener),window.addEventListener("blur",this._blurListener)}),o()(this,"_unbindEventListeners",()=>{window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener)}),o()(this,"_startInterval",()=>{clearInterval(this._intervalId),this._intervalId=setInterval(this._handleInterval,this._delay)}),o()(this,"_stopInterval",()=>{this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)}),o()(this,"_getProductKey",(e,t)=>{let r=e;return t&&(r+="-"+t),r}),o()(this,"_getLastSentTimestamp",(e,t,r)=>(((this._parseLocalStorageData()||{})[r]||{})[t]||{})[e]||null),o()(this,"_parseLocalStorageData",()=>{const e=this._safeLocalStorage.getItem(this._storageKey);try{return JSON.parse(e||"")}catch(e){return this._safeLocalStorage.removeItem(this._storageKey),null}}),o()(this,"_setLastSentTimestamp",(e,t,r)=>{const n=this._parseLocalStorageData()||{},i=n[r]||{},s=i[t]||{};s[e]=Date.now(),i[t]=s,n[r]=i,this._safeLocalStorage.setItem(this._storageKey,JSON.stringify(n))}),o()(this,"_shouldSendEvent",(e,t,r,n)=>{if(!document.hasFocus())return!1;if(t!==a.tenantType.NONE&&!r||!n)return!1;return Date.now()-this._getLastSentTimestamp(e,r,n)>this._throttle}),o()(this,"_handleInterval",()=>{const e=this._getContext(),{embeddedProduct:t}=e,r=i()(e,u);this._sendEvent(this._product,r),t&&this._sendEvent(t,r,!0)}),o()(this,"_sendEvent",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{subproduct:i,tenantIdType:s,tenantId:o,userId:a,lastScreenEvent:c,attributes:u}=t,l=n._getProductKey(e,i);if(n._shouldSendEvent(l,s,o,a)){n._setLastSentTimestamp(l,o,a);const t=n._createEvent(e,i,r,c,u);n._onEvent(t)}})),o()(this,"_createEvent",(e,t,r,n,i)=>{const s={product:e,source:"ui",action:"viewed",actionSubject:"ui",attributes:i};return r&&(s.subproduct=null,s.version=null,s.attributes=d(d({},s.attributes),{},{embeddedInEnv:this._productInfo.env,embeddedInProduct:this._productInfo.product,embeddedInSubproduct:t,embeddedInVersion:this._productInfo.version,embeddedInOrigin:this._productInfo.origin,embeddedInPlatform:this._productInfo.platform})),n&&(s.attributes=d(d({},s.attributes),{},{lastScreenEvent:{name:n.name,attributes:n.attributes}})),s}),!e)throw new Error("Missing productInfo");if(!e.product)throw new Error("Missing productInfo.product");if(!t)throw new Error("Missing getContext callback");if("function"!=typeof t)throw new Error("Invalid getContext, must be function");if(!r)throw new Error("Missing onEvent callback");if("function"!=typeof r)throw new Error("Invalid onEvent, must be function");this._productInfo=e,this._product=e.product,this._getContext=t,this._onEvent=r,this._delay=s.delay||2e3,this._throttle=s.throttle||36e5,this._storageKey=s.storageKey||"ui.viewed.last.sent",this._safeLocalStorage=new c.default({envPrefix:this._productInfo.env}),this._focusListener=()=>{this._startInterval()},this._blurListener=()=>{this._stopInterval()}}}},function(e,t,r){"use strict";function n(e,t){return e&&"function"==typeof e?()=>{e(t)}:null}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return d}));var n=r(2),i=r.n(n),s=r(98),o=r.n(s),a=r(15);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l={initialPollInterval:5,pollBackoffRate:2,idleTimeout:30};class d{constructor(e,t,r,n){if(i()(this,"timeMeInitialized",!1),i()(this,"start",()=>{if(this.timeMeInitialized)throw new Error("DwellTimeHelper should only be initialised once per page load.");this.timeMeInitialized=!0,this._initDwellTimeCounterAndPolling(),window.addEventListener("beforeunload",()=>{this.stop()})}),i()(this,"stop",()=>{o.a.isUserCurrentlyOnPage&&this._sendDwellEvent(this._eventData,this._searchSessionId,!0),o.a.stopAllTimers(),o.a.resetAllRecordedPageTimes(),o.a.timeElapsedCallbacks=[],this.timeMeInitialized=!1}),i()(this,"newPage",(e,t)=>{Object(a.validateDwellBaseEvent)(e),this.stop(),this._eventData=e,this._searchSessionId=t,this._initDwellTimeCounterAndPolling()}),i()(this,"_initDwellTimeCounterAndPolling",()=>{o.a.initialize({idleTimeoutInSeconds:this._timing.idleTimeout}),this._pollDwellTime(this._timing.initialPollInterval,this._searchSessionId,this._eventData)}),i()(this,"_pollDwellTime",(e,t,r)=>{o.a.callAfterTimeElapsedInSeconds(e,()=>{this._sendDwellEvent(r,t,!1),this._pollDwellTime(e*this._timing.pollBackoffRate,t,r)})}),i()(this,"_sendDwellEvent",(e,t,r)=>{const n={dwellTime:o.a.getTimeOnCurrentPageInMilliseconds(),searchReferrer:t,finalDwellEvent:r};this._trackCallback({action:"dwelled",actionSubject:e.actionSubject,actionSubjectId:e.actionSubjectId,source:e.source,containerType:e.containerType,containerId:e.containerId,containers:e.containers,objectType:e.objectType,objectId:e.objectId,attributes:u(u({},n),e.attributes),tags:e.tags})}),!e)throw new Error("trackCallback is required for DwellTimeHelper");Object(a.validateDwellBaseEvent)(t),this._trackCallback=e,this._eventData=t,this._searchSessionId=r,this._timing=u(u({},l),n)}}},function(e,t,r){var n;(()=>{((r,i)=>{if(e.exports)return e.exports=i();void 0===(n=(()=>r.TimeMe=i()).apply(t,[]))||(e.exports=n)})(this,()=>{let e={startStopTimes:{},idleTimeoutMs:3e4,currentIdleTimeMs:0,checkIdleStateRateMs:250,isUserCurrentlyOnPage:!0,isUserCurrentlyIdle:!1,currentPageName:"default-page-name",timeElapsedCallbacks:[],userLeftCallbacks:[],userReturnCallbacks:[],trackTimeOnElement:t=>{let r=document.getElementById(t);r&&(r.addEventListener("mouseover",()=>{e.startTimer(t)}),r.addEventListener("mousemove",()=>{e.startTimer(t)}),r.addEventListener("mouseleave",()=>{e.stopTimer(t)}),r.addEventListener("keypress",()=>{e.startTimer(t)}),r.addEventListener("focus",()=>{e.startTimer(t)}))},getTimeOnElementInSeconds:t=>{let r=e.getTimeOnPageInSeconds(t);return r||0},startTimer:(t,r)=>{if(t||(t=e.currentPageName),void 0===e.startStopTimes[t])e.startStopTimes[t]=[];else{let r=e.startStopTimes[t],n=r[r.length-1];if(void 0!==n&&void 0===n.stopTime)return}e.startStopTimes[t].push({startTime:r||new Date,stopTime:void 0})},stopAllTimers:()=>{let t=Object.keys(e.startStopTimes);for(let r=0;r<t.length;r++)e.stopTimer(t[r])},stopTimer:(t,r)=>{t||(t=e.currentPageName);let n=e.startStopTimes[t];void 0!==n&&0!==n.length&&void 0===n[n.length-1].stopTime&&(n[n.length-1].stopTime=r||new Date)},getTimeOnCurrentPageInSeconds:()=>e.getTimeOnPageInSeconds(e.currentPageName),getTimeOnPageInSeconds:t=>{let r=e.getTimeOnPageInMilliseconds(t);return void 0===r?void 0:r/1e3},getTimeOnCurrentPageInMilliseconds:()=>e.getTimeOnPageInMilliseconds(e.currentPageName),getTimeOnPageInMilliseconds:t=>{let r=0,n=e.startStopTimes[t];if(void 0===n)return;let i=0;for(let e=0;e<n.length;e++){let t=n[e].startTime,r=n[e].stopTime;void 0===r&&(r=new Date),i+=r-t}return r=Number(i),r},getTimeOnAllPagesInSeconds:()=>{let t=[],r=Object.keys(e.startStopTimes);for(let n=0;n<r.length;n++){let i=r[n],s=e.getTimeOnPageInSeconds(i);t.push({pageName:i,timeOnPage:s})}return t},setIdleDurationInSeconds:t=>{let r=parseFloat(t);if(!1!==isNaN(r))throw{name:"InvalidDurationException",message:"An invalid duration time ("+t+") was provided."};e.idleTimeoutMs=1e3*t},setCurrentPageName:t=>{e.currentPageName=t},resetRecordedPageTime:t=>{delete e.startStopTimes[t]},resetAllRecordedPageTimes:()=>{let t=Object.keys(e.startStopTimes);for(let r=0;r<t.length;r++)e.resetRecordedPageTime(t[r])},userActivityDetected:()=>{e.isUserCurrentlyIdle&&e.triggerUserHasReturned(),e.resetIdleCountdown()},resetIdleCountdown:()=>{e.isUserCurrentlyIdle=!1,e.currentIdleTimeMs=0},callWhenUserLeaves:(t,r)=>{e.userLeftCallbacks.push({callback:t,numberOfTimesToInvoke:r})},callWhenUserReturns:(t,r)=>{e.userReturnCallbacks.push({callback:t,numberOfTimesToInvoke:r})},triggerUserHasReturned:()=>{if(!e.isUserCurrentlyOnPage){e.isUserCurrentlyOnPage=!0,e.resetIdleCountdown();for(let t=0;t<e.userReturnCallbacks.length;t++){let r=e.userReturnCallbacks[t],n=r.numberOfTimesToInvoke;(isNaN(n)||void 0===n||n>0)&&(r.numberOfTimesToInvoke-=1,r.callback())}}e.startTimer()},triggerUserHasLeftPageOrGoneIdle:()=>{if(e.isUserCurrentlyOnPage){e.isUserCurrentlyOnPage=!1;for(let t=0;t<e.userLeftCallbacks.length;t++){let r=e.userLeftCallbacks[t],n=r.numberOfTimesToInvoke;(isNaN(n)||void 0===n||n>0)&&(r.numberOfTimesToInvoke-=1,r.callback())}}e.stopAllTimers()},callAfterTimeElapsedInSeconds:(t,r)=>{e.timeElapsedCallbacks.push({timeInSeconds:t,callback:r,pending:!0})},checkIdleState:()=>{for(let t=0;t<e.timeElapsedCallbacks.length;t++)e.timeElapsedCallbacks[t].pending&&e.getTimeOnCurrentPageInSeconds()>e.timeElapsedCallbacks[t].timeInSeconds&&(e.timeElapsedCallbacks[t].callback(),e.timeElapsedCallbacks[t].pending=!1);!1===e.isUserCurrentlyIdle&&e.currentIdleTimeMs>e.idleTimeoutMs?(e.isUserCurrentlyIdle=!0,e.triggerUserHasLeftPageOrGoneIdle()):e.currentIdleTimeMs+=e.checkIdleStateRateMs},visibilityChangeEventName:void 0,hiddenPropName:void 0,listenForVisibilityEvents:(t,r)=>{t&&e.listenForUserLeavesOrReturnsEvents(),r&&e.listForIdleEvents()},listenForUserLeavesOrReturnsEvents:()=>{void 0!==document.hidden?(e.hiddenPropName="hidden",e.visibilityChangeEventName="visibilitychange"):void 0!==document.mozHidden?(e.hiddenPropName="mozHidden",e.visibilityChangeEventName="mozvisibilitychange"):void 0!==document.msHidden?(e.hiddenPropName="msHidden",e.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(e.hiddenPropName="webkitHidden",e.visibilityChangeEventName="webkitvisibilitychange"),document.addEventListener(e.visibilityChangeEventName,()=>{document[e.hiddenPropName]?e.triggerUserHasLeftPageOrGoneIdle():e.triggerUserHasReturned()},!1),window.addEventListener("blur",()=>{e.triggerUserHasLeftPageOrGoneIdle()}),window.addEventListener("focus",()=>{e.triggerUserHasReturned()})},listForIdleEvents:()=>{document.addEventListener("mousemove",()=>{e.userActivityDetected()}),document.addEventListener("keyup",()=>{e.userActivityDetected()}),document.addEventListener("touchstart",()=>{e.userActivityDetected()}),window.addEventListener("scroll",()=>{e.userActivityDetected()}),setInterval(()=>{!0!==e.isUserCurrentlyIdle&&e.checkIdleState()},e.checkIdleStateRateMs)},websocket:void 0,websocketHost:void 0,setUpWebsocket:t=>{if(window.WebSocket&&t){let r=t.websocketHost;try{e.websocket=new WebSocket(r),window.onbeforeunload=()=>{e.sendCurrentTime(t.appId)},e.websocket.onopen=()=>{e.sendInitWsRequest(t.appId)},e.websocket.onerror=e=>{console&&console.log("Error occurred in websocket connection: "+e)},e.websocket.onmessage=e=>{console&&console.log(e.data)}}catch(e){console&&console.error("Failed to connect to websocket host.  Error:"+e)}}},websocketSend:t=>{e.websocket.send(JSON.stringify(t))},sendCurrentTime:t=>{let r={type:"INSERT_TIME",appId:t,timeOnPageMs:e.getTimeOnCurrentPageInMilliseconds(),pageName:e.currentPageName};e.websocketSend(r)},sendInitWsRequest:t=>{let r={type:"INIT",appId:t};e.websocketSend(r)},initialize:t=>{let r=e.idleTimeoutMs||30,n=e.currentPageName||"default-page-name",i=void 0,s=void 0,o=!0,a=!0;t&&(r=t.idleTimeoutInSeconds||r,n=t.currentPageName||n,i=t.websocketOptions,s=t.initialStartTime,!1===t.trackWhenUserLeavesPage&&(o=!1),!1===t.trackWhenUserGoesIdle&&(a=!1)),e.setIdleDurationInSeconds(r),e.setCurrentPageName(n),e.setUpWebsocket(i),e.listenForVisibilityEvents(o,a),e.startTimer(void 0,s)}};return e})}).call(this)},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(2),i=r.n(n),s=r(100),o=r(15);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u={initialPollInterval:5e3,idleTimeout:3e4,multiplierCallback:e=>e+e};class l{constructor(e,t,r,n){if(i()(this,"start",()=>{this.browserInteractionTime.startTimer(),this.browserInteractionTime.addTimeIntervalEllapsedCallback({callback:e=>this._sendDwellEvent(this._eventData,this._searchSessionId,e,!1),timeInMilliseconds:this._timing.initialPollInterval,multiplier:this._timing.multiplierCallback}),window.addEventListener("beforeunload",this._onBeforeUnload)}),i()(this,"stop",()=>{this.browserInteractionTime.isRunning()&&this._sendDwellEvent(this._eventData,this._searchSessionId,this.browserInteractionTime.getTimeInMilliseconds(),!0),this.browserInteractionTime.stopTimer()}),i()(this,"newPage",(e,t)=>{Object(o.validateDwellBaseEvent)(e),this.stop(),this.browserInteractionTime.reset(),this.setEventData(e),this.setSearchSessionId(t),this.start()}),i()(this,"setEventData",e=>{this._eventData=e}),i()(this,"getEventData",()=>this._eventData),i()(this,"setSearchSessionId",e=>{this._searchSessionId=e}),i()(this,"getSearchSessionId",()=>this._searchSessionId),i()(this,"destroy",()=>{this.browserInteractionTime.destroy(),window.removeEventListener("beforeunload",this._onBeforeUnload)}),i()(this,"_onBeforeUnload",()=>{this.stop(),this.destroy()}),i()(this,"_sendDwellEvent",(e,t,r,n)=>{const i={dwellTime:r,searchReferrer:t,finalDwellEvent:n};this._trackCallback({action:"dwelled",actionSubject:e.actionSubject,actionSubjectId:e.actionSubjectId,source:e.source,containerType:e.containerType,containerId:e.containerId,objectType:e.objectType,objectId:e.objectId,attributes:c(c({},i),e.attributes),tags:e.tags})}),!e)throw new Error("trackCallback is required for DwellTimeHelper");Object(o.validateDwellBaseEvent)(t),this._trackCallback=e,this._eventData=t,this._searchSessionId=r,this._timing=c(c({},u),n),this.browserInteractionTime=new s.default({idleTimeoutMs:this._timing.idleTimeout,checkCallbacksIntervalMs:500})}}},function(e,t,r){"use strict";r.r(t),function(e){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},s="object"==typeof i&&i&&i.Object===Object&&i,o="object"==typeof self&&self&&self.Object===Object&&self,a=s||o||Function("return this")(),c=function(){return a.Date.now()},u=a.Symbol,l=Object.prototype,d=l.hasOwnProperty,h=l.toString,f=u?u.toStringTag:void 0;var m=function(e){var t=d.call(e,f),r=e[f];try{e[f]=void 0;var n=!0}catch(e){}var i=h.call(e);return n&&(t?e[f]=r:delete e[f]),i},p=Object.prototype.toString;var g=function(e){return p.call(e)},y=u?u.toStringTag:void 0;var b=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":y&&y in Object(e)?m(e):g(e)};var v=function(e){return null!=e&&"object"==typeof e};var I=function(e){return"symbol"==typeof e||v(e)&&"[object Symbol]"==b(e)},E=/^\s+|\s+$/g,O=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,T=/^0o[0-7]+$/i,S=parseInt;var _=function(e){if("number"==typeof e)return e;if(I(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(E,"");var r=w.test(e);return r||T.test(e)?S(e.slice(2),r?2:8):O.test(e)?NaN:+e},P=Math.max,j=Math.min;var k=function(e,t,r){var i,s,o,a,u,l,d=0,h=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var r=i,n=s;return i=s=void 0,d=t,a=e.apply(n,r)}function g(e){return d=e,u=setTimeout(b,t),h?p(e):a}function y(e){var r=e-l;return void 0===l||r>=t||r<0||f&&e-d>=o}function b(){var e=c();if(y(e))return v(e);u=setTimeout(b,function(e){var r=t-(e-l);return f?j(r,o-(e-d)):r}(e))}function v(e){return u=void 0,m&&i?p(e):(i=s=void 0,a)}function I(){var e=c(),r=y(e);if(i=arguments,s=this,l=e,r){if(void 0===u)return g(l);if(f)return u=setTimeout(b,t),p(l)}return void 0===u&&(u=setTimeout(b,t)),a}return t=_(t)||0,n(r)&&(h=!!r.leading,o=(f="maxWait"in r)?P(_(r.maxWait)||0,t):o,m="trailing"in r?!!r.trailing:m),I.cancel=function(){void 0!==u&&clearTimeout(u),d=0,i=l=s=u=void 0},I.flush=function(){return void 0===u?a:v(c())},I};var A=function(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return n(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),k(e,t,{leading:i,maxWait:t,trailing:s})},D=["scroll","resize"],C=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"],N=function(){function e(e){var t=e.timeIntervalEllapsedCallbacks,n=void 0===t?[]:t,i=e.absoluteTimeEllapsedCallbacks,s=void 0===i?[]:i,o=e.checkCallbacksIntervalMs,a=void 0===o?100:o,c=e.browserTabInactiveCallbacks,u=void 0===c?[]:c,l=e.idleCallbacks,d=void 0===l?[]:l,h=e.stopTimerOnTabchange,f=void 0===h||h,m=e.activeCallbacks,p=void 0===m?[]:m,g=e.browserTabActiveCallbacks,y=void 0===g?[]:g,b=e.idleTimeoutMs,v=void 0===b?3e3:b,I=this;this.onBrowserTabInactive=function(){I.isRunning()&&I.stopTimerOnTabchange&&I.stopTimer(),I.browserTabInactiveCallbacks.forEach((function(e){return e(I.getTimeInMilliseconds())}))},this.onBrowserTabActive=function(){I.isRunning()||I.startTimer(),I.browserTabActiveCallbacks.forEach((function(e){return e(I.getTimeInMilliseconds())}))},this.onBrowserActiveChange=function(){"visible"===document.visibilityState?I.onBrowserTabActive():I.onBrowserTabInactive()},this.onTimePassed=function(){I.absoluteTimeEllapsedCallbacks.forEach((function(e,t){var r=e.callback,n=e.pending,i=e.timeInMilliseconds;n&&i<=I.getTimeInMilliseconds()&&(r(I.getTimeInMilliseconds()),I.absoluteTimeEllapsedCallbacks[t].pending=!1)})),I.timeIntervalEllapsedCallbacks.forEach((function(e,t){var r=e.callback,n=e.timeInMilliseconds,i=e.multiplier;n<=I.getTimeInMilliseconds()&&(r(I.getTimeInMilliseconds()),I.timeIntervalEllapsedCallbacks[t].timeInMilliseconds=i(n))})),I.currentIdleTimeMs>=I.idleTimeoutMs&&I.isRunning()?(I.idle=!0,I.stopTimer(),I.idleCallbacks.forEach((function(e){return e(I.getTimeInMilliseconds())}))):I.currentIdleTimeMs+=I.checkCallbacksIntervalMs},this.resetIdleTime=function(){I.idle&&I.startTimer(),I.activeCallbacks.forEach((function(e){return e(I.getTimeInMilliseconds())})),I.idle=!1,I.currentIdleTimeMs=0},this.registerEventListeners=function(){var e={passive:!0},t=r({},e,{capture:!0});document.addEventListener("visibilitychange",I.onBrowserActiveChange);var n=A(I.resetIdleTime,2e3,{leading:!0,trailing:!1});D.forEach((function(e){window.addEventListener(e,n,t)})),C.forEach((function(t){return document.addEventListener(t,n,e)}))},this.unregisterEventListeners=function(){document.removeEventListener("visibilitychange",I.onBrowserActiveChange),D.forEach((function(e){return window.removeEventListener(e,I.resetIdleTime)})),C.forEach((function(e){return document.removeEventListener(e,I.resetIdleTime)}))},this.checkCallbacksOnInterval=function(){I.checkCallbackIntervalId=window.setInterval((function(){I.onTimePassed()}),I.checkCallbacksIntervalMs)},this.startTimer=function(){I.checkCallbackIntervalId||I.checkCallbacksOnInterval();var e=I.times[I.times.length-1];e&&null===e.stop||(I.times.push({start:performance.now(),stop:null}),I.running=!0)},this.stopTimer=function(){I.times.length&&(I.times[I.times.length-1].stop=performance.now(),I.running=!1)},this.addTimeIntervalEllapsedCallback=function(e){I.timeIntervalEllapsedCallbacks.push(e)},this.addAbsoluteTimeEllapsedCallback=function(e){I.absoluteTimeEllapsedCallbacks.push(e)},this.addBrowserTabInactiveCallback=function(e){I.browserTabInactiveCallbacks.push(e)},this.addBrowserTabActiveCallback=function(e){I.browserTabActiveCallbacks.push(e)},this.addIdleCallback=function(e){I.idleCallbacks.push(e)},this.addActiveCallback=function(e){I.activeCallbacks.push(e)},this.getTimeInMilliseconds=function(){return I.times.reduce((function(e,t){return t.stop?e+=t.stop-t.start:e+=performance.now()-t.start,e}),0)},this.isRunning=function(){return I.running},this.isIdle=function(){return I.idle},this.reset=function(){I.times=[]},this.destroy=function(){I.unregisterEventListeners(),I.checkCallbackIntervalId&&window.clearInterval(I.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.stopTimerOnTabchange=f,this.browserTabActiveCallbacks=y,this.browserTabInactiveCallbacks=u,this.checkCallbacksIntervalMs=a,this.idleTimeoutMs=v,this.timeIntervalEllapsedCallbacks=n,this.absoluteTimeEllapsedCallbacks=s,this.idleCallbacks=d,this.activeCallbacks=p,this.registerEventListeners()}return e.prototype.mark=function(e){this.marks[e]||(this.marks[e]=[]),this.marks[e].push({time:this.getTimeInMilliseconds()})},e.prototype.getMarks=function(e){if(!(this.marks[e].length<1))return this.marks[e]},e.prototype.measure=function(e,t,r){var n=this.marks[t],i=n[n.length-1],s=this.marks[r],o=s[s.length-1];this.measures[e]||(this.measures[e]=[]),this.measures[e].push({name:e,startTime:i.time,duration:o.time-i.time})},e.prototype.getMeasures=function(e){if(this.measures[e]||!(this.measures[e].length<1))return this.measures[e]},e}();t.default=N}.call(this,r(101))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(2),i=r.n(n);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){const n=o({action:e},r);return n.attributes=o(o({},t),n.attributes),n}class c{constructor(e,t){this._onEvent=e,this._baseEvent=t,this._searchStartedTime=null,this._lastQueryResultsTime=null,this._queryLength=null,this._baseEvent=o({},t)}search(e){if(!e&&""!==e)throw new Error("Missing query param");this._searchStartedTime=Date.now(),this._queryLength=(e||"").length}searched(e){if(!e)throw new Error("Missing results param");if(null===this._queryLength)throw new Error("search() must be called before searched().");const t=Date.now()-this._searchStartedTime;this._lastQueryResultsTime=Date.now(),this._lastResults=e;const r=a("searched",{responseTimeMs:t,queryLength:this._queryLength,results:e},this._baseEvent);this._onEvent(r)}selected(e){if(!e&&0!==e)throw new Error("Missing selectionIndex param");if(!this._lastQueryResultsTime)throw new Error("searched() must be called before selected().");const t=Date.now(),r=t-this._lastQueryResultsTime,n=t-this._searchStartedTime,i=this._lastResults[e],s=a("selected",{queryLength:this._queryLength,selectionIndex:e,selectionTimeMs:r,searchTimeMs:n,selectedResultValue:i},this._baseEvent);this._onEvent(s)}}}])}));;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-context-provider', location = 'jira-client-analytics-module/client-analytics/analytics-context.js' */
define("jira/analytics/context-provider",["wrm/data"],function(t){var n,i="com.atlassian.jira.jira-client-analytics-plugin:analytics-context-provider.client-analytic-descriptors";return{getContext:function(){return"undefined"==typeof n&&(n=t.claim(i)),n}}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-events-transformers', location = 'jira-client-analytics-module/client-analytics/transformers/issue-type.js' */
define("jira/analytics/transformers/issue-type",["jira/util/strings","underscore"],function(t,e){function r(e){if(o.hasOwnProperty(e)){var r=o[e];return t.camelCase(r.toLowerCase())}return"custom"}function n(t,e){return!o.hasOwnProperty(t)&&(o[t]=e,!0)}function a(t){e.defaults(o,t)}var s="Task",i="Sub-task",u="Bug",o={};return n(s,"Task"),n(i,"Sub-task"),n(u,"Bug"),{map:r,register:n,registerAll:a}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-events-transformers', location = 'jira-client-analytics-module/client-analytics/transformers/subproduct.js' */
define("jira/analytics/transformers/sub-product",function(){var r={"jira-software":"software","jira-servicedesk":"serviceDesk","jira-core":"core",portfolio:"portfolio",family:"platform",addon:"addon"};return function(o){return r.hasOwnProperty(o)?r[o]:"unknown"}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/sub-product-resolver/sub-product-resolver.js' */
define("jira/analytics/sub-product-resolver",["jira/util/safe-logger"],function(n){var r=null,o=[],t=["software","serviceDesk","core","ops","polaris","portfolio","platform","addon","unknown"],e=function(){return null===r?(n.safeError("jira/analytics/sub-product-resolver","Sub product has not been set."),"unknown"):r},u=function(e){if(t.indexOf(e)!==-1){var u=e!==r;r=e,u&&o.forEach(function(n){n(e)})}else n.safeError("jira/analytics/sub-product-resolver","Invalid sub-product set, ignoring: "+e)},i=function(n){return"function"==typeof n?(o.push(n),function(){o=o.filter(function(r){return r!==n})}):function(){}};return{getSubProduct:e,setSubProduct:u,onChange:i}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/solutions-attribute/solutions-attribute.js' */
define("jira/analytics/solutions-attribute",["jira/analytics/sub-product-resolver"],function(e){return function(){var r=e.getSubProduct();if("serviceDesk"===r)return{solutions:["jiraServiceManagement"]}}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/embedded-product-resolver/embedded-product-resolver.js' */
define("jira/analytics/embedded-product-resolver",["jira/util/safe-logger"],function(n){function e(n){r.forEach(function(e){e(n)})}var r=[],t=!1,i=["confluence"];return{onChange:function(n){return r.push(n),function(){r=r.filter(function(e){return e!==n})}},set:function(r){i.indexOf(r)!==-1?(t=r,e(r)):n.safeError("jira.analytics.embedded-product","Invalid value for embedded product, ignoring "+r)},clear:function(){t=!1,e(!1)},get:function(){return t}}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/analytics-web-client-with-session-attributes.js' */
define("jira/analytics/web-client-with-session-attributes",[],function(){var e=function(e){var n=document.querySelector("meta[name="+e+"]");if(n&&n.content)return n.content},n=function(){var n=e("ajs-search-session-id");return n?{searchSessionId:n,searchObjectId:e("ajs-search-object-id"),searchContainerId:e("ajs-search-container-id"),searchContentType:e("ajs-search-content-type")}:null},t=function(e,n){if(n){var t=e||{};return t.searchSessionId=t.searchSessionId||n.searchSessionId,t.searchObjectId=t.searchObjectId||n.searchObjectId,t.searchContainerId=t.searchContainerId||n.searchContainerId,t.searchContentType=t.searchContentType||n.searchContentType,t}return e};return function(e){var r=n();if(!r)return e;var s=Object.create(e);return s.sendScreenEvent=function(n,s,a){"object"==typeof n?(n.attributes=t(n.attributes,r),e.sendScreenEvent(n,s,a)):e.sendScreenEvent(n,s,t(a,r))},s.sendPageEvent=function(e,n){this.sendScreenEvent(e,n)},s.sendTrackEvent=function(n,s){var a=n||{};a.attributes=t(a.attributes,r),e.sendTrackEvent(a,s)},s.sendUIEvent=function(n,s){var a=n||{};a.attributes=t(a.attributes,r),e.sendUIEvent(a,s)},s}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/analytics-web-client-with-custom-event.js' */
define("jira/analytics/analytics-web-client-with-custom-event",["jira/customevents/trigger-custom-event","jira/data/local-storage"],function(t,e){var n="legacy-gas-v3-event",i=function(){return e.getItem("__storejs_navigation-session-provider_navigationSessionId")||null},a=function(e){var a=i();if(a){var r="",s=e;"string"==typeof e?(r=e,s={attributes:{navigationSessionId:a}}):(r=e.actionSubject+" "+e.action,s=e,s.attributes=s.attributes||{},s.attributes.navigationSessionId=a),t.trigger(n,r,s)}},r=function(t){var e=i(),n=t||{};return e?(n.navigationSessionId=e,n):t};return function(t){var e=Object.create(t);return e.sendScreenEvent=function(e,n,i){"object"==typeof e?(e.attributes=r(e.attributes),t.sendScreenEvent(e,n,i)):t.sendScreenEvent(e,n,r(i)),a(e)},e.sendPageEvent=function(t,e){this.sendScreenEvent(t,e)},e.sendTrackEvent=function(e,n){var i=e||{};i.attributes=r(i.attributes),t.sendTrackEvent(i,n),a(i)},e.sendUIEvent=function(e,n){var i=e||{};i.attributes=r(i.attributes),t.sendUIEvent(i,n),a(i)},e}});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/analytics-web-client.js' */
define("jira/analytics/web-client",["jira/analytics/context-provider","analytics-web-client","jira/analytics/transformers/sub-product","jira/analytics","jira/analytics/sub-product-resolver","jira/analytics/solutions-attribute","jira/analytics/embedded-product-resolver"],function(e,t,n,r,a,i,s){var c={dev:t.envType.DEV,prod:t.envType.PROD,staging:t.envType.STAGING},o=function(e){return c[e]||t.envType.LOCAL},u=function(e){var t=document.querySelector("meta[name="+e+"]");if(t&&t.content)return t.content},d=function(){return u("ajs-user-locale")},l=e.getContext();a.setSubProduct(n(u("ajs-application-key")));var y=new t.default({env:o(l.env),product:"jira",subproduct:a.getSubProduct,version:"1.0.0",origin:t.originType.WEB,locale:d()},{useStargate:!0,useBatchQueue:!0});try{y.setTenantInfo(t.tenantType.CLOUD_ID,l.tenantId)}catch(e){r.send({name:"analytics.web.client.tenant.id.error",properties:{tenantId:l.tenantId,error:e.message}})}l.aid&&y.setUserInfo(t.userType.ATLASSIAN_ACCOUNT,l.aid);var v=l.orgId;v&&y.setOrgInfo&&y.setOrgInfo(v),s.onChange(function(e){e?y.setEmbeddedProduct(e):y.clearEmbeddedProduct()});var p=function(){var e=i();e?y.setUIViewedAttributes(e):y.clearUIViewedAttributes()};p(),a.onChange(p);var b=require("jira/analytics/web-client-with-session-attributes"),f=b(y),g=require("jira/analytics/analytics-web-client-with-custom-event");return g(f)});;
;
/* module-key = 'com.atlassian.jira.jira-client-analytics-plugin:analytics-web-client', location = 'jira-client-analytics-module/client-analytics/helpers/typeahead-helper.js' */
define("jira/analytics/typeahead-helper",["analytics-web-client"],function(e){return e.TypeAheadHelper});;
;
/* module-key = 'jira.webresources:shifter', location = 'includes/jira/shifter/shifter.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Shifter&&(JIRA.Templates.Shifter={}),JIRA.Templates.Shifter.dialog=function(e,t){return'<div class="aui-blanket shifter-dialog-blanket" tabindex="0" aria-hidden="false"></div><div class="shifter-dialog" id="'+soy.$$escapeHtml(e.id)+'"><div class="section-message section-message-spacing discovery"><div><div class="section-message__discovery-icon"></div></div><div class="section-message__content"><div class="section-message__title">'+soy.$$escapeHtml("Try the improved command palette")+'</div><div class="section-message__text-default">'+soy.$$filterNoAutoescape(e.commandPaletteRemoveDescription)+'</div><div><button class="section-message__button" tabindex="0" type="button" id="shifter-open-command-palette-button"><span class="section-message__button-text">'+soy.$$escapeHtml("Try now")+'</span></button><span class="section-message__divider-dot">·</span><a href="https://community.atlassian.com/t5/Jira-Command-Palette-Beta-Group/We-re-removing-Jira-s-dot-menu-to-make-way-for-a-new-and/ba-p/2754322" tabindex="0">'+soy.$$escapeHtml("Why remove the dot menu?")+"</a></div></div></div></div>"},JIRA.Templates.Shifter.groupHeading=function(e,t){return'<div class="shifter-group-heading"><h5>'+soy.$$escapeHtml(e.groupName)+"</h5>"+(e.groupContext?'<span class="shifter-group-context">'+soy.$$escapeHtml(e.groupContext)+"</span>":"")+"</div>"};;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterAnalytics.js' */
define("jira/shifter/shifter-analytics",["jira/util/strings","jira/util/data/meta","underscore","exports"],function(e,t,i,n){function o(e){return f.indexOf(e)>=0}function r(e){return g.indexOf(e)>=0}function s(t,i,n){return i=a(i),t=t.toLowerCase(),o(n)||r(t)?t:"edit-fields"!==n||e.startsWith(i,"customfield_")?e.hashCode(t):i}function a(e){return i.isObject(e)&&i.has(e,"url")?e.url:i.isString(e)?e.toLowerCase():""}function c(e,t){l.sendUIEvent({source:"dotDialog",actionSubject:"link",action:"clicked",actionSubjectId:"suggestion",attributes:t})}function u(){var i,n=t.get("user-locale");return e.contains(n,"_")&&(i=n.split("_")[0]),i||"en"}function d(){if(document.getElementById("global-issue-navigator-container")){if("/issues/"===window.location.pathname)return"issueNavigatorListViewScreen";if(window.location.pathname.startsWith("/browse/"))return"issueNavigatorDetailViewScreen"}return""}var l=require("jira/analytics/web-client"),f=["admin","issue-actions"],g=["done","start progress","ready for review","stop progress","reopen","approve","reject","reopen and start progress"];n.shortcutPressed=function(){l.sendUIEvent({source:"dotDialog",actionSubject:"keyboardShortcut",action:"pressed",actionSubjectId:"dotDialogKeyboardShortcut"})},n.show=function(){l.sendScreenEvent({name:"dotDialog",attributes:{action:"viewed",screen:d(),hasChangeBoarding:!0}})},n.userTyping=function(){l.sendUIEvent({source:"dotDialog",actionSubject:"searchBox",action:"typed"})},n.selection=function(e,t,i,n){if(i&&t&&e){var o={group:i,selected:s(e,t,i),lang:u()};n&&(o.fieldType=n),c("selection",o)}},n.selection.privacyPolicySafeGroups=f,n.selection.privacyPolicySafeLabels=g});;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterSelect.js' */
define("jira/shifter/shifter-select",["jira/util/formatter","jira/ajs/select/queryable-dropdown-select","jira/ajs/list/list-with-messages","jira/ajs/list/message-descriptor","jquery","underscore","jira/featureflags/feature-manager"],function(e,t,o,i,n,r,s){return t.extend({init:function(t){r.extend(t,{dropdownController:{setWidth:n.noop,setPosition:n.noop,onhide:n.noop,hide:n.noop,show:n.noop}}),this._super(t),this.$field.attr("aria-controls",this.options.element.attr("id")),this.$field.attr("placeholder","Find Actions..."),this.$dropDownIcon.click(r.bind(this.clear,this)),this._handleCharacterInput()},onEdit:function(){this.toggleClearButton(),this._handleCharacterInput()},clear:function(){this.$field.val("").focus(),this.onEdit()},toggleClearButton:function(){this.$dropDownIcon.toggleClass("aui-iconfont-remove",!!this.$field.val())},showLoading:function(){this._super(),this.$dropDownIcon.removeClass("aui-iconfont-remove")},hideLoading:function(){this._super(),this.toggleClearButton()},_handleCharacterInput:function(){this._super(!0),0===this.getQueryVal().length&&this.listController.moveToFirst()},_createListController:function(){var t=this;this.listController=new o({containerSelector:this.options.element,groupSelector:"ul.aui-list-section",scrollContainer:".aui-list-scroll",matchingStrategy:this.options.matchingStrategy,maxResultsDisplayedPerGroup:this.options.maxResultsDisplayedPerGroup,eventTarget:this.$field,hasLinks:!1,renderers:{suggestionGroupHeading:this._renders.suggestionGroupHeading},selectionHandler:function(o){var r=n(o.currentTarget).data();if(r&&r.descriptor instanceof i)return!1;var a=this.getFocused().data("descriptor"),l=a.meta().groupIndex,u=t.options.groups[l],d=a.value(),c=a.label(),h=s.isFeatureEnabled("issue.details-dot-menu-dialog-analytics")?a.type():null;t.$dropDownIcon.removeClass("aui-iconfont-remove"),t.$field.val("Loading...").prop("disabled",!0),t.options.onSelection(u,d,c,h)}})},hideSuggestions:n.noop,_renders:{suggestionGroupHeading:function(e){return n(JIRA.Templates.Shifter.groupHeading({groupName:e.label(),groupContext:e.description()})).data("descriptor",e)},dropdownAndLoadingIcon:function(e){return n('<span class="icon noloading aui-icon aui-icon-small"><span>More</span></span>')}}})}),AJS.namespace("JIRA.ShifterComponent.ShifterSelect",null,require("jira/shifter/shifter-select"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterDialog.js' */
define("jira/shifter/shifter-dialog",["jira/jquery/deferred","jira/lib/class","jira/data/session-storage","jira/shifter/shifter-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor-factory","jira/shifter/shifter-analytics","jquery","underscore","jira/util/formatter"],function(t,e,i,n,o,s,r,a,d,u){var h=50;return e.extend({BLUR_DELAY:h,init:function(t,e,i){this.id=t,this.groups=e,this.options=i,this.userKeyStrokes=-1,r.show(),this._render(),this._destroyOnBlur(),this._preventFocusOnNonInputElements(),this._bindTryNowOpenCommandPalette(),a(document).on("mousedown.shifterdialog."+t,d.bind(this._destroyOnMousedownOutside,this)),a(document).on("keyup.shifterdialog."+t,d.bind(this._destroyOnEsc,this))},focus:function(){this.$dialog&&this.$dialog.find("input").focus()},destroy:function(){var t=this.$dialog;t&&(t.remove(),this.$dialog=null,a(document).off("mousedown.shifterdialog."+this.id),a(document).off("keyup.shifterdialog."+this.id))},destroyed:function(){return!this.$dialog},saveLastQuery:function(t){i.setItem("JIRA.Shifter.lastQuery",t)},getLastQuery:function(){return i.getItem("JIRA.Shifter.lastQuery")},enterLoadingState:function(){var t=this.$dialog;t.addClass("loading-action"),t.find(".aui-list").slideUp(200)},_isKeyboardButton:function(t){return t>47&&t<58||32===t||13===t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223},_render:function(){var t=/^Mac/.test(navigator.platform),e=JIRA.Templates.Shifter.dialog({id:this.id,commandPaletteRemoveDescription:t?"We removed the dot menu to make way for the command palette. Press \u003cstrong\u003eCmd + K\u003c/strong\u003e on your keyboard to try it now.":"We removed the dot menu to make way for the command palette. Press \u003cstrong\u003eCtrl + K\u003c/strong\u003e on your keyboard to try it now."}),i=this.$dialog=a(e).appendTo("body"),o=this.shifterSelect=new n({id:this.id,element:i.find(".aui-list"),groups:this.groups,suggestionsHandler:this._makeSuggestionsHandler(),onSelection:d.bind(this._onSelection,this),maxResultsDisplayedPerGroup:this.options.maxResultsDisplayedPerGroup});this.getLastQuery()&&(o.$field.val(this.getLastQuery()).select(),o.onEdit()),o.$field.on("keyup",d.bind(function(t){var e=t.which;e===a.ui.keyCode.ESCAPE&&(t.stopPropagation(),this.destroy()),this.userKeyStrokes<1&&this._isKeyboardButton(e)&&(this.userKeyStrokes++,1===this.userKeyStrokes&&r.userTyping())},this)),AJS.currentLayerItem&&AJS.currentLayerItem.hide&&AJS.currentLayerItem.hide(),this._closeDropdownsIfNeeded()},_closeDropdownsIfNeeded:function(){a(".aui-dropdown2-trigger.active").trigger("aui-button-invoke")},_bindTryNowOpenCommandPalette:function(){a("#shifter-open-command-palette-button").on("click",d.bind(function(){var t=/^Mac/.test(navigator.platform),e=new KeyboardEvent("keydown",{key:t?"Meta":"Control",code:t?"MetaLeft":"ControlLeft",keyCode:t?91:17,which:t?91:17,metaKey:t,ctrlKey:!t,bubbles:!0,cancelable:!0}),i=new KeyboardEvent("keydown",{key:"k",code:"KeyK",keyCode:75,which:75,metaKey:t,ctrlKey:!t,bubbles:!0,cancelable:!0});document.body.dispatchEvent(e),document.body.dispatchEvent(i),this.destroy()},this)),a("#shifter-open-command-palette-button").focus()},_destroyOnBlur:function(){this.$dialog.find("input").blur(d.bind(function(){setTimeout(d.bind(function(){this.$dialog&&!a.contains(this.$dialog[0],document.activeElement)&&this.destroy()},this),this.BLUR_DELAY)},this))},_destroyOnMousedownOutside:function(t){0===this.$dialog.find(t.target).length&&t.target!==this.$dialog&&this.destroy()},_destroyOnEsc:function(t){var e=t.which;e===a.ui.keyCode.ESCAPE&&(t.stopPropagation(),this.destroy())},_preventFocusOnNonInputElements:function(){var t=this.$dialog.find("input");this.$dialog.mousedown(function(e){a.inArray(e.target,t)===-1&&e.preventDefault()})},_makeSuggestionsHandler:function(){var i=this.groups;return e.extend({execute:function(e){var n=[],r=t(),a=i.length;return d.map(i,function(t,i){var u=t.getSuggestions(e);return u.done(function(e){d.isArray(e)&&(n.push(new o({label:t.name,description:t.context,weight:t.weight,items:d.map(e,function(t){return s.createItemDescriptor(t,i)})})),n.sort(function(t,e){return t.weight()-e.weight()}))}).always(function(){a--,0===a&&r.resolve(n,e)})}),r}})},_onSelection:function(t,e,i,n){r.selection(i,e,t.id,n),this.saveLastQuery(i);var o=t.onSelection(e,i);o&&d.isFunction(o.always)?(this.enterLoadingState(),o.always(d.bind(this.destroy,this))):this.destroy()}})}),AJS.namespace("JIRA.ShifterComponent.ShifterDialog",null,require("jira/shifter/shifter-dialog"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterController.js' */
define("jira/shifter/shifter-controller",["jira/lib/class","jira/shifter/shifter-dialog","jira/shifter/shifter-analytics","underscore"],function(i,e,t,r){return i.extend({MAX_RESULTS_PER_GROUP:5,init:function(i){this.id=i,this.groupFactories=[]},register:function(i){return this.groupFactories.push(i),i},unregister:function(i){return this.groupFactories=r.without(this.groupFactories,i),i},show:function(i){if(i&&window&&window.JIRA_COMPAL)return void window.JIRA_COMPAL.open();var s=window.location.pathname,n=window.location.search,o=s.indexOf("/RapidBoard")!==-1&&n.indexOf("view")===-1,a=s.indexOf("/board")!==-1,d=!1;if(!(o&&(d=n.indexOf("selectedIssue")!==-1)||a&&(d=n.indexOf("issue-key")!==-1||n.indexOf("selectedIssue")!==-1)||s.indexOf("/issues/")!==-1&&window.__SPA__===!0)){var u="(browse)/([^/]+-[0-9]+)",c="/jira/servicedesk/(.+)/([^/]+-[0-9]+)",f="projects/.*/issues",h=r.chain(this.groupFactories).map(function(i){return i()}).compact().flatten().value(),l=h.find(function(i){return"edit-fields"===i.id});if(l||!(s.match(u)||s.match(c)||s.match(f)||n.indexOf("issue-key")!==-1||n.indexOf("selectedIssue")!==-1)){if(t.shortcutPressed(),!this.dialog||this.dialog.destroyed()){var w=r.chain(this.groupFactories).map(function(i){return i()}).compact().flatten().value().sort(function(i,e){return i.weight-e.weight});this.dialog=new e(this.id,w,{maxResultsDisplayedPerGroup:this.MAX_RESULTS_PER_GROUP})}this.dialog.focus()}}},hide:function(){this.dialog&&this.dialog.destroy()}})}),AJS.namespace("JIRA.ShifterComponent.ShifterController",window,require("jira/shifter/shifter-controller"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/shifter.js' */
!function(){var r=null;define("jira/shifter",["jira/shifter/shifter-controller"],function(e){return null===r&&(r=new e("shifter-dialog",(!0))),r})}(),AJS.namespace("JIRA.Shifter",null,require("jira/shifter"));;
;
/* module-key = 'com.atlassian.jira.jira-npmbridge-plugin:atlassian-spa-iframe-amd', location = 'jira-npmbridge-module/node_modules/@atlassian/spa-iframe/dist/legacy.amd.min.js' */
define("@atlassian/spa-iframe",["exports"],function(n){"use strict";function c(n){return n.origin||n.location&&(n.location.origin||"".concat(n.location.protocol,"//").concat(n.location.hostname).concat(n.location.port?":".concat(n.location.port):""))}function u(n,e){var t=c(n),r=e.split("/"),i=r[0],o=r[2],a="".concat(i,"//").concat(o);return 0===e.indexOf("/")||t===a}function a(e){function n(n){(function(n,e){return n.origin===c(e)})(n,window)&&n.data&&"string"==typeof n.data.type&&(r?e.process(n.data):t.push(n.data))}var t=[],r=!1;return window.addEventListener("message",n),{unsubscribe:function(){return window.removeEventListener("message",n)},init:function(){for(r=!0;t.length;)e.process(t.shift())}}}function s(){return String(Date.now())}function y(n){var e=function(){function t(n,e){r[n].delete(e)}var r={};return{add:function(n,e){return r[n]=r[n]||new Set,r[n].add(e),function(){return t(n,e)}},remove:t,removeAll:function(){r={}},process:function(e){null!=e&&"string"==typeof e.type&&r[e.type]&&r[e.type].forEach(function(n){return n(e)})}}}(),t=function(e,n,t){function r(n){e()!==window&&e().postMessage(n,c(window))}var i,o=v.ready({id:t()}),a=[],u=!1;return n.add(A,function(n){var e=n.payload.id;if(!u||e!==i)for(i=e,u=!0,r(o);a.length;)r(a.shift())}),r(o),function(n){u?r(n):a.push(n)}}(n,e,s),r=a(e),i=r.unsubscribe,o=r.init;return{message:{dispatch:t,registerCallback:e.add,unregisterCallback:e.remove},init:o,destroy:function(){e.removeAll(),i()}}}function S(n){function e(n){try{if(null==n.location.href)return!1}catch(n){return!1}return!0}for(var t,r=n;(t=r)!==t.parent&&e(r.parent);)r=r.parent;return r}function I(t){return function(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=n&&(u(window,n)?t.syncUrl(function(n){return 0===n.indexOf("/")?n:"/".concat(n.split("/").slice(3).join("/"))}(n),e):S(window).location[e?"replace":"assign"](n))}}function o(i,o){return function(n,e){function t(n){if(!n.isProgrammatic&&o()){var e=function(n){if("function"==typeof Event)return new n.constructor(n.type,n);var e=document.createEvent("Event");return e.initEvent(n.type,n.bubbles,n.cancelable),n.defaultPrevented&&(Object.defineProperty(n,"returnValue",{value:!1}),Object.defineProperty(e,"returnValue",{value:!1})),Object.defineProperty(n,"preventDefault",{value:function(){Object.defineProperty(n,"returnValue",{value:!1})}}),e}(n);r&&(Object.defineProperty(e,"target",{writable:!1,value:n.target}),Object.defineProperty(e,"srcElement",{writable:!1,value:n.srcElement})),Object.defineProperty(e,"isProgrammatic",{writable:!1,value:!0}),i()!==window&&i().document.body&&i().document.body.dispatchEvent(e)}}var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return n.addEventListener(e,t),function(){n.removeEventListener(e,t)}}}function f(n){return Array.prototype.slice.call(n)}function l(n){return-1!==g.indexOf(n)}function d(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}function p(n,e,t,r,i){!function(n,e,t){return!(null==n||""===n||0===n.indexOf("#")||t.defaultPrevented||!1===t.returnValue||"_blank"===e||t.hasBeenSpaHandled||0<t.button)}(e,t,n)||(n.preventDefault(),r(e),n.hasBeenSpaHandled=!0),i&&i()}function R(r,i){return function(n){var e=I(r),t=o(function(){return S(window)},i);!function(n,e){n.addEventListener("beforeunload",function(){e.beforeUnload()})}(window,r),t(n,"keydown",!0),t(n,"keypress",!0),t(n,"click"),function(o,a){function n(n){if(!(n.hasBeenSpaHandled||d(n)||n.target instanceof o.HTMLElement&&n.target.isContentEditable)){for(var e,t="",r=n.target,i=o.document;r&&r!==i&&r instanceof o.HTMLElement;){if(l(r.tagName)&&r.getAttribute("href")){t=r.getAttribute("href"),e=r.getAttribute("target");break}r=r.parentElement}p(n,t,e,a)}}function e(n){n.forEach(function(i){return i.addEventListener("click",function(n){if(!d(n)&&!i.isContentEditable){var e=i.getAttribute("href"),t=i.getAttribute("target");requestAnimationFrame(function(){p(n,e,t,a)}),null==e||u(window,e)||p(n,e,t,a);var r=window.addEventListener("unload",function(){return p(n,e,t,a,r)})}})})}var t=new MutationObserver(function(n){n.forEach(function(n){var t=[];n.addedNodes.forEach(function(n){l(n.nodeName)&&t.push(n);var e=n instanceof o.Element&&n;e&&g.forEach(function(n){t=t.concat(f(e.getElementsByTagName(n)))})}),e(t)})});e(f(o.document.links)),t.observe(o.document,{subtree:!0,childList:!0}),o.addEventListener("click",n)}(n,e)}}var A="@ATLASSIAN/SPA-IFRAME/READY",w="@ATLASSIAN/SPA-IFRAME/PARENT/URL_CHANGE",P="@ATLASSIAN/SPA-IFRAME/PARENT/OFFSET",T="@ATLASSIAN/SPA-IFRAME/PARENT/DID-MOUNT",F="@ATLASSIAN/SPA-IFRAME/PARENT/REQUEST-REFRESH",L="@ATLASSIAN/SPA-IFRAME/PARENT/HIDE-PERSISTED",v={ready:function(n){return{type:A,payload:n}}},N={beforeUnload:function(){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/BEFORE-UNLOAD"}},init:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/INIT",payload:n}},title:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/TITLE",payload:n}},urlChange:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/URL_CHANGE",payload:n}},RFU:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/RFU",payload:n}},setExternalSpinner:function(n){return{type:"@ATLASSIAN/SPA-IFRAME/IFRAME/SET-EXTERNAL-SPINNER",payload:n}}},g=["A","AREA"];n.ContainerAPI=function(n){var e=0<arguments.length&&void 0!==n?n:{},t=e.browserMetrics,r=e.reporters,i=void 0===r?[]:r,o=e.isIframe,a=void 0===o?function(n){return S(n)!==n&&"@atlassian/spa-iframe"===n.name}(window):o,u=e.postponeMessageChannelInit,c=void 0!==u&&u,s={offset:null,shouldPropagateEvents:!0,hidden:!1},f=null,l=y(function(){return S(window)});c||l.init();function d(n){var e=0<arguments.length&&void 0!==n?n:document.title;a?E.titleChange(e):window.document.title=e}function p(n){var e=0<arguments.length&&void 0!==n?n:{};a&&(v=e,m(window),f=l.message.registerCallback(P,function(n){s.offset=Object.assign({},s.offset||{},n.payload)}),c&&l.init(),E.iframeInit(null!=e.url?{url:e.url}:{}),d())}function A(n){return a?l.message.registerCallback(T,function(){return n()}):function(){}}var v,g,E=function(r){return{beforeUnload:function(){return r.message.dispatch(N.beforeUnload())},iframeInit:function(n){r.message.dispatch(N.init(n))},titleChange:function(n){if("string"!=typeof n)throw new Error("Title must be a string");r.message.dispatch(N.title({title:n}))},sendRFU:function(n){return r.message.dispatch(N.RFU(n))},syncUrl:function(n,e){var t=1<arguments.length&&void 0!==e&&e;if("string"!=typeof n)throw new Error("URL must be a string");r.message.dispatch(N.urlChange({url:n,replaceState:t}))},setExternalSpinner:function(n){return r.message.dispatch(N.setExternalSpinner(n))}}}(l),m=R(E,function(){return s.shouldPropagateEvents}),h=I(E),b=t?function(r,e,n){var u=2<arguments.length&&void 0!==n?n:[],c={subscribeToReport:function(t){e.subscribe(function(n){var e=n.report;e.key===t&&e.isInitial&&r.sendRFU(e)})},sendRfuAsIs:function(n){e.start(n),n.ready||e.end({key:n.key})},sendRfuFromIframe:function(n){var e=n.key,t=n.reporters;if(!n.isInitial)return c.subscribeToReport(e),void c.sendRfuAsIs(n);var r=window.performance,i=[],o=[].concat(t).concat(u).filter(function(n){return"function"==typeof n});r&&r.timing&&i.push(function(){return{navigationStartTimestamp:r.timing.navigationStart}});var a=e+"__spa-iframe-contents";c.subscribeToReport(a),c.sendRfuAsIs(Object.assign({},n,{reporters:o.concat(i),key:a}))}};return c}(E,t,i):null;return g=function(){s.hidden=!0,f&&f()},a&&l.message.registerCallback(L,function(){return g()}),A(function(){s.hidden&&(p(v),s.hidden=!1,f=null)}),{init:p,sendRFU:function(n){if(!b)throw new Error("BrowserMetrics is required to send RFU events");a?b.sendRfuFromIframe(n):b.sendRfuAsIs(n)},navigate:function(n,e,t){var r=(2<arguments.length&&void 0!==t?t:{replace:!1}).replace;return a?h(n,r):e()},titleChange:d,onParentUrlChange:function(e){return a?l.message.registerCallback(w,function(n){return e(n.payload)}):function(){}},onParentDidMount:A,onParentRequestRefresh:function(e){return a?l.message.registerCallback(F,function(n){return e(n.payload)}):function(){}},setupInterceptors:m,getIsIframe:function(){return a},getOffset:function(){return s.offset},setShouldPropagateEvents:function(n){s.shouldPropagateEvents=n},messageChannel:l.message,setExternalSpinner:function(n){var e=0<arguments.length&&void 0!==n&&n;a&&E.setExternalSpinner({isVisible:e})}}},Object.defineProperty(n,"__esModule",{value:!0})});
;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-plugin/probe.js' */
!function(){var n,t,e,r,i,o,u,a,c,s,f,l,h,d,y,p,v,m,w;n=function(){return window}(),t=function(n){return!(!n.performance||!n.performance.now)}(n),e=[],r=function(n){return function(t){n.unshift({addReporter:t})}}(e),i=function(n){return function(t){for(;n.length;)t(n.splice(0,1)[0]);n.unshift=t,n.push=t}}(e),o=function(n,t){return function(e){n.push({end:{key:e.key,timestamp:t.performance.now()}})}}(e,n),u=function(n){return n.document}(n),a=function(n){return n.Promise}(n),c=function(){function n(){this._={}}var t=function(e){var r=e[0],i=e[1];i instanceof n?e.length>=3?Object.keys(i._).forEach(function(n){t([r,i._[n],n].concat(e.slice(2)))}):Object.keys(i._).forEach(function(n){t([r,i._[n],n])}):Array.isArray(i)&&r.apply(null,[i].concat(e.slice(2)))};n.prototype.forEach=function(n){t([n,this])},n.prototype.add=function(){for(var t=this,e=null,r=null,i=0;i<arguments.length;i++){if(r=arguments[i],i===arguments.length-1&&Array.isArray(t)){t.push(r);break}i<arguments.length-2&&!t._.hasOwnProperty(r)?t._[r]=new n:i!==arguments.length-2||t._.hasOwnProperty(r)||(t._[r]=[]),t=t._[r],e=r}};var e=function(n,t){if(0!==n.length){var r=n.pop(),i=r[0],o=r[1];i===t?e(n,i):o._.hasOwnProperty(t)&&delete o._[t],0===Object.keys(o).length&&e(n,i)}};return n.prototype.remove=function(){for(var n,t=!1,r=null,i=this,o=[[r,i]],u=null,a=0;a<arguments.length;a++)if(u=arguments[a],Array.isArray(i))n=i.indexOf(u),n>-1&&(i.splice(n,1),0===i.length&&o.length>1&&e(o,r),t=!0);else{if(!i._.hasOwnProperty(u))break;a===arguments.length-1&&(delete i._[u],0===Object.keys(i).length&&o.length>1&&e(o,r),t=!0),r=u,i=i._[u],o.push([r,i])}return t},n.prototype.get=function(n){return this._.hasOwnProperty(n)?this._[n]:[]},n}(),s=function(n,t,e,r){function i(n){return!n||null==n||"null"===n||"undefined"===n}function o(t,e,r){l||(c.observe(n,{attributes:!0,childList:!0,subtree:!0}),l=!0),s.add(t,e,r)}function u(t,e){var r=n.querySelectorAll(t);return r.length&&(i(e)||Array.prototype.every.call(r,function(n){return!n.querySelector(e)}))}function a(n,e){var r;n.forEach||(n=[n]),!i(e)&&Array.isArray(e)&&(e=e.join(", "));var a=new t(function(i,a){var c=[],f=[];n.forEach(function(n){var r,i;u(n,e)||(r=new t(function(t){o(n,e,t),i=function(){s.remove(n,e,t)},f.push(i)}),c.push(r))});var l=function(){f.forEach(function(n){n()})};t.all(c).then(l).then(i,a),r=function(){l(),a()}});return a.dismiss=r,a}var c,s,f=r.MutationObserver,l=!1;return f&&t?(s=new e,c=new f(function(){s.forEach(function(n,t,e){u(e,t)&&(n.forEach(function(n){n()}),s.remove(e,t))})}),a):void 0}(u,a,c,n),f=function(n){return!!n}(s),l=function(n){function t(){c(),n.body.classList.add(u)}function e(){function e(){n.body.classList.remove(u),n.removeEventListener(i,s),n.removeEventListener(o,c),r=null}if(r)return r;var c,s,f=!1;return r=new Promise(function(e,r){"visible"!==n.visibilityState?r():(s=function(){f=!0},c=function(n){n.animationName===a&&(f?r():e())},n.addEventListener(i,s),n.addEventListener(o,c),t())}),r.then(e,e),r}var r,i="visibilitychange",o="animationend",u="browser-metrics-visibility-test",a="browser-metrics-visibility-animation",c=function(){var t=n.createElement("style"),e=["."+u+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+a+";","animation-name: "+a+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+a+" {}","@-webkit-keyframes "+a+" {","from {}","to {}","}"].join("\n");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(n.createTextNode(e)),n.head.appendChild(t),c=function(){}};return e}(u),h=function(n,t,e,r,i){function o(n){return Array.isArray(n)||(n=[n]),n.map(function(n){return"string"==typeof n?{selector:n,hasNone:null}:n})}function u(n){return Array.isArray(n)||"string"==typeof n}function a(n){return u(n)&&(n={rules:n}),n.rules=o(n.rules),n.requirePaint="undefined"==typeof n.requirePaint?!1:n.requirePaint,n}return function(i,o){if(n){i=a(i);var u=function(){},c=new e(function(n,r){var o=[],a=i.rules.map(function(n){var e=new t(n.selector,n.hasNone);return o.push(function(){e.dismiss()}),e});u=function(){o.forEach(function(n){n()}),r()},e.all(a).then(function(n){}).then(n,r)});return c.cancel=u,i.requirePaint&&(c=c.then(r)),"function"==typeof o&&c.then(o),c}}}(f,s,a,l,n),d=function(n,t){function e(){return r}var r=!1;return n.addEventListener("DOMContentLoaded",function(){t.setTimeout(function(){r=!0})}),e}(u,n),y=function(n,t,e,r,i,o,u){function a(){c=null}var c;return function(o){var s="isInitial"in o?o.isInitial:i()===!1,f="threshold"in o?o.threshold:1e3,l="reporters"in o?o.reporters:[];r.push({start:{key:o.key,isInitial:s,threshold:f,timestamp:s?0:u.performance.now(),reporters:Array.isArray(l)?l:[l]}}),c&&(c.cancel(),a()),o.ready&&e&&(c=n(o.ready),c.then(function(){t({key:o.key})}).then(a,a))}}(h,o,f,e,d,a,n),p=function(n){return function(t){n.push({subscribe:t})}}(e),v=function(){return window}(),m=function(n){return n.performance}(v),w=function(n,t,e,r,i,o,u){var a=function(){};return u?{start:n?i:a,end:n?r:a,addReporter:n?t:a,delegateTo:n?e:a,subscribe:n?o:a}:void 0}(t,r,i,o,y,p,m),window["browser-metrics"]=w,window.define&&window.define("internal/browser-metrics",function(){return w})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-plugin/internal/browser-metrics-aa-beacon.js' */
!function(){var e={};e=function(e){function n(e,n){Object.keys(n).forEach(function(r){e[r]=n[r]})}Object.defineProperty(e,"__esModule",{value:!0});var r,t=[],o=[];return e.addUrlCleaner=function(e){o.push(e)},e.cleanUrl=function(e){return o.reduce(function(n,r){var t=r(e);return t.length>n.length?t:n},"")},e.addReportMarshaller=function(e){t.push(e)},e.setEventQueue=function(e){r=e},e.beacon=function(e){var o={};t.forEach(function(r){var t=r(e);"object"==typeof t&&n(o,t)});var a={name:"browser.metrics.navigation",properties:o};(r||AJS.EventQueue).push(a)},e}(e),window["browser-metrics-aa-beacon"]=e,window.define&&window.define("internal/browser-metrics-aa-beacon",function(){return e})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-plugin/loader.js' */
!function(){var n={},r={};r=function(n,r,i){function e(){t===c&&l&&(l(),l=null)}Object.defineProperty(n,"__esModule",{value:!0});var t=0,c=0,l=null,o={install:function(n){t+=1,n(function(){c+=1,e()})}};return r["browser-metrics-plugin"]=o,i.require(["wrc!com.atlassian.jira.plugins.jira-browser-metrics:contrib","wrc!com.atlassian.plugins.browser.metrics.browser-metrics-plugin:impl"],function(){r.require(["internal/browser-metrics-plugin/collector"],function(n){l=function(){n.install()},e()})}),n}(r,n=window,n.WRM)}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar-old', location = 'jira-atlaskit-module/js/global-sidebar-api.js' */
!function(){var n,e=new Promise(function(e){n=e});e.done=function(n){return this.then(n)},AJS.namespace("JIRA.API"),JIRA.API.getSidebar=function(){return e},define("jira/globalnavigator/sidebar/bridge",function(){return function(e){n(e)}}),define("jira/globalnavigator/sidebar",function(){return e})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar-old', location = 'jira-atlaskit-module/js/imperative-api.js' */
!function(){var n,i=new Promise(function(i){n=i});AJS.namespace("JIRA.API"),JIRA.API.getNavigationApi=function(){return i},define("jira/navigation/bridge",function(){return function(i){n(i)}}),define("jira/navigation",function(){return i})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar-old', location = 'jira-atlaskit-module/js/check-both-apis.js' */
!function(){require(["jira/globalnavigator/sidebar","jira/navigation","jira/analytics"],function(i,a,n){Promise.all([i,a]).then(function(){n.send({name:"navigation.imperative-api.both-apis-resolves"})})})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:sidebar-old', location = 'jira-atlaskit-module/js/favourite-imperative-api.js' */
!function(){var e,n=new Promise(function(n){e=n});AJS.namespace("JIRA.API"),JIRA.API.getFavouriteItemsApi=function(){return n},define("jira/favouriteItems",function(){return n}),define("jira/favouriteItems/bridge",function(){return function(n){e(n)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:forge', location = 'jira-atlaskit-module/js/forge-api.js' */
!function(){var n,e=new Promise(function(e){n=e});AJS.namespace("JIRA.API"),JIRA.API.getForgeAPI=function(){return e},define("jira/forge/bridge",function(){return function(e){n(e)}}),define("jira/forge",function(){return e})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/utils/index.js' */
!function(){define("jira/container-api/utils",["exports","jira/util/top-same-origin-window","jira/featureflags/feature-manager","jira/util/data/meta"],function(e,a,n,t){e.isInSpaIframe=function(){return!1},e.getIframeDatasetValue=function(e){return window.frameElement&&window.frameElement.dataset[e]},e.setIframeDatasetValue=function(e,a){window.frameElement&&(window.frameElement.dataset[e]=a)},e.loadAmdResource=function(e){var n=this.isInSpaIframe()?a(window):window;return new Promise(function(a,t){var i=function(i){i?t(i):n.require(e).then(a).catch(t)};try{var r=n.JIRA_HERITAGE;r&&"function"==typeof r.onReady?r.onReady(i):i()}catch(e){t(e)}})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/navigation/index.js' */
!function(){define("jira/container-api/apis/navigation",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/navigation")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/favourite/index.js' */
!function(){define("jira/container-api/apis/favourite",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/favouriteItems")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/profilecard/index.js' */
!function(){define("jira/container-api/apis/profilecard",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/profilecard")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/team-profilecard/index.js' */
!function(){define("jira/container-api/apis/team-profilecard",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/team-profilecard")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/async-modals/index.js' */
!function(){define("jira/container-api/apis/async-modals",["jira/container-api/utils"],function(n){return function(){return n.loadAmdResource("jira/async-modals")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/forge/index.js' */
!function(){define("jira/container-api/apis/forge",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/forge")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/modal/index.js' */
!function(){define("jira/container-api/apis/modal",[],function(){var n=!1;return{modalOpen:function(){n=!0},modalClose:function(){n=!1},getIsModalOpen:function(){return n}}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/ipblocklisting/index.js' */
!function(){define("jira/container-api/apis/ipblocklisting",["jira/container-api/utils"],function(i){return function(){return i.loadAmdResource("jira/global-components/ipblocklisting")}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/apis/index.js' */
!function(){define("jira/container-api/apis",["jira/container-api/apis/navigation","jira/container-api/apis/favourite","jira/container-api/apis/profilecard","jira/container-api/apis/team-profilecard","jira/container-api/apis/async-modals","jira/container-api/apis/modal","jira/container-api/apis/ipblocklisting","jira/container-api/apis/forge"],function(i,a,r,n,e,o,t,p){return{getNavigationAPI:i,getFavouriteAPI:a,getProfilecardAPI:r,getTeamProfileCardAPI:n,getAsyncModalsAPI:e,modal:o,getIPBlocklistApi:t,getForgeAPI:p}})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:container-api', location = 'jira-atlaskit-module/js/container-api/index.js' */
!function(){define("jira/container-api",["@atlassian/spa-iframe","internal/browser-metrics","jira/container-api/utils","jira/container-api/apis"],function(a,e,i,n){var r=a.ContainerAPI({browserMetrics:e,isIframe:i.isInSpaIframe(),postponeMessageChannelInit:!0});r.APIs=n,r.utils={getUuid:i.getIframeDatasetValue.bind(i,"uuid")};var t=r.sendRFU;return r.sendRFU=function(a){var e=i.getIframeDatasetValue("uuid"),n="false"!==i.getIframeDatasetValue("isInitial"),s=window.performance&&performance.timing&&performance.timing.navigationStart,o=Object.assign({},a,{reporters:[].concat(a.reporters).concat(function(a){return{iframeUuid:e,isInitialSpaLoad:n,readyForUserTimestamp:s?s+a.end:void 0,navigationStartTimestamp:s}})});return t.call(r,o)},r})}();;
;
/* module-key = 'jira.webresources:inline-attach', location = '/includes/ajs/attachment/InlineAttach.js' */
define("jira/attachment/inline-attach",["jira/util/formatter","jira/lib/class","jira/xsrf","jira/util/navigator","jquery","wrm/context-path"],function(t,e,r,n,i,o){var a=e.extend({init:function(t){var e=i(t);a.AjaxPresenter.isSupported(e)?new a.AjaxPresenter(e):new a.FormPresenter(e)}});return i.extend(a,{MAX_UPLOADS:2,DISPLAY_WAIT:600,rescope:function(t,e){return t?e?i.proxy(t,e):t:i.noop},copyArrayLike:function(t){return i.makeArray(t)},Renderers:{container:function(){return i("<div class='field-group'/>")}}}),a.Presenter=e.extend({init:function(){this.cancelled=!1,this.running=[],this.waiting=[]},_addUpload:function(t){return this.cancelled||(this.running.length>=a.MAX_UPLOADS?this.waiting.push(t):(this.running.push(t),t.upload())),this.running.length>0},_finishUpload:function(t){if(!this.cancelled&&(a.Presenter.removeFromArray(this.waiting,t),a.Presenter.removeFromArray(this.running,t)&&this.waiting.length>0)){var e=this.waiting.shift();this.running.push(e),e.upload()}return this.running.length>0},_cancel:function(){this.cancelled=!0;var t,e=a.copyArrayLike(this.waiting);for(t=0;t<e.length;t++)e[t].abort();var r=a.copyArrayLike(this.running);for(t=0;t<r.length;t++)r[t].abort();this.waiting=[],this.running=[]}}),i.extend(a.Presenter,{removeFromArray:function(t,e){var r=i.inArray(e,t);return r>=0?t.splice(r,1):null}}),a.FormPresenter=a.Presenter.extend({init:function(t){this._super(),this.form=new a.Form(new a.FileInput(t,(!1))),this.form.fileSelector.onChange(i.proxy(this._attach,this)),this.form.onCancel(i.proxy(this._cancel,this))},_attach:function(t){if(this.form.clearErrors(),!this.cancelled){var e=this.form,r=this._createSubmitData(),n=e.cloneFileInput();e.fileSelector.clear();var i=e.addStaticProgress(t),o=new a.Timer(function(){!this.cancelled&&i.show()},this),s=new a.FormUpload({$input:n,url:a.FormPresenter.DEFAULT_URL,params:r,scope:this,before:function(){!this.cancelled&&i.start()},success:function(r){this.cancelled||(r.id&&r.name?e.addTemporaryFileCheckbox(r.id,r.name,i):r.errorMsg?e.addErrorWithFileName(r.errorMsg,t,i):e.addError(a.Text.tr("upload.error.bad.response",t),i))},error:function(r){this.cancelled||(r.indexOf("SecurityTokenMissing")>=0?e.addError(a.Text.tr("upload.xsrf.timeout",t),i):e.addError(a.Text.tr("upload.error.unknown",t),i))},after:function(){o.cancel(),i.remove(),this.cancelled||this._finishUpload(s)||e.enable()}});i.onCancel(function(){s.abort()}),this._addUpload(s)&&(o.schedule(a.DISPLAY_WAIT),e.disable()),e.fileSelector.focus()}},_cancel:function(){this._super(),this.form.enable()},_createSubmitData:function(){var t={atl_token:this.form.getAtlToken(),formToken:this.form.getFormToken()};if(this.form.issueId)t.id=this.form.issueId;else{if(!this.form.projectId)throw"Unable to find either an issueId or projectId to submit the attachment to.";t.create=!0,t.projectId=this.form.projectId}return t}}),a.FormPresenter.DEFAULT_URL=o()+"/secure/AttachTemporaryFile.jspa?decorator=none",a.AjaxPresenter=a.Presenter.extend({init:function(t){this._super(),this.form=new a.Form(new a.FileInput(t,(!0))),this.form.fileSelector.onChange(i.proxy(this._attach,this)),this.form.onCancel(i.proxy(this._cancel,this))},_attach:function(t){this.form.clearErrors(),this.cancelled||(t&&t.length>0&&(t=this._checkAndFilterFiles(t),t&&this._uploadFiles(t)),this.form.fileSelector.clear().focus())},_checkAndFilterFiles:function(t){if(t.length>a.AjaxPresenter.MAX_SELECTED_FILES)return this.form.addError(a.Text.tr("upload.error.too.many.files",t.length,a.AjaxPresenter.MAX_SELECTED_FILES)),null;for(var e=this.form.maxSize,r=[],n=0;n<t.length;n++)try{var i=t[n];if(0===i.size)this.form.addError(a.Text.tr("upload.empty.file",i.name));else if(e>0&&i.size>e){var o=a.Text.fileSize(e,i.size);this.form.addError(a.Text.tr("upload.too.big",i.name,o[1],o[0]))}else r.push({name:i.name,size:i.size,file:i})}catch(t){this.form.addError(a.AjaxUpload.getClientErrorMessage(t,i))}return 0===r.length?null:r},_createSubmitData:function(){var t={atl_token:this.form.getAtlToken(),formToken:this.form.getFormToken()};if(this.form.issueId)t.issueId=this.form.issueId;else{if(!this.form.projectId)throw"Unable to find either an issueId or projectId to submit the attachment to.";t.projectId=this.form.projectId}return t},_uploadFiles:function(t){var e=this.form,r=this._createSubmitData(),n=this,o=!1;i.each(t,function(){var t=e.addProgress(this),s=this,l=new a.Timer(function(){n.cancelled||t.show()}),u=new a.AjaxUpload({file:s.file,params:i.extend({filename:s.name,size:s.size},r),scope:n,url:a.AjaxPresenter.DEFAULT_URL,before:function(){!this.cancelled&&t.start()},progress:function(e){!this.cancelled&&t.update(e)},success:function(r,n){this.cancelled||(201===n?void 0!==r.id&&void 0!==r.name?e.addTemporaryFileCheckbox(r.id,r.name,t,s.file):e.addError(a.Text.tr("upload.error.bad.response",s.name),t):(r.token&&e.setAtlToken(r.token),r.errorMessage?e.addErrorWithFileName(r.errorMessage,s.name,t):e.addError(this._getErrorFromStatus(n,s),t)))},error:function(r,n){if(!this.cancelled)if(n<0)e.addError(r,t);else{var i=this._getErrorFromStatus(n,s);i?e.addError(i,t):e.addError(a.Text.tr("upload.error.unknown",s.name),t)}},after:function(){l.cancel(),t.finish().remove(),this.cancelled||this._finishUpload(u)||e.enable()}});t.onCancel(function(){u.abort()}),n._addUpload(u)&&(o=!0,l.schedule(a.DISPLAY_WAIT))}),o&&this.form.disable()},_getErrorFromStatus:function(t,e){var r;return r=0===t?a.Text.tr("upload.error.server.no.reply",e.name):400===t?a.Text.tr("upload.error.badrequest",e.name):401===t?a.Text.tr("upload.error.auth",e.name):a.Text.tr("upload.error.unknown.status",e.name,t)},_cancel:function(){this._super(),this.form.enable()}}),i.extend(a.AjaxPresenter,{DEFAULT_URL:contextPath+"/rest/internal/2/AttachTemporaryFile",MAX_SELECTED_FILES:100,isSupported:function(t){return!!(t&&t[0]&&t[0].files)&&a.AjaxUpload.isSupported()}}),a.FileInput=e.extend({init:function(t,e){this.$element=t,this.$container=t.parent(),e&&void 0!==this.$element[0].files?(this.$element.attr("multiple","multiple"),this.multiple=!0):this.multiple=!1},clear:function(){return this.$element.val(""),this},getFiles:function(){return this.$element[0].files},hasFiles:function(){return this.getFiles().length>0},onChange:function(t){var e=this;return this.$element.change(function(){e.multiple?t.call(e,this.files):t.call(e,e.getFileName())}),this},focus:function(){if(this._isIE()){var t=this.$element;setTimeout(function(){t.focus()},0)}else this.$element.focus();return this},cloneInput:function(){var t=this.$element;return t.replaceWith(this.$element=t.clone(!0)),t.unbind(),t},getFileName:function(){var t=/^c:\\fakepath\\(?!$)/i;return function(){var e=this.$element.val();return e=e.replace(t,""),this._isIE()&&e.indexOf("\\")>=0&&(e=e.substring(e.lastIndexOf("\\")+1)),e}}(),_isIE:function(){return n.isIE()&&n.majorVersion()<11},before:function(t){t&&(t.$element&&(t=t.$element),this.$container.before(t))}}),function(){var t={showPercentage:!1,height:"2px"},r=0;a.ProgressBar=e.extend({init:function(){var e=this.$element=this._renderers.container();this.$progress=this._renderers.progress().appendTo(e),this.$progress.progressBar(0,t),this.hidden=!0,this.old=0},value:function(e){e>100?e=100:e<0&&(e=0),this.hidden&&(this.$progress.show(),this.hidden=!1),this.old!==e&&(this.$progress.progressBar(e,t),e>=100&&this.$progress.fadeOut(),this.old=e)},_renderers:{container:function(){return i("<div>").addClass("file-progress")},progress:function(){return i("<div>").attr("id","upload-progress-"+r++).hide()}}})}(),a.UploadProgress=e.extend({init:function(t){var e=this.$element=a.Renderers.container().hide(),r=this.progress=new a.ProgressBar,n=this._renders.content(t.name);this.$content=n.$content,this.$cancel=n.$cancel,e.append(n.$element).append(r.$element),this.total=t.size,this.current=0,this.name=t.name,this.timer=new a.Timer(this._update,this),this.rateNumerator=0,this.rateDenominator=0,this._title(a.Text.tr("upload.progress.title.waiting"))},start:function(){return this.started=this._now(),this.startedSize=0,this},update:function(t){return this.timer.cancel(),this._update(t)},_update:function(t){var e=this._now();void 0===t?t=this.current:t!==this.current&&(this.lastUpdate=e,this.current=t);var r,n,i=a.Text,o=Math.min(100,Math.round(t/this.total*100)),s=i.currentOutOfTotalSize(t,this.total);this.progress.value(o);var l=(e-this.started)/1e3;l>=2&&(this.startedSize>0&&this._addRate((t-this.startedSize)/l),this.started=e,this.startedSize=t);var u=this._calcRate();if(t>=a.UploadProgress.DATA_MIN&&u>0){var h=Math.max(1,(this.total-t)/u);r=i.rate(u),n=i.time(h)}return e-this.lastUpdate>=a.UploadProgress.STALLED_TIMEOUT?(this._content(i.tr("upload.file.stalled",this.name)),r?this._title(i.tr("upload.progress.title.known.stalled",r,s)):this._title(i.tr("upload.progress.title.unknown.stalled",s))):r?(this._title(i.tr("upload.progress.title.known",r,s,n)),this._content(i.tr("upload.file.remaining",this.name,n))):(this._title(s),this._content(this.name)),t<this.total&&this.timer.schedule(a.UploadProgress.UPLOAD_REFRESH),this},finish:function(){return this.progress.value(100),this.timer.cancel(),this},onCancel:function(t){var e=this;return this.$cancel.click(function(r){r.preventDefault(),t.call(e)}),this},remove:function(){return this.$element.remove(),this},hide:function(){return this.$element.hide(),this},show:function(){return this.$element.fadeIn(),this},_title:function(t){return this.$element.attr("title",t),this},_content:function(t){return this.$content.text(t),this},_addRate:function(t){var e=a.UploadProgress.WEIGHT;this.rateNumerator=this.rateNumerator*e+t,this.rateDenominator=this.rateDenominator*e+1},_calcRate:function(){if(0===this.rateDenominator)return 0;var t=this.rateNumerator/this.rateDenominator;return Math.abs(t)<.005?0:t},_now:function(){return(new Date).getTime()},_renders:{content:function(t){var e=a.Text.tr("upload.file.waiting",t),r=i("<div class='loading file' />"),n=i("<span />").text(e),o=i("<a href='#'/>").text(a.Text.tr("upload.cancel"));return r.append(n).append(" ").append(o),{$element:r,$content:n,$cancel:o}}}}),i.extend(a.UploadProgress,{STALLED_TIMEOUT:1e4,UPLOAD_REFRESH:2e3,DATA_MIN:20480,WEIGHT:.7}),a.UnknownProgress=e.extend({init:function(t){var e=this._renders.content(t);this.$element=e.$element,this.$cancel=e.$cancel,this.$content=e.$content,this.fileName=t,this._title(a.Text.tr("upload.progress.title.waiting"))},remove:function(){return this.$element.remove(),this},hide:function(){return this.$element.hide(),this},show:function(){return this.$element.fadeIn(),this},start:function(){return this._title(a.Text.tr("upload.progress.title.running")),this._content(this.fileName),this},onCancel:function(t){var e=this;return this.$cancel.click(function(r){r.preventDefault(),t.call(e)}),this},_title:function(t){return this.$element.attr("title",t),this},_content:function(t){return this.$content.text(t),this},_renders:{content:function(t){var e=a.Text.tr("upload.file.waiting",t),r=i("<a href='#'/>").text(a.Text.tr("upload.cancel")),n=i("<div class='loading file' />"),o=i("<span />").text(e);n.append(o).append(" ").append(r);var s=a.Renderers.container().append(n);return{$element:s,$cancel:r,$content:o}}}}),a.Form=e.extend({init:function(t){if(this.fileSelector=t,this.$form=t.$element.closest("form"),this.maxSize=parseInt(this.$form.find("#attach-max-size").text()||i("#attach-max-size").text()),isNaN(this.maxSize))throw"Unable to find maximum upload size on form.";var e=!1,r=parseInt(this.$form.find(":input[name=id]").val());if(isNaN(r)||(e=!0,this.issueId=r),r=parseInt(this.$form.find(":input[name=pid]").val()),isNaN(r)||(e=!0,this.projectId=r),!e)throw"Unable to find either an issueId or projectId to submit the attachment to."},getAtlToken:function(){var t=this.$form.find("input[name='atl_token']");return t.length>0?t.val():atl_token()},setAtlToken:function(t){var e=this.$form.find("input[name='atl_token']");return e.length>0?e.val(t):r.updateTokenOnPage(t),this},getFormToken:function(){var t=this.$form.find("input[name='formToken']");return t.length>0?t.val():null},disable:function(){return this._getFormSubmits().attr("disabled","disabled"),this},enable:function(){return this._getFormSubmits().removeAttr("disabled"),this},addProgress:function(t){var e=new a.UploadProgress(t);return this._addElement(e.$element),e},addStaticProgress:function(t){var e=new a.UnknownProgress(t);return this._addElement(e.$element),e},addTemporaryFileCheckbox:function(t,e,r,n){var o=this.addLocalThumbnailImage(e,n),s=a.Renderers.container(),l=i("<label>").attr("for","filetoconvert-"+t).text(e),u=i("<input type='checkbox' class='checkbox' name='filetoconvert' checked='checked'>").attr({id:"filetoconvert-"+t,value:t,title:a.Text.tr("upload.checkbox.title")});return s.append(u).append(l),o&&s.append(i("<br/>")).append(o),s.hide(),this._replaceElement(s,r),this},addLocalThumbnailImage:function(t,e){var r=null;if(window.URL=window.webkitURL||window.URL,e&&window.URL&&window.URL.createObjectURL){var n=/image.*/;if(e.type.match(n)){var o=this,s=t+" - "+a.Text.fileSize(e.size)+" - "+e.type,l=document.createElement("img");l.title=s,l.alt=s,l.onload=function(t){var e=o.getAspectRatio(100,100,l.width,l.height);l.width=Math.round(l.width/e),l.height=Math.round(l.height/e),r.show(),window.URL.revokeObjectURL(l.src)},l.src=window.URL.createObjectURL(e),r=i(l).hide()}}return r},getAspectRatio:function(t,e,r,n){return r>t?Math.round(r/t):n>e?Math.round(n/e):1},addErrorWithFileName:function(t,e,r){return t.indexOf(e)===-1&&(t=a.Text.tr("upload.error.server",e,t)),this.addError(t,r)},addError:function(t,e){var r=a.Renderers.container();return r.addClass("error").append(i("<div>").text(t)).hide(),this._replaceElement(r,e),r},clearErrors:function(){return this.$form.find("div.error").remove(),this},cloneFileInput:function(){return this.fileSelector.cloneInput()},onCancel:function(t){var e=this.$form.find("a.cancel");return e.click(i.proxy(t,this)),this},_getFormSubmits:function(){return this.$form.find("input[type=submit]")},_addElement:function(t){this.fileSelector.before(t)},_replaceElement:function(t,e){e&&e.$element?e.$element.replaceWith(t):this._addElement(t),t.fadeIn()}}),a.FormUpload=e.extend({init:function(t){var e=t.scope||null,r=a.rescope;this.$input=t.$input,this.url=t.url,this.params=t.params||{},this.successcb=r(t.success,e),this.errorcb=r(t.error,e),this.before=r(t.before,e),this.after=r(t.after,e),this.abortcb=r(t.abort,e),this.aborted=!1,this.$form=null,this.xhr=null},upload:function(){if(!this.aborted){var t=this.url,e=i.param(this.params);e&&(t=t+"?"+e);var r=this.$form=this._renders.form(t),n=this;this._addToBody(r.append(this.$input)),r.ajaxForm({dataType:"json",data:this.params,timeout:0,beforeSend:function(t){n.xhr=t},beforeSubmit:function(){n.before()},error:function(t){if(n.aborted)n.abortcb();else{var e=t&&t.responseText||"";n.errorcb(e)}},success:function(t){n.successcb(t||{})},complete:function(){n.$form&&(n.$form.remove(),n.$form=null),n.after()}}),r.submit()}},abort:function(){this.aborted||(this.aborted=!0,this.xhr?(this.xhr.abort(),this.xhr=null):(this.abortcb(),this.after()))},_addToBody:function(t){i("body").append(t)},_renders:{form:function(t){return i("<form method='post' enctype='multipart/form-data'/>").attr("action",t).hide()}}}),a.AjaxUpload=e.extend({init:function(t){var e=t.scope||null,r=a.rescope;this.file=t.file,this.url=t.url,this.params=t.params||{},this.beforecb=r(t.before,e),this.progresscb=r(t.progress,e),this.errorcb=r(t.error,e),this.successcb=r(t.success,e),this.abortcb=r(t.abort,e),this.finalcb=r(t.after,e),this.aborted=!1},upload:function(){if(!this.aborted&&!this.xhr){var t=this.xhr=a.AjaxUpload.xhr();t.upload.onprogress=i.proxy(this._upload,this),t.onreadystatechange=i.proxy(this._statechange,this);var e=this.url,r=i.param(this.params);r&&(e=e+"?"+r),this.beforecb();try{t.open("POST",e,!0),t.setRequestHeader("Content-Type",this.file.type||"application/octet-stream"),t.send(this.file)}catch(t){this._clienterror(t,this.file)}}},abort:function(){this.aborted||(this.aborted=!0,this.xhr?this.xhr.abort():(this.abortcb(),this.finalcb()))},_statechange:function(){if(4===this.xhr.readyState){if(this.aborted)this.abortcb();else{try{this.successcb(JSON.parse(this.xhr.responseText),this.xhr.status,this.xhr)}catch(t){this.errorcb(this.xhr.responseText,this.xhr.status,this.xhr)}this.xhr.upload.onprogress=this.xhr.statechange=null}this.finalcb()}},_clienterror:function(t,e){this.errorcb(a.AjaxUpload.getClientErrorMessage(t,e),-1,this.xhr),this.finalcb()},_upload:function(t){t.lengthComputable&&this.progresscb(t.loaded)}}),i.extend(a.AjaxUpload,{isSupported:function(){return a.AjaxUpload._fileApiSupport(window)&&a.AjaxUpload._xhrSupport()},xhr:function(){var t=a.AjaxUpload._xhrJquery();return t||(t=a.AjaxUpload._xhrDirect),a.AjaxUpload.xhr=t,t()},getClientErrorMessage:function(t,e){var r;try{r=e.name}catch(t){r="<unknown>"}return"NS_ERROR_FILE_ACCESS_DENIED"===t.name?a.Text.tr("upload.error.no.access",r):"NS_ERROR_FILE_NOT_FOUND"===t.name||"NS_ERROR_FILE_TARGET_DOES_NOT_EXIST"===t.name?a.Text.tr("upload.error.does.not.exist",r):a.Text.tr("upload.error.client.unknown",r,t.message||t)},_xhrJquery:function(){var t=i.ajaxSettings;return t&&t.xhr||null},_xhrDirect:function(){try{return new XMLHttpRequest}catch(t){return null}},_xhrSupport:function(){try{var t=a.AjaxUpload.xhr();if(t&&t.upload)return!0}catch(t){}return!1},_fileApiSupport:function(t){return t.File&&t.FileList&&(!n.isMozilla()||t.FileReader)}}),a.Timer=e.extend({init:function(t,e){this.callback=a.rescope(t,e||this),this._callback=i.proxy(this._callback,this),this.timeoutId=null},cancel:function(){return null!==this.timeoutId&&(this._endTimeout(this.timeoutId),this.timeoutId=null),this},schedule:function(t){return this.cancel(),this.timeoutId=this._startTimeout(this._callback,t),this},_callback:function(){this.timeoutId=null,this.callback()},_startTimeout:function(t,e){return window.setTimeout(t,e)},_endTimeout:function(t){window.clearTimeout(t)}}),a.Text=function(){var e=1024,r=1024*e,n=1024*r,i=Math.floor(.995*e),o=Math.floor(.995*r),s=Math.floor(.995*n);return{"upload.empty.file":"Cannot attach empty file {0}.","upload.too.big":"{0} is too large to attach. Attachment is {1} but the largest allowed attachment is {2}.","upload.error.bad.response":"Cannot attach file {0}: Unexpected server response.","upload.error.unknown.status":"Cannot attach file {0}: Unknown server error ({1}).","upload.error.auth":"Cannot attach file {0}: You do not have permission to attach a file to the issue.","upload.error.badrequest":"Cannot attach file {0}. Browser made bad request to the server.","upload.error.server":"Cannot attach file {0}: {1}","upload.cancel":"Cancel","upload.file.remaining":"{0} - {1} left.","upload.file.waiting":"{0} - waiting.","upload.file.stalled":"{0} - stalled.","upload.checkbox.title":"Clear check box to prevent file being attached","upload.xsrf.timeout":"Cannot attach file {0}: Your session has timed out or you were logged out. Please save your work and reload the page.","upload.error.unknown":"Cannot attach file {0}: Unknown server error.","upload.progress.title.waiting":"Waiting for other uploads to complete.","upload.progress.title.running":"Uploading.","upload.progress.title.unknown.stalled":"{0}, stalled.","upload.progress.title.known":"{0} - {1}, {2} left.","upload.progress.title.known.stalled":"{0} - {1}, stalled.","upload.kilobyte":"{0} kB","upload.kilobyte.part":"{0}/{1} kB","upload.megabyte":"{0} MB","upload.megabyte.part":"{0}/{1} MB","upload.gigabyte":"{0} GB","upload.gigabyte.part":"{0}/{1} GB","upload.seconds":"{0} sec","upload.minutes":"{0} min","upload.hours":"{0} hr","upload.hours.minutes":"{0} hr {1} min","upload.bytes.per.second":"{0} B/sec","upload.kilobytes.per.second":"{0} kB/sec","upload.megabytes.per.second":"{0} MB/sec","upload.error.no.access":"Browser does not have permission to access {0}.","upload.error.does.not.exist":"{0} does not exist.","upload.error.client.unknown":"An unknown error occured on the browser while trying to attach {0}: {1}.","upload.error.too.many.files":"You are trying to attach {0} files. Only {1} files can be attached at a time.","upload.error.server.no.reply":"Cannot attach file {0}: Unable to communicate with Jira.","upload.error.unsupported.browser":"You are using browser that does not support file upload.",tr:function(e){if(0!==arguments.length){if(1===arguments.length)return this[e]||e;if(this[e]){var r=a.copyArrayLike(arguments);return r[0]=this[e],t.format.apply(AJS,r)}return e}},fileSize:function(){if(0!==arguments.length){var t,n=a.Text._classifySize(arguments[0]);if(t=n.unit===e?"upload.kilobyte":n.unit===r?"upload.megabyte":"upload.gigabyte",1===arguments.length)return this.tr(t,n.convert(arguments[0]));for(var i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=this.tr(t,n.convert(arguments[o]));return i}},currentOutOfTotalSize:function(t,n){var i,o=this._classifySize(n);return i=o.unit===e?"upload.kilobyte.part":o.unit===r?"upload.megabyte.part":"upload.gigabyte.part",this.tr(i,o.convert(t),o.convert(n))},_classifySize:function(t){var i;return i=t<=o?e:t<=s?r:n,{unit:i,convert:function(t){return a.Text._toDisplay(t/i)}}},time:function(t){if(t<60)return this.tr("upload.seconds",Math.floor(t));var e=t/60;if(e<60)return this.tr("upload.minutes",Math.floor(e));var r=Math.floor(e/60);return e=Math.floor(e%60),e>0?this.tr("upload.hours.minutes",r,e):this.tr("upload.hours",r)},rate:function(t){return t<=i?this.tr("upload.bytes.per.second",a.Text._toDisplay(t)):t<=o?this.tr("upload.kilobytes.per.second",a.Text._toDisplay(t/e)):this.tr("upload.megabytes.per.second",a.Text._toDisplay(t/r))},_toDisplay:function(t){return t<.005?"0":(Math.round(100*t)/100).toFixed(2)}}}(),a}),AJS.namespace("AJS.InlineAttach",null,require("jira/attachment/inline-attach"));;
;
/* module-key = 'jira.webresources:inline-attach', location = '/includes/jquery/plugins/attachment/jquery.inlineAttach.js' */
define("jira/jquery/plugins/attachment/inline-attach",["jira/attachment/inline-attach","jquery"],function(n,t){t.fn.inlineAttach=function(){var t=[];return this.each(function(){t.push(new n(this))}),t}}),function(){require("jira/jquery/plugins/attachment/inline-attach")}();;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/FormDialog.js' */
define("jira/dialog/form-dialog",["jira/util/formatter","jira/dialog/dialog","jira/flag","jira/message","jira/ajs/ajax/smart-ajax","jira/focus/set-focus","jira/util/browser","jira/util/events","jira/util/navigator","jira/skate","jquery","jira/libs/parse-uri","jira/featureflags/feature-manager","jira/util/events"],function(t,e,i,n,o,s,r,a,u,l,c,h,d,g){return e.extend({defineResources:function(){this._super.apply(this,arguments),this.isIssueDialog()&&this.requireContext("jira.edit.issue"),this.shouldLoadHeritageFormDialogContext()&&this.requireContext("jira.heritage.form.dialog")},_getDefaultOptions:function(){return c.extend(this._super(),{autoClose:!1,targetUrl:"",handleRedirect:!1,onUnSuccessfulSubmit:function(){},onSuccessfulSubmit:function(){},onDialogFinished:function(){var t=this._getTargetUrlValue();this.hide(),t?(a.trigger("page-unload.location-change.from-dialog",[this.$popup]),window.location.href=t):(a.trigger("page-unload.refresh.from-dialog",[this.$popup]),r.reloadViaWindowLocation())},submitAjaxOptions:{type:"post",data:{inline:!0,decorator:"dialog"},dataType:"html"},isIssueDialog:!1,shouldLoadHeritageFormDialogContext:!1})},_getFormDataAsObject:function(){var t={};return c(this.$form.serializeArray()).each(function(){var e=t[this.name];e?c.isArray(e)?e.push(this.value):e=[e,this.value]:e=this.value,t[this.name]=e}),t},_getRelativePath:function(){var t=this._getRequestOptions();return h(t.url).directory},_getPath:function(t){var e=this._getRelativePath();return 0===t.indexOf(e)?t:e+t},_submitForm:function(t){this.cancelled=!1,this.xhr=null,this.redirected=!1,this.serverIsDone=!1;var e=this._getFormDataAsObject();if(this.options.analyticsComponent&&this.options.analyticsAction){var i;try{i=require("jira/components/analytics-tracker/tracker");var n={commentId:e.commentId};"edit-comment"===this.options.id&&(n.commentLength=e.comment.length),i.trackEvent(this.options.analyticsComponent,this.options.analyticsAction+".submit",n)}catch(t){i=null}}var s=this,r=c.extend(!0,{},this.options.submitAjaxOptions),a=c.extend(!0,r,{url:this._getPath(this.$form.attr("action")),data:e,complete:function(t,i,n){if(s.hideFooterLoadingIndicator(),!s.cancelled)if(s._showMessagesFromXhrResponse(t),n.successful){s.$form.trigger("fakesubmit");const o=(d.getFlagValue("odin.ec.client.integration.cbb")||"").split(",");Array.isArray(o)&&o.length>0?s._handleServerSuccess(n.data,t,i,n,e.id):s._handleServerSuccess(n.data,t,i,n),s.redirected||s._handleSubmitResponse(n.data,t,n)}else s._handleServerError(t,i,n.errorThrown,n);s.$form.removeClass("submitting")}});a.data.decorator="dialog",a.data.inline=!0,this.showFooterLoadingIndicator(),this.xhr=o.makeRequest(a),t.preventDefault()},_showMessagesFromXhrResponse:function(t){var e=t.getResponseHeader("X-Atlassian-Messages");if(e){var n=JSON.parse(e);i.showMessages(n)}},_handleServerError:function(t,e,i,n){this.options.onUnSuccessfulSubmit&&this.options.onUnSuccessfulSubmit.call(t,e,i,n);var s=o.buildDialogErrorContent(n,!0),r=this.get$popupContent().find(".form-body");1!==r.length&&(r=this.get$popupContent());var a=1===r.length&&!n.hasData;a?r.prepend(s):this.setSubmitResponseContent(s)},setSubmitResponseContent:function(t){this.options.formatSubmitResponseContent&&(t=this.options.formatSubmitResponseContent.call(this,t)),this._setContent(t)},isIssueDialog:function(){return!!this.options.isIssueDialog},shouldLoadHeritageFormDialogContext:function(){return!!this.options.shouldLoadHeritageFormDialogContext},_handleServerSuccess:function(t,e,i,o,s){const r=(d.getFlagValue("odin.ec.client.integration.cbb")||"").split(",");Array.isArray(r)&&r.includes("delete-issues")&&g.trigger("issueDeleted",s);var a=this._detectMsgInstructions(e);a&&n.showMsgOnReload(a.msg,{type:a.type,closeable:a.closeable,target:a.target});var u=this._detectRedirectInstructions(e);this.serverIsDone=u.serverIsDone,u.redirectUrl?(this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,t,e,i,o),this._performRedirect(u.redirectUrl)):this.serverIsDone||this.setSubmitResponseContent(t)},_detectMsgInstructions:function(t){var e={msg:t.getResponseHeader("X-Atlassian-Dialog-Msg-Html")};if(e.msg)return e.type=t.getResponseHeader("X-Atlassian-Dialog-Msg-Type").toUpperCase(),e.closeable="true"===t.getResponseHeader("X-Atlassian-Dialog-Msg-Closeable"),e.target=t.getResponseHeader("X-Atlassian-Dialog-Msg-Target"),e},_handleInitialDoneResponse:function(t,e,i){this._handleSubmitResponse(t,e,i)},_handleSubmitResponse:function(t,e,i){this.serverIsDone&&(this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,t,e,i),this.options.autoClose&&this.hide(),this.options.onDialogFinished&&this.options.onDialogFinished.call(this,t,e,i))},_performRedirect:function(t){this.options.stayVisibleOnRedirect||this.hide(),this.redirected=!0,this._super(t)},_hasTargetUrl:function(){return this._getTargetUrlHolder().length>0},_getTargetUrlHolder:function(){return c(this.options.targetUrl)},_getTargetUrlValue:function(){return this._getTargetUrlHolder().val()},decorateContent:function(){var i,n,o,s,r,a=this;this.$form=c("form",this.get$popupContent()),this._constructHeading(),this.$form.submit(function(t){var e=new c.Event("before-submit");if(a.$form.trigger(e,[t,a]),e.isDefaultPrevented())t.preventDefault();else{a.$form.addClass("submitting");var i=c(":submit",a.$form);i.attr("disabled","disabled"),a.options.submitHandler?(a.showFooterLoadingIndicator(),a.options.submitHandler.call(a,t,function(){a.isCurrent()&&(a.hideFooterLoadingIndicator(),a.$form.removeClass("submitting"))})):a._submitForm(t)}}),n=c(".cancel",this.get$popupContent()),n.click(function(t){a.xhr&&a.xhr.abort(),a.xhr=null,a.cancelled=!0,a.hide(!0,{reason:e.HIDE_REASON.cancel}),t.preventDefault()}),u.isIE()&&u.majorVersion()<12&&n.focus(function(t){t.altKey&&n.click()}),i=this.get$popupContent().find(".button, .aui-button"),o=this.get$popupContent().find("div.buttons"),0===n.length&&0===i.length&&(0===o.length&&(s=c('<div class="buttons-container form-footer"><div class="buttons"/></div>').appendTo(this.get$popupContent()),o=s.find(".buttons")),AJS.populateParameters(),r=c("<button class='aui-button aui-button-link cancel' id='aui-dialog-close'>"+"Close"+"</button>"),o.append(r),r=c(".cancel",this.get$popupContent()),r.click(function(t){a.hide(!0,{reason:e.HIDE_REASON.cancel}),t.preventDefault()})),o.prepend(c("<span class='icon throbber'/>")),this.get$popupContent().on("click",".shortcut-tip-trigger",function(e){e.preventDefault(),a.get$popupContent().isDirty()&&!confirm("You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.")||(a.hide(),c("#keyshortscuthelp").click())}),s instanceof c||(s=o.closest(".buttons-container, .form-footer"),s.size()||(s=o)),this.$buttonContainer=s},getButtonsContainer:function(){return this.$buttonContainer},_constructHeading:function(){var t,e;if(t=c(":header:first",this.get$popupContent()),t.length>0)for(this.addHeading(t.contents()),e=t.parent(),t.remove();e.is(":empty");)t=e.parent(),e.remove(),e=t},_setContent:function(t,i){this._super(t,i),t&&e.current===this&&e.current===this&&this._focusFirstField()},_focusFirstField:function(t){var e=new s.FocusConfiguration;this.$form.find("[aria-invalid='true']").length?e.focusElementSelector="[aria-invalid='true']:first":t?e.focusElementSelector=t:this.$activeTrigger&&this.$activeTrigger.attr("data-field")&&(e.focusElementSelector="[name='"+this.$activeTrigger.attr("data-field")+"']"),e.parentElementSelectors.unshift(".aui-dialog-content"),e.context=this.get$popup()[0],l.init&&l.init(e.context),s.pushConfiguration(e),s.triggerFocus(),s.triggerFocus()},hide:function(t,e){return this._super(t,e)!==!1&&void s.popConfiguration()}})}),AJS.namespace("AJS.FormPopup",null,require("jira/dialog/form-dialog")),AJS.namespace("JIRA.FormDialog",null,require("jira/dialog/form-dialog"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/ErrorDialog.js' */
define("jira/dialog/error-dialog",["jira/util/formatter","jira/dialog/dialog","jira/ajs/ajax/ajax-util","jira/lib/class","jira/util/browser","jquery"],function(r,o,e,i,a,n){var t=i.extend({init:function(e){var i,t=e.message||"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.";i=!e.mode||["warning","error","info"].indexOf(e.mode)<0?"error":e.mode,this.dialog=new o({id:"error-dialog",content:function(r){var o=n(JIRA.Templates.ErrorDialog.serverErrorModalDialog({message:t,mode:i}));o.find(".error-dialog-refresh").click(function(r){r.preventDefault(),a.reloadViaWindowLocation()}),r(o)}}),this.dialog.addHeading("Error"),this.dialog.handleCancel=n.noop},hide:function(){return this.dialog.hide(),this},show:function(){return this.dialog.show(),this}});return t.openErrorDialogForXHR=function(r){return new t({message:e.getErrorMessageFromXHR(r)}).show()},t}),AJS.namespace("JIRA.ErrorDialog",null,require("jira/dialog/error-dialog"));;
;
/* module-key = 'jira.webresources:dialogs', location = 'includes/jira/dialog/ErrorDialog.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ErrorDialog&&(JIRA.Templates.ErrorDialog={}),JIRA.Templates.ErrorDialog.serverErrorModalDialog=function(e,o){return'<div class="form-body"><div class="aui-message '+soy.$$escapeHtml(e.mode)+'"><span class="aui-icon icon-error"></span> '+soy.$$escapeHtml(e.message)+'</div></div><div class="buttons-container form-footer"><div class="buttons"><a href="#" class="error-dialog-refresh aui-button aui-button-link">'+soy.$$escapeHtml("Refresh")+"</a></div></div>"};;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/ajs/ajax/SmartAjaxWebSudo.js' */
define("jira/ajs/ajax/smart-ajax/web-sudo",["jira/jquery/deferred","jira/ajs/ajax/smart-ajax","jira/ajs/ajax/ajax-util","jira/dialog/dialog","jira/dialog/form-dialog","jira/util/browser","jquery"],function(e,a,o,t,n,s,i){return{showWebSudoDialog:function(e){var o=e.context||this,u=new n({id:"smart-websudo",type:"ajax",ajaxOptions:{url:contextPath+"/secure/admin/WebSudoAuthenticate!default.jspa?close=true"},submitHandler:function(t,n){t.preventDefault();var s=i(t.target);a.makeRequest({url:s.attr("action"),data:s.serialize(),type:"POST",complete:function(a){"Has-Authentication"===a.getResponseHeader("X-Atlassian-WebSudo")?i.isFunction(e.success)?e.success.call(o,function(){n(),u.hide()}):(n(),u.hide()):u._setContent(a.responseText,!0)}})}});i.isFunction(e.cancel)&&i(u).one("Dialog.hide",function(a,n,u){u!=t.HIDE_REASON.cancel&&u!=t.HIDE_REASON.escape||(a=i.Event(),(e.cancel.call(o,a)===!1||!a.isDefaultPrevented())&&s.reloadViaWindowLocation(n.find(".cancel").attr("href")))}),i.isFunction(e.beforeShow)&&e.beforeShow.call(o),u.show(),i.isFunction(e.show)&&e.show.call(o)},handleWebSudoError:function(e,o,t,n,s){var u={success:function(t){o&&i.isFunction(o.success)?o.success.apply(this,arguments):t(),a.makeRequest(e)},cancel:function(){i.isFunction(e.complete)&&e.complete.call(this,t,n,s),o&&i.isFunction(o.cancel)&&o.cancel.apply(this,arguments)},beforeShow:function(){o&&i.isFunction(o.beforeShow)&&o.beforeShow.apply(this,arguments)},show:function(){o&&i.isFunction(o.show)&&o.show.apply(this,arguments)},context:this};this.showWebSudoDialog(u)},makeWebSudoRequest:function(e,o){return a.makeChainableRequest(e)}}}),AJS.namespace("JIRA.SmartAjax.showWebSudoDialog",null,require("jira/ajs/ajax/smart-ajax/web-sudo").showWebSudoDialog),AJS.namespace("JIRA.SmartAjax.handleWebSudoError",null,require("jira/ajs/ajax/smart-ajax/web-sudo").handleWebSudoError),AJS.namespace("JIRA.SmartAjax.makeWebSudoRequest",null,require("jira/ajs/ajax/smart-ajax/web-sudo").makeWebSudoRequest);;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/IssueActionsDialog.js' */
require(["jira/util/formatter","wrm/context-path","jira/jquery/deferred","jquery","underscore","jira/ajs/ajax/smart-ajax","jira/shifter"],function(e,s,t,r,i,n,a){a.register(function(){function a(e){for(var s=0;s<e.length;s++){var t=i.reduce(e[s].split("."),function(e,s){return void 0!==e?e[s]:void 0},window);if(i.isFunction(t)){var r=t();if(null!=r)return r}}}var o=t(),u=t(),l=a(["JIRA.Issues.getSelectedIssueKey","JIRA.Issue.getIssueKey","JIRA.IssueNavigator.getSelectedIssueKey"]),I=a(["JIRA.Issues.getSelectedIssueKey","JIRA.Issue.getIssueId","JIRA.IssueNavigator.getSelectedIssueId"]);if(null==I||JIRA.Issues.Api.isNewIssueViewEnabled())return null;var c=e.format(s()+"/rest/api/1.0/issues/{0}/ActionsAndOperations?atl_token={1}",I,atl_token());n.makeRequest({dataType:"json",url:c}).done(function(e){var t=i.map(e.operations,function(e){return{label:e.name,value:{styleClass:e.styleClass,url:e.url}}}),r=i.map(e.actions,function(t){var r=s()+"/secure/WorkflowUIDispatcher.jspa?id="+e.id+"&action="+t.action+"&atl_token="+e.atlToken;return{label:t.name,value:{styleClass:"issueaction-workflow-transition",url:r}}});o.resolve(t),u.resolve(r)}).fail(function(s,t){var r;r=JIRA&&JIRA.Templates&&JIRA.Templates.ViewIssue&&JIRA.Templates.ViewIssue.Body&&JIRA.Templates.ViewIssue.Body.errorsLoading?JIRA.Templates.ViewIssue.Body.errorsLoading({isTimeout:"timeout"===t}):"Unable to retrieve issue.",o.resolve([{label:r,messageID:"error-loading-issue",useAUI:!1,isMessage:!0}]),u.reject()});var d=function(e,s){var t=r("<a>",{text:s,class:e.styleClass,href:e.url,css:{display:"none"}});t.appendTo("body").get(0).click(),t.remove()};return[{id:"issue-actions",name:"Issue Actions",context:l,weight:200,getSuggestions:function(){return o},onSelection:d},{id:"issue-transitions",name:"Workflow",context:l,weight:220,getSuggestions:function(){return u},onSelection:d}]})});;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/LabelsDialog.js' */
define("jira/dialog/labels-dialog",["jira/dialog/form-dialog","jira/issue","jira/issuenavigator/issue-navigator","jira/util/events","jira/util/events/types","jquery"],function(i,t,e,s,n,o){return i.extend({init:function(i){this._super(i),this.issueId=null,this.customFieldId=null,this.labelsProvider=this.initLabelsProvider(),this.labelPicker=null},initLabelsProvider:function(){return this.options.labelsProvider&&o.isFunction(this.options.labelsProvider)?this.options.labelsProvider:this.options.labels?this._getLabelsFromOptions:this._getLabelsFromTrigger},_getLabelsFromOptions:function(){return o(this.options.labels)},_getLabelsFromTrigger:function(){return this.$activeTrigger.closest(".labels-wrap")},decorateContent:function(){this._super();var i=this.get$popupContent();this.issueId=i.find("input[name=id]").val();var t=i.find("input[name=customFieldId]");1===t.length?this.customFieldId=t.val():this.customFieldId=null},focusLabelPicker:function(){this.get$popupContent().find("textarea").focus()},show:function(){this._super()&&this.focusLabelPicker()},_handleSubmitResponse:function(i,l,a){if(this.serverIsDone){this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,i,l,a);var r=this.get$popupContent().find("input[name=id]").val(),u=this.get$popupContent().find("input[name=noLink]").val();this.options.autoClose&&this.hide();var d={id:r,decorator:"none",noLink:u};this.customFieldId&&(d.customFieldId=this.customFieldId);var h=this,c=h.labelsProvider(this);o(o.ajax({url:contextPath+"/secure/EditLabels!viewLinks.jspa",data:d,success:function(i){var l=o("<div>").html(i).find(".labels-wrap");e.isNavigator()&&l.find("a.edit-labels").remove(),c.html(l.html()),n.REFRESH_ISSUE_PAGE&&s.trigger(n.REFRESH_ISSUE_PAGE,[t.getIssueId()])}})).throbber({target:c})}},handleCancel:function(){this._super(),this.$content=null}})}),AJS.namespace("AJS.LabelsPopup",null,require("jira/dialog/labels-dialog")),AJS.namespace("JIRA.LabelsDialog",null,require("jira/dialog/labels-dialog"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/ScreenshotDialog.js' */
define("jira/dialog/screenshot-window",["jira/dialog/dialog","jira/ajs/layer/inline-layer","jquery"],function(e,r,i){return function(n){this.$trigger=i(n.trigger),i(document).delegate(n.trigger,"click",function(n){n.preventDefault(),e.current&&e.current.hide(),r.current&&r.current.hide(),window.open(i(this).attr("href")+"&decorator=popup","screenshot","width=800,height=700,scrollbars=yes,status=yes")})}}),AJS.namespace("jira.app.attachments.screenshot.ScreenshotWindow",null,require("jira/dialog/screenshot-window")),AJS.namespace("JIRA.ScreenshotDialog",null,require("jira/dialog/screenshot-window"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/userhover/userhover.js' */
define("jira/userhover/userhover",["jira/container-api","jquery","wrm/context-path","jira/featureflags/feature-manager"],function(e,r,t,n){var i=t(),o=e.APIs.getProfilecardAPI,a=function(e){if(e){var r=0,t=e,n=window,i=e.getBoundingClientRect(),o=i.x||i.left;do r+=t.offsetLeft,t=t.offsetParent,null==t&&(t=n.frameElement,n=n.parent);while(t);return r-o}},u=function(e,r,t){return r.querySelectorAll('.user-hover[rel="'+e.getAttribute("rel")+'"]').length<t},l=function(){};return l._api=null,l._observer=null,l.observe=function(e,r){if(!l._observer||1===r.length){var t=r[0];if(t){var n=t.querySelectorAll('[rel="'+e.getAttribute("rel")+'"]').length,i={attributes:!0,childList:!0,subtree:!0};l._observer=new MutationObserver(function(){l._api&&u(e,t,n)&&l._api.hideProfileCard()}),l._observer.observe(t,i)}}},l._showProfileCardIfHoveringOnTrigger=function(e,r,t){r.parentElement.querySelector(":hover")===r&&l._api.setData(e,r,t)},l.show=function(e){var t=r(e).data("user"),n=encodeURIComponent(e.getAttribute("rel"));o().then(function(o){var u=a(e)||0,f=u+"px, 8px";l._api=o,t&&t.accountId?l._showProfileCardIfHoveringOnTrigger(t,e,f):r.get(i+"/rest/api/2/user?username="+n,function(r){l._showProfileCardIfHoveringOnTrigger(r,e,f)})})},l});;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/userhover/initUserhover.js' */
!function(e,r){e(document).delegate(".user-hover[rel]",{mouseenter:function(){r.show(this);var s=e(".user-hover[rel]").closest(".sd-items-listing"),o=e(".user-hover[rel]").closest("#peopledetails");r.observe(this,s.length>0?s:o)}})}(require("jquery"),require("jira/userhover/userhover"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/teamhover/teamhover.js' */
define("jira/teamhover/teamhover",["jira/container-api","jquery"],function(e,r){var t=e.APIs.getTeamProfileCardAPI,n=".team-hover",i=function(e){if(e){var r=0,t=e,n=window,i=e.getBoundingClientRect(),o=i.x||i.left;do r+=t.offsetLeft,t=t.offsetParent,null==t&&(t=n.frameElement,n=n.parent);while(t);return r-o}},o=function(e,r,t){return r.querySelectorAll(n+'[rel="'+e.getAttribute("rel")+'"]').length<t},a=function(){};return a._api=null,a._observer=null,a.observe=function(e,r){if(!a._observer||1===r.length){var t=r[0];if(t){var n=t.querySelectorAll('[rel="'+e.getAttribute("rel")+'"]').length,i={attributes:!0,childList:!0,subtree:!0};a._observer=new MutationObserver(function(){a._api&&o(e,t,n)&&a._api.hideProfileCard()}),a._observer.observe(t,i)}}},a._showProfileCardIfHoveringOnTrigger=function(e,r,t){r.parentElement.querySelector(":hover")===r&&a._api.setData(e,r,t)},a.show=function(e){var n=r(e).data("team");t().then(function(r){var t=i(e)||0,o=t+"px, 8px";a._api=r,n&&n.teamId&&a._showProfileCardIfHoveringOnTrigger(n,e,o)})},a});;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/teamhover/initTeamhover.js' */
!function(e,t,i,a){var r=".team-hover";e(document).delegate(r+"[rel]",{mouseenter:function(){t.show(this)},click:function(){var t=e(this).data("subjectid");i.sendUIEvent({action:"clicked",actionSubject:"teamProfileLink",actionSubjectId:t,source:"globalIssueNavigator"})}}),a("team-field-tooltip",{type:a.type.CLASSNAME,attached:function(t){e(t).tooltip()}})}(require("jquery"),require("jira/teamhover/teamhover"),require("jira/analytics/web-client"),require("jira/skate"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/LinkIssueDialog.js' */
!function(){function e(e,i){var t=!1;return c.each(i,function(i,n){if(n.id===e)return n.isSelected=!0,t=!0,!1}),t||(i[0].isSelected=!0),i}function i(e){var i=c.Deferred();return o.makeRequest({url:contextPath+"/rest/viewIssue/1/remoteIssueLink/linkType?issueId="+e,complete:function(e,t,n){n.successful?i.resolve(n.data):i.reject(o.buildDialogErrorContent(n))}}),i.promise()}function t(e){var i=c.Deferred(),t=a.getDefaultAjaxOptions.call(e);return t.complete=function(e,t,n){n.successful?i.resolve(n.data):i.reject(o.buildDialogErrorContent(n))},o.makeRequest(t),i.promise()}function n(e){return e.$activeTrigger.attr("id")}var s=require("jira/dialog/dialog-factory"),r=require("jira/dialog/form-dialog"),a=require("jira/dialog/dialog-util"),o=require("jira/ajs/ajax/smart-ajax"),u=require("jira/issue"),l=require("jira/issuenavigator/issue-navigator"),c=require("jquery");s.createLinkIssueDialog=function(s){return new r({id:"link-issue-dialog",isIssueDialog:!0,trigger:s,onSuccessfulSubmit:function(e,i){"warning"!==i.getResponseHeader("X-Atlassian-Dialog-Msg-Type")&&a.storeCurrentIssueIdOnSucessfulSubmit.apply(this,arguments)},issueMsg:"thanks_issue_linked",widthClass:"large",stacked:!0,content:function(s){var r=this,a=u.getIssueId()||l.getSelectedIssueId();t(r).done(function(t){i(a).done(function(i){i=e(n(r),i),s(JIRA.Templates.LinkIssue.dialog({linkTypes:i,tabContent:t})),c.each(i,function(e,i){var t;i.isSelected===!0&&(t="[name='"+i.focusedFieldName+"']",0===c(t).length&&(t="#"+i.id),r._focusFirstField(t))})}).fail(function(e){s(e)})}).fail(function(e){s(e)})},formatSubmitResponseContent:function(e){return this.get$popupContent().find(".dialog-pane").html(e),this.get$popupContent().html()},onContentRefresh:function(){this.bindAnchorsToDialog(this.get$popupContent().find(".dialog-menu-item "))}})},AJS.namespace("JIRA.Dialogs.createLinkIssueDialog",null,s.createLinkIssueDialog)}();;
;
/* module-key = 'jira.webresources:dialogs', location = 'includes/jira/dialog/linkissue.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.LinkIssue&&(JIRA.Templates.LinkIssue={}),JIRA.Templates.LinkIssue.dialog=function(e,i){for(var s='<div class="aui-group"><div class="aui-item dialog-menu-group"><ul class="dialog-menu">',l=e.linkTypes,a=l.length,t=0;t<a;t++){var u=l[t];s+='<li><button id="'+soy.$$escapeHtml(u.id)+'" data-url="'+soy.$$escapeHtml(u.url)+'" class="dialog-menu-item '+(u.isSelected?"selected":"")+'">'+soy.$$escapeHtml(u.label)+"</button></li>"}return s+='</ul></div><div class="aui-item dialog-pane">'+soy.$$filterNoAutoescape(e.tabContent)+"</div></div>"};;
;
/* module-key = 'jira.webresources:es6-promise', location = '/static/lib/polyfills/promise/es6-promise-3.2.1.js' */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.2.1
 */
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){G=t}function r(t){Q=t}function o(){return function(){process.nextTick(a)}}function i(){return function(){B(a)}}function s(){var t=0,e=new X(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;t<J;t+=2){var e=tt[t],n=tt[t+1];e(n),tt[t]=void 0,tt[t+1]=void 0}J=0}function f(){try{var t=require,e=t("vertx");return B=e.runOnLoop||e.runOnContext,i()}catch(t){return c()}}function l(t,e){var n=this,r=new this.constructor(p);void 0===r[rt]&&k(r);var o=n._state;if(o){var i=arguments[o-1];Q(function(){x(o,r,i,n._result)})}else E(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(t){return ut.error=t,ut}}function y(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function m(t,e,n){Q(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===it?S(t,e._result):e._state===st?j(t,e._result):E(e,void 0,function(e){g(t,e)},function(e){j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===et&&constructor.resolve===nt?b(t,n):r===ut?j(t,ut.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,_()):t(n)?w(e,n,v(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===ot&&(t._result=e,t._state=it,0!==t._subscribers.length&&Q(T,t))}function j(t,e){t._state===ot&&(t._state=st,t._result=e,Q(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+it]=n,o[i+st]=r,0===i&&t._state&&Q(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function P(t,e){try{return t(e)}catch(t){return ct.error=t,ct}}function x(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=P(r,o),i===ct?(c=!0,s=i.error,i=null):u=!0,n===i)return void j(n,d())}else i=o,u=!0;n._state!==ot||(a&&u?g(n,i):c?j(n,s):t===it?S(n,i):t===st&&j(n,i))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}function O(){return at++}function k(t){t[rt]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t){return new _t(this,t).promise}function q(t){var e=this;return new e(I(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(p);return j(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(t){this[rt]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&D(),this instanceof L?C(this,t):K())}function N(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[rt]||k(this.promise),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function W(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=pt)}var z;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B,G,H,I=z,J=0,Q=function(t,e){tt[J]=t,tt[J+1]=e,J+=2,2===J&&(G?G(a):H())},R="undefined"!=typeof window?window:void 0,V=R||{},X=V.MutationObserver||V.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,tt=new Array(1e3);H=Z?o():X?s():$?u():void 0===R&&"function"==typeof require?f():c();var et=l,nt=h,rt=Math.random().toString(36).substring(16),ot=void 0,it=1,st=2,ut=new M,ct=new M,at=0,ft=Y,lt=q,ht=F,pt=L;L.all=ft,L.race=lt,L.resolve=nt,L.reject=ht,L._setScheduler=n,L._setAsap=r,L._asap=Q,L.prototype={constructor:L,then:et,catch:function(t){return this.then(null,t)}};var _t=N;N.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&n<t;n++)this._eachEntry(e[n],n)},N.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===nt){var o=v(t);if(o===et&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===pt){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},N.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===ot&&(this._remaining--,t===st?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},N.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){n._settledAt(it,e,t)},function(t){n._settledAt(st,e,t)})};var dt=W,vt={Promise:pt,polyfill:dt};"function"==typeof define&&define.amd?define(function(){return vt}):"undefined"!=typeof module&&module.exports?module.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),dt()}).call(this);;
;
/* module-key = 'jira.webresources:promise-polyfill', location = '/static/lib/polyfills/promise/promise-polyfill.js' */
ES6Promise.polyfill(),delete window.ES6Promise;;
;
/* module-key = 'jira.webresources:usertiming-polyfill', location = '/static/lib/polyfills/usertiming/usertiming-0.1.8.js' */
/*!
 * usertiming.js
 *
 * A polyfill for UserTiming (http://www.w3.org/TR/user-timing/)
 *
 * Copyright 2013 Nic Jansma
 * http://nicj.net
 *
 * https://github.com/nicjansma/usertiming.js
 *
 * Licensed under the MIT license
 * Modified by Atlassian.
 */
!function(e){"use strict";"undefined"==typeof e&&(e={}),"undefined"==typeof e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1;var r,n,o=[],t=[],i=null;if("function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,t=["webkitNow","msNow","mozNow"],r=0;r<t.length;r++)if("function"==typeof e.performance[t[r]]){e.performance.now=e.performance[t[r]],e.performance.userTimingJsNowPrefixed=!0;break}var f=+new Date;e.performance.timing&&e.performance.timing.navigationStart?f=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(f=process.hrtime(),e.performance.now=function(){var e=process.hrtime(f);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-f}:e.performance.now=function(){return+new Date-f})}var a=function(){},m=function(){},p=[],c=!1,s=!1;if("function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(s=!0),e.performance.userTimingJsPerformanceTimeline=!0,o=["webkit","moz"],t=["getEntries","getEntriesByName","getEntriesByType"],r=0;r<t.length;r++)for(n=0;n<o.length;n++)i=o[n]+t[r].substr(0,1).toUpperCase()+t[r].substr(1),"function"==typeof e.performance[i]&&(e.performance[t[r]]=e.performance[i],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);a=function(e){p.push(e),"measure"===e.entryType&&(c=!0)};var u=function(){c&&(p.sort(function(e,r){return e.startTime-r.startTime}),c=!1)};if(m=function(e,n){for(r=0;r<p.length;)p[r].entryType===e&&("undefined"==typeof n||p[r].name===n)?p.splice(r,1):r++},"function"!=typeof e.performance.getEntries||s){var y=e.performance.getEntries;e.performance.getEntries=function(){u();var r=p.slice(0);return s&&y&&(Array.prototype.push.apply(r,y.call(e.performance)),r.sort(function(e,r){return e.startTime-r.startTime})),r}}if("function"!=typeof e.performance.getEntriesByType||s){var g=e.performance.getEntriesByType;e.performance.getEntriesByType=function(n){if("undefined"==typeof n||"mark"!==n&&"measure"!==n)return s&&g?g.call(e.performance,n):[];"measure"===n&&u();var o=[];for(r=0;r<p.length;r++)p[r].entryType===n&&o.push(p[r]);return o}}if("function"!=typeof e.performance.getEntriesByName||s){var d=e.performance.getEntriesByName;e.performance.getEntriesByName=function(n,o){if(o&&"mark"!==o&&"measure"!==o)return s&&d?d.call(e.performance,n,o):[];"undefined"!=typeof o&&"measure"===o&&u();var t=[];for(r=0;r<p.length;r++)"undefined"!=typeof o&&p[r].entryType!==o||p[r].name===n&&t.push(p[r]);return s&&d&&(Array.prototype.push.apply(t,d.call(e.performance,n,o)),t.sort(function(e,r){return e.startTime-r.startTime})),t}}}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,o=["webkit","moz","ms"],t=["mark","measure","clearMarks","clearMeasures"],r=0;r<t.length;r++)for(n=0;n<o.length;n++)i=o[n]+t[r].substr(0,1).toUpperCase()+t[r].substr(1),"function"==typeof e.performance[i]&&(e.performance[t[r]]=e.performance[i],e.performance.userTimingJsUserTimingPrefixed=!0);var l={};"function"!=typeof e.performance.mark&&(e.performance.mark=function(r){var n=e.performance.now();if("undefined"==typeof r)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&r in e.performance.timing)throw new SyntaxError("Mark name is not allowed");l[r]||(l[r]=[]),l[r].push(n),a({entryType:"mark",name:r,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?l[e]=[]:l={},m("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(r,n,o){var t=e.performance.now();if("undefined"==typeof r)throw new SyntaxError("Measure must be specified");if(!n)return void a({entryType:"measure",name:r,startTime:0,duration:t});var i=0;if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");i=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in l))throw new Error(n+" mark not found");i=l[n][l[n].length-1]}var f=t;if(o)if(f=0,e.performance.timing&&o in e.performance.timing){if("navigationStart"!==o&&0===e.performance.timing[o])throw new Error(o+" has a timing of 0");f=e.performance.timing[o]-e.performance.timing.navigationStart}else{if(!(o in l))throw new Error(o+" mark not found");f=l[o][l[o].length-1]}var m=f-i;a({entryType:"measure",name:r,startTime:i,duration:m})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){m("measure",e)})}"function"==typeof define&&define.amd?define([],function(){return e.performance}):"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=e.performance)}("undefined"!=typeof window?window:void 0);;
;
/* module-key = 'jira.webresources:issue-table', location = 'includes/jira/dropdown/issueActionsDropdown.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Dropdowns&&(JIRA.Templates.Dropdowns={}),JIRA.Templates.Dropdowns.issueActionsDropdown=function(e,s){var a='<div class="aui-list"><ul class="aui-list-section aui-last"><li class="aui-list-item"><a class="aui-list-item-link issue-link" data-issue-key="'+soy.$$escapeHtml(e.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.key)+'" >'+soy.$$escapeHtml(e.viewIssue)+"</a></li>",t=e.actions&&e.actions.length>0,i=e.operations&&e.operations.length>0;if(t)for(var l=e.actions,o=l.length,n=0;n<o;n++){var r=l[n];a+='<li class="aui-list-item"><a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/WorkflowUIDispatcher.jspa?id="+soy.$$escapeHtml(e.id)+"&amp;action="+soy.$$escapeHtml(r.action)+"&amp;atl_token="+soy.$$escapeHtml(e.atlToken)+"&amp;returnUrl="+soy.$$escapeHtml(e.returnUrl)+'" class="aui-list-item-link issueaction-workflow-transition" data-issueId="'+soy.$$escapeHtml(e.id)+'" data-issueKey="'+soy.$$escapeHtml(e.key)+'" >'+soy.$$escapeHtml(r.name)+"</a></li>"}if(i)for(var c=e.operations,p=c.length,$=0;$<p;$++){var m=c[$];a+='<li class="aui-list-item">';var u=(""+m.url).indexOf("?")!=-1?"&amp;":"?";a+='<a href="'+soy.$$escapeHtml(m.url)+soy.$$escapeHtml(u)+"returnUrl="+soy.$$escapeHtml(e.returnUrl)+'" class="aui-list-item-link '+soy.$$escapeHtml(m.styleClass)+'" data-issueId="'+soy.$$escapeHtml(e.id)+'" data-issueKey="'+soy.$$escapeHtml(e.key)+'" >'+soy.$$escapeHtml(m.name)+"</a></li>"}return a+="</ul></div>"};;
;
/* module-key = 'jira.webresources:issue-table', location = '/includes/jira/fragments/issueActionsFragment.js' */
define("jira/fragments/issueActionsFragment",["require"],function(s){function e(s){var e=/selectedIssueId=[0-9]*/g;if(self!=top)return encodeURIComponent(t.location.href);var a=window.location.href,i=a;return/selectedIssueId=[0-9]*/.test(a)?i=a.replace(e,"selectedIssueId="+s):(i=a.lastIndexOf("?")>=0?a+"&":a+"?",i=i+"selectedIssueId="+s),encodeURIComponent(i)}const a=s("jira/featureflags/feature-manager");var i=s("jquery"),t=s("jira/util/top-same-origin-window")(window);return function(s){s.returnUrl=s.returnUrl||e(s.id);const t=new Map([["com.pyxis.greenhopper.jira:greenhopper-rank-bottom-operation",{styleClass:"issueaction-greenhopper-rank-bottom-operation",url:AJS.format("/secure/RankBottom.jspa?issueId={0}",s.id)}],["com.pyxis.greenhopper.jira:greenhopper-rank-top-operation",{styleClass:"issueaction-greenhopper-rank-top-operation",url:AJS.format("/secure/RankTop.jspa?issueId={0}",s.id)}],["com.pyxis.greenhopper.jira:greenhopper-rapidboard-operation",{styleClass:"issueaction-greenhopper-rapidboard-operation js-rapidboard-operation-issue",url:AJS.format("/secure/GHGoToBoard.jspa?issueId={0}",s.id)}],["com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus.cta.createbranch",{styleClass:"devstatus-cta-link",url:"#devstatus.cta.createbranch"}],["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:show-attach-screenshot-popup-button",{styleClass:"issueaction-attach-screenshot-html5",url:AJS.format("/secure/ShowAttachScreenshotFormAction!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:unified-attach-file",{styleClass:"unified-attach-file",url:AJS.format("/secure/AttachFile!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugins.jira-admin-helper-plugin:viewissue-notification-trigger-opsbar",{styleClass:"notificationhelper-trigger",url:"/notimportant"}],["com.atlassian.jira.plugins.jira-admin-helper-plugin:viewissue-permissionhelper-trigger-opsbar",{styleClass:"permissionhelper-trigger",url:"/notimportant"}],["com.atlassian.jira.plugins.jira-admin-helper-plugin:viewissue-fieldhelper-trigger-opsbar",{styleClass:"whereismycf-trigger",url:"/notimportant"}],["com.atlassian.jira.jira-project-config-plugin:add-custom-field",{styleClass:"issueaction-fields-add",url:"/secure/admin/ViewCustomFields.jspa"}],["com.atlassian.jira.plugin.system.issueoperations:delete-issue",{styleClass:"issueaction-delete-issue",url:AJS.format("/secure/DeleteIssue!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:edit-labels",{styleClass:"issueaction-edit-labels",url:AJS.format("/secure/EditLabels!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:clone-issue",{styleClass:"issueaction-clone-issue",url:AJS.format("/secure/CloneIssueDetails!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:link-issue",{styleClass:"issueaction-link-issue",url:AJS.format("/secure/LinkJiraIssue!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:move-subtask",{styleClass:"issueaction-move-subtask",url:AJS.format("/secure/MoveSubTaskChooseOperation!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:move-issue",{styleClass:"issueaction-move-issue",url:AJS.format("/secure/MoveIssue!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:issue-to-subtask",{styleClass:"issueaction-issue-to-subtask",url:AJS.format("/secure/ConvertIssue.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:subtask-to-issue",{styleClass:"issueaction-subtask-to-issue",url:AJS.format("/secure/ConvertSubTask.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:create-subtask",{styleClass:"issueaction-create-subtask",url:AJS.format("/secure/CreateSubTaskIssue!default.jspa?parentIssueId={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:manage-watchers",{styleClass:"issueaction-manage-watchers",url:AJS.format("/secure/ManageWatchers!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:unwatch-issue",{styleClass:"issueaction-unwatch-issue",url:AJS.format("/secure/VoteOrWatchIssue.jspa")}],["com.atlassian.jira.plugin.system.issueoperations:watch-issue",{styleClass:"issueaction-watch-issue",url:AJS.format("secure/VoteOrWatchIssue.jspa")}],["com.atlassian.jira.plugin.system.issueoperations:view-voters",{styleClass:"issueaction-view-voters",url:AJS.format("/secure/ViewVoters!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:unvote-issue",{styleClass:"issueaction-unvote-issue",url:AJS.format("secure/VoteOrWatchIssue.jspa")}],["com.atlassian.jira.plugin.system.issueoperations:vote-issue",{styleClass:"issueaction-vote-issue",url:AJS.format("secure/VoteOrWatchIssue.jspa")}],["com.atlassian.jira.plugin.system.issueoperations:log-work",{styleClass:"issueaction-log-work",url:AJS.format("/secure/CreateWorklog!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:comment-issue",{styleClass:"issueaction-comment-issue add-issue-comment",url:AJS.format("/secure/AddComment!default.jspa?id={0}",s.id)}],["com.atlassian.jira.plugin.system.issueoperations:assign-to-me",{styleClass:"issueaction-assign-to-me hide-from-opsbar",url:AJS.format("/secure/AssignIssue.jspa")}],["com.atlassian.jira.plugin.system.issueoperations:assign-issue",{styleClass:"issueaction-assign-issue",url:AJS.format("/secure/AssignIssue!default.jspa")}],["com.atlassian.jira.plugin.system.issueoperations:edit-issue",{styleClass:"issueaction-edit-issue",url:AJS.format("/secure/EditIssue!default.jspa?id={0}",s.id)}],["com.atlassian.servicedesk.approvals-plugin:approve-approval",{styleClass:"js-issueaction-approve-approval",url:"#"}],["com.atlassian.servicedesk.approvals-plugin:reject-approval",{styleClass:"js-issueaction-reject-approval",url:"#"}],["com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue-item",{styleClass:"issueaction-create-linked-issue",url:"#"}]]);s.operations.map(function(s){if(s.url&&s.styleClass)return s;s.operation=s.operation||"";var e=t.get(s.operation);return e&&(s.url=e.url,s.styleClass=e.styleClass),s}),s=i.extend({},s,{operations:s.operations.filter(function(s){return void 0!==s.url})});var r=s,o=!!a.isFeatureEnabled("return-new-issue-view-as-default_63doa")||"true"===i('meta[name="ajs-new-jira-issue-view-gin-enabled"]').attr("content");return o&&(r=i.extend({},s,{operations:s.operations.filter(function(s){return!s.url.includes("/EditIssue")})})),i(JIRA.Templates.Dropdowns.issueActionsDropdown(r))}}),AJS.namespace("JIRA.FRAGMENTS.issueActionsFragment",null,require("jira/fragments/issueActionsFragment"));;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/DefaultCommentSecurityLevelModel.js' */
define("jira/ajs/select/security/default-comment-security-level-model",["jira/issue","jira/lib/class","jira/util/strings","jquery","wrm/context-path"],function(e,t,n,i,a){return t.extend({DEFAULT_COMMENT_SECURITY_LEVEL_KEY_PREFIX:"default-comment-security-level-",_currentDefault:null,_preferenceKey:null,init:function(e){this.NOT_SELECTED_DEFAULT=new this.LvlObj("",""),this._preferenceKey=this.DEFAULT_COMMENT_SECURITY_LEVEL_KEY_PREFIX+e},LvlObj:function(e,t){this.level=e,this.levelName=t},_isLvlObjValid:function(e){return!(void 0==e.level||void 0==e.levelName)},_getDefaultStoreRequest:function(e){return i.ajax({url:a()+"/rest/api/2/mypreferences?key="+this._preferenceKey,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(e)})},_getDefaultLoadRequest:function(){return i.ajax({url:a()+"/rest/api/2/mypreferences?key="+this._preferenceKey,type:"GET",contentType:"application/json",dataType:"json"})},updateDefault:function(e,t,n){this._sendDefaultChangedAnalytics(e),this._getDefaultStoreRequest(e).done(function(n){this._currentDefault=e,t()}.bind(this)).fail(function(e){n(e)})},getDefault:function(e,t){null==this._currentDefault?this._getDefaultLoadRequest().done(function(t){this._isLvlObjValid(t)?this._currentDefault=t:this._currentDefault=this.NOT_SELECTED_DEFAULT,e(this._currentDefault)}.bind(this)).fail(function(n){404==n.status?(this._currentDefault=this.NOT_SELECTED_DEFAULT,e(this._currentDefault)):t(n)}.bind(this)):e(this._currentDefault)},getCurrentDefault:function(){return this._currentDefault},_sendDefaultChangedAnalytics:function(t){var i=n.hashCode(this._preferenceKey);AJS.trigger("analyticsEvent",{name:"jira.issue.comment.level.default.set",data:{newDefaultlevelHash:n.hashCode(t.level.toString()),projectIdHash:i,issueIdHash:n.hashCode(e.getIssueId().toString()),wasSetToByAll:""===t.level}})}})});;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/DefaultCommentSecurityLevelControl.js' */
define("jira/ajs/select/security/default-comment-security-level-control",["jira/util/formatter","jira/ajs/select/security/default-comment-security-level-model","jira/ajs/ajax/smart-ajax","jira/dialog/form-dialog","jira/lib/class","jquery","underscore","wrm/data"],function(e,t,n,i,l,a,o,s){var r=s.claim("jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink");return l.extend({_InitialLoadDefaultLevelView:l.extend({init:function(e){this.$containerSpan=e},startLoading:function(){this.$containerSpan.html(JIRA.Templates.CommentSecurityLevel.initialLoadDefaultStart()),this.$containerSpan.find(".default-comment-level-spinner").spin({top:"0px",left:"0px"})},endLoading:function(){this.$containerSpan.find(".default-comment-level-load").addClass("hidden")}}),_SaveDefaultLevelControl:l.extend({init:function(e,t,n){this.$containerSpan=e,this.defaultLevelModel=t,this.currentSelection=n,this._putLinkToSetDefault(),this._putHelpLink()},_putLinkToSetDefault:function(){this.$containerSpan.append(JIRA.Templates.CommentSecurityLevel.linkToSetDefault()),this.$containerSpan.find(".default-comment-level-switch").bind("click",function(e){e.preventDefault(),this._onUpdateBegin(),this.defaultLevelModel.updateDefault(this.currentSelection,this._onUpdateSuccess.bind(this),this._onUpdateFail.bind(this))}.bind(this))},_putHelpLink:function(){this.$containerSpan.append(JIRA.Templates.Links.helpLink(r));var t=this.$containerSpan.find(".default-comment-level-help");t.attr("title","Makes the selected restriction level your default for this project"),t.tooltip({trigger:"hover",gravity:"nw",fade:!1})},_putStatusSpan:function(e){this.$containerSpan.html(JIRA.Templates.CommentSecurityLevel.defaultLevelStatus(e));var t=this.$containerSpan.find(".default-comment-level-status");t.attr("status",e.status),setTimeout(function(){t.addClass("fade-out")},2e3)},_onUpdateBegin:function(){this.$containerSpan.find(".default-comment-level-switch").addClass("disabled-link"),0==this.$containerSpan.find(".default-comment-level-spinner").length&&(this.$containerSpan.prepend(JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner()),this.$containerSpan.find(".default-comment-level-spinner").spin())},_onUpdateSuccess:function(){this._putStatusSpan({text:"Done",status:"success",span_classes:"",icon_classes:"aui-icon aui-icon-small aui-iconfont-approve",text_classes:"default-saved-message"})},_onUpdateFail:function(e){new i({content:n.buildDialogErrorContent(e)}).show(),this.$containerSpan.find(".default-comment-level-spinner").remove(),this.$containerSpan.find(".default-comment-level-switch").removeClass("disabled-link")}}),enabled:!0,projectId:null,$rootSpan:null,$errorSpan:null,selectionSpi:null,defaultLevelModel:null,init:function(e,n,i){return this.$rootSpan=e,this.$errorSpan=n,this.projectId=e.data("project-id"),o.isNumber(this.projectId)?(this.selChanged=!1,this.selectionSpi=i,void(this.defaultLevelModel=new t(this.projectId))):void(this.enabled=!1)},selectionChanged:function(){this.selChanged=!0},loadAndApplyDefault:function(t){t&&this.selectionSpi.selectUnavailble("Unknown");var l=this._createContainer(),a=new this._InitialLoadDefaultLevelView(l);a.startLoading(),this.defaultLevelModel.getDefault(function(e){t?this.selChanged||this._applyDefaultToSelection(e):this.selectionSpi.repickSelection(),a.endLoading()}.bind(this),function(e){new i({content:n.buildDialogErrorContent(e)}).show(),a.endLoading()}.bind(this))},flushViewWithNewControl:function(e){var t=this.defaultLevelModel.getCurrentDefault();if(t&&e.value()!=t.level&&"none"!=e.value()){var n=this._createContainer(),i=new this.defaultLevelModel.LvlObj(e.value(),e.label());new this._SaveDefaultLevelControl(n,this.defaultLevelModel,i)}else this.$rootSpan.empty();this.$errorSpan.empty()},_applyDefaultToSelection:function(e){if(this.selectionSpi.hasSecurityLevel(e.level)){this.selectionSpi.selectLevel(e.level);var t=this.selectionSpi.getSelectedLevelName();t!=e.levelName&&(e.levelName=t,this.defaultLevelModel.updateDefault(e,function(){},function(){}))}else this.selectionSpi.selectUnavailble(e.levelName),this.$errorSpan.html(JIRA.Templates.CommentSecurityLevel.unavailable({name:e.levelName}))},_createContainer:function(){var e=a(JIRA.Templates.CommentSecurityLevel.defaultLevelContainer());return this.$rootSpan.html(e),e}})});;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/SecuritySelectAdapter.js' */
define("jira/ajs/select/security/select-adapter",["jira/lib/class"],function(e){return e.extend({_selectedModel:null,init:function(e){this._selectModel=e},hasSecurityLevel:function(e){return this._selectModel.hasOptionByValue(e)},selectUnavailble:function(e){this._selectModel.putOption("none",e,!0),this._selectModel.changeSelectionByValue("none")},selectLevel:function(e){this._selectModel.changeSelectionByValue(e)},repickSelection:function(){this._selectModel.changeSelectionByValue(this.getSelectedLevel())},getSelectedLevel:function(){return this._selectModel.getSelectedValues()[0]},getSelectedLevelName:function(){return this._selectModel.getSelectedTexts()[0]}})});;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = 'includes/ajs/select/security/CommentSecurityLevel.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.CommentSecurityLevel&&(JIRA.Templates.CommentSecurityLevel={}),JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner=function(e,t){return'<span class="icon default-comment-level-spinner"></span>'},JIRA.Templates.CommentSecurityLevel.initialLoadDefaultStart=function(e,t){return'<span class="default-comment-level-load">'+JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner(null)+'<span class="default-comment-level-load-text">'+soy.$$escapeHtml("Loading your default...")+"</span></span>"},JIRA.Templates.CommentSecurityLevel.linkToSetDefault=function(e,t){return""+aui.buttons.button({text:"Make this my default",type:"link",extraClasses:"default-comment-level-switch"})},JIRA.Templates.CommentSecurityLevel.defaultLevelStatus=function(e,t){return'<span class="default-comment-level-status '+soy.$$escapeHtml(e.span_classes)+'"><span class="default-comment-level-status-icon '+soy.$$escapeHtml(e.icon_classes)+'"></span><span class="default-comment-level-status-text '+soy.$$escapeHtml(e.text_classes)+'">'+soy.$$escapeHtml(e.text)+"</span></span>"},JIRA.Templates.CommentSecurityLevel.unavailable=function(e,t){return'<span class="security-level-unavailble"><span class="aui-icon aui-icon-small aui-iconfont-error"></span><span class="security-level-unavailble-text">'+soy.$$escapeHtml(AJS.format("Your selected security level is unavailable, please change it",e.name))+"</span></span>"},JIRA.Templates.CommentSecurityLevel.defaultLevelContainer=function(e,t){return'<span class="default-comment-level-container"></span>'};;
;
/* module-key = 'jira.webresources:dropdown-select', location = '/includes/ajs/select/DropdownSelect.js' */
define("jira/ajs/select/dropdown-select",["jira/ajs/layer/layer-constants","jira/ajs/control","jira/ajs/select/select-model","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jquery"],function(e,t,n,i,r,s){return t.extend({init:function(t){var o=this;this.model=new n(t),this.model.$element.hide(),this._createFurniture(),this.dropdownController=i.createInlineLayers({alignment:e.LEFT,width:200,hideOnScroll:".issue-container",content:s(".aui-list",this.$container)}),this.dropdownController.layer().addClass("select-menu"),this.listController=new r({containerSelector:s(".aui-list",this.$container),groupSelector:"ul.opt-group",itemSelector:"li:not(.no-suggestions)",selectionHandler:function(e){o._selectionHandler(this.getFocused(),e),e.preventDefault()}}),this._assignEventsToFurniture()},show:function(){this.listController.generateListFromJSON(this.model.getAllDescriptors()),this.dropdownController.show(),this.listController.index=0,this.listController.focus(),this.listController.enable()},_assignEventsToFurniture:function(){this._assignEvents("trigger",this.$trigger)},_createFurniture:function(){var e=this.model.$element.attr("id");this.$container=this._render("container",e),this.$trigger=this.model.$element.prev("a").appendTo(this.$container),this.$container.append(this._render("suggestionsContainer",e)),this.$container.insertBefore(this.model.$element)},_renders:{container:function(e){return s('<div class="select-menu" />').attr("id",e+"-multi-select")},suggestionsContainer:function(e){return s('<div class="aui-list aui-list-checked" tabindex="-1" />').attr("id",e+"-suggestions")}},_selectionHandler:function(e){var t=this,n=0;this.model.setSelected(e.data("descriptor")),this.dropdownController.content().find(".aui-checked").removeClass(".aui-checked"),e.addClass(".aui-checked");var i=window.setInterval(function(){n++,e.toggleClass(".aui-checking"),n>2&&(clearInterval(i),t.dropdownController.hide())},80)},_events:{trigger:{click:function(e){this.show(),e.preventDefault(),e.stopPropagation()}}}})}),AJS.namespace("AJS.SelectMenu",null,require("jira/ajs/select/dropdown-select")),AJS.namespace("AJS.DropdownSelect",null,require("jira/ajs/select/dropdown-select"));;
;
/* module-key = 'jira.webresources:dropdown-select', location = '/includes/ajs/select/SecurityLevelSelect.js' */
define("jira/ajs/select/security-level-select",["jira/util/formatter","jira/util/strings","jira/issue","jira/featureflags/feature-manager","jira/ajs/select/security/default-comment-security-level-control","jira/ajs/select/security/select-adapter","jira/ajs/select/dropdown-select","jquery"],function(e,t,l,i,n,a,r,s){return r.extend({$securityLevelDiv:null,$commentLevelSelect:null,$triggerIcon:null,$currentLevelSpan:null,defaultEnabled:!1,applyDefault:!1,loadDefault:!1,_defaultSecurityLevelControl:null,_createFurniture:function(){AJS.populateParameters(),this._super()},init:function(e){this._super(e);var t=s(e);if(this.$securityLevelDiv=t.parent(),this.$triggerIcon=this.$securityLevelDiv.find(".security-level-drop-icon"),this.$currentLevelSpan=this.$securityLevelDiv.find(".current-level"),this.defaultEnabled=!!t.data("enable-default"),this.applyDefault=!!t.data("apply-default"),this.model.$element.bind("change",function(e,t){this._updateView(t)}.bind(this)),this.defaultEnabled&&i.isFeatureEnabled("viewissue.comment.defaultlevel")){var l=this.$securityLevelDiv.find(".default-comment-level"),r=this.$securityLevelDiv.next(".security-level-inline-error");this._defaultSecurityLevelControl=new n(l,r,new a(this.model)),this._defaultSecurityLevelControl.loadAndApplyDefault(this.applyDefault),this.model.$element.bind("change",function(e,t){this._defaultSecurityLevelControl.flushViewWithNewControl(t)}.bind(this))}},_updateView:function(t){var l=""==t.value();if(l){this.$triggerIcon.removeClass("aui-iconfont-locked").addClass("aui-iconfont-unlocked");var i="Viewable by All Users";this.$triggerIcon.text(e.format("This comment will be {0}",i)),this.$currentLevelSpan.text(i)}else{this.$triggerIcon.removeClass("aui-iconfont-unlocked").addClass("aui-iconfont-locked");var n=s("<div/>").text(t.label()).html(),a=e.format("Restricted to \u003cspan class=\'redText\'\u003e{0}\u003c/span\u003e",n),r=s("<div/>").html(a).text();this.$triggerIcon.text(e.format("This comment will be {0}",r)),this.$currentLevelSpan.html(a)}},_handleDownKey:function(e){e.keyCode!==s.ui.keyCode.DOWN||this.dropdownController.isVisible()||(e.preventDefault(),e.stopPropagation(),this.show())},_selectionHandler:function(e){this._super(e),this._defaultSecurityLevelControl&&this._defaultSecurityLevelControl.selectionChanged(),this._sendSelectionChangedAnalytics(e.data("descriptor").value())},_sendSelectionChangedAnalytics:function(e){var i=null!=this._defaultSecurityLevelControl,n=i?this._defaultSecurityLevelControl.defaultLevelModel.getCurrentDefault().level:"";AJS.trigger("analyticsEvent",{name:"jira.issue.comment.level.changed",data:{defaultWasSelected:e===n,issueIdHash:t.hashCode(l.getIssueId().toString()),defaultEnabled:i}})},_events:{trigger:{keydown:function(e){this._handleDownKey(e)},keypress:function(e){this._handleDownKey(e)}}}})}),AJS.namespace("AJS.SecurityLevel",null,require("jira/ajs/select/security-level-select")),AJS.namespace("AJS.SecurityLevelSelect",null,require("jira/ajs/select/security-level-select"));;
;
/* module-key = 'jira.webresources:user-management', location = '/includes/jira/common/Users.js' */
AJS.namespace("JIRA.Users.LoggedInUser.userName",null,require("jira/util/users/logged-in-user").username),AJS.namespace("JIRA.Users.LoggedInUser.isAnonymous",null,require("jira/util/users/logged-in-user").isAnonymous);;
;
/* module-key = 'jira.webresources:mentions-base', location = '/includes/jira/mention/Mention.js' */
define("jira/mention/mention",["jira/ajs/control","jira/dialog/dialog","jira/mention/mention-user","jira/mention/mention-group","jira/mention/mention-matcher","jira/mention/scroll-pusher","jira/mention/contextual-mention-analytics-event","jira/mention/uncomplicated-inline-layer","jira/ajs/layer/inline-layer/standard-positioning","jira/ajs/dropdown/dropdown-list-item","jira/util/events","jira/util/navigator","jira/analytics/typeahead-helper","jira/analytics/web-client","jira/featureflags/feature-manager","aui/progressive-data-set","jquery","underscore","wrm/context-path"],function(e,t,r,n,i,a,s,o,l,u,c,h,d,g,f,m,y,p,v){"use strict";function C(e){var t,r="";return e&&(t=e instanceof y?e.get(0):e,r=t.querySelector("a").getAttribute("rel")),r}function _(e){var t,r="";if(e){t=e instanceof y?e.get(0):e;var n=t.querySelector("a").getAttribute("rel"),i=t.querySelector("a").getAttribute("data-display-name");r=i+"|~accountid:"+n}return r}function w(){return R}function x(e,t){var r=S(e.get("highestIssueInvolvementRank"),t.get("highestIssueInvolvementRank"),function(e,t){return e-t});return 0===r&&(r=S(e.get("latestCommentCreationTime"),t.get("latestCommentCreationTime"),function(e,t){return t-e}),0===r&&(r=e.get("displayName").localeCompare(t.get("displayName")))),r}function S(e,t,r){return void 0!==e?void 0!==t?r(e,t):-1:void 0!==t?1:0}function b(e){return!!e}function I(e){var t={model:r,comparator:x};return b(e)?(t.queryEndpoint=v()+"/rest/internal/2/user/mention/search",t.queryParamKey="query"):(t.queryEndpoint=v()+"/rest/api/2/user/viewissue/search",t.queryParamKey="query"),t}var U="issueCommentTextArea",j="issueDescriptionTextArea",A="data-issueid",T="data-projectid",N="data-issuekey",k="data-projectkey",P={actionSubject:"mention",containerType:"project",objectType:"issue"},R=!1,E={},$=null;return e.extend({CLASS_SIGNATURE:"AJS_MENTION",lastInvalidUsername:"",lastRequestMatch:!0,lastValidUsername:"",init:function(e){var t=I(e);this.listController=new n,this.isRolesEnabled=b(e),this.dataSource=new m([],p.extend({queryData:this._getQueryParams.bind(this),matcher:this._matcher.bind(this)},t)),this.dataSource.bind("respond",function(e){var t=e.results,r=e.query;if(r&&w()){t.length?(this.lastInvalidUsername="",this.lastValidUsername=r,this.lastRequestMatch=!0):(r&&this.dataSource.hasQueryCache(r)&&(!this.lastInvalidUsername||r.length<=this.lastInvalidUsername.length)&&(this.lastInvalidUsername=r),this.lastRequestMatch=!1);var n=this.generateSuggestions(t,r);this.updateSuggestions(n)}}.bind(this)),this.dataSource.bind("activity",function(e){e.activity?this.layerController._showLoading():this.layerController._hideLoading()}.bind(this))},updateSuggestions:function(e){this.layerController&&(this.layerController.content(e),this.layerController.show(),this.layerController.refreshContent())},_getQueryParams:function(){return this.restParams},_setQueryParams:function(){var e={issueKey:this.$textarea.attr(N),projectKey:this.$textarea.attr(k),maxResults:10};t.current&&"create-issue-dialog"===t.current.options.id&&delete e.issueKey,this.restParams=e},_composeCustomEventForFollowScroll:function(e){e=e||{};var t=this.$textarea.attr("follow-scroll");return t&&t.length&&(e[t]={scroll:function(){this.setPosition()}}),e},_matcher:function(e,t){return this._stringPartStartsWith(e.get("name"),t)||this._stringPartStartsWith(e.get("displayName"),t)||p.chain(e.get("issueInvolvements")).filter(function(e){return"assignee"===e.id||"reporter"===e.id}).any(function(e){return 0===e.label.indexOf(t)}).value()},textarea:function(e){var r=this;if(!e)return this.$textarea;this.$textarea=y(e);var n=this;if(y("#mentionDropDown").remove(),this.$textarea.attr("push-scroll"))var i=new l,s=a(this.$textarea,10);this.layerController=new o({offsetTarget:this.textarea(),allowDownsize:!0,positioningController:i,customEvents:this._composeCustomEventForFollowScroll(),width:function(){return r.$textarea.width()}}),this.layerController.bind("showLayer",function(){n._getTypeAheadAnalyticsHelper().search(n._getCurrentUserName()||""),r.listController.trigger("focus"),r._assignEvents("win",window)}).bind("hideLayer",function(){r.listController.trigger("blur"),r._unassignEvents("win",window),s&&s.reset()}).bind("contentChanged",function(){if(r.layerController.$content){var e,t=r.listController.index,n=r.listController.highlighted||r.listController.items[t],i=n?C(n.$element):"";r.listController.removeAllItems(),r.layerController.$content.off("click.jiraMentions"),r.layerController.$content.on("click.jiraMentions","li",function(e){var t=e.currentTarget;r._acceptSuggestion(t),e.preventDefault()}),r.layerController.$content.find("li").each(function(){var t=this,n=C(t),a=new u({element:t,autoScroll:!0});n===i&&(e=a),r.listController.addItem(a)}),r.listController.prepareForInput(),e?e.trigger("focus"):r.listController.shiftFocus(0)}}).bind("setLayerPosition",function(e,r,n){if(t.current&&t.current.$form){var i=t.current.$popup.find(".buttons-container:visible");i.length&&r.top>i.offset().top&&(r.top=i.offset().top)}r.left<0&&(r.left=0),r.left+n.layer().width()>y(window).width()&&(r.left=Math.max(y(window).width()-n.layer().width(),0)),s&&s.push(r.top+n.layer().outerHeight(!0))}),this.layerController.layer().attr("id","mentionDropDown"),this._assignEvents("inlineLayer",r.layerController.layer()),this._assignEvents("textarea",r.$textarea),this._setQueryParams(),this._seedData().then(function(e){var t=[];t.push.apply(t,e),r.dataSource.add(t)})},generateSuggestions:function(e,t,r){var n=function(e){var n={text:e};if(!r&&e&&e.length){var i=this._indexOfFirstMatch(e.toLowerCase(),t.toLowerCase());if(i!==-1){var a=i+t.length;n={prefix:e.substring(0,i),match:e.substring(i,a),suffix:e.substring(a)}}}return n}.bind(this),i=p.map(e,function(e){var t=e.toJSON();return t.fullName=t.displayName,t.name=t.accountId,t.username=t.accountId,t.displayName=n(t.displayName),t.issueRoles=p.map(t.roles,function(e){return n(e.label)}),t});return this._getTypeAheadAnalyticsHelper().searched(i.map(function(e){return e.id})),y(JIRA.Templates.mentionsSuggestions({suggestions:i,query:t,activity:this.dataSource.activeQueryCount>0,isRolesEnabled:this.isRolesEnabled}))},_indexOfFirstMatch:function(e,t){for(var r,n=/ |@|\.|-|"|,|'|\(/,i=0;;){if(0===e.indexOf(t))return i;if(r=e.search(n),r===-1)return-1;i=i+r+1,e=e.substring(r+1)}},_seedData:function(){var e,t=this._getQueryParams().issueKey;return t?(E[t]||(E[t]=y.ajax({method:"GET",url:v()+"/rest/internal/2/user/mention/search",data:this._getQueryParams(),dataType:"json",contentType:"application/json; charset=UTF-8"})),e=E[t].promise()):e=(new y.Deferred).reject(),e},_acceptSuggestion:function(e){this._hide(),s.fireUserMayAcceptSuggestionByUsingContextualMentionEvent(this._getCurrentUserName()),this._getTypeAheadAnalyticsHelper().selected(y(e).index()),this._replaceCurrentUserName(_(e)),this.listController.removeAllItems(),R=!1},_replaceCurrentUserName:function(e){var t=this._rawInputValue(),r=this._getCaretPosition(),n=t.substr(0,r),a=i.getLastWordBoundaryIndex(n,!0),s=t.substr(0,a+1).replace(/\r\n/g,"\n"),o="["+e+"]",l=t.substr(r);this._rawInputValue([s,o,l].join("")),this._setCursorPosition(s.length+o.length)},_setCursorPosition:function(e){var t=this.$textarea.get(0);if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}},_getTypeAheadAnalyticsHelper:function(){if(!$){var e=p.defaults({objectId:this.$textarea.attr(A),containerId:this.$textarea.attr(T),source:this._getTypeAheadAnalyticsSource()},P);$=new d(g.sendTrackEvent,e)}return $},_getCaretPosition:function(){var e,t,r,n,i,a=this.$textarea.get(0),s=this._rawInputValue();return"number"==typeof a.selectionStart?a.selectionStart:document.selection&&a.createTextRange?(t=document.selection.createRange(),t?(i=a.createTextRange(),i.moveToBookmark(t.getBookmark()),i.compareEndPoints("StartToEnd",a.createTextRange())>=0?s.length:(n=s.replace(/\r\n/g,"\n"),r=i.moveStart("character",-s.length),e=n.slice(0,-r).split("\n").length-1,e-r)):s.length):0},_rawInputValue:function(){var e=this.$textarea.get(0);return"string"==typeof arguments[0]&&(e.value=arguments[0]),e.value},fetchUserNames:function(e){this._getTypeAheadAnalyticsHelper().search(e),this.dataSource.query(e)},_getCurrentUserName:function(){return this.currentUserName},_hide:function(){this.layerController.hide()},_show:function(){this.layerController.show()},_keyUp:function(){var e=this._getCaretPosition(),t=this._getUserNameFromInput(e),r=y.trim(t||"");if(this._isNewRequestRequired(r))this.fetchUserNames(r),R=!0;else if(this._showHintSuggestions(t)){var n=this.dataSource.first(5);this._getTypeAheadAnalyticsHelper().search("");var i=this.generateSuggestions(n,r,!0);this.updateSuggestions(i),R=!0}else this._keepSuggestWindowOpen(r)||(this._hide(),R=!1);this.lastQuery=r,delete this.willCheck},_showHintSuggestions:function(e){return"string"==typeof e&&0===e.length},_keepSuggestWindowOpen:function(e){return!!e&&(!!this.layerController.isVisible()&&(this.dataSource.activeQueryCount||this.lastRequestMatch))},_isNewRequestRequired:function(e){if(!e)return!1;if(e=y.trim(e),e===this.lastQuery)return!1;if(this.lastInvalidUsername){if(0===e.indexOf(this.lastInvalidUsername)&&this.lastInvalidUsername.length<e.length)return!1}else if(!this.lastRequestMatch&&e===this.lastValidUsername)return!0;return!0},_stringPartStartsWith:function(e,t){return e=y.trim(e||"").toLowerCase(),t=(t||"").toLowerCase(),!(!e||!t)&&this._indexOfFirstMatch(e,t)!==-1},_getUserNameFromInput:function(e){return"number"!=typeof e&&(e=this._getCaretPosition()),this.currentUserName=i.getUserNameFromCurrentWord(this._rawInputValue(),e)},_getTypeAheadAnalyticsSource:function(){var e=this.$textarea.attr("id");return"comment"===e?U:"description"===e?j:"UNKNOWN"},_events:{win:{resize:function(){this.layerController.setWidth(this.$textarea.width())}},textarea:{keydown:function(e){e.keyCode===y.ui.keyCode.ESCAPE?this.layerController.isVisible()&&(t.current&&c.one("Dialog.beforeHide",function(e){e.preventDefault()}),this.$textarea.one("keyup",function(e){e.keyCode===y.ui.keyCode.ESCAPE&&(e.stopPropagation(),c.trigger("Mention.afterHide"))})):this.willCheck||(this.willCheck=p.defer(p.bind(this._keyUp,this)),p.defer(p.bind(function(){var t=this._getUserNameFromInput(this._getCaretPosition());s.fireContextualMentionIsBeingLookedUpAnalyticsEvent(t,e.keyCode,e.ctrlKey,e.metaKey)},this)))},focus:function(){this._keyUp()},mouseup:function(){this._keyUp()},blur:function(){this.listController.removeAllItems(),this.lastQuery=this.lastValidUsername=this.lastInvalidUsername=""}},inlineLayer:{mousedown:function(e){e.preventDefault()}}}})});;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-progressive-data-set', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/progressive-data-set.js' */
("undefined"===typeof window?global:window).__c35ee65482ba222c97e480e4544e6569=function(){function f(a){return a&&a.__esModule?a:{"default":a}}var e={};"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=f(__922acd0053a6de3ea4c53d8902766ab6),g=f(__e3ce9f42f29f6bd2118d84461512f4a4),i=f(__4d02fe17b8e885a34493e34af3d145dd),h=g.default.Collection.extend({initialize:function(a,b){b||(b={});b.matcher&&(this.matcher=b.matcher);b.model&&(this.model=b.model);this._idAttribute=(new this.model).idAttribute;
this._maxResults=b.maxResults||5;this._queryData=b.queryData||{};this._queryParamKey=b.queryParamKey||"q";this._queryEndpoint=b.queryEndpoint||"";this.value=null;this.queryCache={};this.activeQueryCount=0;c.default.bindAll(this,"query","respond")},url:function(){return this._queryEndpoint},query:function(a){var b,d;this.value=a;d=this.getFilteredResults(a);this.respond(a,d);a&&(this._queryEndpoint&&!this.hasQueryCache(a)&&this.shouldGetMoreResults(d))&&(b=this.fetch(a),this.activeQueryCount++,this.trigger("activity",
{activity:!0}),b.always(c.default.bind(function(){this.activeQueryCount--;this.trigger("activity",{activity:!!this.activeQueryCount})},this)),b.done(c.default.bind(function(b,d,c){this.addQueryCache(a,b,c)},this)),b.done(c.default.bind(function(){a=this.value;d=this.getFilteredResults(a);this.respond(a,d)},this)))},getQueryData:function(a){var b=c.default.isFunction(this._queryData)?this._queryData(a):this._queryData,b=c.default.extend({},b);b[this._queryParamKey]=a;return b},fetch:function(a){a=
{add:!0,update:!0,remove:!1,data:this.getQueryData(a)};return g.default.Collection.prototype.fetch.call(this,a)},respond:function(a,b){this.trigger("respond",{query:a,results:b});return b},matcher:function(){},getFilteredResults:function(a){var b=[];if(!a)return b;b=this.filter(function(b){return!!this.matcher(b,a)},this);this._maxResults&&(b=c.default.first(b,this._maxResults));return b},addQueryCache:function(a,b,d){var e=this.queryCache,b=this.parse(b,d);e[a]=c.default.pluck(b,this._idAttribute)},
hasQueryCache:function(a){return this.queryCache.hasOwnProperty(a)},findQueryCache:function(a){return this.queryCache[a]},shouldGetMoreResults:function(a){return a.length<this._maxResults},setMaxResults:function(a){this._maxResults=a;this.value&&this.respond(this.value,this.getFilteredResults(this.value))}});(0,i.default)("ProgressiveDataSet",h);e.default=h;return e=e["default"]}.call(this);;
;
/* module-key = 'jira.webresources:data-sets', location = '/includes/ajs/contentretriever/ProgressiveDataSet.js' */
AJS.namespace("JIRA.ProgressiveDataSet",null,require("aui/progressive-data-set"));;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/UncomplicatedInlineLayer.js' */
define("jira/mention/uncomplicated-inline-layer",["jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jquery"],function(n,e,t){return n.extend({init:function(t){t||(t={}),t.contentRetriever=new e,n.prototype.init.call(this,t)},content:function(){return arguments.length&&(this.$content=arguments[0]),this.$content},refreshContent:function(n){this.layer().empty().append(this.content()),t.isFunction(n)&&n.call(this),this.contentChange(),this.setPosition()}})}),AJS.namespace("JIRA.UncomplicatedInlineLayer",null,require("jira/mention/uncomplicated-inline-layer"));;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/Mention.Group.js' */
define("jira/mention/mention-group",["jira/ajs/group"],function(t){return t.extend({_makeSelection:function(t){this.items&&this.items[this.index]&&(this.items[this.index].trigger("accept"),t.preventDefault())},shiftFocus:function(i){t.prototype.shiftFocus.call(this,i);var e=this.items[this.index];e&&(this.highlighted=this.items[this.index])},keys:{Up:function(t){this.shiftFocus(-1),t.preventDefault()},Down:function(t){this.shiftFocus(1),t.preventDefault()},Return:function(t){this._makeSelection(t)},Tab:function(t){this._makeSelection(t)}}})}),AJS.namespace("JIRA.MentionGroup",null,require("jira/mention/mention-group"));;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/contextual-mention-analytics-event.js' */
define("jira/mention/contextual-mention-analytics-event",["jquery","underscore"],function(e,n){var t=/^(assi(gnee?)|repo(rter?))$/,i=n.debounce(function(e,n,i,r){var a=o(n)||c(n,i,r),u=t.test(e);a===!1&&u&&AJS.trigger("analytics",{name:"issue.comment.contextualMention.lookup"})},500),o=function(n){return n===e.ui.keyCode.BACKSPACE},c=function(e,n,t){return e==="A".charCodeAt()&&(n||t)||n||t};return{fireAcceptedContextualMentionAnalyticsEvent:function(){AJS.trigger("analytics",{name:"issue.comment.contextualMention.accepted"})},fireContextualMentionIsBeingLookedUpAnalyticsEvent:function(e,n,t,o){i(e,n,t,o)},fireUserMayAcceptSuggestionByUsingContextualMentionEvent:function(e){n.any(["assignee","reporter"],function(n){if(0===n.indexOf(e)&&n!==e)return AJS.trigger("analytics",{name:"issue.comment.contextualMention.mayAccepted"}),!0})}}});;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/mention-matcher.js' */
define("jira/mention/mention-matcher",["jquery"],function(t){return{AT_USERNAME_START_REGEX:/^@(.*)/i,AT_USERNAME_REGEX:/[^\[]@(.*)/i,WIKI_MARKUP_REGEX:/\[[~@]+([^~@]*)/i,ACCEPTED_USER_REGEX:/\[~[^~\]]*\]/i,WORD_LIMIT:3,getUserNameFromCurrentWord:function(e,n){var r,i=e.substr(0,n),E=this.getLastWordBoundaryIndex(i,!1),s=i.charAt(E-1),u=null;if(!s||!/\w/i.test(s)){if(r=this._removeAcceptedUsernames(i.substr(E)),/[\r\n]/.test(r))return null;t.each([this.AT_USERNAME_START_REGEX,this.AT_USERNAME_REGEX,this.WIKI_MARKUP_REGEX],function(t,e){var n=e.exec(r);if(n)return u=n[1],!1})}return null!=u&&this.lengthWithinLimit(u,this.WORD_LIMIT)?u:null},lengthWithinLimit:function(e,n){var r=t.trim(e).split(/\s+/);return r.length<=~~n},getLastWordBoundaryIndex:function(t,e){var n=t.lastIndexOf("@"),r=t.lastIndexOf("[~");return e&&(n-=1,r-=1),n>r?n:r},_removeAcceptedUsernames:function(t){var e=this.ACCEPTED_USER_REGEX.exec(t);return e?t.split(e)[1]:t}}});;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/mention-user.js' */
define("jira/mention/mention-user",["backbone","underscore"],function(e,n){return e.Model.extend({idAttribute:"accountId",initialize:function(){this.on("change:issueInvolvements",function(e,t){var i=n.union(e.previous("issueInvolvements"),t);e.attributes.issueInvolvements=n.uniq(i,!1,function(e){return e.id})})},parse:function(e,n){return e.issueInvolvements||(e.issueInvolvements=[]),e},toJSON:function(){var e=n.clone(this.attributes);return e.roles=e.issueInvolvements,delete e.issueInvolvements,e}})});;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/scroll-pusher.js' */
define("jira/mention/scroll-pusher",["jquery"],function(e){return function(t,n){function r(e,t){"undefined"==typeof t&&(t=n);var r=u.offset().top+u.outerHeight(),i=e-r;i+t>0&&(h||(h=u.height()),u.height(u.height()+i+t))}function i(){h&&u.height(h)}n=n||0;var h,u=e(t.attr("push-scroll"));return{push:r,reset:i}}});;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/namespace.js' */
AJS.namespace("JIRA.MentionUserModel",null,require("jira/mention/mention-user")),AJS.namespace("JIRA.Mention",null,require("jira/mention/mention")),AJS.namespace("JIRA.Mention.Matcher",null,require("jira/mention/mention-matcher")),AJS.namespace("JIRA.Mention.ScrollPusher",null,require("jira/mention/scroll-pusher")),AJS.namespace("JIRA.Mention.ContextualMentionAnalyticsEvent",null,require("jira/mention/contextual-mention-analytics-event"));;
;
/* module-key = 'jira.webresources:mentions-feature', location = 'includes/jira/mention/Mention.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),JIRA.Templates.mentionsSuggestions=function(e,s){var t='<div class="aui-list">';if(e.suggestions.length>0){t+='<ul class="aui-list-section aui-last">';for(var i=e.suggestions,a=i.length,n=0;n<a;n++){var l=i[n];if(t+='<li class="aui-list-item jira-mention-suggestion"><a class="aui-list-item-link aui-iconised-link" style="background-image: url('+soy.$$escapeHtml(l.avatarUrls["16x16"])+'); overflow:hidden; text-overflow: ellipsis" rel="'+soy.$$escapeHtml(l.accountId)+'" data-display-name="'+soy.$$escapeHtml(l.fullName)+'"',l.roles){t+=' data-issue-roles="';for(var o=l.roles,r=o.length,m=0;m<r;m++){var u=o[m];t+=soy.$$escapeHtml(u.id)+" "}t+='"'}t+=' href="#" >'+JIRA.Templates.highlitEntryWithNoUsername(l)+"</a></li>"}t+="</ul>"}else t+=JIRA.Templates.noSuggestions({activity:e.activity,query:""+soy.$$escapeHtml(e.query)});return t+=(e.isRolesEnabled?'<div class="aui-list-section-footer">'+soy.$$escapeHtml(AJS.format("Try typing @{0} or @{1}","assignee","reporter"))+"</div>":"")+"</div>"},JIRA.Templates.noSuggestions=function(e,s){return e=e||{},""+(0==e.query.length?'<div class="no-suggestions">'+soy.$$escapeHtml("Type to start searching.")+"</div>":e.activity?'<div class="no-suggestions searching">'+soy.$$filterNoAutoescape(AJS.format("Searching for {0}{1}{2}...","<strong>",e.query,"</strong>"))+"</div>":'<div class="no-suggestions">'+soy.$$filterNoAutoescape(AJS.format("Found no matching users for {0}{1}{2}.","<strong>",e.query,"</strong>"))+"</div>")},JIRA.Templates.highlitEntry=function(e,s){return'<span class="jira-mention-suggestion-user">'+JIRA.Templates.highlightMention({match:e.displayName})+" - "+soy.$$escapeHtml(e.emailAddress)+JIRA.Templates.highlightMention({prefix:" (",match:e.name,suffix:")"})+"</span>"+(e.issueRoles?JIRA.Templates.renderIssueRoles(e):"")},JIRA.Templates.highlitEntryWithNoUsername=function(e,s){return'<span class="jira-mention-suggestion-user">'+JIRA.Templates.highlightMention({match:e.displayName})+" - "+soy.$$escapeHtml(e.emailAddress)+"</span>"+(e.issueRoles?JIRA.Templates.renderIssueRoles(e):"")},JIRA.Templates.highlightMention=function(e,s){return""+(e.match.text||e.match.match?(e.prefix?soy.$$escapeHtml(e.prefix):"")+(e.match.match?soy.$$escapeHtml(e.match.prefix)+"<mark>"+soy.$$escapeHtml(e.match.match)+"</mark>"+soy.$$escapeHtml(e.match.suffix):soy.$$escapeHtml(e.match.text))+(e.suffix?soy.$$escapeHtml(e.suffix):""):"")},JIRA.Templates.renderIssueRoles=function(e,s){for(var t='<span class="jira-mention-issue-roles">',i=e.issueRoles,a=i.length,n=0;n<a;n++){var l=i[n];t+=' <span class="aui-lozenge aui-lozenge-complete'+(l.match?"":" aui-lozenge-subtle")+'">'+JIRA.Templates.highlightMention({prefix:"",match:l,suffix:""})+"</span>"}return t+="</span>"};;
;
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/Mention.Element.js' */
define("jira/mention/mention-element",["jira/mention/mention","jira/skate","underscore"],function(e,t,n){function o(t){var n=t.getAttribute("data-issuekey");t._controller||(t._controller=new e(n)),t._controller.textarea(t)}return t("mentionable",{type:t.type.CLASSNAME,created:function(e){},attached:function(e){document.activeElement===e&&o(e)},events:{focus:function(e,t){o(e)}}})});;
;
/* module-key = 'jira.webresources:mentions', location = '/includes/jira/mention/initMentions.js' */
require(["wrm/require"],function(e){e(["wrc!jira.webresources:mentions-feature"],function(){require(["jira/mention/mention-element"])})});;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-banner', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/banner.js' */
("undefined"===typeof window?global:window).__3ad706cbf23ce48c5828dc88c7c5b7ee=function(){function b(a){return a&&a.__esModule?a:{"default":a}}function e(a){a=(0,c.default)((0,g.default)('<div class="aui-banner aui-banner-{type}" role="banner">{body}</div>').fill({type:"error","body:html":a.body||""}).toString());(0,c.default)("#"+f).find(".aui-banner").get().forEach(function(a){"true"===a.getAttribute("aria-hidden")&&(0,c.default)(a).remove()});var b=(0,c.default)("#"+f);if(!b.length)throw Error("You must implement the application header");
a.prependTo(b);(0,h.recomputeStyle)(a);a.attr("aria-hidden","false");return a[0]}var d={};"use strict";Object.defineProperty(d,"__esModule",{value:!0});var c=b(__307d3e18fd611f85395c67cddeb1fe24),h=__c0311e8841bd8637e025a8fb1474f693,i=b(__574ac67f906effeb9d8ec2753b23cf28),j=b(__4d02fe17b8e885a34493e34af3d145dd),g=b(__eb201a36d4829c396b434af7bad3dea4),f="header";(0,i.default)("aui/banner",e);(0,j.default)("banner",e);d.default=e;return d=d["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-trigger', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/trigger.js' */
("undefined"===typeof window?global:window).__50e2876f514ad7c8f1fee05297cde9e2=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(a.isEnabled()){var c=document.getElementById(a.getAttribute("aria-controls"));c&&c.message&&c.message(b)}}"use strict";var g=e(__307d3e18fd611f85395c67cddeb1fe24),h=e(__574ac67f906effeb9d8ec2753b23cf28),f=e(__c1ce1f1e3e613f564fc234ff043570f1);(0,f.default)("data-aui-trigger",{type:f.default.type.ATTRIBUTE,events:{click:function(a,b){var c=
b.target,c=(0,g.default)(c).closest("a[href]",a);c.length&&c[0]!==a||(d(a,b),b.preventDefault())},mouseenter:function(a,b){d(a,b)},mouseleave:function(a,b){d(a,b)},focus:function(a,b){d(a,b)},blur:function(a,b){d(a,b)}},prototype:{disable:function(){this.setAttribute("aria-disabled","true")},enable:function(){this.setAttribute("aria-disabled","false")},isEnabled:function(){return"true"!==this.getAttribute("aria-disabled")}}});(0,h.default)("aui/trigger");return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:aui-trigger', location = 'auiplugin/src/soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '" ' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true" role="button"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex || (! opt_data.extraAttributes.href || ! opt_data.extraAttributes.tabindex))) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-attributes', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/attributes.js' */
("undefined"===typeof window?global:window).__29fa312a51517f20df339a1900640e1d=function(){function d(a){return null!==a}function e(a,b,c){c?a.setAttribute(b,""):a.removeAttribute(b)}function f(a,b){var c=function(a){return a.toLowerCase()===b.toLowerCase()},d=null===b,e=!d&&!a.values.filter(c).length;return d?a.hasOwnProperty("missingDefault")?a.missingDefault:null:e?a.hasOwnProperty("invalidDefault")?a.invalidDefault:a.hasOwnProperty("missingDefault")?a.missingDefault:null:a.values.length?a.values.filter(c)[0]:
null}function g(a,b,c){a.setAttribute(b.attribute,c)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.computeBooleanValue=d;b.setBooleanAttribute=e;b.computeEnumValue=f;b.setEnumAttribute=g;b.default={computeBooleanValue:d,setBooleanAttribute:e,computeEnumValue:f,setEnumAttribute:g};return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-enforcer', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/enforcer.js' */
("undefined"===typeof window?global:window).__8339408c10b0a9052af9f3aad7b3a4e8=function(){var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d;var a=__cf890abdf040e0993fb71f2f839bc972;if(a&&a.__esModule)d=a;else{var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b.default=a;d=b}c.default=function(a){function c(b){return e(function(){return a.hasAttribute(b)},b+" wasn't defined")}function b(d){if(!c(d,a))return!1;var f=a.getAttribute(d);
return e(function(){return document.getElementById(f)},'an element with id set to "'+f+'" was not found')}function e(b,c){return!b()?(a?d.error(c,a):d.error(c),!1):!0}return{attributeExists:c,refersTo:b,satisfiesRules:e,ariaControls:function(){return b("aria-controls")},ariaOwns:function(){return b("aria-owns")}}};return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-inline-dialog2', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/inline-dialog2.js' */
("undefined"===typeof window?global:window).__2883f62e804d6ae6a52910b6c4a55520=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){var d=document.querySelector('[aria-controls="'+a.id+'"]');d&&b(d)}function n(a){a=a.target;(0,e.default)(a).set("mouse-inside",!0);a.message({type:"mouseenter"})}function o(a){a=a.target;(0,e.default)(a).set("mouse-inside",!1);a.message({type:"mouseleave"})}function m(a){(0,e.default)(a).set("mouse-inside",void 0);a.removeEventListener("mouseenter",
n);a.removeEventListener("mouseleave",o);"hover"===a.respondsTo&&((0,e.default)(a).set("mouse-inside",!1),a.addEventListener("mouseenter",n),a.addEventListener("mouseleave",o))}function j(a){var b=!a.hasAttribute("aria-hidden"),d=a.hasAttribute("open");if(b||a.open!==d)d?((0,e.default)(a).set("is-processing-show",!0),(0,f.default)(a).show(),(0,f.default)(a).isVisible()?l(a,function(b){a._auiAlignment||(a._auiAlignment=new p.default(a,b));a._auiAlignment.enable();b.setAttribute("aria-expanded","true")}):
a.open=!1,(0,e.default)(a).set("is-processing-show",!1)):((0,f.default)(a).hide(),(0,f.default)(a).isVisible()?a.open=!0:l(a,function(b){a._auiAlignment||(a._auiAlignment=new p.default(a,b));a._auiAlignment.disable();b.setAttribute("aria-expanded","false")}))}var k={};"use strict";Object.defineProperty(k,"__esModule",{value:!0});var q=c(__307d3e18fd611f85395c67cddeb1fe24),p=c(__f420c577506564c314d7d5d82088641c),r=c(__574ac67f906effeb9d8ec2753b23cf28),g=c(__29fa312a51517f20df339a1900640e1d),s=c(__8339408c10b0a9052af9f3aad7b3a4e8),
t=c(__4d02fe17b8e885a34493e34af3d145dd),f=c(__fe0cd0a7ef176e2ef4e0e105d1ce31f5),h=c(__c1ce1f1e3e613f564fc234ff043570f1),e=c(__fd7d82ce22cd33cac1609667ce8040f9),u={click:function(a){if(a.open){if(!(0,f.default)(a).isPersistent())a.open=!1}else a.open=!0},mouseenter:function(a){a.open||(a.open=!0);a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout()},mouseleave:function(a){if(!(0,f.default)(a).isPersistent()&&a.open){a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout();var b=setTimeout(function(){if(!(0,
e.default)(a).get("mouse-inside"))a.open=!1},1E3);a._clearMouseleaveTimeout=function(){clearTimeout(b);a._clearMouseleaveTimeout=null}}},focus:function(a){a.open||(a.open=!0)},blur:function(a){if(!(0,f.default)(a).isPersistent()&&a.open)a.open=!1}},i={attribute:"responds-to",values:["toggle","hover"],missingDefault:"toggle",invalidDefault:"toggle"},h=(0,h.default)("aui-inline-dialog",{prototype:{get open(){return(0,f.default)(this).isVisible()},set open(a){g.default.setBooleanAttribute(this,"open",
a);j(this)},get persistent(){return this.hasAttribute("persistent")},set persistent(a){g.default.setBooleanAttribute(this,"persistent",a)},get respondsTo(){return g.default.computeEnumValue(i,this.getAttribute(i.attribute))},set respondsTo(a){var b=this.respondsTo;g.default.setEnumAttribute(this,i,a);b!==this.respondsTo&&m(this)},message:function(a){var b={toggle:["click"],hover:["mouseenter","mouseleave","focus","blur"]}[this.respondsTo];if(b&&-1<b.indexOf(a.type))u[a.type](this,a);return this}},
created:function(a){(0,e.default)(a).set("is-processing-show",!1);l(a,function(b){b.setAttribute("aria-expanded",a.open);b.setAttribute("aria-haspopup","true")})},attributes:{"aria-hidden":function(a,b){if("true"===b.newValue){var d=document.querySelector('[aria-controls="'+a.id+'"]');d&&d.setAttribute("aria-expanded","false")}g.default.setBooleanAttribute(a,"open","false"===b.newValue)},open:function(a){document.body.contains(a)&&j(a)},"responds-to":function(a,b){var d=g.default.computeEnumValue(i,
b.oldValue),c=g.default.computeEnumValue(i,b.newValue);d!==c&&m(a)}},attached:function(a){(0,s.default)(a).attributeExists("id");a.hasAttribute("open")?(0,e.default)(a).get("is-processing-show")||j(a):j(a);m(a)},detached:function(a){a._auiAlignment&&a._auiAlignment.destroy()},template:function(a){var b=(0,q.default)('<div class="aui-inline-dialog-contents"></div>').append(a.childNodes);(0,q.default)(a).addClass("aui-layer").html(b)}});(0,r.default)("aui/inline-dialog2",h);(0,t.default)("InlineDialog2",
h);k.default=h;return k=k["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:aui-inline-dialog2', location = 'auiplugin/src/soy/inline-dialog2.soy' */
// This file was automatically generated from inline-dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.inlineDialog2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.inlineDialog2 == 'undefined') { aui.inlineDialog2 = {}; }


aui.inlineDialog2.inlineDialog2 = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.alignment) ? ' alignment="' + soy.$$escapeHtml(opt_data.alignment) + '"' : '') + ((opt_data.open) ? ' open' : '') + ((opt_data.persistent) ? ' persistent' : '') + ((opt_data.respondsTo) ? ' responds-to="' + soy.$$escapeHtml(opt_data.respondsTo) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</aui-inline-dialog>';
};
if (goog.DEBUG) {
  aui.inlineDialog2.inlineDialog2.soyTemplateName = 'aui.inlineDialog2.inlineDialog2';
}


aui.inlineDialog2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {showIcon: opt_data.showIcon ? opt_data.showIcon : false}));
};
if (goog.DEBUG) {
  aui.inlineDialog2.trigger.soyTemplateName = 'aui.inlineDialog2.trigger';
}
;
;
/* module-key = 'jira.webresources:keyboard-shortcut-toggle', location = '/includes/ajs/keyboardshortcut/KeyboardShortcuts.toggle.js' */
define("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle",["exports"],function(e){var r=!1;e.disable=function(){r=!0},e.enable=function(){r=!1},e.areKeyboardShortcutsDisabled=function(){return r}}),AJS.namespace("AJS.enableKeyboardShortcuts",null,require("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle").enable),AJS.namespace("AJS.disableKeyboardShortcuts",null,require("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle").disable);;
;
/* module-key = 'jira.webresources:assignee-picker', location = '/includes/jira/field/AssigneePicker.js' */
define("jira/field/assignee-picker",["jira/util/formatter","jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestions/assignee-suggest-handler","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/featureflags/feature-manager","aui/params","jquery","underscore","wrm/context-path","aui/populate-parameters","jira/featureflags/feature-manager"],function(e,t,i,s,n,a,r,o,u,l,g){function p(e){return u.find(e,function(e){return"assignee-group-search"===e.id()})}return t.extend({init:function(t){function a(e){r.actionDescriptorId=void 0,g();var t={projectKeys:r.projectKeys,issueKey:r.assigneeEditIssueKey,actionDescriptorId:r.actionDescriptorId,maxResults:50,startAt:0===h._pagination.numberOfShowingItems?0:h._pagination.numberOfShowingItems+1};return p(t,e)}function p(e,t){return u.extend({query:t},e)}function c(e,t){var i=t.accountId;return u.extend({value:i},e)}function d(t){var i=[];if(t.length){for(var a=new s({weight:1,id:"assignee-group-search",uniqueItemScope:"container",replace:!0,label:"All Users"}),r=0,o=t.length;r<o;r++){var u=t[r],l=u.displayName,g=u.emailAddress,p=l;g&&(p+=" - "+g);var d={fieldText:l,label:p,allowDuplicate:!1,icon:u.avatarUrls["16x16"]};a.addItem(new n(c(d,u)))}i.push(a)}return i}var h=this,m=t.element instanceof o?t.element:o(t.element);h._pagination={lastQuery:null,numberOfShowingItems:0,allResultsDisplayed:!1,requestNextPagePromise:null},t=o.extend(!0,{},{submitInputVal:!0,showDropdownButton:!!m.data("show-dropdown-button"),errorMessage:"User \'\'{0}\'\' cannot be assigned this issue",localDataGroupId:"assignee-group-suggested",content:"mixed",suggestionAtTop:!0,removeDuplicates:!0,ajaxOptions:{url:function(){r.assigneeEditIssueKey=void 0,g();var e=r.assigneeEditIssueKey?"search":"multiProjectSearch";return l()+"/rest/api/latest/user/assignable/"+e},query:!0,minQueryLength:0,data:a,formatResponse:d}},t),"-1"==t.editValue&&(t.editValue=!1,m.val("-1")),this._super(t),this.suggestionsHandler=new i(this.options,this.model)},requestSuggestions:function(e){return this._pagination.lastQuery!=this.getQueryVal()&&this._resetPagination(),this._super(e).done(u.bind(function(e){var t=p(e);if(t){var i=t.items();i&&i.length&&(this._pagination.numberOfShowingItems+=i.length)}return e},this))},scrolledToBottomHandler:function(){this._pagination.requestNextPagePromise&&!this._pagination.requestNextPagePromise.isResolved()||this._pagination.allResultsDisplayed||(this._pagination.requestNextPagePromise=this.requestSuggestions(!0).done(u.bind(function(e){var t=p(e);if(t){var i=t.items();i&&i.length?(this.listController.appendToGroupDescriptor("assignee-group-search",i),this.listController.addNextPage()):this._pagination.allResultsDisplayed=!0}else this._pagination.allResultsDisplayed=!0},this)))},_handleCharacterInput:function(e){this._pagination.lastQuery!=this.getQueryVal()?this._super(e):e&&this.showSuggestions()},handleFreeInput:function(e){""===o.trim(e||this.$field.val())?this.setSelection(this.model.getDescriptor("-1")):this._super(e),this._resetPagination()},cleanUpModel:function(){},_resetPagination:function(){this._pagination.lastQuery=this.getQueryVal(),this._pagination.numberOfShowingItems=0,this._pagination.allResultsDisplayed=!1,this._pagination.requestNextPagePromise=null}})}),AJS.namespace("JIRA.AssigneePicker",null,require("jira/field/assignee-picker"));;
;
/* module-key = 'jira.webresources:assignee-picker', location = '/includes/jira/field/initAssigneePickers.js' */
define("jira/field/init-assignee-pickers",["jira/field/assignee-picker","jira/util/users/logged-in-user","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/featureflags/feature-manager","jira/skate"],function(e,i,n,t,a,r,s,c){function u(e){var i=e.indexOf("#");return i!==-1?e.substring(i):e}function l(e){r("#assign-to-me-trigger",e).click(function(n){n.preventDefault();var t=r(this).attr("href"),a=u(t),s=i.accountId(),c=r(a,e);r(a+"-single-select",e).length?c.trigger("set-selection-value",s):c.val(s).change()})}function d(e){r(".assignee-edit-group",e).each(function(){var i=r(this),n=i.attr("rel");r("#assignee_userpicker_dummy_"+n+"_container",e).click(function(){r("#assignee_radio_picker_"+n,e).attr("checked","checked")}),i.parents("form[name=jiraform]").submit(function(){i.find("input[name=assignee_radio]:checked").each(function(){this.id=="assignee_radio_picker_"+n?r("#"+n,e).val(r("#hidden-assignee_userpicker_dummy_"+n,e).val()):r("#"+n,e).val(r(this).val())})})})}c("js-assignee-picker",{type:c.type.CLASSNAME,created:function(i){var n=r(i),t=n.data("editValue"),a=new e({element:n,editValue:t});r(document).trigger("ready.single-select.assignee",a)}}),n.bind(t.NEW_CONTENT_ADDED,function(e,i,n){n!==a.panelRefreshed&&(l(i),d(i))})});;
;
/* module-key = 'jira.webresources:assignee-picker', location = '/includes/jira/field/init/init-assignee-picker-webresource.js' */
require("jira/field/init-assignee-pickers");;
;
/* module-key = 'jira.webresources:assignee-picker', location = '/includes/jira/field/ParentPicker.js' */
!function(){"use strict";var e=require("jira/ajs/select/single-select");JIRA.ParentPicker=e.extend({init:function(e){function t(){const e=AJS.$(h).attr("data-should-use-parent-candidate-for-new-issue");return!!e&&JSON.parse(e)}function r(){return Boolean(w)?"/rest/internal/1/issue/parent/candidate":"/rest/internal/1/issue/parent/candidate/"+S}function a(e){var t=!u(),r={query:e,maxResults:20,excludeDone:t};return w&&(r.projectId=g,r.issueTypeId=f),r}function n(e,t,r,a){e=AJS.escapeHTML(String(e)),t=AJS.escapeHTML(String(t)),r=r,a=AJS.escapeHTML(String(a));var n,s=a.toUpperCase(),i=e.toUpperCase(),o=t.toUpperCase(),s=(s+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1"),l=new RegExp("("+s+")","gi"),c=i.search(l);c>-1&&(n=e.slice(c,c+a.length),e=e.replace(n,"<em>"+n+"</em>")),c=o.search(l),c>-1&&(n=t.slice(c,c+a.length),t=t.replace(n,"<em>"+n+"</em>"));var u=r?" &#8226; "+"Show done issues":"";return e+" - <span class='parent-menu-metadata'>("+t+u+")</span>"}function s(e){if(!e)return[];var t=m.getQueryVal(),r=new AJS.GroupDescriptor({weight:0,showLabel:!1,items:[new AJS.ItemDescriptor({label:t,highlighted:!0,styleClass:"parent-menu-header",customItem:!0,html:"<li><label for='chkShowDoneParent' style='float: right'><input type='checkbox' id='chkShowDoneParent'"+(u()?" checked":"")+">"+"Show done issues"+"</label></li>"})],replace:!0});return _.each(e,function(e){r.addItem(i(e,t))}),[r]}function i(e,t){var r=e.key,a=e.summary,s=e.isDone,i=n(a,r,s,t);return new AJS.ItemDescriptor({value:r,fieldText:a+" - ("+r+")",label:i,html:i,allowDuplicate:!1,highlighted:!0})}function o(e){var t="",r=!1;return e&&e.length>0&&(t=AJS.format("No matches found",e),r=!0),{isError:r,message:t}}function l(e){var t,r;d.apply(m,[e]),e=e||AJS.$.trim(m.$field.val()),r=m.model.getDescriptor(e),!r&&m.$container.hasClass("aui-ss-editing")&&(t=o(e),t.isError?(m.options.errorMessage=t.message,m.showErrorMessage(e)):m.hideErrorMessage()),e||m.setSelection(A)}function c(){m._super(e),d=m.handleFreeInput,m.handleFreeInput=l;var t=require("jira/ajs/layer/inline-layer");m.dropdownController.bind(t.EVENTS.show,function(e,t){t.off("click",'.parent-menu-header label[for="chkShowDoneParent"]',p),t.on("click",'.parent-menu-header label[for="chkShowDoneParent"]',p)})}function u(){return"true"===localStorage.getItem("parentpicker.showdone")}function p(e){e.preventDefault();var t=!u();return localStorage.setItem("parentpicker.showdone",t),m.$field.click(),!1}var d,h=AJS.$(e.element),m=this,S=AJS.$(h).attr("data-first-issue-key"),f=AJS.$(h).attr("data-issue-type-id"),g=AJS.$(h).attr("data-project-id"),w=t(),A=new AJS.ItemDescriptor({value:"",label:""});AJS.$.extend(e,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:contextPath+r(),method:"POST",query:!0,data:a,formatResponse:s}});var J=this.setSelection;this.setSelection=function(e,t){e.properties.customItem||J.apply(this,arguments)},c()}}),JIRA.ParentPicker.READY_EVENT="parent-picker.ready"}();;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/ajs/dark-features.js' */
define("jira/ajs/dark-features",["jira/util/data/meta"],function(e){function a(){try{var a=JSON.parse(e.get("enabled-dark-features"));if("object"==typeof a)return a}catch(e){}return[]}for(var r=a(),t={},n=0,u=r.length;n<u;n++)t[r[n]]=!0;return{isEnabled:function(e){return!!t[e]},enable:function(e){e&&!t[e]&&(t[e]=!0)},disable:function(e){e&&t[e]&&delete t[e]}}}),AJS.namespace("AJS.DarkFeatures",null,require("jira/ajs/dark-features"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/expandoninput/expandOnInput.js' */
!function(t){function i(){var i=t(this),e=this;setTimeout(function(){i.keyup(),e.scrollTop=e.scrollHeight},0)}function e(){var s=t(this),a="border-box"===(s.css("boxSizing")||s.css("-mozBoxSizing")||s.css("-webkitBoxSizing")||s.css("-msBoxSizing"));this.scrollHeight;var h,r=parseInt(s.css("maxHeight"),10)||s.data("expandOnInput_maxHeight")||t(window).height()-160;if(a){var o=s.outerHeight();h=Math.max(o+this.scrollHeight-this.clientHeight,o)}else{var c=s.height();h=Math.max(this.scrollHeight-(s.innerHeight()-c),c)}if(h<r)s.css({overflow:"hidden",height:h+"px"});else{var l=this.selectionStart;s.css({"overflow-y":"auto",height:r+"px"}),s.unbind(n,e),s.unbind("paste",i),this.selectionStart!==l&&(this.selectionStart=l,this.selectionEnd=l),h=r}if(s.trigger("expandedOnInput"),!s.data("hasFixedParent")){var d=t(window),g=d.scrollTop(),u=s.offset().top+h-d.height()+29;g<u&&d.scrollTop(u)}s.trigger("stalkerHeightUpdated")}var n="input keyup";t.fn.expandOnInput=function(s){var a=this.filter("textarea");return a.unbind(n,e).bind(n,e),(t.browser.mozilla||t.browser.msie)&&a.unbind("paste",i).bind("paste",i),a.unbind("refreshInputHeight").bind("refreshInputHeight",function(){t(this).css("height",""),e.call(this)}),a.data("expandOnInput_maxHeight",s),a.each(function(){var i=t(this);i.each(function(){var i=t(this);i.data("hasFixedParent",!!i.hasFixedParent())}),""!==i.val()&&e.call(this)}),this}}(jQuery);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/isdirty/isDirty.js' */
define("jira/jquery/plugins/isdirty",["jira/util/logger","jira/util/formatter","jira/util/events","jira/util/browser","jquery"],function(e,r,n,t,i){function a(){var e=h;return h=g,"***\n\n"+e+"\n\n***"}function o(e){var r=i(e),n=i(e.form),t=e.type;if(n.hasClass(u)||r.hasClass(u))return!1;if(n.hasClass(f))return!0;if(r.is(":hidden")&&!r.hasClass(l))return!1;if(!r.parent().length)return!1;if(n.has(".error, .errMsg, .errorMessage, .errLabel, .ajaxerror").length>0||n.prev(".error").length>0||n.children(".error").length>0)return!0;if(("hidden"===t||"submit"===t||"button"===t)&&!r.hasClass(l))return!1;if("select-one"===t||"select-multiple"===t){for(var a=e.options,o=0;o<a.length;o++){var s=a[o];if(s.selected!==s.defaultSelected)return!0}return!1}return"checkbox"===t||"radio"===t?e.checked!==e.defaultChecked:e.value!==e.defaultValue}function s(){e.log("the cancel event on forms is deprecated"),i(this.form||this).closest("form").trigger("cancel")}var u="ajs-dirty-warning-exempt",l="ajs-dirty-warning-whitelist",f="ajs-dirty-warning-by-default",c="ajs-dirty-warning-subsequent-submits-allowed",d=!1,g="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.",h=g;i.fn.isDirty=function(){for(var e=this.find("*").andSelf().filter(":input"),r=0;r<e.length;r++)if(o(e[r]))return!0;return!1},i.fn.removeDirtyWarning=function(){return i(this.form||this).closest("form").addClass(u),this},n.bind("page-unload.location-change.from-dialog",function(){window.onbeforeunload=function(){}}),n.bind("page-unload.refresh.from-dialog",function(){h="The data in the dialog box was successfully submitted, although this page requires a refresh to display the results.\n\nYou had entered new data on the page before you opened the dialog box. If you continue, your page data will be lost."});var m={getInputsToCheck:function(){return i("input[type='text'], textarea[name], ."+l)},getDirtyWarning:function(){for(var e=m.getInputsToCheck(),r=0,n=e.size();r<n;r++)if(!d&&o(e[r]))return a();d&&(d=!1)},ClassNames:{SANCTIONED:l,EXEMPT:u,BY_DEFAULT:f,SUBSEQUENT_SUBMITS_ALLOWED:c}};return t.isSelenium()||(window.onbeforeunload=m.getDirtyWarning),i(document).delegate("form","submit",function(){function e(e){return e.parents(".jira-dialog.jira-dialog-open").length<=0}function r(e){return e.hasClass(c)}var n=i(this);e(n)&&!r(n)&&(d=!0)}),i(function(){i(".cancel").bind("click",s)}),i(function(){i("#cancelButton").bind("mousedown keydown click",s)}),m}),AJS.namespace("JIRA.DirtyForm",null,require("jira/jquery/plugins/isdirty"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/overlabel/overlabel.js' */
!function(a){a.fn.overlabel=function(e){return this.each(function(){var t=a(this),d=e||a("#"+(t.data("target")||t.attr("for")));t.removeClass("overlabel").addClass("overlabel-apply").click(function(a){d.attr("disabled")||d.focus(),a.preventDefault()}),d.width()&&t.width(d.width()),d.on({focus:function(){t.addClass("hidden")},"blur change":function(){var e=a(this);""===e.val()?t.removeClass("hidden"):t.addClass("hidden")}}),d.val()&&""!==d.val()&&t.addClass("hidden")}),this}}(jQuery);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/toggleblock/ToggleBlock.js' */
define("jira/toggleblock/toggle-block",["jira/util/logger","jira/lib/class","jira/util/events","jira/util/events/types","jira/data/local-storage","jquery","jira/libs/parse-uri"],function(t,e,i,o,s,n,r){function a(t){var e=t.data.instance;n(this).hasClass(e.options.collapsedClass)&&e.expand(this)}function l(t){var e=t.data.instance;e.options.originalTargetIgnoreSelector&&n(t.originalTarget).is(e.options.originalTargetIgnoreSelector)||(e.toggle(t.target),t.preventDefault())}function c(t){t.data.instance._collapseTwiciBlocksFromStorage()}return e.extend({getDefautOptions:function(){return{blockSelector:".twixi-block",triggerSelector:".twixi",eventType:"click",collapsedClass:"collapsed",expandedClass:"expanded",storageCollectionName:"twixi-blocks",autoFocusTrigger:!0}},_collapseTwiciBlocksFromStorage:function(){var t,e=s.getItem(this.options.storageCollectionName)||"";return e=e.replace(/\./g,"\\."),/#\w+/.test(e)&&(t=n(e),t.is(this.options.blockSelector)&&(this.isPermlink()||t.removeClass(this.options.expandedClass).addClass(this.options.collapsedClass))),this},_updateTwixiBlockIdInStorage:function(t){if(!this.isPermlink()){if(!/#\w+/.test(t))return this;var e=s.getItem(this.options.storageCollectionName)||"",i=(","+e+",").indexOf(","+t+",")+1;e=i?e.indexOf(","+t)+1?e.replace(","+t,""):e.replace(t,""):e.length?e+","+t:t,s.setItem(this.options.storageCollectionName,e)}return this},contract:function(t){return t=n(t),t.is(this.options.blockSelector)&&(t.removeClass(this.options.expandedClass).addClass(this.options.collapsedClass),this.options.persist!==!1&&this._updateTwixiBlockIdInStorage("#"+t.attr("id"))),n(t).trigger("contractBlock"),this},expand:function(t){return t=n(t),t.is(this.options.blockSelector)&&(t.removeClass(this.options.collapsedClass).addClass(this.options.expandedClass),this.options.persist!==!1&&this._updateTwixiBlockIdInStorage("#"+t.attr("id"))),n(t).trigger("expandBlock"),this},toggle:function(t){var e=n(t).closest(this.options.blockSelector);return e.hasClass(this.options.collapsedClass)?this.expand(e):this.contract(e),this.options.autoFocusTrigger&&e.find(this.options.triggerSelector+":visible").focus(),this},isPermlink:function(){return this.checkIsPermlink(location.href)},checkIsPermlink:function(t){var e=r(t).queryKey;return e.hasOwnProperty("focusedCommentId")||e.hasOwnProperty("focusedWorklogId")},addTrigger:function(t,e){var i=this,o=0;return t&&(e=e||"click","dblclick"===e&&(document.selection?n(document).delegate(t,"dblclick",function(){document.selection.empty()}):n(document).delegate(t,"mousedown",function(){var t=(new Date).getTime(),e=t-o>750;return o=t,e})),n(document).delegate(t,e,function(){i.toggle(this)})),this},addCallback:function(t,e){return n.aop.after({target:this,method:t},e),this},isUnique:function(t){var e=n(document).data("toggleBlockUids")||[];return n.inArray(t,e)===-1},setUid:function(t){var e=n(document).data("toggleBlockUids")||[];e.push(t),n(document).data("toggleBlockUids",e)},init:function(e){var s=this;e=e||{},this.options=n.extend(this.getDefautOptions(),e);var r=this.options.triggerSelector;return this.isUnique(r)?(this.setUid(r),n(document).delegate(this.options.blockSelector,"reveal",{instance:this},a),n(document).delegate(this.options.triggerSelector,this.options.eventType,{instance:this},l),i.bind(o.REFRESH_TOGGLE_BLOCKS,{instance:this},c),void(this.options.persist!==!1&&n(function(){s._collapseTwiciBlocksFromStorage()}))):void("undefined"!=typeof console&&t.warn&&t.warn("Your are trying to create a ToggleBlock with selector '"+this.options.triggerSelector+"'.One already exists with this trigger so has been ignored."))}})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/toggleblock/namespaces.js' */
AJS.namespace("JIRA.ToggleBlock",null,require("jira/toggleblock/toggle-block"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/togglelist/ToggleList.js' */
define("jira/togglelist/toggle-list",["jira/lib/class","jquery"],function(e,i){return e.extend({init:function(e){var i=e.more,o=e.showMoreContainer||e.showMoreLink,t=e.showLessContainer||e.showLessLink,n=e.showMoreLink,s=e.showLessLink;if(!i||!i.length)return o.hide(),void t.hide();i.hide(),o.show(),t.hide();var l=function(e){e.preventDefault(),i.toggle(),o.toggle(),t.toggle()};n.click(l),s.click(l)}})}),AJS.namespace("JIRA.ToggleList",null,require("jira/togglelist/toggle-list"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/wikipreview/wikiPreview.js' */
define("jira/wikipreview/wiki-preview",["jira/util/formatter","wrm/context-path","jquery"],function(e,i,n){return function(r,t){var s,a,o,d,c=!1,l=function(){s=n("#"+r.fieldId,t),a=n("#"+r.fieldId+"-wiki-edit",t),o=n("#"+r.trigger,t)},u=function(){var e;return{show:function(){e||(e=n("<div>").html("&nbsp;").css({height:"300px"}).insertBefore(a)),e.css({display:"block"})},hide:function(){e.css({display:"none"})}}}(),p=function(){c?(a.find(".content-inner").css({maxHeight:""}),this.showInput()):(a.find(".content-inner").css({maxHeight:s.css("maxHeight")}),this.showPreview())},w=function(i){a.originalHeight=a.height(),u.show(),a.addClass("previewClass"),d=s.val(),s.hide(),o.removeClass("loading").addClass("selected"),h(e.format("Back to edit {0}",r.fieldId)),a.find(".content-inner").html(i),u.hide(),c=!0,n(document).trigger("showWikiPreview",[a]),setTimeout(function(){o.focus()},0)},f=function(e){return function(i,n,r){o.removeClass("loading"),d=s.val(),n&&alert(n),r&&alert(r),e.showInput()}},h=function(e){o.find(".wiki-renderer-icon").text(e)};return{showPreview:function(){var e=this,a=n("#pid",t).val(),o=n("#issuetype",t).val();n.isArray(a)&&(a=a[0]),n.isArray(o)&&(o=o[0]),n("#"+r.trigger,t).addClass("loading"),n.ajax({url:i()+"/rest/api/1.0/render",contentType:"application/json",type:"POST",data:JSON.stringify({rendererType:r.rendererType,unrenderedMarkup:s.val(),issueKey:r.issueKey,projectId:a,issueType:o}),dataType:"html",success:w,error:f(e)})},showInput:function(i){a&&(u.show(),a.css({height:""}),a.removeClass("previewClass").find(".content-inner").empty(),s=n("#"+r.fieldId,t),s.val(d),s.show(),s.focus(),o.removeClass("selected"),h(e.format("Preview {0}",r.fieldId)),u.hide(),c=!1,n(document).trigger("showWikiInput",[a]))},init:function(){var e,i=this;r instanceof n&&(r=n.readData(r)),e=n("#"+r.trigger,t),e.click(function(n){e.hasClass("loading")||(l(),p.call(i)),n.preventDefault()})}}}}),AJS.namespace("jira.app.wikiPreview",null,require("jira/wikipreview/wiki-preview")),AJS.namespace("JIRA.wikiPreview",null,require("jira/wikipreview/wiki-preview"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/common/app.js' */
!function(){function e(){k("label.overlabel").overlabel()}function t(){var e=k("div.results"),t=e.width();e.bind("resultsWidthChanged",function(){var e=k(this);e.css("width",100/t*(t-(parseInt(k(document.documentElement).prop("scrollWidth"),10)-k(window).width()))+"%")}),k(window).resize(function(){e.trigger("resultsWidthChanged")}),e.trigger("resultsWidthChanged"),k("#issuenav").bind("contractBlock expandBlock",function(){k(".results").trigger("resultsWidthChanged")})}function i(){k(".fieldTabs li").click(function(e){e.preventDefault(),e.stopPropagation();var t=k(this);t.hasClass("active")||(k(".fieldTabs li.active").removeClass("active"),t.addClass("active"),k(".fieldTabArea.active").removeClass("active"),k("#"+t.attr("rel")).addClass("active"))})}function n(){k("form").handleAccessKeys(),W.bind("dialogContentReady",function(){k("form",this.$content).handleAccessKeys({selective:!1})})}function a(){W.keydown(function(e){S.current&&27===e.which&&!k(e.target).is(":input")&&S.current.hide()})}function r(){new x({blockSelector:".twixi-block",storageCollectionName:"twixi"}).addCallback("toggle",function(){A.getStalker().trigger("stalkerHeightUpdated")}).addTrigger(".action-head .action-details","click"),new x({blockSelector:"#issue-filter .toggle-wrap:not(#navigator-filter-subheading-textsearch-group)",triggerSelector:".toggle-trigger",collapsedClass:"expanded",expandedClass:"collapsed",storageCollectionName:"navSimpleSearch"}),new x({blockSelector:".twixi-block",triggerSelector:".twixi-trigger",storageCollectionName:"twixi"}),new x({blockSelector:"#issuenav",triggerSelector:"a.toggle-lhc",collapsedClass:"lhc-collapsed",storageCollectionName:"lhc-state",autoFocusTrigger:!1}),k(".error","#issue-filter").parents(".toggle-wrap").removeClass("collapsed").addClass("expanded"),k("fieldset.content-toggle input[type='radio']").live("change",function(){var e=k(this);e.closest(".content-toggle").find("input[type='radio']").each(function(){var e=k(this);k("#"+e.attr("name")+"-"+e.val()+"-content").addClass("hidden")}),k("#"+e.attr("name")+"-"+e.val()+"-content").removeClass("hidden")})}function o(){k("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value").attr("disabled","disabled"),k("#log-work-adjust-estimate-"+k("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked").val()+"-value").removeAttr("disabled"),k("input[name=worklog_adjustEstimate],input[name=adjustEstimate]").change(function(){k("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value").attr("disabled","disabled"),k("#log-work-adjust-estimate-"+k(this).val()+"-value").removeAttr("disabled")})}function s(){var e=k("input:checked");0!==e.length&&("forgot-login-rb-forgot-password"===e.attr("id")?(k("#username,#password").addClass("hidden"),k("#password").removeClass("hidden")):"forgot-login-rb-forgot-username"===e.attr("id")&&(k("#username,#password").addClass("hidden"),k("#username").removeClass("hidden"))),k("#forgot-login-rb-forgot-password").change(function(){k("#username,#password").addClass("hidden"),k("#password").removeClass("hidden")}),k("#forgot-login-rb-forgot-username").change(function(){k("#username,#password").addClass("hidden"),k("#username").removeClass("hidden")})}function l(){k("input.upfile").each(function(){var e=k(this),t=e.closest(".field-group");e.change(function(){e.val().length>0&&t.next(".field-group").removeClass("hidden")})})}function c(){W.on("keypress","textarea",N.submitOnCtrlEnter),k("#jqltext").keypress(N.submitOnEnter)}function d(){var e=k("#browser-warning");k(".icon-close",e).click(function(){e.slideUp("fast"),E.save("UNSUPPORTED_BROWSER_WARNING","handled")})}function u(){k("form").submit(function(e){var t=new k.Event("before-submit");k(this).trigger(t),t.isDefaultPrevented()&&e.preventDefault()})}function f(){var e="#comment, #environment, #description",t=200;W.bind("tabSelect",function(t,i){i.pane.find(e).expandOnInput()}),k(e).expandOnInput(t),W.bind("dialogContentReady",function(i,n){n.get$popupContent().bind("tabSelect",function(i,n){n.pane.find(e).expandOnInput(t)}).find(e).expandOnInput(t)}),W.bind("showWikiInput",function(t,i){i.find(e).expandOnInput()})}function g(){I.bind("dialogContentReady",function(){j.setup()})}function h(){var e=k("form.aui"),t=k("a.cancel",e);O.isIE()&&O.majorVersion()<12&&t.attr("accessKey")&&t.focus(function(e){e.altKey&&(k(this).mousedown(),window.location.href=t.attr("href"))})}function p(){var e=function(e){k(e).closest(".availableActionRow").find("td:first :checkbox").attr("checked",!0)},t=k("#availableActionsTable tr.availableActionRow");t.children("td:last-child").find(":input").change(function(t){e(this)})}function v(){var e=function(e){k(e).closest("tr").prev().find("td:first :checkbox").attr("checked",!0)},t=k("#availableActionsTable .availableActionRowMultiSelect");t.children("td:last-child").find(":input").change(function(t){e(this)})}function m(){k("#availableActionsTable .availableActionMultiSelect select").change(function(e){var t=k(this);t.closest("tr").next().toggleClass("hidden","removeall"===t.val())})}function b(){k(".clickable").click(function(){window.location.href=k(this).find("a").attr("href")})}function w(e){k(".projects-list-trigger",e).each(function(){var e=k(this);e.click(!1);var t=e.attr("href");S(this,t.substring(1),function(e,i,n){e.html(k(t).html()),n()},{onHover:!0,hideDelay:500,width:240})})}function C(){W.on("click","[data-helplink=local]",function(e){var t=this.getAttribute("href"),i=window.open(t,"jiraLocalHelp","resizable, scrollbars=yes");return i.focus(),e.preventDefault(),!1})}var k=require("jquery"),S=(require("aui/params"),require("aui/inline-dialog")),j=require("aui/tabs"),x=require("jira/toggleblock/toggle-block"),y=require("jira/ajs/browser/describe-browser"),A=require("jira/issue"),q=require("jira/message"),E=require("jira/data/cookie"),N=require("jira/util/forms"),R=require("jira/util/data/meta"),I=require("jira/util/events"),O=require("jira/util/navigator"),T=require("jira/skate"),W=k(document);T("shared-item-trigger",{type:T.type.CLASSNAME,attached:function(e){var t=e.getAttribute("href");S(e,t.substring(1),function(e,i,n){e.html(k(t).html()),n()},{width:240})}}),k(function(){r(),e(),t(),i(),n(),o(),s(),l(),c(),d(),u(),f(),h(),p(),v(),m(),a(),b(),C(),w()}),y(),g(),T("js-filter-form-edit",{type:T.type.CLASSNAME,extends:"form",events:{submit:function(e,t){if(!t.defaultPrevented){var i=AJS.escapeHtml(e.elements.filterName.value);q.showMsgOnReload(AJS.format("Changes to {0} have been saved.",i),{type:"SUCCESS",closeable:!0,target:"body:not(:has(#filter-edit))"})}}}}),T("js-filter-form-subscription",{type:T.type.CLASSNAME,extends:"form",events:{submit:function(e,t){if(!t.defaultPrevented){var i=e.elements.groupName.value||R.get("remote-user-fullname");q.showMsgOnReload(AJS.format("A subscription has been added for \u003cstrong\u003e{0}\u003c/strong\u003e.",AJS.escapeHtml(i)),{type:"SUCCESS",closeable:!0,target:"body:not(:has(#filter-subscription))"})}}}})}();;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/common/page.js' */
define("jira/common/page",["jira/util/logger","jquery"],function(e,n){var t={relatedContentCssSelector:".content-container > .content-related",mainContentCssSelector:".content-container > .content-body"},a={relatedContentCssSelector:".aui-page-panel > .aui-page-panel-inner > .aui-page-panel-nav",mainContentCssSelector:".aui-page-panel > .aui-page-panel-inner > .aui-page-panel-content"},o=function(o){var r=n(t[o]);return r.size()?e.log("This page is using a deprecated page layout markup pattern. It should be updated to use AUI page layout."):r=n(a[o]),r},r=JIRA&&JIRA.Page;return n.extend({},r,t,a,{relatedContentElement:function(){return o("relatedContentCssSelector")},mainContentElement:function(){return o("mainContentCssSelector")}})}),AJS.namespace("JIRA.Page",null,require("jira/common/page"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initGenericDialogs.js' */
define("jira/dialog/init-generic-dialogs",["jira/dialog/dialog-register","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery","exports"],function(i,e,t,a,o,r){r.init=function(){i.keyboardShortcuts=new t({id:"keyboard-shortcuts-dialog",trigger:"#keyshortscuthelp",widthClass:"large",onContentRefresh:function(){var i=this.get$popupContent();o("a.submit-link",i).click(function(e){e.preventDefault(),o("form",i).submit()})},onSuccessfulSubmit:function(){a.areKeyboardShortcutsDisabled()?a.enable():a.disable()}}),i.deleteIssueLink=new t({type:"ajax",id:"delete-issue-link-dialog",trigger:"#linkingmodule .delete-link > a",ajaxOptions:e.getDefaultAjaxOptions,isIssueDialog:!0}),new t({id:"credits-dialog",trigger:"#view_credits",widthClass:"creditsContainer",onContentRefresh:function(){!o("html").hasClass("safari")}}),new t({id:"about-dialog",trigger:"#view_about",ajaxOptions:{url:this.href,data:{decorator:"dialog",inline:"false"}},widthClass:"large"}),o(document).on("click","a.trigger-dialog",function(i){i.preventDefault();var e=void 0!==i.target&&o(i.target).hasClass("stacked-dialog"),a=new t({id:this.id+"-dialog",ajaxOptions:{url:this.href,data:{decorator:"dialog",inline:"false"}},stacked:e});a.show()})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initDashboardDialogs.js' */
define("jira/dialog/init-dashboard-dialogs",["jira/dialog/dialog-register","jira/dialog/form-dialog","jquery","exports"],function(e,a,t,d){d.init=function(){document.getElementById("dashboard")&&(e.deleteDashboard=new a({type:"ajax"}),t(document).delegate("#delete_dashboard","click",function(a){a.stopPropagation(),a.preventDefault(),e.deleteDashboard.$activeTrigger=t("#delete_dashboard"),e.deleteDashboard.init({type:"ajax",id:"delete-dshboard",ajaxOptions:{url:e.deleteDashboard.$activeTrigger.attr("href")},targetUrl:"input[name=targetUrl]"}),e.deleteDashboard.show()}))}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initNonDashboardDialogs.js' */
define("jira/dialog/init-non-dashboard-dialogs",["jira/dialog/dialog-register","jira/dialog/dialog-factory","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/dialog/labels-dialog","jira/dialog/screenshot-window","jira/issuenavigator/issue-navigator","jquery","exports"],function(e,s,t,i,a,o,u,l,n){n.init=function(){function n(e){var s=e.$activeTrigger,t=s.closest(".labels-wrap"),i=0!==s.parents("#view-subtasks").length;return i?t=s.parents("tr").find(".labels-wrap"):s.hasClass("issueaction-edit-labels")&&(t=l(u.isNavigator()?"#issuetable tr.issuerow.focused td.labels .labels-wrap":"#wrap-labels .labels-wrap")),t.length>0&&t}document.getElementById("dashboard")||(e.linkIssue=s.createLinkIssueDialog("a.issueaction-link-issue"),e.deleteIssue=new i({id:"delete-issue-dialog",trigger:"a.issueaction-delete-issue",targetUrl:"#delete-issue-return-url",ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_deleted",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0}),e.cloneIssue=new i({id:"clone-issue-dialog",trigger:"a.issueaction-clone-issue",handleRedirect:!0,ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_cloned",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0}),e.assignIssue=new i({id:"assign-dialog",trigger:"a.issueaction-assign-issue",ajaxOptions:t.getPostRequestAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_assigned",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0,widthClass:"large"}),e.assignIssueToMe=new i({id:"assign-dialog",trigger:"a.issueaction-assign-to-me",ajaxOptions:t.getPostRequestAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_assigned",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0}),e.logWork=new i({id:"log-work-dialog",trigger:"a.issueaction-log-work",handleRedirect:!0,ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_worklogged",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0,widthClass:"large"}),e.attachFile=new i({id:"attach-file-dialog",trigger:"a.issueaction-attach-file",handleRedirect:!0,ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_attached",isIssueDialog:!0,widthClass:"large"}),e.attachScreenshot=new o({id:"attach-screenshot-window",trigger:"a.issueaction-attach-screenshot"}),e.manageAttachment=new i({id:"manage-attachment-dialog",trigger:"#manage-attachment-link",stacked:!0,reloadOnPop:!0,isIssueDialog:!0,widthClass:"large"}),e.comment=new i({id:"comment-add-dialog",trigger:"a.issueaction-comment-issue:not(.inline-comment)",handleRedirect:!0,ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_commented",isIssueDialog:!0,widthClass:"large"}).dirtyFormWarning(),e.editLabels=new a({id:"edit-labels-dialog",trigger:"a.issueaction-edit-labels,a.edit-labels",autoClose:!0,ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_labelled",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,labelsProvider:n,isIssueDialog:!0}),e.editComment=new i({type:"ajax",id:"edit-comment",trigger:".action-links .edit-comment",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0,widthClass:"large",analyticsComponent:"viewissue.comment",analyticsAction:"edit"}).dirtyFormWarning(),e.editLogWork=new i({id:"edit-log-work-dialog",trigger:".action-links .edit-worklog-trigger",isIssueDialog:!0,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,widthClass:"large"}),e.deleteLogWork=new i({id:"delete-log-work-dialog",trigger:".action-links .delete-worklog-trigger",isIssueDialog:!0,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,widthClass:"large"}),e.deleteComment=new i({type:"ajax",id:"delete-comment-dialog",trigger:".action-links [id^='delete_comment']",delayShowUntil:t.BeforeShowIssueDialogHandler.execute,isIssueDialog:!0,widthClass:"large",analyticsComponent:"viewissue.comment",analyticsAction:"delete"}).dirtyFormWarning(),e.watchIssue=new i({ajaxOptions:t.getPostRequestAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-watch-issue:not([id='toggle-watch-issue'])",isIssueDialog:!0}),e.stopWatchingIssue=new i({ajaxOptions:t.getPostRequestAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-unwatch-issue:not([id='toggle-watch-issue'])",isIssueDialog:!0}),e.addVoteForIssue=new i({ajaxOptions:t.getPostRequestAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-vote-issue:not([id='toggle-vote-issue'])",isIssueDialog:!0}),e.removeVoteForIssue=new i({ajaxOptions:t.getPostRequestAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-unvote-issue:not([id='toggle-vote-issue'])",isIssueDialog:!0}),new i({type:"ajax",id:"delete-attachment-dialog",trigger:"#attachmentmodule .attachment-delete a, #issue-attachments-table a.delete",isIssueDialog:!0}))}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initWorkflowTransitionDialogs.js' */
define("jira/dialog/init-workflow-transition-dialogs",["jira/dialog/dialog-register","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/issuenavigator/issue-navigator","aui/tabs","jquery","exports","jira/libs/parse-uri"],function(i,t,a,e,o,s,r,n){var l="a.issueaction-workflow-transition";r.init=function(){s(document).delegate(l,"click",function(e){e.preventDefault();var r=s(e.target).closest(l),u=n(r.attr("href")).queryKey.action;if(u){var g="workflow-transition-"+u+"-dialog",f=s(this);i[g]||(i[g]=new a({id:g,trigger:['a[href*="action='+u+'&"].issueaction-workflow-transition','a[href$="action='+u+'"].issueaction-workflow-transition'],widthClass:"large",handleRedirect:!0,ajaxOptions:t.getDefaultAjaxOptions,onSuccessfulSubmit:t.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:t.BeforeShowIssueDialogHandler.execute,issueMsg:"thanks_issue_transitioned",onContentRefresh:function(){o.setup()},isIssueDialog:!0}),i[g].$activeTrigger=f,i[g].show())}})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initDialogBehaviour.js' */
define("jira/dialog/init-dialog-behaviour",["jira/dialog/dialog-register","jira/dialog/dialog","jira/issue","jira/issuenavigator/issue-navigator","jquery","underscore","exports"],function(i,e,n,o,r,t,a){a.init=function(){r(window).resize(t.debounce(function(){e.current&&e.current._positionInCenter()},200)),r.each(i,function(i,a){a instanceof e&&t.result(a,"isIssueDialog")&&r(a).bind("beforeShow",function(){return o.isRowSelected()||!!n.getIssueId()})})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initDialogs.js' */
AJS.$(function(){require("jira/dialog/init-generic-dialogs").init(),require("jira/dialog/init-dashboard-dialogs").init(),require("jira/dialog/init-non-dashboard-dialogs").init(),require("jira/dialog/init-workflow-transition-dialogs").init(),require("jira/dialog/init-dialog-behaviour").init()});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/element/default-dropdown.js' */
define("jira/dropdown/element/default-dropdown",["jira/util/logger","jira/ajs/layer/layer-constants","jira/ajs/dropdown/dropdown","jira/skate","jquery"],function(t,n,a,o,e){return o("js-default-dropdown",{type:o.type.CLASSNAME,created:function(t){},attached:function(o){var r=e(o),d=r.next(".aui-list"),i=r.attr("data-alignment")||n.RIGHT,l=!!r.data("hasDropdown");0===d.length&&t.warn("Dropdown init failed. Could not find content. Printing culprit...",o),l||(r.data("hasDropdown",!0),new a({trigger:r,content:d,alignment:i,setMaxHeightToWindow:r.attr("data-contain-to-window"),hideOnScroll:r.attr("data-hide-on-scroll")||".issue-container"}))}})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/element/issue-actions-trigger.js' */
define("jira/dropdown/element/issue-actions-trigger",["jira/fragments/issueActionsFragment","jira/ajs/dropdown/dropdown","jira/skate","jquery","jira/featureflags/feature-manager"],function(e,n,a,r,s){function o(){var e={};return JIRA.Issues&&JIRA.Issues.Api&&(e.ajaxOptions={},e.ajaxOptions.formatError=JIRA.Issues.Api.showInlineIssueLoadError),e}var t=e;return a("issue-actions-trigger",{type:a.type.CLASSNAME,attached:function(e){var a=r(e),i={hideOnScroll:".issue-container",trigger:a,shouldRenderToParent:s.isFeatureEnabled("endeavour_announce_options_on_issue_table_gadgets"),shouldFocusOptionLinks:s.isFeatureEnabled("endeavour_announce_options_on_issue_table_gadgets"),ajaxOptions:{dataType:"json",cache:!1,formatSuccess:t},onerror:function(e){e.layerController.initialized=!0,e.hide()}};i=r.extend(!0,i,o()),new n(i),a.addClass("trigger-happy")}})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/DropdownFactory.js' */
define("jira/dropdown/dropdown-factory",["jira/ajs/layer/layer-constants","jira/ajs/dropdown/dropdown","jquery","exports"],function(n,d,o,i){i.bindGenericDropdowns=o.noop,i.bindIssueActionsDds=o.noop,i.bindNavigatorOptionsDds=function(){var i=o("#navigator-options");d.create({trigger:i.find(".aui-dd-link"),content:i.find(".aui-list"),alignment:n.RIGHT}),i.find("a.aui-dd-link").linkedMenu()},i.bindConfigDashboardDds=function(){o("#dashboard").find(".aui-dd-parent").dropDown("Standard",{trigger:"a.aui-dd-link"})}}),AJS.namespace("JIRA.Dropdowns",null,require("jira/dropdown/dropdown-factory"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/initDropdowns.js' */
require(["jira/dropdown/element/default-dropdown","jira/dropdown/element/issue-actions-trigger","jira/dropdown/dropdown-factory","jquery"],function(o,d,n,r){r(function(){n.bindNavigatorOptionsDds(),n.bindConfigDashboardDds()})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/togglefield/toggleField.js' */
!function(e){e.fn.toggleField=function(n){var t=this,n=e(n),r=function(){return n.prop("disabled",function(){return t.prop("checked")===!1?(t.parent().addClass("disabled"),!0):(t.parent().removeClass("disabled"),!1)}()),arguments.callee}();return e(document[this.attr("name")]).click(r).change(r),this}}(jQuery);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/character-map.js' */
define("jira/util/strings/character-map",function(){var a={};return a[199]="C",a[231]="c",a[252]="u",a[251]="u",a[250]="u",a[249]="u",a[233]="e",a[234]="e",a[235]="e",a[232]="e",a[226]="a",a[228]="a",a[224]="a",a[229]="a",a[225]="a",a[239]="i",a[238]="i",a[236]="i",a[237]="i",a[196]="A",a[197]="A",a[201]="E",a[230]="ae",a[198]="Ae",a[244]="o",a[246]="o",a[242]="o",a[243]="o",a[220]="U",a[255]="Y",a[214]="O",a[241]="n",a[209]="N",a});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/ProjectKeyGenerator.js' */
define("jira/project/project-key-generator",["jira/util/strings/character-map","jira/lib/class","jquery","underscore"],function(e,t,n,r){function i(e){return e.join("").length}function h(e){return r.reject(e,function(e){return n.inArray(e,g)!==-1})}function s(e){var t="";return n.each(e,function(e,n){t+=n.charAt(0)}),t}function a(e){var t,n=!1;for(t=0;t<e.length;t++)if(u(e[t]))n=!0;else if(n)return e.substring(0,t+1);return e}function u(e){return e&&1===e.length&&e.search("[AEIOUY]")!==-1}var g=["THE","A","AN","AS","AND","OF","OR"];return t.extend({init:function(e){e=n.extend({},e),this.desiredKeyLength="number"==typeof e.desiredKeyLength?e.desiredKeyLength:4,this.maxKeyLength="number"==typeof e.maxKeyLength?e.maxKeyLength:0},generateKey:function(t){if(t=n.trim(t),!t)return"";for(var r=[],u=0,g=t.length;u<g;u++){var c=e[t.charCodeAt(u)];r.push(c?c:t[u])}t=r.join("");var o=[];n.each(t.split(/\s+/),function(e,t){t&&(t=t.replace(/[^a-zA-Z]/g,""),t=t.toUpperCase(),t.length&&o.push(t))}),this.desiredKeyLength&&i(o)>this.desiredKeyLength&&(o=h(o));var f;if(0===o.length)f="";else if(1===o.length){var d=o[0];f=this.desiredKeyLength&&d.length>this.desiredKeyLength?a(d):d}else f=s(o);return this.maxKeyLength&&f.length>this.maxKeyLength&&(f=f.substr(0,this.maxKeyLength)),f}})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/namespace.js' */
AJS.namespace("JIRA.ProjectKeyGenerator",null,require("jira/project/project-key-generator"));;
;
/* module-key = 'jira.webresources:jira-global', location = 'includes/jira/project/templates/projectSample.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.CreateProject&&(JIRA.Templates.CreateProject={}),JIRA.Templates.CreateProject.projectSample=function(e,a){return e=e||{},'<div class="aui-message hint sample-project-container"><span class="aui-icon icon-hint"></span><p class="title">'+soy.$$escapeHtml("Project preview")+"</p><p>"+soy.$$escapeHtml("With the values you\'ve set, an issue in your project might look like this:")+'</p><div class="aui-panel sample-project"><div class="item-header"><div class="avatar"><img id="project-avatar" alt="" class="project-avatar-48" height="48" src="'+soy.$$escapeHtml(e.avatarUrl)+'" width="48"/></div><ul class="breadcrumbs"><li><a id="project-name-val">'+soy.$$escapeHtml(e.projectName)+'</a></li><li><a id="key-val">'+soy.$$escapeHtml(e.projectKey)+'</a></li></ul><h1 class="item-summary"><a>'+(e.issueTitle?soy.$$escapeHtml(e.issueTitle):soy.$$escapeHtml("Example"))+'</a></h1><div class="command-bar"></div></div></div></div>'};;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/templates/create-project-template-wrapper.js' */
define("jira/field/create-project/templates",[],function(){"use strict";return window.JIRA.Templates.CreateProject});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/ProjectSample.js' */
define("jira/project/project-sample",["jira/lib/class","jquery","jira/field/create-project/templates"],function(e,t,a){return e.extend({init:function(e){this.defaultName="My Project",this.defaultKey="MP",this.defaultAvatarSrc="",this.nameValue="",this.keyValue="",this.avatarSrc="",this.$container=e.element,this.$container.html(a.projectSample({projectName:this.defaultName,projectKey:this.defaultKey,issueName:e.issueName})),this.$sampleElement=this.$container.find(".sample-project"),this.$sampleElementName=this.$sampleElement.find("#project-name-val"),this.$sampleElementKey=this.$sampleElement.find("#key-val"),this.$sampleElementAvatar=this.$sampleElement.find("#project-avatar"),this.events=e.events,this.events.bind("updated.Name",t.proxy(function(){this.updateSampleName(arguments[1])},this)),this.events.bind("updated.Key",t.proxy(function(){this.updateSampleKey(arguments[1])},this)),this.events.bind("updated.Avatar",t.proxy(function(){this.updateSampleAvatar(arguments[1])},this))},_render:function(){var e=this.nameValue||this.defaultName,t=this.keyValue||this.defaultKey,a=this.avatarSrc||this.defaultAvatarSrc;t=(t||"")+"-1",t=t.toUpperCase(),this.$sampleElementName.text(e),this.$sampleElementKey.text(t),this.$sampleElementAvatar.attr("src",a)},updateSampleName:function(e){this.nameValue=t.trim(e),this._render()},updateSampleKey:function(e){this.keyValue=t.trim(e),this._render()},updateSampleAvatar:function(e){this.avatarSrc=e,this._render()}})}),AJS.namespace("JIRA.ProjectSample",null,require("jira/project/project-sample"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/CreateProjectField.js' */
define("jira/field/create-project-field",["jira/util/formatter","jira/lib/class","jira/ajs/dark-features","jira/project/project-key-generator","jira/project/project-sample","aui/inline-dialog","jquery","jira/field/create-project/templates","wrm/context-path"],function(e,t,i,n,a,r,s,o,l){return t.extend({TIMEOUT_MS:100,projectNames:[],maxNameLength:80,init:function(e){this.$element=e.element,this.$nameElement=this.$element.find("input.text[name='name']"),this.$keyElement=this.$element.find("input.text[name='key']"),this.$keyEditedElement=this.$element.find("input[name='keyEdited']"),this.$avatarElement=this.$element.find(".jira-inline-avatar-picker-trigger"),this.eventBus={src:s(this),trigger:function(e,t){this.src.trigger(e,t)},bind:function(e,t){this.src.bind(e,t)}};var t=+this.$keyElement.attr("maxlength");t||(t=10),this.keygen=new n({desiredKeyLength:4,maxKeyLength:t}),this.lastKeyValidated="",i.isEnabled("addproject.project.sample")&&(this.sample=new a({element:this.$element.find("#sample-project-container"),events:this.eventBus})),this.$keyElement.attr("style","text-transform: uppercase"),this.initialName=this.$nameElement.val(),this.initialKey=this.$keyElement.val(),this.$element.find(".error").addClass("description initial-error"),this.showInitialError(this.$nameElement),this.showInitialError(this.$keyElement),this.$nameElement.focus(s.proxy(this._bindNameHook,this)),this.$nameElement.blur(s.proxy(this._unbindHook,this)),this.$keyElement.focus(s.proxy(this._bindKeyHook,this)),this.$keyElement.blur(s.proxy(this._unbindHook,this)),this.$keyElement.blur(s.proxy(this.autofillKeyIfNeeded,this));var l=this.$keyElement.parent().find("#add-project-key-icon").removeAttr("target data-helplink");l.length&&new r(l,"project-key-help-popup",function(e,t,i){e.html(o.keyHelp()),i()},{width:330,offsetX:-30}),this.$avatarElement.size()&&(this.eventBus.trigger("updated.Avatar",this.$avatarElement.attr("src")),this.$avatarElement.bind("AvatarSelected",s.proxy(function(){this.eventBus.trigger("updated.Avatar",this.$avatarElement.attr("src"))},this))),this._loadExistingProjects()},_loadExistingProjects:function(){var e=this;s.ajax({url:l()+"/rest/api/latest/project",success:function(t){t=t||[];for(var i=0,n=t.length;i<n;i++)e.projectNames.push(t[i].name.toUpperCase())}})},_bindNameHook:function(e){this._bindHook(e,this.onNameTimeout)},_bindKeyHook:function(e){var t=s(e.target);t.data("lastValue",t.val()),this._bindHook(e,this.onKeyTimeout)},_bindHook:function(e,t){var i,n=this,a=s(e.target);i=function(){n._unbindHook(e),t.apply(n),a.is(":visible")&&a.data("checkHook",setTimeout(i,n.TIMEOUT_MS))},a.data("checkHook")||a.data("checkHook",setTimeout(i,0))},_unbindHook:function(e){var t=s(e.target);clearTimeout(t.data("checkHook")),t.removeData("checkHook")},shouldUpdateKey:function(){return"true"!=this.$keyEditedElement.val()},setKeyEdited:function(e){this.$keyElement.data("lastValue")!==e&&this.$keyEditedElement.val(e?"true":"false"),this.$keyElement.data("lastValue",e)},updateKey:function(e){this.$keyElement.val(e),this.validateKey(e),this.eventBus.trigger("updated.Key",e)},autofillKeyIfNeeded:function(){if(this.shouldUpdateKey()){var e=this.keygen.generateKey(this.$nameElement.val());e.length>1?this.updateKey(e):this.$keyElement.val("")}},onNameTimeout:function(){var e=this.$nameElement.val();this.validateName(e),this.eventBus.trigger("updated.Name",e),this.autofillKeyIfNeeded()},onKeyTimeout:function(){var e=this.$keyElement.val();this.setKeyEdited(e),this.validateKey(e),this.eventBus.trigger("updated.Key",e)},validateName:function(t){if(t!=this.initialName||!this.$nameElement.parent().find(".error").size()){if(t.length>this.maxNameLength)return void this.showInlineError(this.$nameElement,this.initialName,e.format("The project name must not exceed {0} characters in length.",this.maxNameLength));for(var i=0,n=this.projectNames.length;i<n;i++)if(t.toUpperCase()==this.projectNames[i])return void this.showInlineError(this.$nameElement,this.initialName,"A project with that name already exists.");this.hideInlineError(this.$nameElement)}},validateKey:function(e){var t=this,i=t.lastKeyValidated!==e;this.lastKeyValidated=e,i&&(e?s.ajax({url:l()+"/rest/api/latest/projectvalidate/key?key="+e.toUpperCase(),success:function(e){e.errors&&e.errors.projectKey?t.showInlineError(t.$keyElement,t.initialKey,e.errors.projectKey):t.hideInlineError(t.$keyElement)}}):t.hideInlineError(t.$keyElement))},showInlineError:function(e,t,i){var n=e.parent().find(".initial-error");if(e.val()===t&&n.length)this.showInitialError(e);else{var a=e.parent().find(".error.description");a.length||(a=s("<div class='error description'></div>"),e.parent().append(a)),a.text(i),e.parent().find(".description").hide(),n.hide(),a.show()}},hideInlineError:function(e){e.parent().find(".description").show(),e.parent().find(".error.description").hide()},showInitialError:function(e){var t=e.parent().find(".initial-error");t.length&&(e.parent().find(".description").hide(),e.parent().find(".error.description").hide(),t.show())}})}),AJS.namespace("JIRA.CreateProjectField",null,require("jira/field/create-project-field"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/initCreateProjectField.js' */
define("jira/field/init-create-project-field",["jira/field/create-project-field","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,t,n,r){i.bind(t.NEW_CONTENT_ADDED,function(i,t,a){a!==n.panelRefreshed&&t.find("#add-project-fields").each(function(){new e({element:r(this)})})})});;
;
/* module-key = 'jira.webresources:jira-global', location = 'includes/jira/field/templates/createProject.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.CreateProject&&(JIRA.Templates.CreateProject={}),JIRA.Templates.CreateProject.keyHelp=function(e,t){return'<div class="project-key-help"><p><b>'+soy.$$escapeHtml("What\'s a project key?")+"</b></p><ul><li>"+soy.$$escapeHtml("It prefixes each issue in the project")+"</li><li>"+soy.$$escapeHtml("It can be changed, but this is not a trivial task")+"</li></ul></div>"};;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/init/init-create-project-field-webresource.js' */
require("jira/field/init-create-project-field");;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/jquery/plugins/keyevents/keyevents.js' */
!function(e){function t(t,n,r){function i(t){var i=n(t);if(i){var c=new e.Event(r);c.key=i,"aui:keypress"!==r&&(c.shiftKey=t.shiftKey,c.ctrlKey=t.ctrlKey,c.altKey=t.altKey);var u=t.target,a=9===u.nodeType?u:u.ownerDocument;a!==document?(c.target=u,arguments[0]=c,e.event.trigger(c,arguments,document,!0)):e(u).trigger(c),c.isDefaultPrevented()&&t.preventDefault()}}var c=0;e.event.special[r]={setup:function(){0===c&&e(document).bind(t,i),c++},teardown:function(){c--,0===c&&e(document).unbind(t,i)}}}var n={8:"Backspace",9:"Tab",13:"Return",16:"Shift",17:"Control",18:"Alt",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",46:"Del"},r={16:"Shift",17:"Control",18:"Alt"},i=0;t("keydown",function(e){if(e.which in r){if(e.which===i)return null;i=e.which}else i=0;return n[e.which]||null},"aui:keydown"),t("keypress",function(e){var t=e.altKey&&e.ctrlKey;switch(i=0,e.which){case 0:case 8:case 9:case 27:break;default:if(t||!e.ctrlKey&&!e.metaKey)return String.fromCharCode(e.which)}return null},"aui:keypress"),t("keyup",function(e){return e.which===i&&(i=0),n[e.which]||null},"aui:keyup")}(jQuery);;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/jquery/plugins/shortcuts/shortcuts.js' */
!function(t){function n(t){h&&r(),h=16!==t.which}function e(n){var e=t(n.target).prop("contenteditable");if(t(n.target).is(":input:not(button[type=button])")||"true"===e||""===e)return void r();a.push(n.key),clearTimeout(c),c=setTimeout(r,2e3),a.length>d&&a.shift();for(var o=a.join(""),i=0;i<o.length;i++){var s=o.slice(i);if(s in u){n.preventDefault(),n=new t.Event("shortcut"),n.data=s,u[s].call(document,n),a.length=0;break}}h=!1}function o(){h&&r()}function r(){a.length=0}function i(t,n){var e=t.length,o=n.length;if(e===o)return t===n;var r,i;return e<o?(r=n.indexOf(t),i=o-e):(r=t.indexOf(n),i=e-o),r>=0&&r<i}var u={},a=[],d=0,c=0,h=!1,s=t(document);t.event.special.shortcut={setup:function(){s.bind("keydown",n),s.bind("aui:keypress",e),s.bind("keyup",o)},teardown:function(){s.unbind("keydown",n),s.unbind("aui:keypress",e),s.unbind("keyup",o)},add:function(t){if(this!==document)throw new TypeError('"shortcut" event handlers must be bound at the document');if(void 0===t.data)throw new Error('No data argument supplied in call to jQuery.fn.bind("shortcut", '+(t.handler.name||"function")+")");if("string"!=typeof t.data)throw new TypeError("Object "+t.data+" is not a string");if(0===t.data.length)throw new Error("Shortcut sequence must not be empty");for(var n in u)if(i(n,t.data))return void console.log('Cannot bind new shortcut "'+t.data+'" due to conflict with existing shortcut "'+n+'"');t.data.length>d&&(d=t.data.length),u[t.data]=t.handler},remove:function(t){if(this!==document)throw new TypeError('"shortcut" event handlers must be bound at the document');delete u[t.data]}}}(jQuery);;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/ajs/keyboardshortcut/KeyboardShortcuts.js' */
define("jira/ajs/keyboardshortcut/keyboard-shortcut",["jira/util/formatter","aui/inline-dialog","wrm/context-path","jquery","underscore"],function(t,e,o,r,n){var i=o(),c=function(t,e){this._executer=null,this.shortcuts=[t],this._bindShortcut(t,e)};return c.prototype._bindShortcut=function(t,o){if("string"!=typeof t)throw new TypeError("KeyboardShortcut expects string; received "+typeof t);if(/^(?:ctrl|alt|shift|meta)+/i.test(t))throw new SyntaxError('KeyboardShortcut cannot bind the shortcut "'+t+'" because it uses a modifier');var n=this;r(document).bind("shortcut",t,function(r){n._executer&&!n._ignoreShortcut(r,t,o)&&(e.current&&e.current.hide(),n._executer(r),r.preventDefault())})},c.prototype._ignoreShortcut=function(t,e,o){var r=!1;return n.each(c._ignoreConditions,function(n){n(t,e,o)&&(r=!0)}),r},c.prototype._addShortcutTitle=function(e){var o=r(e),n=o.attr("title")||"",i="Type",c="then",u="OR",s=r.map(this.shortcuts,function(t){return" '"+t.split("").join("' "+c+" '")+"'"});n+=" ( "+i+s.join(" "+u+" ")+" )",o.attr("title",n)},c.prototype.moveToNextItem=function(t){this._executer=function(){var e,o=r(t),n=r(t+".focused");this._executer.blurHandler||r(document).one("keypress",function(t){27===t.keyCode&&n&&n.removeClass("focused")}),0===n.length?n=r(t).eq(0):(n.removeClass("focused"),e=r.inArray(n.get(0),o),e<o.length-1?(e+=1,n=o.eq(e)):(n.removeClass("focused"),n=r(t).eq(0))),n&&n.length>0&&(n.addClass("focused"),n.scrollIntoView(),n.find("a:first").focus())}},c.prototype.moveToPrevItem=function(t){this._executer=function(){var e,o=r(t),n=r(t+".focused");this._executer.blurHandler||r(document).one("keypress",function(t){27===t.keyCode&&n&&n.removeClass("focused")}),0===n.length?n=r(t+":last"):(n.removeClass("focused"),e=r.inArray(n.get(0),o),e>0?(e-=1,n=o.eq(e)):(n.removeClass("focused"),n=r(t+":last"))),n&&n.length>0&&(n.addClass("focused"),n.scrollIntoView(),n.find("a:first").focus())}},c.prototype.click=function(t){this._addShortcutTitle(t),this._executer=function(){var e=r(t).eq(0);e.length>0&&e.click()}},c.prototype.goTo=function(t){this._executer=function(){window.location.href=i+t}},c.prototype.followLink=function(t){this._addShortcutTitle(t),this._executer=function(){var e=r(t).eq(0);e.length>0&&("a"===e.prop("nodeName").toLowerCase()||"link"===e.prop("nodeName").toLowerCase())&&(e.click(),window.location.href=e.attr("href"))}},c.prototype.moveToAndClick=function(t){this._addShortcutTitle(t),this._executer=function(){var e=r(t).eq(0);e.length>0&&(e.click(),e.scrollIntoView())}},c.prototype.moveToAndFocus=function(t){this._addShortcutTitle(t),this._executer=function(e){var o=r(t).eq(0);o.length>0&&(o.focus(),o.scrollIntoView(),o.is(":input")&&e.preventDefault())}},c.prototype.evaluate=function(t){"function"!=typeof t&&(t=new Function(t)),t.call(this)},c.prototype.execute=function(t){var e=this;this._executer=function(){"function"!=typeof t&&(t=new Function(t)),t.call(e)}},c.prototype.or=function(t){return this.shortcuts.push(t),this._bindShortcut(t),this},c._ignoreConditions=[],c._shortcuts=[],c.addIgnoreCondition=function(t){c._ignoreConditions.push(t)},c.getKeyboardShortcutKeys=function(t){for(var e in c._shortcuts){var o=c._shortcuts[e];if(o.moduleKey===t)return o.keys.toString()}return null},c.fromJSON=function(t){var e;return t&&(c._shortcuts=t,e={},n.each(t,function(t){t.keys.forEach(function(o){var r=o.join("");if(o.length<r.length)throw new Error("Shortcut sequence ["+o.join(",")+"] contains invalid keys");var n=e[r]=new c(r,t.context);n[t.op](t.param)})})),e},c}),AJS.namespace("AJS.KeyboardShortcut",null,require("jira/ajs/keyboardshortcut/keyboard-shortcut"));;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/ajs/keyboardshortcut/initKeyboardShortcuts.js' */
!function(){var r=require("jira/ajs/keyboardshortcut/keyboard-shortcut"),e=require("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"),t=require("jira/util/data/meta"),u=require("jira/dialog/dialog"),a=require("aui/dropdown"),o=require("aui/popup"),i=require("jquery"),n=require("wrm/data");r.addIgnoreCondition(function(){return o.current||a.current||u.current||e.areKeyboardShortcutsDisabled()}),i(function(){t.get("keyboard-shortcuts-enabled")?e.enable():e.disable();var u=n.claim("jira.webresources:key-commands.shortcuts");u&&(AJS.activeShortcuts=r.fromJSON(u),i(document).bind("aui:keyup",function(r){var e,t;"Esc"===r.key&&(e=i(r.target),e.is(":input:not(button[type='button'])")&&(t=new i.Event("beforeBlurInput"),e.trigger(t,[{reason:"escPressed"}]),t.isDefaultPrevented()||e.blur()))}))})}();;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/ajs/whenitype/whenIType.js' */
!function(r){AJS.whenIType=function(e,n){return new r(e,n)},AJS.whenIType.fromJSON=r.fromJSON}(require("jira/ajs/keyboardshortcut/keyboard-shortcut"));;
;
/* module-key = 'com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources', location = 'atlassian-admin-quicksearch-jira-module/com/atlassian/administration/quicksearch/jira/js/adminQuickNav.js' */
/**
 * Shifter group for admin search
 */
require([
    'jquery',
    'underscore',
    'jira/ajs/ajax/smart-ajax',
    'jira/shifter',
    'wrm/context-path'
], function (jQuery,
             _,
             SmartAjax,
             Shifter,
             contextPath) {
    Shifter.register(function () {
        var suggestionsDeferred = jQuery.Deferred();

        function formatItem(item) {
            return {
                label: item.label,
                value: item.linkUrl,
                keywords: item.aliases
            };
        }

        function formatResponseSPA(data) {
            // In SPA underscore is replaced by Lodash that has .flatMap instead of .flatten
            var flatMap = _.flatMap
                ? _.flatMap
                : function(collection, fn) {
                    return _.flatten(_.map(collection, fn));
                }

            function getItems(section) {
                return _.map(section.items, formatItem).concat(flatMap(section.sections, getItems));
            }

            return getItems(data)
        }

        SmartAjax.makeRequest({
            dataType: 'json',
            url: contextPath() + '/rest/adminquicksearch/latest/links/default'
        })
            .pipe(formatResponseSPA)
            .done(function (suggestions) {
                suggestionsDeferred.resolve(suggestions);
            })
            .fail(function () {
                suggestionsDeferred.reject();
            });

        return {
            id: 'admin',
            name: "Administration Search",
            weight: 500,
            getSuggestions: function () {
                return suggestionsDeferred;
            },
            onSelection: function (value) {
                var ContainerApi;
                var nativeNavigate = function() {
                    window.location = value;
                };

                try {
                    ContainerApi = require('jira/container-api');
                } catch (e) {
                    nativeNavigate();
                }

                ContainerApi && ContainerApi.navigate(value, nativeNavigate);

                return jQuery.Deferred();
            }
        };
    });
});
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devsummarycf-resources-init', location = 'jira-development-integration-plugin/js/customfields/devsummary/dev-summary-custom-field-init.js' */
"use strict";require(["jira/skate","jquery"],function(e,t){var i="wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:devsummarycf-resources";e("fusion-devsummary-cf",{type:e.type.CLASS,created:function(e){WRM.require([i],function(){var i=require("jira-development-status/customfields/dev-summary-custom-field-column-view"),r=require("jira-development-status/component/tooltip"),o=t(e);new i({el:o}),r.tipsify({selector:".fusion-widget-tooltip",context:o,html:!0})})}})});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:import-issues', location = 'jira-quick-edit-plugin/js/form/import-issues/import-issues.js' */
define("quick-edit/form/import-issues",["jira/container-api"],function(t){"use strict";var e=function(){},i=AJS.contextPath();return e.setForm=function(t){this.form=t},e.bindImportIssueUrl=function(){var n=e.getImportIssue();n.click(function(){var e="/secure/BulkCreateSetupPage!default.jspa?externalSystem=com.atlassian.jira.plugins.jim-plugin:bulkCreateCsv";t.navigate(e,function(){window.location=i+e},{replace:!1})})},e.getImportIssue=function(){return this.form.$element.find("#import-issues")},e});;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar.js' */
Calendar=function(e,t,a,n,r){if(this.activeDiv=null,this.currentDateEl=null,this.getDateStatus=null,this.getDateToolTip=null,this.getDateText=null,this.timeout=null,this.onSelected=n||null,this.onClose=r||null,this.dragging=!1,this.hidden=!1,this.minYear=1970,this.maxYear=2050,this.dateFormat=Calendar._TT.DEF_DATE_FORMAT,this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT,this.isPopup=!0,this.weekNumbers=!0,this.firstDayOfWeek="number"==typeof e?e:Calendar._FD,this.showsOtherMonths=!1,this.dateStr=t,this.todayDateStr=a,this.ar_days=null,this.showsTime=!1,this.time24=!0,this.yearStep=2,this.hiliteToday=!0,this.multiple=null,this.table=null,this.element=null,this.tbody=null,this.firstdayname=null,this.monthsCombo=null,this.yearsCombo=null,this.hilitedMonth=null,this.activeMonth=null,this.hilitedYear=null,this.activeYear=null,this.dateClicked=!1,"undefined"==typeof Calendar._SDN){"undefined"==typeof Calendar._SDN_len&&(Calendar._SDN_len=3);for(var l=new Array,i=8;i>0;)l[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);Calendar._SDN=l,"undefined"==typeof Calendar._SMN_len&&(Calendar._SMN_len=3),l=new Array;for(var i=12;i>0;)l[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);Calendar._SMN=l}},Calendar._C=null,Calendar.is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),Calendar.is_ie5=Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent),Calendar.is_ie6=Calendar.is_ie&&/msie 6\.0/i.test(navigator.userAgent),Calendar.is_opera=/opera/i.test(navigator.userAgent),Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent),Calendar.setFullYearAndFixFebruary=function(e,t){var a=require("jira/util/safe-logger"),n=new Date(e),r={from:n.getFullYear(),to:t,fixedFeb:!1};n.setFullYear(t),n.getMonth()!==e.getMonth()&&(r.fixedFeb=!0,e.setDate(28)),e.setFullYear(t),a.safeInfo("jscalendar","Setting full year",r)},Calendar.getAbsolutePos=function(e){var t=jQuery(e).offset();return t.x=t.left,t.y=t.top,t},Calendar.isRelated=function(e,t){var a=t.relatedTarget;if(!a){var n=t.type;"mouseover"==n?a=t.fromElement:"mouseout"==n&&(a=t.toElement)}for(;a;){if(a==e)return!0;a=a.parentNode}return!1},Calendar.removeClass=function(e,t){if(e&&e.className){for(var a=e.className.split(" "),n=new Array,r=a.length;r>0;)a[--r]!=t&&(n[n.length]=a[r]);e.className=n.join(" ")}},Calendar.addClass=function(e,t){Calendar.removeClass(e,t),e.className+=" "+t},Calendar.getElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.currentTarget;1!=t.nodeType||/^div$/i.test(t.tagName);)t=t.parentNode;return t},Calendar.getTargetElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.target;1!=t.nodeType;)t=t.parentNode;return t},Calendar.stopEvent=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},Calendar.addEvent=function(e,t,a){e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener?e.addEventListener(t,a,!0):e["on"+t]=a},Calendar.removeEvent=function(e,t,a){e.detachEvent?e.detachEvent("on"+t,a):e.removeEventListener?e.removeEventListener(t,a,!0):e["on"+t]=null},Calendar.createElement=function(e,t){var a=null;return a=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e),"undefined"!=typeof t&&t.appendChild(a),a},Calendar._add_evs=function(e){Calendar.addEvent(e,"mouseover",Calendar.dayMouseOver),Calendar.addEvent(e,"mousedown",Calendar.dayMouseDown),Calendar.addEvent(e,"mouseout",Calendar.dayMouseOut),Calendar.is_ie&&(Calendar.addEvent(e,"dblclick",Calendar.dayMouseDblClick),e.setAttribute("unselectable",!0))},Calendar.findMonth=function(e){return"undefined"!=typeof e.month?e:"undefined"!=typeof e.parentNode.month?e.parentNode:null},Calendar.findYear=function(e){return"undefined"!=typeof e.year?e:"undefined"!=typeof e.parentNode.year?e.parentNode:null},Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e)return!1;var e=e,t=e.activeDiv,a=e.monthsCombo;e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite"),e.activeMonth&&Calendar.removeClass(e.activeMonth,"active");var n=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(n,"active"),e.activeMonth=n;var r=a.style;if(r.display="block",t.navtype<0)r.left=t.offsetLeft+"px";else{var l=a.offsetWidth;"undefined"==typeof l&&(l=50),r.left=t.offsetLeft+t.offsetWidth-l+"px"}r.top=t.offsetTop+t.offsetHeight+"px"},Calendar.showYearsCombo=function(e){var t=Calendar._C;if(!t)return!1;var t=t,a=t.activeDiv,n=t.yearsCombo;t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),t.activeYear&&Calendar.removeClass(t.activeYear,"active"),t.activeYear=null;for(var r=t.date.getFullYear()+(e?1:-1),l=n.firstChild,i=!1,s=12;s>0;--s)r>=t.minYear&&r<=t.maxYear?(l.innerHTML=r,l.year=r,l.style.display="block",i=!0):l.style.display="none",l=l.nextSibling,r+=e?t.yearStep:-t.yearStep;if(i){var d=n.style;if(d.display="block",a.navtype<0)d.left=a.offsetLeft+"px";else{var o=n.offsetWidth;"undefined"==typeof o&&(o=50),d.left=a.offsetLeft+a.offsetWidth-o+"px"}d.top=a.offsetTop+a.offsetHeight+"px"}},Calendar.tableMouseUp=function(e){var t=Calendar._C;if(!t)return!1;t.timeout&&clearTimeout(t.timeout);var a=t.activeDiv;if(!a)return!1;var n=Calendar.getTargetElement(e);e||(e=window.event),Calendar.removeClass(a,"active"),n!=a&&n.parentNode!=a||Calendar.cellClick(a,e);var r=Calendar.findMonth(n),l=null;if(r)l=new Date(t.date),r.month!=l.getMonth()&&(l.setMonth(r.month),t.setDate(l),t.dateClicked=!1,t.callHandler());else{var i=Calendar.findYear(n);i&&(l=new Date(t.date),i.year!=l.getFullYear()&&(Calendar.setFullYearAndFixFebruary(l,i.year),t.setDate(l),t.dateClicked=!1,t.callHandler()))}return Calendar.removeEvent(document,"mouseup",Calendar.tableMouseUp),Calendar.removeEvent(document,"mouseover",Calendar.tableMouseOver),Calendar.removeEvent(document,"mousemove",Calendar.tableMouseOver),t._hideCombos(),Calendar._C=null,Calendar.stopEvent(e)},Calendar.tableMouseOver=function(e){var t=Calendar._C;if(t){var a=t.activeDiv,n=Calendar.getTargetElement(e);if(n==a||n.parentNode==a?(Calendar.addClass(a,"hilite active"),Calendar.addClass(a.parentNode,"rowhilite")):(("undefined"==typeof a.navtype||50!=a.navtype&&(0==a.navtype||Math.abs(a.navtype)>2))&&Calendar.removeClass(a,"active"),Calendar.removeClass(a,"hilite"),Calendar.removeClass(a.parentNode,"rowhilite")),e||(e=window.event),50==a.navtype&&n!=a){var r,l=Calendar.getAbsolutePos(a),i=a.offsetWidth,s=e.clientX,d=!0;s>l.x+i?(r=s-l.x-i,d=!1):r=l.x-s,r<0&&(r=0);for(var o=a._range,u=a._current,h=Math.floor(r/10)%o.length,C=o.length;--C>=0&&o[C]!=u;);for(;h-- >0;)d?--C<0&&(C=o.length-1):++C>=o.length&&(C=0);var c=o[C];a.innerHTML=c,t.onUpdateTime()}var m=Calendar.findMonth(n);if(m)m.month!=t.date.getMonth()?(t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite"),Calendar.addClass(m,"hilite"),t.hilitedMonth=m):t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");else{t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");var p=Calendar.findYear(n);p&&p.year!=t.date.getFullYear()?(t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),Calendar.addClass(p,"hilite"),t.hilitedYear=p):t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite")}return Calendar.stopEvent(e)}},Calendar.tableMouseDown=function(e){if(Calendar.getTargetElement(e)==Calendar.getElement(e))return Calendar.stopEvent(e)},Calendar.calDragIt=function(e){var t=Calendar._C;if(!t||!t.dragging)return!1;var a,n;Calendar.is_ie?(n=window.event.clientY+document.body.scrollTop,a=window.event.clientX+document.body.scrollLeft):(a=e.pageX,n=e.pageY);var r=t.element.style;return r.left=a-t.xOffs+"px",r.top=n-t.yOffs+"px",Calendar.stopEvent(e)},Calendar.calDragEnd=function(e){var t=Calendar._C;return!!t&&(t.dragging=!1,Calendar.removeEvent(document,"mousemove",Calendar.calDragIt),Calendar.removeEvent(document,"mouseup",Calendar.calDragEnd),void Calendar.tableMouseUp(e))},Calendar.dayMouseDown=function(e){var t=Calendar.getElement(e);if(t.disabled)return!1;var a=t.calendar;return a.activeDiv=t,Calendar._C=a,300!=t.navtype?(50==t.navtype?(t._current=t.innerHTML,Calendar.addEvent(document,"mousemove",Calendar.tableMouseOver)):Calendar.addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",Calendar.tableMouseOver),Calendar.addClass(t,"hilite active"),Calendar.addEvent(document,"mouseup",Calendar.tableMouseUp)):a.isPopup&&a._dragStart(e),t.navtype==-1||1==t.navtype?(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout("Calendar.showMonthsCombo()",250)):t.navtype==-2||2==t.navtype?(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(t.navtype>0?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)):a.timeout=null,Calendar.stopEvent(e)},Calendar.dayMouseDblClick=function(e){Calendar.cellClick(Calendar.getElement(e),e||window.event),Calendar.is_ie&&document.selection.empty()},Calendar.dayMouseOver=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(t.ttip&&("_"==t.ttip.substr(0,1)&&(t.ttip=t.caldate.print(t.calendar.ttDateFormat)+t.ttip.substr(1)),t.calendar.tooltips.innerHTML=t.ttip),300!=t.navtype&&(Calendar.addClass(t,"hilite"),t.caldate&&Calendar.addClass(t.parentNode,"rowhilite")),Calendar.stopEvent(e))},Calendar.dayMouseOut=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(Calendar.removeClass(t,"hilite"),t.caldate&&Calendar.removeClass(t.parentNode,"rowhilite"),t.calendar&&(t.calendar.tooltips.innerHTML=Calendar._TT.SEL_DATE),Calendar.stopEvent(e))},Calendar.cellClick=function(e,t){function a(e){var t=i.getDate(),a=i.getMonthDays(e);t>a&&i.setDate(a),i.setMonth(e)}var n=e.calendar,r=!1,l=!1,i=null;if("undefined"==typeof e.navtype){n.currentDateEl&&(Calendar.removeClass(n.currentDateEl,"selected"),Calendar.addClass(e,"selected"),r=n.currentDateEl==e,r||(n.currentDateEl=e)),n.date.setDateOnly(e.caldate),i=n.date;var s=!(n.dateClicked=!e.otherMonth);s||n.currentDateEl?l=!e.disabled:n._toggleMultipleDate(new Date(i)),s&&n._init(n.firstDayOfWeek,i)}else{if(200==e.navtype)return Calendar.removeClass(e,"hilite"),void n.callCloseHandler();i=new Date(n.date),0==e.navtype&&(n.todayDateStr?i=new Date(n.todayDateStr):i.setDateOnly(new Date)),n.dateClicked=!1;var d=i.getFullYear(),o=i.getMonth();switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var u=Calendar._TT.ABOUT;return"undefined"!=typeof u?u+=n.showsTime?Calendar._TT.ABOUT_TIME:"":u='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n',void alert(u);case-2:d>n.minYear&&Calendar.setFullYearAndFixFebruary(i,d-1);break;case-1:o>0?a(o-1):d-- >n.minYear&&(i.setFullYear(d),a(11));break;case 1:o<11?a(o+1):d<n.maxYear&&(i.setFullYear(d+1),a(0));break;case 2:d<n.maxYear&&Calendar.setFullYearAndFixFebruary(i,d+1);break;case 100:return void n.setFirstDayOfWeek(e.fdow);case 50:for(var h=e._range,C=e.innerHTML,c=h.length;--c>=0&&h[c]!=C;);t&&t.shiftKey?--c<0&&(c=h.length-1):++c>=h.length&&(c=0);var m=h[c];return e.innerHTML=m,void n.onUpdateTime();case 0:if("function"==typeof n.getDateStatus&&n.getDateStatus(i,i.getFullYear(),i.getMonth(),i.getDate()))return!1}i.equalsTo(n.date)?0==e.navtype&&(l=r=!0):(n.setDate(i),l=!0)}l&&t&&n.callHandler(),r&&(Calendar.removeClass(e,"hilite"),t&&n.callCloseHandler())},Calendar.prototype.create=function(e){var t=null;e?(t=e,this.isPopup=!1):(t=document.getElementsByTagName("body")[0],this.isPopup=!0),this.dateStr&&(this.date=new Date(this.dateStr)),this.date&&!isNaN(this.date)||(this.date=new Date);var a=Calendar.createElement("table");this.table=a,a.cellSpacing=0,a.cellPadding=0,a.calendar=this,Calendar.addEvent(a,"mousedown",Calendar.tableMouseDown);var n=Calendar.createElement("div");this.element=n,n.className="calendar",this.isPopup&&(n.style.position="absolute",n.style.display="none"),n.appendChild(a);var r=Calendar.createElement("thead",a),l=null,i=null,s=this,d=function(e,t,a){return l=Calendar.createElement("td",i),l.colSpan=t,l.className="button",0!=a&&Math.abs(a)<=2&&(l.className+=" nav"),Calendar._add_evs(l),l.calendar=s,l.navtype=a,l.innerHTML="<div unselectable='on'>"+e+"</div>",l};i=Calendar.createElement("tr",r);var o=6;this.isPopup&&--o,this.weekNumbers&&++o,d("?",1,400).ttip=Calendar._TT.INFO,this.title=d("",o,300),this.title.className="title",this.isPopup&&(this.title.ttip=Calendar._TT.DRAG_TO_MOVE,this.title.style.cursor="move",d("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE),i=Calendar.createElement("tr",r),i.className="headrow",this._nav_py=d("&#x00ab;",1,-2),this._nav_py.ttip=Calendar._TT.PREV_YEAR,this._nav_pm=d("&#x2039;",1,-1),this._nav_pm.ttip=Calendar._TT.PREV_MONTH,this._nav_now=d(Calendar._TT.TODAY,this.weekNumbers?4:3,0),this._nav_now.ttip=Calendar._TT.GO_TODAY,this._nav_nm=d("&#x203a;",1,1),this._nav_nm.ttip=Calendar._TT.NEXT_MONTH,this._nav_ny=d("&#x00bb;",1,2),this._nav_ny.ttip=Calendar._TT.NEXT_YEAR,i=Calendar.createElement("tr",r),i.className="daynames",this.weekNumbers&&(l=Calendar.createElement("td",i),l.className="name wn",l.innerHTML=Calendar._TT.WK);for(var u=7;u>0;--u)l=Calendar.createElement("td",i),u||(l.navtype=100,l.calendar=this,Calendar._add_evs(l));this.firstdayname=this.weekNumbers?i.firstChild.nextSibling:i.firstChild,this._displayWeekdays();var h=Calendar.createElement("tbody",a);for(this.tbody=h,u=6;u>0;--u){i=Calendar.createElement("tr",h),this.weekNumbers&&(l=Calendar.createElement("td",i));for(var C=7;C>0;--C)l=Calendar.createElement("td",i),l.calendar=this,Calendar._add_evs(l)}this.showsTime?(i=Calendar.createElement("tr",h),i.className="time",l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,l.innerHTML=Calendar._TT.TIME||"&nbsp;",l=Calendar.createElement("td",i),l.className="time",l.colSpan=this.weekNumbers?4:3,function(){function e(e,t,a,n){var r=Calendar.createElement("span",l);if(r.className=e,r.innerHTML=t,r.calendar=s,r.ttip=Calendar._TT.TIME_PART,r.navtype=50,r._range=[],"number"!=typeof a)r._range=a;else for(var i=a;i<=n;++i){var d;d=i<10&&n>=10?"0"+i:""+i,r._range[r._range.length]=d}return Calendar._add_evs(r),r}var t=s.date.getHours(),a=s.date.getMinutes(),n=!s.time24,r=t>12;n&&r&&(t-=12);var d=e("hour",t,n?1:0,n?12:23),o=Calendar.createElement("span",l);o.innerHTML=":",o.className="colon";var u=e("minute",a,0,59),h=null;l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,n?h=e("ampm",r?Calendar._TT.PM:Calendar._TT.AM,[Calendar._TT.am,Calendar._TT.pm]):l.innerHTML="&nbsp;",s.onSetTime=function(){var e,t=this.date.getHours(),a=this.date.getMinutes();n&&(e=t>=12,e&&(t-=12),0==t&&(t=12),h.innerHTML=e?Calendar._TT.pm:Calendar._TT.am),d.innerHTML=t<10?"0"+t:t,u.innerHTML=a<10?"0"+a:a},s.onUpdateTime=function(){var e=this.date,t=parseInt(d.innerHTML,10);n&&(new RegExp(Calendar._TT.pm,"i").test(h.innerHTML)&&t<12?t+=12:new RegExp(Calendar._TT.am,"i").test(h.innerHTML)&&12==t&&(t=0));var a=e.getDate(),r=e.getMonth(),l=e.getFullYear();e.setHours(t),e.setMinutes(parseInt(u.innerHTML,10)),e.setFullYear(l),e.setMonth(r),e.setDate(a),this.dateClicked=!1,this.callHandler()}}()):this.onSetTime=this.onUpdateTime=function(){};var c=Calendar.createElement("tfoot",a);for(i=Calendar.createElement("tr",c),i.className="footrow",l=d(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300),l.className="ttip",this.isPopup&&(l.ttip=Calendar._TT.DRAG_TO_MOVE,l.style.cursor="move"),this.tooltips=l,n=Calendar.createElement("div",this.element),this.monthsCombo=n,n.className="combo",u=0;u<Calendar._MN.length;++u){var m=Calendar.createElement("div");m.className=Calendar.is_ie?"label-IEfix":"label",m.month=u,m.innerHTML=Calendar._SMN[u],n.appendChild(m)}for(n=Calendar.createElement("div",this.element),this.yearsCombo=n,n.className="combo",u=12;u>0;--u){var p=Calendar.createElement("div");p.className=Calendar.is_ie?"label-IEfix":"label",n.appendChild(p)}this._init(this.firstDayOfWeek,this.date),t.appendChild(this.element),Calendar.addEvent(this.element,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1})},Calendar._upkeyEvent=function(e){27===e.keyCode&&window.setTimeout(function(){var e=window._dynarch_popupCalendar;return!(!e||e.multiple)&&void e.callCloseHandler()},0)},Calendar._keyEvent=function(e){function t(){h=r.currentDateEl;var e=h.pos;d=15&e,o=e>>4,u=r.ar_days[o][d]}function a(){var e=new Date(r.date);e.setDate(e.getDate()-C),r.setDate(e)}function n(){var e=new Date(r.date);e.setDate(e.getDate()+C),r.setDate(e)}var r=window._dynarch_popupCalendar;if(!r||r.multiple)return!1;var l=Calendar.is_ie||"keydown"==e.type,i=e.keyCode;if(e.ctrlKey)switch(i){case 37:l&&Calendar.cellClick(r._nav_pm);break;case 38:l&&Calendar.cellClick(r._nav_py);break;case 39:l&&Calendar.cellClick(r._nav_nm);break;case 40:l&&Calendar.cellClick(r._nav_ny)}else switch(i){case 32:Calendar.cellClick(r._nav_now);break;case 37:case 38:case 39:case 40:if(l){var s,d,o,u,h,C;for(s=37==i||38==i,C=37==i||39==i?1:7,t();;){switch(i){case 37:if(!(--d>=0)){d=6,i=38;continue}u=r.ar_days[o][d];break;case 38:--o>=0?u=r.ar_days[o][d]:(a(),t());break;case 39:if(!(++d<7)){d=0,i=40;continue}u=r.ar_days[o][d];break;case 40:++o<r.ar_days.length?u=r.ar_days[o][d]:(n(),t())}break}u&&(u.disabled?s?a():n():Calendar.cellClick(u))}break;case 13:l&&Calendar.cellClick(r.currentDateEl,e)}return Calendar.stopEvent(e)},Calendar.prototype._init=function(e,t){var a=new Date(t);a.setHours(13);var n=new Date,r=n.getFullYear(),l=n.getMonth(),i=n.getDate();this.table.style.visibility="hidden";var s=a.getFullYear();s<this.minYear?(s=this.minYear,a.setFullYear(s)):s>this.maxYear&&(s=this.maxYear,a.setFullYear(s)),this.firstDayOfWeek=e;var d=a.getMonth(),o=a.getDate();a.getMonthDays();a.setDate(1);var u=(a.getDay()-this.firstDayOfWeek)%7;u<0&&(u+=7),a.setDate(-u),a.setDate(a.getDate()+1);for(var h=this.tbody.firstChild,C=(Calendar._SMN[d],this.ar_days=new Array),c=Calendar._TT.WEEKEND,m=this.multiple?this.datesCells={}:null,p=0;p<6;++p,h=h.nextSibling){var v=h.firstChild;if(this.weekNumbers){v.className="day wn";var f=a;0==d&&0==p&&0==Date.useISO8601WeekNumbers&&(f=new Date(s,d,1)),v.innerHTML=f.getWeekNumber(this.firstDayOfWeek),v=v.nextSibling}h.className="daysrow";for(var y,g=!1,_=C[p]=[],D=0;D<7;++D,v=v.nextSibling,a.setDate(y+1)){y=a.getDate();var b=a.getDay();v.className="day day-"+y,v.pos=p<<4|D,_[D]=v;var T=a.getMonth()==d;if(T)v.otherMonth=!1,g=!0;else{if(!this.showsOtherMonths){v.className="emptycell",v.innerHTML="&nbsp;",v.disabled=!0;continue}v.className+=" othermonth",v.otherMonth=!0}if(v.disabled=!1,v.innerHTML=this.getDateText?this.getDateText(a,y):y,m&&(m[a.print("%Y%m%d")]=v),this.getDateStatus){var w=this.getDateStatus(a,s,d,y);if(this.getDateToolTip){var M=this.getDateToolTip(a,s,d,y);M&&(v.title=M)}w===!0?(v.className+=" disabled",v.disabled=!0):(/disabled/i.test(w)&&(v.disabled=!0),v.className+=" "+w)}v.disabled||(v.caldate=new Date(a),v.ttip="_",!this.multiple&&T&&y==o&&this.hiliteToday&&(v.className+=" selected",this.currentDateEl=v),a.getFullYear()==r&&a.getMonth()==l&&y==i&&(v.className+=" today",v.ttip+=Calendar._TT.PART_TODAY),c.indexOf(b.toString())!=-1&&(v.className+=v.otherMonth?" oweekend":" weekend"))}g||this.showsOtherMonths||(h.className="emptyrow")}this.date=new Date(t),this.onSetTime(),this.title.innerHTML=Calendar._MN[d]+", "+s,this.table.style.visibility="visible",this._initMultipleDates()},Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var e in this.multiple){var t=this.datesCells[e],a=this.multiple[e];a&&t&&(t.className+=" selected")}},Calendar.prototype._toggleMultipleDate=function(e){if(this.multiple){var t=e.print("%Y%m%d"),a=this.datesCells[t];if(a){var n=this.multiple[t];n?(Calendar.removeClass(a,"selected"),delete this.multiple[t]):(Calendar.addClass(a,"selected"),this.multiple[t]=e)}}},Calendar.prototype.setDateToolTipHandler=function(e){this.getDateToolTip=e},Calendar.prototype.setDate=function(e){e.equalsTo(this.date)||this._init(this.firstDayOfWeek,e)},Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)},Calendar.prototype.setFirstDayOfWeek=function(e){this._init(e,this.date),this._displayWeekdays()},Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(e){this.getDateStatus=e},Calendar.prototype.setRange=function(e,t){this.minYear=e,this.maxYear=t},Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat))},Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this)},Calendar.prototype.destroy=function(){var e=this.element.parentNode;e.removeChild(this.element),Calendar._C=null,window._dynarch_popupCalendar=null},Calendar.prototype.reparent=function(e){var t=this.element;t.parentNode.removeChild(t),e.appendChild(t)},Calendar._checkCalendar=function(e){var t=window._dynarch_popupCalendar;if(!t)return!1;for(var a=Calendar.is_ie?Calendar.getElement(e):Calendar.getTargetElement(e);null!=a&&a!=t.element;a=a.parentNode);return null==a?(window._dynarch_popupCalendar.callCloseHandler(),Calendar.stopEvent(e)):void 0},Calendar.prototype.show=function(){if(!this.params.inputField.disabled){for(var e=this.table.getElementsByTagName("tr"),t=e.length;t>0;){var a=e[--t];Calendar.removeClass(a,"rowhilite");for(var n=a.getElementsByTagName("td"),r=n.length;r>0;){var l=n[--r];Calendar.removeClass(l,"hilite"),Calendar.removeClass(l,"active")}}Calendar.current=this,this.element.style.display="block",this.element.className+=" active",this.hidden=!1,this.isPopup&&(window._dynarch_popupCalendar=this,Calendar.addEvent(document,"keyup",Calendar._upkeyEvent),Calendar.addEvent(document,"keydown",Calendar._keyEvent),Calendar.addEvent(document,"mousedown",Calendar._checkCalendar))}},Calendar.prototype.hide=function(){this.isPopup&&(Calendar.removeEvent(document,"keyup",Calendar._upkeyEvent),Calendar.removeEvent(document,"keydown",Calendar._keyEvent),Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)),Calendar.current=null,this.element.style.display="none",this.element.className=this.element.className.replace(/active/gi,""),this.hidden=!0},Calendar.prototype.showAt=function(e,t){var a=this.element.style;a.left=e+"px",a.top=t+"px",this.show()},Calendar.prototype.showAtElement=function(e,t){function a(e){e.x<0&&(e.x=0),e.y<0&&(e.y=0);var t=document.createElement("div"),a=t.style;a.position="absolute",a.right=a.bottom=a.width=a.height="0px",document.body.appendChild(t);var n=Calendar.getAbsolutePos(t);document.body.removeChild(t),n.y+=jQuery(window).scrollTop(),n.x+=jQuery(window).scrollLeft();var r=e.x+e.width-n.x;r>0&&(e.x-=r),r=e.y+e.height-n.y,r>0&&(e.y-=r)}var n=this,r=Calendar.getAbsolutePos(e);return t&&"string"==typeof t?(this.element.style.display="block",Calendar.continuation_for_the_khtml_browser=function(){var l=jQuery(n.element).outerWidth(),i=jQuery(n.element).outerHeight();n.element.style.display="none";var s=t.substr(0,1),d="l";switch(t.length>1&&(d=t.substr(1,1)),s){case"T":r.y-=i;break;case"B":r.y+=jQuery(e).outerHeight();break;case"C":r.y+=(jQuery(e).outerHeight()-i)/2;break;case"t":r.y+=jQuery(e).outerHeight()-i;break;case"b":}switch(d){case"L":r.x-=l;break;case"R":r.x+=jQuery(e).outerWidth();break;case"C":r.x+=(jQuery(e).outerWidth()-l)/2;break;case"l":r.x+=jQuery(e).outerWidth()-l;break;case"r":}r.width=l,r.height=i+40,n.monthsCombo.style.display="none",a(r),n.showAt(r.x,r.y)},void Calendar.continuation_for_the_khtml_browser()):(this.showAt(r.x,r.y+e.offsetHeight),!0)},Calendar.prototype.setDateFormat=function(e){this.dateFormat=e},Calendar.prototype.setTtDateFormat=function(e){this.ttDateFormat=e},Calendar.prototype.parseDate=function(e,t){t||(t=this.dateFormat),this.setDate(Date.parseDate(e,t))},Calendar.prototype._displayWeekdays=function(){for(var e=this.firstDayOfWeek,t=this.firstdayname,a=Calendar._TT.WEEKEND,n=0;n<7;++n){t.className="day name";var r=(n+e)%7;n&&(t.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[r]),t.navtype=100,t.calendar=this,t.fdow=r,Calendar._add_evs(t)),a.indexOf(r.toString())!=-1&&Calendar.addClass(t,"weekend"),t.innerHTML=Calendar._SDN[(n+e)%7],t=t.nextSibling}},Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none",this.yearsCombo.style.display="none"},Calendar.prototype._dragStart=function(e){if(!this.dragging){this.dragging=!0;var t,a;Calendar.is_ie?(a=window.event.clientY+document.body.scrollTop,t=window.event.clientX+document.body.scrollLeft):(a=e.clientY+window.scrollY,t=e.clientX+window.scrollX);var n=this.element.style;this.xOffs=t-parseInt(n.left),this.yOffs=a-parseInt(n.top),Calendar.addEvent(document,"mousemove",Calendar.calDragIt),Calendar.addEvent(document,"mouseup",Calendar.calDragEnd)}},Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31),Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date._multisplit=function(e,t){if(null==e)return null;null==t&&(t="");var a=[],n=e.length,r="",l=!1;for(i=0;i<n;i++){var s=e.charAt(i);t.indexOf(s)==-1?(l=!0,r+=s):l&&(a[a.length]=r,r="",l=!1)}return r.length>0&&(a[a.length]=r),0==a.length&&(a[a.length]=""),a},Date._parseNonDateFormatChars=function(e){var t="aAbBCdeHIJklmMnpPRSstUWVuwyY%",a="",n=e.length;for(i=0;i<n;i++){var r=e.charAt(i);if("%"==r){var l="";if(i+1<n&&(l=e.charAt(i+1)),i+=1,l.length>0&&t.indexOf(l)!=-1)continue;a.indexOf(r)==-1&&(a+=r),l.length>0&&a.indexOf(l)==-1&&(a+=l)}else a.indexOf(r)==-1&&(a+=r)}return a},Date.splitDate=function(e,t){var a=0,n=-1,r=0,l=Date._parseNonDateFormatChars(t),i=Date._multisplit(e,l),s=t.match(/%./g),d=0,o=0,u=0,h=0;for(d=0;d<i.length;++d)if(i[d])switch(s[d]){case"%d":case"%e":r=Number(i[d]);break;case"%m":n=Number(i[d])-1;break;case"%Y":case"%y":a=Number(i[d]),a<100&&(a+=a>29?1900:2e3);break;case"%b":case"%B":var C=i[d].toLowerCase(),c=!1;if("%b"==s[d])for(o=0;o<12;++o)if(Calendar._SMN[o].substr(0,C.length).toLowerCase()==C){n=o,c=!0;break}if(!c)for(o=0;o<12;++o)if(Calendar._MN[o].substr(0,C.length).toLowerCase()==C){n=o;break}break;case"%H":case"%I":case"%k":case"%l":u=Number(i[d]);break;case"%P":case"%p":/pm/i.test(i[d])&&u<12?u+=12:/am/i.test(i[d])&&u>=12&&(u-=12);break;case"%M":h=Number(i[d]);break;case"%R":var m=i[d],p=m.indexOf(":"),v=m.substring(0,p),f=p==-1?0:m.substring(p+1);u=Number(v),h=Number(f)}return{parts:i,year:a,month:n,day:r,hour:u,minute:h}},Date.parseDate=function(e,t){var a=new Date,n=Date.splitDate(e,t),r=n.parts,l=n.year,i=n.month,s=n.day,d=n.hour,o=n.minute,u=0,h=0;if(isNaN(l)&&(l=a.getFullYear()),isNaN(i)&&(i=a.getMonth()),isNaN(s)&&(s=a.getDate()),isNaN(d)&&(d=a.getHours()),isNaN(o)&&(o=a.getMinutes()),0!=l&&i!=-1&&0!=s)return new Date(l,i,s,d,o,0);for(l=0,i=-1,s=0,u=0;u<r.length;++u)if(r[u].search(/[a-zA-Z]+/)!=-1){var C=-1;for(h=0;h<12;++h)if(Calendar._MN[h].substr(0,r[u].length).toLowerCase()==r[u].toLowerCase()){C=h;break}C!=-1&&(i!=-1&&(s=i+1),i=C)}else Number(r[u])<=12&&i==-1?i=r[u]-1:Number(r[u])>31&&0==l?(l=Number(r[u]),l<100&&(l+=l>29?1900:2e3)):0==s&&(s=r[u]);return 0==l&&(l=a.getFullYear()),i!=-1&&0!=s?new Date(l,i,s,d,o,0):a},Date.prototype.getMonthDays=function(e){var t=this.getFullYear();return"undefined"==typeof e&&(e=this.getMonth()),0!=t%4||0==t%100&&0!=t%400||1!=e?Date._MD[e]:29},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),13,0,0),t=new Date(this.getFullYear(),0,0,13,0,0),a=e-t;return Math.floor(a/Date.DAY)},Date.prototype.getWeekNumber=function(e){return Date.useISO8601WeekNumbers?this.getISO8601WeekNumber():this.getSimpleWeekNumber(e)},Date.prototype.getISO8601WeekNumber=function(){function e(e,t,a){return y=e,m=t,t<3&&(y-=1),t<3&&(m+=12),Math.floor(365.25*y)-Math.floor(y/100)+Math.floor(y/400)+Math.floor(30.6*(m+1))+a-62}function t(t){return year=t.getFullYear(),month=t.getMonth(),day=t.getDate(),wday=t.getDay(),weekday=(wday+6)%7+1,isoyear=year,d0=e(year,1,0),weekday0=(d0+4)%7+1,d=e(year,month+1,day),isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),11==month&&day-weekday>27&&(isoweeknr=1,isoyear+=1),0==month&&weekday-day>3&&(d0=e(year-1,1,0),weekday0=(d0+4)%7+1,isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),isoyear-=1),isoweeknr}return t(this)},Date.prototype.getSimpleWeekNumber=function(e){function t(e,t,a){var n,r=e.getFullYear(),l=new Date(r,0,1);return n=Math.round((e-l)/864e5),null!=t&&(n-=(7+t-l.getDay())%7),null!=a&&(n+=a),[r,1+n/7|0,1+(7+n)%7]}return t(this,e?e:6,6)[1]},Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()},Date.prototype.setDateOnly=function(e){var t=new Date(e);this.setDate(1),this.setFullYear(t.getFullYear()),this.setMonth(t.getMonth()),this.setDate(t.getDate())},Date.prototype.print=function(e){var t=this.getMonth(),a=this.getDate(),n=this.getFullYear(),r=this.getWeekNumber(),l=this.getDay(),i={},s=this.getHours(),d=s>=12,o=d?s-12:s,u=this.getDayOfYear();0==o&&(o=12);var h=this.getMinutes(),C=this.getSeconds();i["%a"]=Calendar._SDN[l],i["%A"]=Calendar._DN[l],i["%b"]=Calendar._SMN[t],i["%B"]=Calendar._MN[t],i["%C"]=1+Math.floor(n/100),i["%d"]=a<10?"0"+a:a,i["%e"]=a,i["%H"]=s<10?"0"+s:s,i["%I"]=o<10?"0"+o:o,i["%j"]=u<100?u<10?"00"+u:"0"+u:u,i["%k"]=s,i["%l"]=o,i["%m"]=t<9?"0"+(1+t):1+t,i["%M"]=h<10?"0"+h:h,i["%n"]="\n",i["%p"]=d?Calendar._TT.PM:Calendar._TT.AM,i["%P"]=d?Calendar._TT.PM:Calendar._TT.AM,i["%R"]=i["%k"]+":"+i["%M"],i["%s"]=Math.floor(this.getTime()/1e3),i["%S"]=C<10?"0"+C:C,i["%t"]="\t",i["%U"]=i["%W"]=i["%V"]=r<10?"0"+r:r,i["%u"]=l+1,i["%w"]=l,i["%y"]=(""+n).slice(-2),i["%Y"]=n,i["%%"]="%";var c=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return e.replace(c,function(e){return i[e]||e});for(var m=e.match(c),p=0;p<m.length;p++){var v=i[m[p]];v&&(c=new RegExp(m[p],"g"),e=e.replace(c,v))}return e},window._dynarch_popupCalendar=null;;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar.setup.js' */
Calendar.setup=function(e){function t(t,a){"undefined"==typeof e[t]&&(e[t]=a)}function a(e){var t=e.params,a=e.dateClicked||t.electric;a&&t.inputField&&(t.inputField.value=e.date.print(t.ifFormat),jQuery(t.inputField).change()),a&&t.displayArea&&(t.displayArea.innerHTML=e.date.print(t.daFormat)),a&&"function"==typeof t.onUpdate&&t.onUpdate(e),a&&t.flat&&"function"==typeof t.flatCallback&&t.flatCallback(e),"true"===t.singleClick?t.singleClick=!0:"false"===t.singleClick&&(t.singleClick=!1),a&&t.singleClick&&e.dateClicked&&e.callCloseHandler()}function n(){if(Calendar._UNSUPPORTED===!0)return void alert("The JIRA Calendar does not currently support your language.");var t=e.inputField||e.displayArea,n=e.inputField?e.ifFormat:e.daFormat,l=!1,i=window.calendar;if(i&&i.hide(),t&&(t.value||t.innerHTML)&&(e.date=Date.parseDate(t.value||t.innerHTML,n)),i&&e.cache?(e.date&&i.setDate(e.date),i.hide()):(window.calendar=i=new Calendar(e.firstDay,e.date,e.todayDate,e.onSelect||a,e.onClose||function(e){e.hide()}),i.showsTime=e.showsTime,i.time24="24"==e.timeFormat,i.weekNumbers=e.weekNumbers,Date.useISO8601WeekNumbers=e.useISO8601WeekNumbers,e.useISO8601WeekNumbers&&(i.firstDayOfWeek=1),l=!0),e.multiple){i.multiple={};for(var r=e.multiple.length;--r>=0;){var u=e.multiple[r],s=u.print("%Y%m%d");i.multiple[s]=u}}return i.showsOtherMonths=e.showOthers,i.yearStep=e.step,i.setRange(e.range[0],e.range[1]),i.params=e,i.setDateStatusHandler(e.dateStatusFunc),i.getDateText=e.dateText,i.setDateFormat(n),l&&i.create(),i.refresh(),e.position?i.showAt(e.position[0],e.position[1]):i.showAtElement(e.button||e.displayArea||e.inputField,e.align),!1}function l(){var t=jQuery(e.inputField);e.button&&jQuery(e.button).mousedown(function(e){e.preventDefault(),!t.is(":focus")&&t.is(":enabled")&&t.focus()}),t.keydown(function(e){var t=window.calendar;40===e.keyCode&&(t&&!t.hidden||setTimeout(function(){n()},1))})}e=e||{},t("inputField",null),t("context",null),t("displayArea",null),t("button",null),t("eventName","click"),t("ifFormat","%Y/%m/%d"),t("daFormat","%Y/%m/%d"),t("singleClick",!0),t("disableFunc",null),t("dateStatusFunc",e.disableFunc),t("dateText",null),t("firstDay",null),t("align","Br"),t("range",[1900,2999]),t("weekNumbers",!0),t("useISO8601WeekNumbers",!1),t("flat",null),t("flatCallback",null),t("onSelect",null),t("onClose",null),t("onUpdate",null),t("date",null),t("todayDate",null),t("showsTime",!1),t("timeFormat","24"),t("electric",!0),t("step",1),t("position",null),t("cache",!1),t("showOthers",!1),t("multiple",null);var i,r,u=["context","inputField","button","displayArea"];for(i in u)r=u[i],e[r]instanceof jQuery&&(e[r]=e[r][0]);var s=["inputField","displayArea","button"];for(i in s)if(r=s[i],"string"==typeof e[r]){var o="#"+e[r].escapejQuerySelector(),d=jQuery(e.context||document.body).find(o);e[r]=d[0]}if(!(e.flat||e.multiple||e.inputField||e.displayArea||e.button))return AJS.log("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code"),!1;if(e.firstDay&&null!==e.firstDay&&(e.firstDay=+e.firstDay),null!=e.flat){if("string"==typeof e.flat&&(e.flat=document.getElementById(e.flat)),!e.flat)return AJS.log("Calendar.setup:\n  Flat specified but can't find parent."),!1;var p=new Calendar(e.firstDay,e.date,e.todayDate,e.onSelect||a);return p.showsOtherMonths=e.showOthers,p.showsTime=e.showsTime,p.time24="24"==e.timeFormat,p.params=e,p.weekNumbers=e.weekNumbers,p.setRange(e.range[0],e.range[1]),p.setDateStatusHandler(e.dateStatusFunc),p.getDateText=e.dateText,e.ifFormat&&p.setDateFormat(e.ifFormat),e.inputField&&"string"==typeof e.inputField.value&&p.parseDate(e.inputField.value),p.create(e.flat),p.show(),!1}var f=e.button||e.displayArea||e.inputField;return jQuery(f).bind(e.eventName,function(e){e.preventDefault(),n()}),e.inputField&&l(),p};;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/dropdown/Dropdown.js' */
define("jira/dropdown",["require"],function(i){function o(){try{return Boolean(n.require("jira/dialog/dialog").current)}catch(i){}return!1}var n=i("jira/util/top-same-origin-window")(window),t=i("jquery"),d=[];return{current:null,addInstance:function(){d.push(this)},hideInstances:function(){var i=this;t(d).each(function(){i!==this&&this.hideDropdown()})},getHash:function(){return this.hash||(this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown}),this.hash},displayDropdown:function(i){if(this.current!==this){this.hideInstances(),this.current=this,this.dropdown.css({display:"block"}),this.displayed=!0;var n=this.dropdown;o()||i||setTimeout(function(){var i=t(window),o=n.offset().top+n.prop("offsetHeight")-i.height()+10;i.scrollTop()<o&&t("html,body").animate({scrollTop:o},300,"linear")},100)}},hideDropdown:function(){this.displayed!==!1&&(this.current=null,this.dropdown.css({display:"none"}),this.displayed=!1)},init:function(i,o){var n=this;this.addInstance(this),this.dropdown=t(o),this.dropdown.css({display:"none"}),t(document).keydown(function(i){9===i.keyCode&&n.hideDropdown()}),i.target?t.aop.before(i,function(){n.displayed||n.displayDropdown()}):(n.dropdown.css("top",t(i).outerHeight()+"px"),i.click(function(i){n.displayed?n.hideDropdown():(n.displayDropdown(),i.stopPropagation()),i.preventDefault()})),t(document.body).click(function(){n.displayed&&n.hideDropdown()})}}}),AJS.namespace("JIRA.Dropdown",null,require("jira/dropdown")),AJS.namespace("jira.widget.dropdown",null,require("jira/dropdown"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/AutoComplete.js' */
define("jira/autocomplete/autocomplete",["jira/ajs/ajax/smart-ajax","jira/util/objects","jquery","jira/util/formatter","jira/featureflags/feature-manager"],function(e,t,n,o,i){return function(){var s,r=function(e,t){r.t&&(clearTimeout(r.t),r.t=void 0),r.t=setTimeout(e,1e3*t)},d={9:!0,13:!0,14:!0,25:!0,27:!0,38:!0,40:!0,224:!0};return{dispatcher:function(){},getSavedResponse:function(){},saveResponse:function(){},renderSuggestions:function(){},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},set:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},completeInputField:function(e,t){e&&t&&(this.field.val(t).removeAttr("aria-activedescendant").focus(),this.hiddenField&&(this.hiddenField.val(e),this.hiddenField.trigger("change")),this.field.trigger("change"))},textToSuggestionCursorPosition:function(){return this.field.val()},_makeRequest:function(n){var o=this,i=t.copyObject(n);return this.pendingRequest&&this.pendingRequest.abort(),i.complete=function(){o.pendingRequest=null},i.error=function(e){!e.aborted&&0!==e.status&&n.error&&n.error.apply(this,arguments)},this.pendingRequest=e.makeRequest(i)},addSuggestionControls:function(e){function t(e){d.dropdownController.displayed&&(l(e.data.index),d.field.attr("aria-expanded",!0))}function o(e){0===e.data.index&&(d.selectedIndex=-1),n(this).attr("aria-selected",!1).removeClass("active")}function r(e){var t=d.suggestionNodes[e.data.index],n=Array.isArray(t)&&t.length>2;if(d.strictModeEnabledForUserPickers){var o=d.suggestionNodes[e.data.index];d.completeInputField(o[1],o[3])}else if(n){var i=t.length>3?t[3]:void 0;d.completeInputField(t[1],i)}else d.completeField&&d.completeField(d.suggestionNodes[d.selectedIndex][1])}var d=this,a=function(e,t){var n=d.autoSelectFirst===!1?-1:0;return d.allowArrowCarousel?e>t?n:e<n?t:e:e>t?t:e<n?(d.responseContainer.scrollTop(0),n):e},l=function(e){if(void 0!==d.selectedIndex&&d.selectedIndex>-1&&(d.suggestionNodes[d.selectedIndex][0].attr("aria-selected",!1).removeClass("active"),d.field.removeAttr("aria-activedescendant")),d.selectedIndex=a(e,d.suggestionNodes.length-1),d.selectedIndex>-1&&!h(d.suggestionNodes[d.selectedIndex])){var t=d.suggestionNodes[d.selectedIndex][0].addClass("active").attr("aria-selected",!0).attr("id");d.field.attr("aria-activedescendant",t)}},u=function(){return d.suggestionNodes&&d.suggestionNodes[d.selectedIndex]&&d.suggestionNodes[d.selectedIndex][0].hasClass("active")},c=function(){return i.isFeatureEnabled("jira.jql.autoselectfirst")},p=function(e){return h(e)},h=function(e){return e.length>0&&e[0].length>0&&"className"in e[0][0]&&e[0][0].className.includes("deprecated-dropdown-option")},f=function(e){if(d.responseContainer.is(":visible")&&13===e.keyCode){if(u()&&!d.pendingRequest){var t=d.suggestionNodes[d.selectedIndex][1],n=Array.isArray(t)&&t.length>2;if(p(d.suggestionNodes[d.selectedIndex]))return e.preventDefault(),void e.stopPropagation();if(d.strictModeEnabledForUserPickers){var o=d.suggestionNodes[d.selectedIndex];d.completeInputField(o[1],o[3])}else if(n){var i=t.length>3?t[3]:void 0;d.completeInputField(t[1],i)}else d.completeField&&d.completeField(d.suggestionNodes[d.selectedIndex][1]);c()&&d.dispatcher(d.field.val())}e.preventDefault(),e.stopPropagation()}},g=function(e){if(d.responseContainer.is(":visible"))if(d.field[0]!==document.activeElement&&d.field.focus(),40===e.keyCode){if(l(d.selectedIndex+1),d.selectedIndex>=0){var t=d.responseContainer.height(),n=d.suggestionNodes[d.selectedIndex][0].position().top+d.suggestionNodes[d.selectedIndex][0].outerHeight();n-t>0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+n-t+2)}else d.responseContainer.scrollTop(0);e.preventDefault()}else if(38===e.keyCode){if(l(d.selectedIndex-1),d.selectedIndex>=0){var o=d.suggestionNodes[d.selectedIndex][0].position().top;o<0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+o-2)}e.preventDefault()}else if(9===e.keyCode)if(u()){var i=d.suggestionNodes[d.selectedIndex][1],s=Array.isArray(i)&&i.length>2;if(d.strictModeEnabledForUserPickers){var r=d.suggestionNodes[d.selectedIndex];d.completeInputField(r[1],r[3])}else if(s){var a=i.length>3?i[3]:void 0;d.completeInputField(i[1],a)}else d.completeField&&d.completeField(d.suggestionNodes[d.selectedIndex][1]);e.preventDefault()}else d.dropdownController.hideDropdown()};if(e.length){this.selectedIndex=0,this.suggestionNodes=e;for(var v=0;v<d.suggestionNodes.length;v++){var m={instance:this,index:v};p(d.suggestionNodes[v])?this.suggestionNodes[v][0].unbind("click").unbind("mouseover").unbind("mouseout").bind("mousedown",function(e){e.preventDefault()}):this.suggestionNodes[v][0].bind("mouseover",m,t).bind("mouseout",m,o).bind("click",m,r).bind("mousedown",function(e){e.preventDefault()})}this.keyboardHandlerBinded||(n(this.field).keypress(f),n(this.field).keydown(g),this.keyboardHandlerBinded=!0),l(d.autoSelectFirst===!1?-1:0),s=this}},clearResponseContainer:function(){this.responseContainer.empty(),this.suggestionNodes=void 0},delay:r,buildResponseContainer:function(){var e=this.field.parent().addClass("atlassian-autocomplete");this.responseContainer=n(document.createElement("div")),this.responseContainer.addClass("suggestions medium-long-field"),this.positionResponseContainer(),this.responseContainer.appendTo(e)},_buildAnnouncementContainer:function(){this.announcementContainer=n(document.createElement("div")),this.announcementContainer.addClass("assistive autocomplete-suggestions-announcement").attr("aria-live","polite").appendTo(this.field.parent())},positionResponseContainer:function(){this.responseContainer.css({top:this.field.outerHeight()})},keyUpHandler:function(){function e(){this.responseContainer||(this.buildResponseContainer(),this._buildAnnouncementContainer()),this.dispatcher(this.field.val())}return function(t){return this.field.val().length>=this.minQueryLength&&(t.keyCode in d&&(!this.responseContainer||this.responseContainer.is(":visible")||38!==t.keyCode&&40!==t.keyCode)||e.call(this)),t}}(),addMultiSelectAdvice:function(e){var t=this,o=function(e){if(!o.isAlerting){o.isAlerting=!0;var i=n(document.createElement("div")).css({float:"left",display:"none"}).addClass("warningBox").html("Oops! You have already entered the value <em>"+e+"</em>").appendTo(t.field.parent()).show("fast",function(){t.delay(function(){i.hide("fast",function(){i.remove(),o.isAlerting=!1})},4)})}};n.aop.before({target:this,method:"dispatcher"},function(t){var o=this.field.val();return t[0]=n.trim(o.slice(o.lastIndexOf(e)+1)),t}),n.aop.before({target:this,method:"completeInputField"},function(t){var i=t[0],s=this.field.val().split(e),r=n(s).map(function(){return n.trim(this)}).get();return!this.allowDuplicates&&new RegExp("(?:^|[\\s"+e+"])"+i+"\\s*"+e).test(this.field.val())?(o(i),r[r.length-1]=""):(r[r.length-1]=i,r[r.length]=""),t[0]=r.join(e.replace(/([^\s]$)/,"$1 ")),t})},addDropdownAdvice:function(){var e=this;n.aop.after({target:this,method:"buildResponseContainer"},function(t){return e._buildAnnouncementContainer(),this.dropdownController=JIRA.Dropdown.AutoComplete({target:this,method:"renderSuggestions"},this.responseContainer),n.aop.after({target:this.dropdownController,method:"hideDropdown"},function(){this.dropdown.removeClass("dropdown-ready"),e.field.removeAttr("aria-activedescendant").attr("aria-expanded",!1),e.announcementContainer.text("")}),t}),n.aop.after({target:this,method:"renderSuggestions"},function(t){return t&&t.length>0?(this.dropdownController.displayDropdown(),e.field.attr("aria-expanded",!0),e.announcementContainer.text("Choose from the suggested list of options below."),this.maxHeight&&this.dropdownController.dropdown.prop("scrollHeight")>this.maxHeight?this.dropdownController.dropdown.css({height:this.maxHeight,overflowX:"visible",overflowY:"scroll"}):this.maxHeight&&this.dropdownController.dropdown.css({height:"",overflowX:"",overflowY:""}),this.dropdownController.dropdown.addClass("dropdown-ready")):this.dropdownController.hideDropdown(),t}),n.aop.after({target:this,method:"completeInputField"},function(e){return this.dropdownController.hideDropdown(),e}),n.aop.after({target:this,method:"completeField"},function(e){return this.dropdownController.hideDropdown(),e}),n.aop.after({target:this,method:"keyUpHandler"},function(e){return this.field.val().length>=this.minQueryLength&&27!==e.keyCode||!this.dropdownController||!this.dropdownController.displayed||(this.dropdownController.hideDropdown(),27===e.keyCode&&e.stopPropagation()),e})},init:function(e){var t=this,o=13,i=9;this.set(e),this.field=this.field||n("#"+this.fieldID);var r=this.field.val();this.field.attr("autocomplete","off").keyup(function(e){t.disabled||(e.keyCode!==o&&e.keyCode!==i&&t.strictModeEnabledForUserPickers&&!t.field.val()&&t.hiddenField.val(""),t.keyUpHandler(e))}).keydown(function(e){r=t.field.val();var n=27;e.keyCode===n&&t.responseContainer&&t.responseContainer.is(":visible")&&e.preventDefault()}).click(function(e){s===t&&e.stopPropagation()}).blur(function(){t.pendingRequest&&t.pendingRequest.abort()}),this.addDropdownAdvice(),e.delimChar&&this.addMultiSelectAdvice(e.delimChar)}}}()}),AJS.namespace("jira.widget.autocomplete",null,require("jira/autocomplete/autocomplete")),AJS.namespace("JIRA.AutoComplete",null,require("jira/autocomplete/autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/RESTAutoComplete.js' */
define("jira/autocomplete/rest-autocomplete",["jira/autocomplete/autocomplete","jira/util/objects"],function(e,t){return function(){var s=t.begetObject(e);return s.dispatcher=function(e){var t=this;e.length<this.minQueryLength||(this.getSavedResponse(e)?(t.renderSuggestions(t.getSavedResponse(e)),t.responseContainer.scrollTop(0)):this.delay(function(){var s=t.getAjaxParams();s.data.query=e,s.success=function(s){t.saveResponse(e,s),t.responseContainer.scrollTop(0),t.renderSuggestions(s)},t._makeRequest(s)},t.queryDelay))},s.getAjaxParams=function(){},s.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},s.saveResponse=function(e,t){"string"==typeof e&&"object"==typeof t&&(this.requested||(this.requested={}),this.requested[e]=t)},s}()}),AJS.namespace("jira.widget.autocomplete.REST",null,require("jira/autocomplete/rest-autocomplete")),AJS.namespace("JIRA.RESTAutoComplete",null,require("jira/autocomplete/rest-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/IssueAutoComplete.js' */
define("jira/autocomplete/issue-autocomplete",["jira/data/parse-options-from-fieldset","jira/field/issue-picker","jira/autocomplete/rest-autocomplete","jira/util/objects","wrm/context-path","jquery"],function(e,t,s,a,i,n){var r=i(),d=function(e){var t=a.begetObject(s);return t.getAjaxParams=function(){return{url:r+"/rest/api/2/issue/picker",data:e.ajaxData,dataType:"json",type:"GET"}},t.renderSuggestions=function(s){var a,i=[];if(this.clearResponseContainer(),s&&s.sections&&s.sections.length>0)return a=n("<ul/>").appendTo(this.responseContainer),n(s.sections).each(function(){var t=this,s=n("<div/>").attr("id",e.fieldID+"_s_"+t.id).addClass("yag").text(t.label);if(t.sub&&s.append(n("<span/>").addClass("yagt").text("("+t.sub+")")),a.append(n("<li/>").append(s).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")})),t.msg){var d=n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_n").addClass("yad").text(t.msg);a.append(n("<li/>").append(d).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")}))}t.issues&&t.issues.length>0&&n(t.issues).each(function(){var s;s=/^http/.test(this.img)?this.img:r+this.img;var d=n("<li/>").append(n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_"+this.key).addClass("yad").append(n("<table/>").addClass("yat").attr({cellpadding:"0",cellspacing:"0"}).append(n("<tr/>").append(n("<td/>").append(n("<img/>").attr("src",s))).append(n("<td/>").append(n("<div/>").addClass("yak").html(this.keyHtml))).append(n("<td/>").css("width","100%").html(this.summary)))));a.append(d),i.push([d,this.key])})}),t.addSuggestionControls(i),i},e.minQueryLength=1,e.queryDelay=.25,t.init(e),t};return d.init=function(){n("fieldset.issue-picker-params").each(function(){var s=e(n(this)),a=n("#"+s.fieldId+"-container").add("#"+s.fieldName+"_container");a.find("a.popup-trigger").click(function(e){var a=r+"/secure/popups/IssuePicker.jspa?";a+="currentIssue="+s.currentIssueKey+"&",a+="singleSelectOnly="+s.singleSelectOnly+"&",a+="showSubTasks="+s.showSubTasks+"&",a+="showSubTasksParent="+s.showSubTaskParent,s.currentProjectId&&""!==s.currentProjectId&&(a+="&selectedProjectId="+s.currentProjectId),t.callback=function(e){var t,a=[];e=JSON.parse(e),s.fieldId&&a&&(t=n("#"+s.fieldId),t&&(n.each(e,function(){a.push(this.value)}),t.val(a.join(", "))))};var i=window.open(a,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width=620,height=500,scrollbars=yes,resizable");i.opener=self,i.focus(),e.preventDefault()}),s.fieldId||(s.fieldId=s.fieldName),s.issuePickerEnabled===!0&&d({fieldID:s.fieldId,delimChar:s.singleSelectOnly===!0?void 0:",",ajaxData:s})})},d}),AJS.namespace("jira.widget.autocomplete.Issues",null,require("jira/autocomplete/issue-autocomplete")),AJS.namespace("JIRA.IssueAutoComplete",null,require("jira/autocomplete/issue-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/UserAutoComplete.js' */
define("jira/autocomplete/user-autocomplete",["jira/autocomplete/rest-autocomplete","jira/data/parse-options-from-fieldset","jira/util/browser","jira/util/elements","jira/util/objects","jquery"],function(e,t,i,r,a,o){var s=function(t){function s(e){var t=!1,i=e.closest("form");return i.length&&i.hasClass("submitting")&&(t=!0),t}var n=a.begetObject(e),l=!0;return n.getAjaxParams=function(){var e={url:contextPath+"/rest/api/1.0/users/picker",data:{fieldName:t.fieldID,fieldConfigId:t.fieldConfigID,projectId:t.projectId},dataType:"json",type:"GET"};return l&&(e.headers={"x-atlassian-force-account-id":"true"}),e},n.renderSuggestions=function(e){if(s(this.field)||!i.isSelenium()&&!r.elementIsFocused(this.field))return!1;var t,a=[];return this.clearResponseContainer(),e&&e.users&&e.users.length>0&&(t=o("<ul/>").appendTo(this.responseContainer),o(e.users).each(function(){l?a.push([o("<li/>").html(this.html).appendTo(t),this.accountId,this.accountId,this.displayName]):a.push([o("<li/>").html(this.html).appendTo(t),null!=this.name?this.name:"",this.accountId,this.displayName])})),e.footer&&this.responseContainer.append(o("<div/>").addClass("yui-ac-ft").html(e.footer).css("display","block")),a.length>0&&(n.addSuggestionControls(a),o(".atlassian-autocomplete div.yad, .atlassian-autocomplete .labels li").textOverflow({autoUpdate:!0})),a},t.minQueryLength=2,t.queryDelay=.25,n.init(t),n};return s.init=function(e){o("fieldset.user-picker-params",e).each(function(){var i=t(o(this)),r=i.fieldId||i.fieldName,a=o("#"+r+"_container");a.find("a.popup-trigger").click(function(e){var t,s=contextPath;if(e.preventDefault(),i.formName||(i.formName=a.find("#"+r).parents("form").attr("name")),s+=i.actionToOpen?i.actionToOpen:"/secure/popups/UserPickerBrowser.jspa",s+="?formName="+i.formName+"&",s+="multiSelect="+i.multiSelect+"&",s+="decorator=popup&",s+="element="+r,i.fieldConfigId&&(s+="&fieldConfigId="+i.fieldConfigId),i.projectId)if(o.isArray(i.projectId))for(var n in i.projectId)s+="&projectId="+n;else s+="&projectId="+i.projectId;t=window.open(s,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes"),t.opener=self,t.focus()});var n=e?e.find("#"+r):null,l=e?e.find("#hidden-"+r):null,d=i["enable-strict-mode-for-this-user-picker"];i.userPickerEnabled===!0&&s({field:n,hiddenField:l,fieldID:r,fieldConfigID:i.fieldConfigId,projectId:i.projectId,delimChar:i.multiSelect===!1?void 0:",",ajaxData:{fieldName:i.fieldName},strictModeEnabledForUserPickers:d})})},s}),AJS.namespace("jira.widget.autocomplete.Users",null,require("jira/autocomplete/user-autocomplete")),AJS.namespace("JIRA.UserAutoComplete",null,require("jira/autocomplete/user-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/initAutoCompleteFields.js' */
!function(){JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t,i){i!==JIRA.CONTENT_ADDED_REASON.panelRefreshed&&(JIRA.UserAutoComplete.init(t),JIRA.IssueAutoComplete.init(t))}),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t,i){i!==JIRA.CONTENT_ADDED_REASON.panelRefreshed&&AJS.$("fieldset.user-searcher-params",t).each(function(){var e=JIRA.parseOptionsFromFieldset(AJS.$(this)),i=AJS.$("#"+e.fieldId+"_container",t);if(e.userPickerEnabled===!0)var r=JIRA.UserAutoComplete({fieldID:e.fieldId,delimChar:e.multiSelect===!0?",":void 0,ajaxData:{fieldName:e.fieldName}});var s=function(i){var s=AJS.$("#"+e.fieldId,t),o=AJS.$("#"+e.fieldId+"Image",t),l=AJS.$("#"+e.fieldId+"GroupImage",t),a=AJS.$("#"+e.fieldId+"_desc",t);"select.list.none"===i?(s.val("").attr("disabled","true"),o.hide(),l.hide(),a.hide()):(s.removeAttr("disabled"),"select.list.group"===i?(o.hide(),l.show(),e.userPickerEnabled===!0&&(r.disable(),a.hide())):(o.show(),l.hide(),e.userPickerEnabled===!0&&(r.enable(),a.show())))};AJS.$("#"+e.userSelect,t).change(function(){var e=AJS.$(this).find("option:selected").attr("rel");s(e)}).find("option:selected").each(function(){s(AJS.$(this).attr("rel"))}),i.find("a.user-popup-trigger").click(function(t){var i=contextPath+"/secure/popups/UserPickerBrowser.jspa?";i+="formName="+e.formName+"&",i+="multiSelect="+e.multiSelect+"&",i+="decorator=popup&",i+="element="+e.fieldId;var r=window.open(i,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");r.opener=self,r.focus(),t.preventDefault()}),i.find("a.group-popup-trigger").click(function(t){var i=contextPath+"/secure/popups/GroupPickerBrowser.jspa?";i+="formName="+e.formName+"&",i+="multiSelect="+e.multiSelect+"&",i+="decorator=popup&",i+="element="+e.fieldId;var r=window.open(i,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");r.opener=self,r.focus(),t.preventDefault()})})})}();;
;
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.js' */
define("jira/admin/group-browser/group-label-lozenge",["jquery","jira/skate"],function(e,t){t("group-label-lozenge",{type:t.type.CLASSNAME,attached:function(t){e(t).tooltip({gravity:"w",html:!0})}})});;
;
/* module-key = 'jira.webresources:group-label-lozenge', location = 'includes/jira/admin/group-browser/group-label-lozenge.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),JIRA.Templates.groupLabelLozenge=function(e,l){return""+aui.lozenges.lozenge({text:e.label.text,title:e.label.title,isSubtle:!0,extraClasses:"group-label-lozenge"})};;
;
/* module-key = 'jira.webresources:groupbrowser', location = '/includes/jira/admin/group-browser/group-browser.js' */
require(["jquery","jira/admin/group-browser/group-label-lozenge"],function(i){i(function(){i(".operations-list .aui-button[disabled]").tooltip({gravity:"e",html:!1})})});;
;
/* module-key = 'jira.webresources:group-pickers', location = 'includes/jira/field/templates/groupPickerUtil.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.GroupPickerUtil&&(JIRA.Templates.GroupPickerUtil={}),JIRA.Templates.GroupPickerUtil.formatResponseWithLabels=function(e,s){return""+JIRA.Templates.GroupPickerUtil.formatResponse(soy.$$augmentMap(e,{showLabels:!0}))},JIRA.Templates.GroupPickerUtil.formatResponse=function(e,s){var t='<div class="group-suggestion-item"><span class="group-suggestion-item__name">'+soy.$$filterNoAutoescape(e.html)+"</span>";if(e.showLabels){t+='<span class="group-suggestion-item__labels group-labels-lozenges">';for(var a=e.labels,o=a.length,l=0;l<o;l++){var p=a[l];t+=JIRA.Templates.groupLabelLozenge({label:p})+" "}t+="</span>"}return t+="</div>"};;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/templates/group-picker-util-template-wrapper.js' */
define("jira/field/group-picker-util/templates",[],function(){"use strict";return window.JIRA.Templates.GroupPickerUtil});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/groupPickerUtil.js' */
define("jira/field/group-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery","jira/field/group-picker-util/templates"],function(e,t,i,r){var n=function(n,a){var s=[],u=a?r.formatResponseWithLabels:r.formatResponse;return i(n).each(function(r,n){var a=new t({weight:r,label:n.header});i(n.groups).each(function(){a.addItem(new e({value:this.name,label:this.name,title:this.name,html:u(this),highlighted:!0}))}),s.push(a)}),s};return{formatResponseWithLabels:function(e){return n(e,!0)},formatResponse:function(e,t){return n(e,t)},formatResponseWithoutLabels:function(e){return n(e,!1)}}}),AJS.namespace("JIRA.GroupPickerUtil",null,require("jira/field/group-picker-util"));;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initMultiGroupPickers.js' */
define("jira/field/init-multi-group-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,a,r,s){function n(i){i.find(".js-default-multi-group-picker").each(function(){var i=e(this),a=i.data("show-labels")===!0,r=i.data("user-name");new t({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,ajaxOptions:{data:function(e){return{userName:r,query:e,exclude:i.val()}},url:contextPath+"/rest/api/2/groups/picker",query:!0,formatResponse:a?s.formatResponseWithLabels:s.formatResponseWithoutLabels}})})}r.bind(a.NEW_CONTENT_ADDED,function(e,t,a){a!==i.panelRefreshed&&n(t)})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initSingleGroupPickers.js' */
define("jira/field/init-single-group-pickers",["jira/ajs/select/single-select","jquery","jira/ajs/list/item-descriptor","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,a,n,r,s){function l(a){a.find(".js-default-single-group-picker").each(function(){var a=t(this),n=a.find("option[data-empty]"),r=a.data("show-labels")===!0,l=a.data("user-name");new e({element:this,itemAttrDisplayed:"label",revertOnInvalid:!0,ajaxOptions:{data:function(e){return{userName:l,query:e,exclude:a.val()}},url:contextPath+"/rest/api/2/groups/picker",query:!0,formatResponse:function(e){var t=s.formatResponse(e,r);return n.length&&""!==a.val()&&t.push(new i({value:"",label:n.text(),highlighted:!0})),t}}})})}r.bind(n.NEW_CONTENT_ADDED,function(e,t,i){i!==a.panelRefreshed&&l(t)})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/init/init-group-pickers-webresource.js' */
require("jira/field/init-multi-group-pickers"),require("jira/field/init-single-group-pickers");;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/userPickerUtil.js' */
define("jira/field/user-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(e,t,i){function a(t,a){i(t).each(function(){a.addItem(new e({value:this.accountId,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))})}return{formatResponse:function(a){var r=[];return i(a).each(function(a,n){var l=new t({weight:a,label:n.footer});i(n.users).each(function(){l.addItem(new e({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))}),r.push(l)}),r},formatResponseByAccountId:function(e){var r=[];return i(e).each(function(e,i){var n=new t({weight:e,label:i.footer});a(i.users,n),r.push(n)}),r},inviteCapableFormatResponseByAccountId:function(e){var r=[];return i(e).each(function(e,i){var n=new t({weight:e,label:i.footer,showLabel:i.total>0});a(i.users,n),r.push(n)}),r}}}),AJS.namespace("JIRA.UserPickerUtil",null,require("jira/field/user-picker-util"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/rolePickerUtils.js' */
define("jira/field/role-picker-utils",["jira/ajs/list/item-descriptor","jira/analytics/web-client","jquery"],function(e,i,s){return{formatResponse:function(r){r&&i.sendUIEvent({source:"createIssueModal",actionSubjectId:"restrictIssueDropDown",actionSubject:"dropdown",action:"clicked"});var t=[];return s(r).each(function(){var i="";this.currentUserRole&&(i='<div class="flex-row"><div class="current-user">'+"You"+"</div></div>");var s='<div class="add-issue-restriction-flex-body"><div class="add-issue-restriction-role-picker flex-column"><div><span class="add-issue-restriction-name">'+AJS.escapeHtml(String(this.name))+'</span></div><div><span class="add-issue-restriction-description">'+AJS.escapeHtml(String(this.description))+"</span></div></div> "+i+"</div>";t.push(new e({value:this.id,label:this.name,allowDuplicate:!1,html:s}))}),t}}}),AJS.namespace("JIRA.RolePickerUtils",null,require("jira/field/role-picker-utils"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initSingleUserPickers.js' */
define("jira/field/init-single-user-pickers",["jquery","jira/ajs/select/single-select","jira/ajs/select/suggestions/invite-capable-suggest-handler","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/user-picker-util","jira/util/formatter"],function(e,t,a,s,n,r,i,u){function o(s){var n="/rest/api/1.0/users/picker";e(".js-default-user-picker",s).each(function(){var a=e(this);if(!a.data("aui-ss")){var s={showAvatar:!0,excludeConnectUsers:a.data("exclude-connect-users")},r=a.data("inputValue");new t({element:a,submitInputVal:!0,showDropdownButton:!!a.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+n,query:!0,data:s,formatResponse:i.formatResponse},inputText:r})}}),e(".js-default-user-picker-by-account-id",s).each(function(){var a=e(this);if(!a.data("aui-ss")){var s={showAvatar:!0,excludeConnectUsers:a.data("exclude-connect-users")},r=a.data("inputValue");new t({element:a,submitInputVal:!0,showDropdownButton:!!a.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+n,query:!0,headers:{"x-atlassian-force-account-id":!0},data:s,formatResponse:i.formatResponseByAccountId},inputText:r})}}),e(".js-invite-capable-user-picker-by-account-id",s).each(function(){var s=e(this);if(!s.data("aui-ss")){var r={showAvatar:!0,excludeConnectUsers:s.data("exclude-connect-users")},o=s.data("inputValue");new t({element:s,submitInputVal:!0,showDropdownButton:!!s.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+n,query:!0,headers:{"x-atlassian-force-account-id":!0},data:r,formatResponse:i.inviteCapableFormatResponseByAccountId},inputText:o,suggestionsHandler:a})}})}r.bind(n.NEW_CONTENT_ADDED,function(e,t,a){a!==s.panelRefreshed&&o(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/NoBrowseUserNamePicker.js' */
define("jira/field/no-browser-user-name-picker",["require"],function(e){var t=e("jquery"),r=e("jira/ajs/list/item-descriptor"),a=e("jira/ajs/select/multi-select"),i=e("jira/util/formatter");return a.extend({_getDefaultOptions:function(){return t.extend(!0,this._super(),{errorMessage:"The requested user does not exist.",showDropdownButton:!1,removeOnUnSelect:!0,itemAttrDisplayed:"label"})},_handleCharacterInput:function(){},_setSuggestions:function(){},_handleServerError:function(e){404===e.status?this.showErrorMessage():this._super()},_deactivate:function(){this.validateAndAdd()},validateAndAdd:function(){var e=this;""===t.trim(this.$field.val())?this.hideErrorMessage():t.ajax({url:contextPath+"/rest/api/2/user",data:{username:t.trim(e.getQueryVal())},success:function(t){e.hideErrorMessage(),e.$field.val(""),e.addItem(new r({label:t.displayName,value:t.name}))},error:function(){e.showErrorMessage()}})},_handleSpace:function(){this.validate()},_handleServerSuggestions:function(){this.hideErrorMessage(),this.handleFreeInput()},handleFreeInput:function(){var e=t.trim(this.$field.val());""!==e&&(this.addItem({value:e,label:e}),this.model.$element.trigger("change")),this.$field.val("")},keys:{Return:function(e){e.preventDefault(),this.validateAndAdd()},Spacebar:function(e){e.preventDefault(),this.validateAndAdd()}}})}),AJS.namespace("AJS.NoBrowseUserNamePicker",null,require("jira/field/no-browser-user-name-picker"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiUserPickers.js' */
define("jira/field/init-multi-user-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/no-browser-user-name-picker","jira/field/user-picker-util"],function(e,t,i,n,r,s,a){function u(i){i.find(".js-default-multi-user-picker").each(function(){e(this);new t({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:{url:contextPath+"/rest/api/1.0/users/picker",query:!0,data:function(e){return{showAvatar:!0,query:e}},formatResponse:a.formatResponse}})}),i.find(".js-default-multi-user-picker-by-accountId").each(function(){e(this);new t({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:{url:contextPath+"/rest/api/1.0/users/picker",query:!0,headers:{"x-atlassian-force-account-id":!0},data:function(e){return{showAvatar:!0,query:e}},formatResponse:a.formatResponseByAccountId}})})}r.bind(n.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiRolePickers.js' */
define("jira/field/init-multi-role-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/role-picker-utils","jira/analytics/web-client"],function(e,t,i,s,n,c,o){function r(e){e.find(".js-default-multi-role-picker").each(function(){AJS.$(".js-default-multi-role-picker").each(function(){const e=this.getAttribute("data-project-key")||null;e&&(o.sendScreenEvent({name:"issueRestrictionsDropDown",attributes:{projectKey:e,projectType:"software"}}),new AJS.MultiSelect({element:this,itemAttrDisplayed:"label",showDropdownButton:!0,ajaxOptions:{data:function(e){return{query:e}},error:function(t){o.sendOperationalEvent({source:"issueRestrictionsDropDown",actionSubject:"issueRestrictionRoleDetailsFailure",action:"clicked",attributes:{location:"global-issue-create",projectKey:e,error:t}})}.bind(this),url:contextPath+"/rest/api/3/project/"+e+"/internal/roledetails",query:!1,headers:{"x-atlassian-force-account-id":!0},formatResponse:c.formatResponse,removeOnUnSelect:!0,allowDuplicate:!1}}),this.selected=function(){o.sendUIEvent({source:"createIssueModal",actionSubjectId:"restrictIssueDropDownRestrictionsAdded",actionSubject:"dropdown",action:"clicked",attributes:{location:"global-issue-create",projectKey:e}})},this.unselect=function(){o.sendUIEvent({source:"createIssueModal",actionSubjectId:"restrictIssueDropDownRestrictionsRemoved",actionSubject:"dropdown",action:"clicked",attributes:{location:"global-issue-create",projectKey:e}})},this.$select=AJS.$("#issuerestriction-multi-select"),this.$select.bind("selected",this.selected),this.$select.bind("unselect",this.unselect)),AJS.$(this).attr("select2","true")})})}n.bind(s.NEW_CONTENT_ADDED,function(e,t,s){s!==i.panelRefreshed&&r(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/init/init-user-pickers-webresource.js' */
require("jira/field/init-multi-user-pickers"),require("jira/field/init-single-user-pickers"),require("jira/field/init-multi-role-pickers");;
;
/* module-key = 'jira.webresources:team-pickers', location = '/includes/jira/field/team/utils.js' */
define("jira/field/team/utils",["jquery","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor"],function(e,a,t){return{formatResponse:function(e){const i=new t({weight:1,label:"Suggestions"});return e.forEach(function(e){i.addItem(new a({value:e.id.replace(/^ari:cloud:teams::team\//,"").replace(/^ari:cloud:identity::team\//,""),label:e.displayName,icon:e.smallAvatarImageUrl,allowDuplicate:!1,highlighted:!0}))}),[i]},formatURSResponse:function(e){const i=new t({weight:1,label:"Suggestions"});return e.recommendedUsers.forEach(function(e){i.addItem(new a({value:e.id.replace(/^ari:cloud:teams::team\//,"").replace(/^ari:cloud:identity::team\//,""),label:e.displayName,icon:e.smallAvatarImageUrl,allowDuplicate:!1,highlighted:!0}))}),[i]}}});;
;
/* module-key = 'jira.webresources:team-pickers', location = '/includes/jira/field/team/initPickers.js' */
define("jira/field/team/init-pickers",["jquery","jira/ajs/select/single-select","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/team/utils","jira/analytics/web-client","jira/featureflags/feature-manager"],function(e,t,n,a,i,r,c,s,o){function u(e){const t="/gateway/api/graphql",n="query orgId($cloudIds: [ID!]) { tenantContexts(cloudIds: $cloudIds) { orgId } }";return fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:n,variables:{cloudIds:[e]}})}).then(function(e){return e.ok?e.json():null}).catch(function(e){return null})}function l(e,t){return{url:"/gateway/api/v1/recommendations",query:!0,type:"POST",contentType:"application/json; charset=utf-8",data:function(n){return JSON.stringify({includeGroups:!1,includeTeams:!0,includeUsers:!1,maxNumberOfResults:100,performSearchQueryOnly:!1,searchQuery:{queryString:n},context:{contextType:"team",principalId:"Context",productKey:"jira",siteId:t,organizationId:e}})},formatResponse:c.formatURSResponse}}function d(n,a,i){const r=l(n,a),c={itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,showIcon:!1,ajaxOptions:r};i.find(".js-default-team-picker").each(function(){const n=this;new t(Object.assign({element:n},c));var a=!1;e(n).change(function(){a=!0,s.sendUIEvent({source:"QuickCreateIssue",actionSubject:"userPicker",action:"clicked",attributes:{context:"team"}})});const i=e(n).parent().find("input");e(i).focus(function(){a=!1}),e(i).blur(function(){a||s.sendUIEvent({source:"QuickCreateIssue",actionSubject:"userPicker",action:"cancelled",attributes:{context:"team"}})})})}r.bind(i.NEW_CONTENT_ADDED,function(e,t,n){var i,r=AJS.Meta.get("cloud-id");n!==a.panelRefreshed&&u(r).then(function(e){e&&e.data&&e.data.tenantContexts&&(i=e.data.tenantContexts[0].orgId),d(i,r,t)})})});;
;
/* module-key = 'jira.webresources:ie-imitation-placeholder', location = '/includes/jira/field/IEImitationPlaceholder.js' */
require(["jquery"],function(e){e.fn.ieImitationPlaceholder=function(){function a(){var a=e(this);""===a.val()&&(a.val(a.attr("placeholder")),a.addClass("input-placeholder"))}function l(){var a=e(this);a.val()===a.attr("placeholder")&&(a.val(""),a.removeClass("input-placeholder"))}function i(){t.each(l)}if(e.browser.msie){var r=this,t=r.find("[placeholder]");t.focus(l),t.blur(a),r.submit(i),t.each(a)}}});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/ProjectIssueTypeSelect.js' */
define("jira/field/project-issue-type-select",["jira/lib/class"],function(e){return e.extend({init:function(e){var s,t=this;this.$project=e.project,this.issueTypeSelect=e.issueTypeSelect,this.$projectIssueTypesSchemes=e.projectIssueTypesSchemes,this.$issueTypeSchemeIssueDefaults=e.issueTypeSchemeIssueDefaults,this.$defaultIssueTypes=e.defaultIssueTypes,this.projectIssueTypeSchemes=JSON.parse(this.$projectIssueTypesSchemes.html()),this.issueTypesSchemeDefaults=JSON.parse(this.$issueTypeSchemeIssueDefaults.html()||"[]"),this.defaultIssueTypes=JSON.parse(this.$defaultIssueTypes.html()||"[]"),t.$project.length>0&&(s=t.$project.val(),0===t.$projectIssueTypesSchemes.length?t.setIssueTypeForProject(s):t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(s)),this.$project.change(function(){var e=t.$project.val();0===t.$projectIssueTypesSchemes.length?t.setIssueTypeForProject(e):t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(e))}))},getIssueTypeSchemeForProject:function(e){return this.projectIssueTypeSchemes[e]},getDefaultIssueTypeForProject:function(e){return this.defaultIssueTypes[e]},getDefaultIssueTypeForProjectWithSchemeId:function(e){return this.issueTypesSchemeDefaults[e]},setIssueTypeForProject:function(e){var s=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.setFilterGroup(e),this.issueTypeSelect.model.setSelected(s,!1)||this.setDefaultIssueTypeWithProjectId(e),this.issueTypeSelect.model.$element.data("project",this.$project.val())},setIssueTypeScheme:function(e){var s=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.setFilterGroup(e),this.issueTypeSelect.model.setSelected(s,!1)||this.setDefaultIssueType(e),this.issueTypeSelect.model.$element.data("project",this.$project.val())},setDefaultIssueTypeWithProjectId:function(e){var s=this.getDefaultIssueTypeForProject(e),t=this.issueTypeSelect.model.getDescriptor(s);t||(t=this.issueTypeSelect.model.getAllDescriptors()[0]),this.issueTypeSelect.setSelection(t,!1)},setDefaultIssueType:function(e){var s=this.getDefaultIssueTypeForProjectWithSchemeId(e),t=this.issueTypeSelect.model.getDescriptor(s);t||(t=this.issueTypeSelect.model.getAllDescriptors()[0]),this.issueTypeSelect.setSelection(t,!1)}})}),AJS.namespace("JIRA.ProjectIssueTypeSelect",null,require("jira/field/project-issue-type-select"));;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectIssueTypeSelect.js' */
define("jira/field/init-project-issue-type-select",["jira/ajs/select/suggestion-collection-model","jquery","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/project-issue-type-select"],function(e,t,s,i,l,r,d){function n(i){var l=i||t("body");l.find(".issuetype-field").each(function(i){var r=l.find(".project-field, .project-field-readonly"),n=t(this),a=l.find("#"+n.attr("id")+"-projects"),o=l.find("#"+n.attr("id")+"-defaults"),p=l.find(".qf-field.qf-field-issuetype"),u=l.find("input#request-or-issue-type-field"),f=l.find("div#request-or-issue-type-field-options");if(u.length){var c=new s({element:u,revertOnInvalid:!0,model:e});p.hide(),u.data("options",f.data("suggestions"));var y=l.find("input.request-type-field"),j=c.model.selectedDescriptors&&c.model.selectedDescriptors[0];j&&(y.attr("value",j.properties.payload.requestTypeKey),n.attr("value",j.properties.payload.issueTypeId))}else{var v=new s({element:n,revertOnInvalid:!0,model:e});v.model.remove(""),r.length>0&&new d({project:r.eq(i),issueTypeSelect:v,projectIssueTypesSchemes:a,issueTypeSchemeIssueDefaults:o,defaultIssueTypes:o})}})}r.bind(l.NEW_CONTENT_ADDED,function(e,t,s){s!==i.panelRefreshed&&n(t)})});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initIssueTypePickers.js' */
;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectPickers.js' */
define("jira/field/init-project-pickers",["jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t,l){function s(n){n.find(".project-field").each(function(){new e({element:this,revertOnInvalid:!0,pageSize:50,pagingThreshold:100,model:i})})}l.bind(t.NEW_CONTENT_ADDED,function(e,i,t){t!==n.panelRefreshed&&s(i)})});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/init/init-jira-project-issuetype-fields-webresource.js' */
require("jira/field/init-project-issue-type-select"),require("jira/field/init-project-pickers");;
;
/* module-key = 'jira.webresources:jira-fields', location = 'includes/jira/field/field-templates.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Fields&&(JIRA.Templates.Fields={}),JIRA.Templates.Fields.username=function(e,s){return""+(e.escape?soy.$$escapeHtml(e.displayName):soy.$$filterNoAutoescape(e.displayName))},JIRA.Templates.Fields.recipientUsername=function(e,s){return'<li data-username="'+soy.$$escapeHtml(e.username)+'" title='+soy.$$escapeHtml(e.username)+'><span><span class="user-hover" rel="'+soy.$$escapeHtml(e.username)+'"><img alt="" src="'+soy.$$escapeHtml(e.icon)+'" title="'+JIRA.Templates.Fields.username(e)+'"><span title="'+JIRA.Templates.Fields.username(e)+'">'+JIRA.Templates.Fields.username(e)+"</span></span>"+(e.readOnly?"":'<button type="button" class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$escapeHtml(AJS.format("Remove watcher: {0}",e.username))+"</span></button>")+"</span></li>"},JIRA.Templates.Fields.recipientEmail=function(e,s){return'<li data-email="'+soy.$$escapeHtml(e.email)+'" title='+soy.$$escapeHtml(e.email)+'><span><img src="'+soy.$$escapeHtml(e.icon)+'" title="'+soy.$$escapeHtml(e.email)+'"><span title="'+soy.$$escapeHtml(e.email)+'">'+soy.$$escapeHtml(e.email)+'</span><span class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></span></li>'};;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/util/formatter","jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery"],function(e,t,i,s,a,l){var n=a();return t.extend({_getDefaultOptions:function(){return l.extend(!0,this._super(),{ajaxOptions:{url:n+"/includes/js/ajs/layer/labeldata.js",query:!0,formatResponse:this._formatResponse},removeDuplicates:!0,removeOnUnSelect:!0,userEnteredOptionsMsg:"New Label"})},isValidItem:function(e){return!/\s/.test(e)},_handleServerSuggestions:function(e){e&&e.token&&l.trim(this.$field.val())!==e.token||this._super(e)},_handleSpace:function(){""!==l.trim(this.$field.val())&&this.handleFreeInput()&&this.hideSuggestions()},keys:{Spacebar:function(e){this._handleSpace(),e.preventDefault()}},_formatResponse:function(t){var a=new i({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});return t&&t.suggestions&&l.each(t.suggestions,function(){a.addItem(new s({value:this.label,label:this.label,html:this.html,highlighted:!0}))}),[a]},handleFreeInput:function(){var e=l.trim(this.$field.val()).match(/\S+/g);if(e){for(var t,i=0;t=e[i];i++)this.addItem({value:t,label:t});this.model.$element.trigger("change")}this.$field.val("")}})}),AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker")),AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPickerFactory.js' */
define("jira/field/label-picker-factory",["jira/field/label-picker","jira/data/parse-options-from-fieldset","jquery","exports"],function(e,i,t,a){a.createPicker=function(a,r){var s=i(a),d=t("#"+s.id,r),l=s.issueId,c={};/customfield_\d/.test(s.id)&&(c.customFieldId=parseInt(s.id.replace("customfield_",""),10)),new e({element:d,ajaxOptions:{url:contextPath+"/rest/api/1.0/labels"+(l?"/"+l:"")+"/suggest",data:c}})}});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.Item.js' */
define("jira/field/multi-user-list-picker/item",["jira/util/data/meta","jira/ajs/control","jquery"],function(e,t,i){return t.extend({init:function(e){this._setOptions(e),this.$lozenge=this._render("item"),this.$removeButton=this.$lozenge.find(".remove-recipient"),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$lozenge.prependTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{item:function(){var t,n=this.options.descriptor;return n.noExactMatch()!==!0?(t={escape:!1,username:n.value(),icon:n.icon(),displayName:AJS.escapeHtml(n.label())},i(JIRA.Templates.Fields.recipientUsername(t))):(t={email:n.value(),icon:e.get("default-avatar-url")},i(JIRA.Templates.Fields.recipientEmail(t)))}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){e.stopPropagation(),this.trigger("remove")}}}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.js' */
define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","jquery"],function(e,t,i,r,s,n,a,l){return r.extend({init:function(r){function u(e){var t=[];return l(e).each(function(e,i){var r=new n({weight:e,label:i.footer});l(i.users).each(function(){r.addItem(new s({value:this.accountId,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))}),t.push(r)}),t}var o="/rest/api/1.0/users/picker";l.extend(r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:"Email address",showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:contextPath+o,query:!0,headers:{"x-atlassian-force-account-id":!0},data:{showAvatar:!0},formatResponse:u},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}}),this._super(r)},_createFurniture:function(e){this._super(e),this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:l.noop,_renders:{selectedItemsWrapper:function(){return l('<div class="recipients" />')},selectedItemsContainer:function(){return l("<ol />")},description:function(e){return l("<div />").addClass("description").text(e)}}})}),AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker")),AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCascadingSelects.js' */
define("jira/field/init-cascading-selects",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){function a(i){e(i||document.body).find("div.aui-field-cascadingselect").add("tr.aui-field-cascadingselect").add("td.aui-field-cascadingselect").each(function(){function i(){var i,n=t.find("option:selected").attr("class");n!==a&&(i=e("<span />").insertAfter(d),d.detach(),d.find("option").each(function(e,i){i.parentNode.removeChild(this)}),d.insertAfter(i),i.remove(),c.filter("."+t.find("option:selected").attr("class")).appendTo(d),s.hasClass(t.find("option:selected").attr("class"))?d.val(s.val()):d.val(d.find("option:first").val()),a=n)}var n=e(this),t=n.find(".cascadingselect-parent"),a=(t.find("option"),""),d=n.find(".cascadingselect-child"),c=d.find("option"),s=d.find(":selected");t.bind("cascadingSelectChanged",i).change(function(){e(this).trigger("cascadingSelectChanged")}).trigger("cascadingSelectChanged")})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&a(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/ComponentPicker.js' */
define("jira/field/component-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,n,s,i,r){return s.extend({init:function(e){this._super(e),this.suggestionsHandler=new n(this.options,this.model)},_getDefaultOptions:function(t){var n=!1;return t&&t.element&&(n=r(t.element).data("create-permission")),n?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Component"}):this._super(t)},_selectionHandler:function(e,n){var s=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor"),o=i.find(s,function(e){return e.label()===r.label()});o||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Component.new.selected",[r.value()])),this._super(e,n)}})}),AJS.namespace("JIRA.ComponentPicker",null,require("jira/field/component-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initComponentPickers.js' */
define("jira/field/init-component-pickers",["jira/field/component-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,n,r,t,i,o){function l(r){new e({element:r,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid component.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var n,r=o(e);return n=r.is("select")?r:r.find("select")}function c(e,n){n=n||s.join(", "),o(n,e).each(function(){var e=a(this);e.length&&l(e)})}var s=["div.aui-field-componentspicker.frother-control-renderer","td.aui-field-componentspicker.frother-control-renderer","tr.aui-field-componentspicker.frother-control-renderer"];r.bind(t.NEW_CONTENT_ADDED,function(e,n,r){r!==i.panelRefreshed&&c(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initMultiselectPickers.js' */
define("jira/field/init-multi-select-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/util/formatter"],function(e,t,i,n,l,r){function s(e){new t({element:e,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid value.",maxInlineResultsDisplayed:15,submitInputVal:!0,expandAllResults:!0})}function a(t){var i,n=e(t);return i=n.is("select")?n:n.find("select")}function u(t,i){i=i||c.join(", "),e(i,t).each(function(){var e=a(this);e.length&&s(e)})}var c=["div.aui-field-multiselectpicker.frother-control-renderer"];l.bind(n.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initDatePickers.js' */
define("jira/field/init-date-pickers",["jquery","jira/data/parse-options-from-fieldset","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,t,d,n){function a(t){e(t||document.body).find("div.aui-field-datepicker").add("tr.aui-field-datepicker").add("td.aui-field-datepicker").each(function(){function d(){a.prop("disabled",r.is(":checked"))}var n=e(this),a=n.find("input:text"),r=n.find("#useCurrentDate"),f=i(n.find("fieldset.datepicker-params"));f.context=t,Calendar.setup(f),r.length&&(d(),r.click(d))})}n.bind(d.NEW_CONTENT_ADDED,function(e,i,d){d!==t.panelRefreshed&&a(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLegacyGroupPickers.js' */
define("jira/field/init-legacy-group-pickers",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,r,t){function n(i){e(i||document.body).find("div.aui-field-grouppicker").add("tr.aui-field-grouppicker").add("td.aui-field-grouppicker").each(function(){function i(e){e.preventDefault(),window.open(n,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes")}var r=e(this),t=r.find("a.grouppicker-trigger"),n=t.attr("href");t.click(i)})}t.bind(r.NEW_CONTENT_ADDED,function(e,r,t){t!==i.panelRefreshed&&n(r)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initIssuePickers.js' */
define("jira/field/init-issue-pickers",["jira/field/issue-picker","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/util/formatter"],function(e,i,n,t,s,r){function u(i){s(i||document.body).find(".aui-field-issuepicker").each(function(){new e({element:s(this),userEnteredOptionsMsg:"Enter issue key",uppercaseUserEnteredOnSelect:!0})})}i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&u(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLabelPickers.js' */
define("jira/field/init-label-pickers",["jira/field/label-picker-factory","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,n,r,a){function t(e){var i,n=a(e);return i=n.is(c)?n:n.find(c)}function l(i,n){n=n||".aui-field-labelpicker",a(n,i).each(function(){var n=t(this);n.length>0&&e.createPicker(n,i)})}var c="fieldset.labelpicker-params";i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==r.panelRefreshed&&l(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/VersionPicker.js' */
define("jira/field/version-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,s,i,n,r){return i.extend({init:function(e){this._super(e),this.suggestionsHandler=new s(this.options,this.model)},_getDefaultOptions:function(t){var s=!1;return t&&t.element&&(s=r(t.element).data("create-permission")),s?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Version"}):this._super(t)},_selectionHandler:function(e,s){var i=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor"),l=n.find(i,function(e){return e.label()===r.label()});l||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Version.new.selected",[r.value()])),this._super(e,s)}})}),AJS.namespace("JIRA.VersionPicker",null,require("jira/field/version-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initVersionPickers.js' */
define("jira/field/init-version-pickers",["jira/field/version-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,n,r,t,s){function l(n){new e({element:n,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} is not a valid version.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var i,n=s(e);return i=n.is("select")?n:n.find("select")}function o(e,i){i=i||".aui-field-versionspicker.frother-control-renderer",s(i,e).each(function(){var e=a(this);e.length&&l(e)})}n.bind(r.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&o(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCommentControls.js' */
define("jira/field/init-comment-controls",["jira/skate","jira/ajs/select/security-level-select","jira/wikipreview/wiki-preview"],function(e,i,t){e("jira-wikifield",{type:e.type.CLASSNAME,created:function(e){var i={fieldId:e.getAttribute("field-id"),trigger:e.querySelector(".wiki-preview").id,issueKey:e.getAttribute("issue-key"),rendererType:e.getAttribute("renderer-type")};t(i,e).init()}}),e("security-level",{type:e.type.CLASSNAME,created:function(e){var t=e.querySelector("#commentLevel");t&&new i(t)}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLogWorkControls.js' */
define("jira/field/init-log-work-controls",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,t,a,i){function n(e,t){var a=i(e).find("#worklog-logworkcontainer"),n=i(e).find("#worklog-timetrackingcontainer"),d=i(e).find("#log-work-activate");t?(a.removeClass("hidden"),n.addClass("hidden"),d.prop("checked",!0)):(a.addClass("hidden"),n.removeClass("hidden"),d.prop("checked",!1))}function d(e){i("#log-work-adjust-estimate-new-value, #log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked",e).val()+"-value",e).removeAttr("disabled"),i("input[name=worklog_adjustEstimate],input[name=adjustEstimate]",e).change(function(){i("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i(this).val()+"-value",e).removeAttr("disabled")}),i("#delete-log-work-adjust-estimate-new-value").change(function(){i("#delete-log-work-adjust-estimate-new").prop("checked",!0)}),i("#delete-log-work-adjust-estimate-manual-value").change(function(){i("#delete-log-work-adjust-estimate-manual").prop("checked",!0)}),i(e).find("#log-work-activate").change(function(){n(e,i(this).is(":checked"))})}e.bind(t.VALIDATE_TIMETRACKING,function(e,t){n(t,!0)}),e.bind(t.NEW_CONTENT_ADDED,function(e,t,i){i!==a.panelRefreshed&&d(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initPriorityPickers.js' */
define("jira/field/init-priority-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){function r(i){i.find("select#priority").each(function(i,n){new e({element:n,revertOnInvalid:!0})})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&r(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initParentPickers.js' */
define("jira/field/init-parent-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,n,t,i){function s(n){function t(n){new e({element:n,revertOnInvalid:!0})}function i(e){const n=new JIRA.ParentPicker({element:e});AJS.$(document).trigger(JIRA.ParentPicker.READY_EVENT,n)}n.find("select#parent").each(function(e,n){n.classList&&n.classList.contains("js-parent-picker")?i(n):t(n)})}i.bind(t.NEW_CONTENT_ADDED,function(e,t,i){i!==n.panelRefreshed&&s(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initInlineAttach.js' */
define("jira/field/init-inline-attach",["jquery","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/analytics","jira/jquery/plugins/attachment/inline-attach"],function(i,n,e,t,a){function r(i){i.find("input[type=file]:not('.ignore-inline-attach')").inlineAttach()}n.bind(e.NEW_CONTENT_ADDED,function(i,n,e){if(e!==t.panelRefreshed)try{r(n)}catch(i){a.send({name:"field.inline.attach.error",properties:{reason:i}})}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/issue/initIssueFields.js' */
require(["jira/skate","jira/ajs/select/single-select","jira/ajs/select/multi-select","jira/util/formatter","jquery"],function(e,t,l,s,a){e("single-select-issue-field",{type:e.type.CLASSNAME,attached:function(e){a(e).hasClass("aui-ss-select")||new t({element:e,revertOnInvalid:!0})}}),e("multi-select-issue-field",{type:e.type.CLASSNAME,attached:function(e){a(e).hasClass("multi-select-select")||new l({element:e,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} is not a valid value.",maxInlineResultsDisplayed:15,expandAllResults:!0})}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/init/init-jira-fields-webresource.js' */
require("jira/field/init-cascading-selects"),require("jira/field/init-component-pickers"),require("jira/field/init-multi-select-pickers"),require("jira/field/init-date-pickers"),require("jira/field/init-legacy-group-pickers"),require("jira/field/init-issue-pickers"),require("jira/field/init-label-pickers"),require("jira/field/init-version-pickers"),require("jira/field/init-comment-controls"),require("jira/field/init-log-work-controls"),require("jira/field/init-priority-pickers"),require("jira/field/init-parent-pickers"),require("jira/field/init-inline-attach"),require("jira/field/team/init-pickers");;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'jira-quick-edit-plugin/soy/quickform.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.QuickForm&&(JIRA.Templates.QuickForm={}),JIRA.Templates.QuickForm.field=function(e,i){return""+soy.$$filterNoAutoescape(e.editHtml)},JIRA.Templates.QuickForm.fieldPicker=function(e,i){return'<div class="qf-picker"><div class="qf-picker-header"><dl><dt>'+soy.$$escapeHtml("Show Fields:")+"</dt>"+(e.isConfigurable?'<dd><a class="qf-unconfigurable" href="#">'+soy.$$escapeHtml("All")+"</a></dd><dd>"+soy.$$escapeHtml("Custom")+"</dd>":"<dd>"+soy.$$escapeHtml("All")+'</dd><dd><a class="qf-configurable" href="#">'+soy.$$escapeHtml("Custom")+"</a></dd>")+'<div class="whereismycf-qfpicker-link" id="qf-picker-custom-link"></div></dl></div><div class="qf-picker-content '+(e.isConfigurable?"":"qf-picker-unconfigurable")+'"></div><div class="qf-picker-footer"></div></div>'},JIRA.Templates.QuickForm.configurablePickerButton=function(e,i){return'<a title="'+soy.$$escapeHtml(e.label)+'" data-field-id="'+soy.$$escapeHtml(e.fieldId)+'" class="qf-picker-button'+(e.isActive?" qf-active":"")+'" href="#">'+soy.$$escapeHtml(e.label)+(e.required?'<span class="aui-icon icon-required"></span>':"")+"</a>"},JIRA.Templates.QuickForm.unconfigurablePickerButton=function(e,i){return'<span title="'+soy.$$escapeHtml(e.label)+'" data-field-id="'+soy.$$escapeHtml(e.fieldId)+'" class="qf-picker-button'+(e.isActive?" qf-active":"")+'" href="#">'+soy.$$escapeHtml(e.label)+(e.required?'<span class="aui-icon icon-required"></span>':"")+"</span>"},JIRA.Templates.QuickForm.errorMessage=function(e,i){return""+aui.message.error({closeable:"true",content:e.message})};;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'jira-quick-edit-plugin/soy/issue.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issue&&(JIRA.Templates.Issue={}),JIRA.Templates.Issue.editIssueError=function(e,t){return"<h2>"+soy.$$escapeHtml("Edit issue")+'</h2><div class="form-body">'+soy.$$filterNoAutoescape(e.errorHtml)+"</div>"},JIRA.Templates.Issue.editIssueForm=function(e,t){return'<form action="#" name="jiraform" class="aui"><h2>'+(e.showFieldConfigurationToolBar?JIRA.Templates.Issue.fieldConfigurationToolbar(null):"")+soy.$$filterNoAutoescape(e.title)+'</h2><div class="form-body"><input type="hidden" name="id" value="'+soy.$$escapeHtml(e.issueId)+'"/><input type="hidden" name="atl_token" value="'+soy.$$escapeHtml(e.atlToken)+'"/><input type="hidden" name="formToken" value="'+soy.$$escapeHtml(e.formToken)+'"/><input type="hidden" name="pid" value="'+soy.$$escapeHtml(e.pid)+'"/><div class="content">'+(e.fieldsHtml?soy.$$filterNoAutoescape(e.fieldsHtml):"")+(e.commentField?soy.$$filterNoAutoescape(e.commentField.editHtml):"")+'<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button aui-button-primary" id="edit-issue-submit" name="Edit" type="submit" value="'+soy.$$escapeHtml("Update")+'"/><a href="#" accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"},JIRA.Templates.Issue.fieldConfigurationToolbar=function(e,t){return""+aui.toolbar2.toolbar2({extraClasses:"qf-form-operations",content:""+aui.toolbar2.item({item:"secondary",content:""+aui.buttons.button({text:" "+soy.$$escapeHtml("Configure fields"),id:"qf-field-picker-trigger",extraClasses:"toolbar-trigger",iconText:"Configure fields",iconType:"aui",iconClass:"aui-icon-small aui-iconfont-configure"})})})},JIRA.Templates.Issue.issueFields=function(e,t){var s="";if(e.hasTabs){s+='<div class="aui-tabs horizontal-tabs" id="horizontal"><ul class="tabs-menu">';for(var o=e.tabs,a=o.length,i=0;i<a;i++){var l=o[i];s+=l?'<li class="menu-item '+(l.isFirst?"first active-tab":"")+' "><a href="#tab-'+soy.$$escapeHtml(l.position)+'"><strong>'+soy.$$escapeHtml(l.label)+"</strong></a></li>":""}s+="</ul>";for(var n=e.tabs,r=n.length,c=0;c<r;c++){var u=n[c];if(u){s+='<div class="tabs-pane '+(u.isFirst?"active-pane":"")+'" id="tab-'+soy.$$escapeHtml(u.position)+'">';for(var m=u.fields,d=m.length,f=0;f<d;f++){var p=m[f];s+=p.editHtml?soy.$$filterNoAutoescape(p.editHtml):""}s+="</div>"}}s+="</div>"}else for(var $=e.fields,y=$.length,I=0;I<y;I++){var v=$[I];s+=v.editHtml?soy.$$filterNoAutoescape(v.editHtml):""}return s},JIRA.Templates.Issue.createIssueForm=function(e,t){var s='<form name="jiraform" action="#" class="aui"><h2>'+(e.showFieldConfigurationToolBar?JIRA.Templates.Issue.fieldConfigurationToolbar(null):"")+'<button class="aui-button" id="import-issues">'+soy.$$escapeHtml("Import issues")+"</button>"+soy.$$escapeHtml(e.title)+'</h2><div class="form-body">';if(e.issueSetupFields){s+='<div class="issue-setup-fields">';for(var o=e.issueSetupFields,a=o.length,i=0;i<a;i++){var l=o[i];s+='<div class="qf-field qf-field-'+soy.$$escapeHtml(l.id)+' qf-required" data-field-id="'+soy.$$escapeHtml(l.id)+'">'+soy.$$filterNoAutoescape(l.editHtml)+"</div>"}s+="</div>"}return s+=(e.parentIssueId?'<input type="hidden" name="parentIssueId" value="'+soy.$$escapeHtml(e.parentIssueId)+'"/>':"")+'<input type="hidden" name="atl_token" value="'+soy.$$escapeHtml(e.atlToken)+'"/><input type="hidden" name="formToken" value="'+soy.$$escapeHtml(e.formToken)+'"/><div class="content">'+(e.fieldsHtml?soy.$$filterNoAutoescape(e.fieldsHtml):"")+'<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons">'+(e.disallowCreateAnother?"":'<label for="qf-create-another" class="qf-create-another"><input id="qf-create-another" type="checkbox"'+(e.multipleMode?'checked="checked"':"")+" />"+soy.$$escapeHtml("Create another")+"</label>")+'<input accesskey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'" class="aui-button aui-button-primary" id="create-issue-submit" name="Edit" type="submit" value="'+soy.$$escapeHtml("Create")+'"/><a href="#" accesskey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'" class="cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"},JIRA.Templates.Issue.checkBoxField=function(e,t){return'<fieldset class="group"><legend><span></span></legend><div class="checkbox"><input class="checkbox" type="checkbox" name="'+soy.$$escapeHtml(e.name)+'" id="'+soy.$$escapeHtml(e.name)+'" value="true" '+(e.checked?"checked":"")+'><label for="'+soy.$$escapeHtml(e.name)+'">'+soy.$$escapeHtml(e.label)+"</label></div></fieldset>"},JIRA.Templates.Issue.createIssueError=function(e,t){return"<h2>"+soy.$$escapeHtml("Create issue")+'</h2><div class="form-footer">'+soy.$$filterNoAutoescape(e.errorHtml)+"</div>"},JIRA.Templates.Issue.undealtErrors=function(e,t){for(var s="<div>"+soy.$$escapeHtml("There were some errors when trying to create this issue")+"</div><ul>",o=e.errors,a=o.length,i=0;i<a;i++){var l=o[i];s+="<li>"+soy.$$escapeHtml(l)+"</li>"}return s+="</ul>"};;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/templates/form.js' */
define("quick-edit/templates/form",function(){return JIRA.Templates.QuickForm});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/templates/issue.js' */
define("quick-edit/templates/issue",function(){return JIRA.Templates.Issue});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/util/extension-mixin.js' */
define("quick-edit/util/extension-mixin",["jquery"],function(e){"use strict";var t=function(t,i,n){return e(this).trigger(t,i),n&&this.globalEventNamespaces&&e.each(this.globalEventNamespaces,function(n,r){e(document).trigger(r+"."+t,i)}),this};return{triggerEvent:t}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/util/class.js' */
define("quick-edit/util/class",["quick-edit/util/extension-mixin","jira/lib/class"],function(i,e){return e.extend(i)});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/util/control.js' */
define("quick-edit/util/control",["quick-edit/util/extension-mixin","jira/ajs/control"],function(i,n){return n.extend(i)});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/util/dialog.js' */
define("quick-edit/util/dialog",["jira/dialog/dialog","jira/issue","jira/issuenavigator/issue-navigator"],function(e,i,t){"use strict";var u=JIRA.Issues,s=function(i){var t=e.current,u=t.$activeTrigger;if(u)return u.attr(i)},r=function(){var e=s("data-issueKey");return!e&&i.getIssueKey()&&(e=i.getIssueKey()),!e&&t.getSelectedIssueKey()&&(e=t.getSelectedIssueKey()),!e&&u&&(e=u.Api.getSelectedIssueKey()),e},a=function(e){var i=r();return i?e+": "+i:e},g=function(){return u||t.isNavigator()||s("data-issueKey")};return{getActionIssueKey:r,getAttrFromActiveTrigger:s,getIssueActionTitle:a,shouldShowIssueKeyInTitle:g}}),AJS.namespace("JIRA.Dialog.getActionIssueKey",null,require("quick-edit/util/dialog").getActionIssueKey),AJS.namespace("JIRA.Dialog.getAttrFromActiveTrigger",null,require("quick-edit/util/dialog").getAttrFromActiveTrigger),AJS.namespace("JIRA.Dialog.getIssueActionTitle",null,require("quick-edit/util/dialog").getIssueActionTitle),AJS.namespace("JIRA.Dialog.shouldShowIssueKeyInTitle",null,require("quick-edit/util/dialog").shouldShowIssueKeyInTitle);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/util/jira.js' */
define("quick-edit/util/jira",["quick-edit/templates/issue","jira/util/data/meta","aui/message","jquery"],function(e,r,t,a){"use strict";var i=function(e){var r,t,a,i=e.closest(".tabs-pane");i.length&&(t=i.closest(".aui-tabs"),r=i.attr("id"),a=t.find("a[href='#"+r+"']"),a.click())},s=function(e,r){u("error",e,AJS.escapeHtml(r),!1)},n=function(e,r){u("error",e,r,!1)},o=function(r,t){var s,o=[];a.each(t,function(e,t){var i,n,u=r.find(":input[name='"+e+"']").last();1===u.length?(s||(s=u),n=a("<div class='error' />").attr("data-field",e).text(t),i=u.closest(".field-group, .group"),i.find(".error").remove(),i.append(n)):0===u.length&&o.push(t)}),o.length>0&&n(r,e.undealtErrors({errors:o})),i(r.find(".error:first")),s&&s.focus()},u=function(e,r,i,s){var n=r.find(".aui-message-context");n.length||(n=a("<div class='aui-message-context' />"),n.prependTo(r.find(".form-body"))),n.empty(),t[e](n,{shadowed:!1,closeable:s,body:i})},c=function(e,r){return u("success",e,r,!0)},l=function(e){var r=a(e);return{html:r.not("script"),scripts:r.filter("script")}},p=function(e){return a.isFunction(e)?e:function(){return e}},d=function(){return r.get("keyboard-accesskey-modifier")},m=function(e){var r=JSON.parse(a('meta[name="ajs-product-editions"]').attr("content"));switch(r[e]){case"f":return"jedi";case"s":return"standard";case"p":return"premium";default:return"unlicensed"}},f=function(e){switch(e){case"business":return"jira-core";case"software":return"jira-software";case"service_desk":return"jira-servicedesk";default:return"unknown"}};return{activateTabWithChild:i,applyErrorMessageToForm:s,applyErrorMessageWithHTMLToForm:n,applyErrorsToForm:o,applyMessageToForm:u,applySuccessMessageToForm:c,getModifierKey:d,extractScripts:l,makePropertyFunc:p,getEdition:m,getApplication:f}}),AJS.namespace("JIRA.activateTabWithChild",null,require("quick-edit/util/jira").activateTabWithChild),AJS.namespace("JIRA.applyErrorMessageWithHTMLToForm",null,require("quick-edit/util/jira").applyErrorMessageWithHTMLToForm),AJS.namespace("JIRA.applyErrorMessageToForm",null,require("quick-edit/util/jira").applyErrorMessageToForm),AJS.namespace("JIRA.applyErrorsToForm",null,require("quick-edit/util/jira").applyErrorsToForm),AJS.namespace("JIRA.applyMessageToForm",null,require("quick-edit/util/jira").applyMessageToForm),AJS.namespace("JIRA.applySuccessMessageToForm",null,require("quick-edit/util/jira").applySuccessMessageToForm),AJS.namespace("JIRA.extractScripts",null,require("quick-edit/util/jira").extractScripts),AJS.namespace("JIRA.makePropertyFunc",null,require("quick-edit/util/jira").makePropertyFunc);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/util/hierarchy.js' */
define("quick-edit/util/hierarchy",[],function(){"use strict";var e=function(e){return{id:Number(e.id),aboveLevelId:e.aboveLevelId?Number(e.aboveLevelId):null,belowLevelId:e.belowLevelId?Number(e.belowLevelId):null}},l=function(l){return l.reduce(function(l,u){return l[u.id]=e(u),l},{})},u=function(e){var u=e.baseLevelId||null,n=e.sameLevelId||null,r=l(e.levels);if(!n||!u||void 0===r[n]||void 0===r[u])return null;if(n===u)return 0;for(var v=0,i=r[n].aboveLevelId,d=r[n].belowLevelId;null!==i||null!==d;){if(v+=1,i===u)return-v;if(d===u)return v;if(i=null!==i&&r[i]?r[i].aboveLevelId:null,d=null!==d&&r[d]?r[d].belowLevelId:null,i===n||d===n)return null}return null};return{getIssueTypeLevel:u}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/field/configurable.js' */
define("quick-edit/form/field/configurable",["quick-edit/util/jira","quick-edit/util/control","quick-edit/templates/form","jira/util/events","jira/util/events/types","jquery"],function(e,t,i,r,n,s){"use strict";return t.extend({init:function(e){this.descriptor=e,this.$element=s("<div />").attr("id","qf-field-"+this.getId())},focus:function(){this.$element.find(":input:first").focus()},highlight:function(){var e=this;this.$element.css("backgroundColor","#fff").animate({backgroundColor:"lightyellow"},function(){e.$element.animate({backgroundColor:"#fff"},function(){e.$element.css("backgroundColor","")})})},getLabel:function(){return this.descriptor.label},getId:function(){return this.descriptor.id},activate:function(e){var t;this.active=!0,this.$element.addClass("qf-field-active").show(),this.$element.find("textarea").trigger("refreshInputHeight"),e||(t=this.render(),this.$element.append(t.scripts),this.focus(),r.trigger(n.NEW_CONTENT_ADDED,[this.$element]),this.$element.scrollIntoView(),this.triggerEvent("activated"))},hasVisibilityFeature:function(){return!!this.descriptor.hasVisibilityFeature},hasRetainFeature:function(){return!!this.descriptor.hasRetainFeature},isActive:function(){return this.active},disable:function(e){this.render(),this.active=!1,this.$element.removeClass("qf-field-active").hide(),e||this.triggerEvent("disabled")},render:function(){var t=i.field(this.descriptor),r=e.extractScripts(t);return this.$element.html(r.html).addClass("qf-field").data("model",this),{element:this.$element,scripts:r.scripts}}})}),AJS.namespace("JIRA.Forms.ConfigurableField",null,require("quick-edit/form/field/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/model/model.js' */
define("quick-edit/form/model",["quick-edit/util/class","jira/util/data/meta","jira/util/objects","jira/ajs/ajax/smart-ajax","jquery"],function(e,i,t,s,r){"use strict";return e.extend({init:function(e){this.userFieldsResource=e.userFieldsResource,this.fieldsResource=e.fieldsResource,this.retainedFields=[],this._hasRetainFeature=!1,this._hasVisibilityFeature=!0,this.headers={}},getFieldsResource:function(){return this.fieldsResource},getAtlToken:function(){return this.atlToken},getPid:function(){return this.pid},isSimplified:function(){return this.simplified},getFormToken:function(){return this.formToken},getActiveFieldIds:function(){return this.getUserFields()},addFieldToRetainValue:function(e){if(!this._hasRetainFeature)throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]");this.removeFieldToRetainValue(e),this.retainedFields.push(e)},serializePreFilledFields:function(e){return r.param(r.extend(e,{preFillFields:!0}))},clearRetainedFields:function(){this.retainedFields=[]},removeFieldToRetainValue:function(e){if(!this._hasRetainFeature)throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]");var i=r.inArray(e,this.retainedFields);i!=-1&&this.retainedFields.splice(i,1)},getFieldsWithRetainedValues:function(){if(this._hasRetainFeature)return this.retainedFields;throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")},hasRetainedValue:function(e){if(this._hasRetainFeature)return r.inArray(e.id,this.retainedFields)!==-1;throw new Error("HasRetainedValue: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")},refresh:function(e){var i,t=this,n=r.Deferred();return e&&(i=e+"&retainValues=true"),!i&&this.preFilledFields&&(i=this.serializePreFilledFields(this.preFilledFields)),s.makeRequest({url:this.getFieldsResource(),type:"POST",data:i,headers:this.headers,success:function(e){t._update(e)},complete:function(e,i,s){s.successful?n.resolveWith(t,arguments):(t.triggerEvent("serverError",[s]),n.rejectWith(t,[s]))}}),n.promise()},_update:function(e){this.atlToken=e.atl_token,this.formToken=e.formToken,this.pid=e.pid,this.simplified=e.simplified,this.fields=e.fields,this.sortedTabs=e.sortedTabs,this.userPreferences=e.userPreferences},setFields:function(e){this.fields=e},getConfigurableFields:function(){return this.getFields()},getFields:function(){var e=this,i=r.Deferred();return this.fields?i.resolve(e.fields):this.refresh().done(function(){i.resolve(e.fields)}),i.promise()},_mungeTabs:function(e){var i=0,s=[];return r.each(e,function(e,r){i++,r.tab&&(s[r.tab.position]||(s[r.tab.position]=t.copyObject(r.tab)),0===r.tab.position&&(s[r.tab.position].isFirst=!0),s[r.tab.position].fields||(s[r.tab.position].fields=[]),s[r.tab.position].fields.push(t.copyObject(r)))}),s},getTabs:function(){var e=this,i=r.Deferred();return this.getFields().done(function(t){var s=e._mungeTabs(t);i.resolve(s)}),i.promise()},getSortedTabs:function(){var e=r.Deferred();return this.sortedTabs?e.resolve(this.sortedTabs):this.refresh().done(function(){e.resolve(this.sortedTabs)}),e.promise()},getUserFields:function(){var e=this,i=r.Deferred();return this.userPreferences?i.resolve(e.userPreferences.fields):this.refresh().done(function(){i.resolve(e.userPreferences.fields)}),i.promise()},setUserFields:function(e){var i={};return i.fields=e,this.updateUserPrefs(i)},hasRetainFeature:function(){return!!this._hasRetainFeature},hasVisibilityFeature:function(){return!!this._hasVisibilityFeature},getUseConfigurableForm:function(){var e=this,i=r.Deferred();return this.userPreferences?i.resolve(e.userPreferences.useQuickForm):this.refresh().done(function(){i.resolve(e.userPreferences.useQuickForm)}).fail(function(){i.reject()}),i.promise()},setUseConfigurableForm:function(e){var i={};return i.useQuickForm=e,this.updateUserPrefs(i)},updateUserPrefs:function(e){var t=r.Deferred(),n=this;return""===i.get("remote-user")?(t.done(),t.promise()):this.userPreferences?(e.fields||(e.fields=this.userPreferences.fields),"undefined"==typeof e.showWelcomeScreen&&(e.showWelcomeScreen=this.userPreferences.showWelcomeScreen),"undefined"==typeof e.useQuickForm&&(e.useQuickForm=this.userPreferences.useQuickForm),s.makeRequest({url:this.userFieldsResource,type:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",headers:this.headers,complete:function(i,t,s){s.successful?n.userPreferences=e:n.triggerEvent("serverError",[s])}})):(t.reject(),t.promise())}})}),AJS.namespace("JIRA.Forms.Model",null,require("quick-edit/form/model"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/model/create-issue.js' */
define("quick-edit/form/model/create-issue",["quick-edit/form/model","wrm/context-path","jira/featureflags/feature-manager","underscore","jquery"],function(e,i,t,s,n){"use strict";return e.extend({DEFAULT_NON_RETAINED_FIELDS:["summary","description","timetracking","timetracking_originalestimate","timetracking_remainingestimate","worklog","worklog_startDate","worklog_timeLogged","worklog_newEstimate","worklog_adjustmentAmount","attachment"],CUSTOMFIELD_PATTERN:/^(customfield_(\d+))(?:|\:(?:\d+))$/,TIMETRACKING_PATTERN:/^timetracking_/,init:function(e){e=e||{},this.headers={"X-Atlassian-Capability":"LEGACY_ISSUE_CREATE"},this.userFieldsResource=i()+"/rest/quickedit/1.0/userpreferences/create",this._hasRetainFeature=!0,this._hasVisibilityFeature=!0,this.retainedFields=[],this.dirtyFields=[],this.initIssueType=e.issueType,this.initProjectId=e.projectId,this.parentIssueId=e.parentIssueId,this.itsmCategory=e.itsmCategory,this.preFilledFields=e.fields,this.nonRetainedFields=this.DEFAULT_NON_RETAINED_FIELDS,e.nonRetainedFields&&(this.nonRetainedFields=s.union(e.nonRetainedFields,this.DEFAULT_NON_RETAINED_FIELDS))},getParentIssueId:function(){return this.parentIssueId},isInMultipleMode:function(){return this.multipleMode},setIsMultipleMode:function(e){this.multipleMode=e},getActiveFieldIds:function(){var e=this,i=n.Deferred(),t=[];return this.getUserFields().done(function(s){n.each(s,function(e,i){t.push(i)}),e.getRequiredFields().done(function(e){n.each(e,function(e,i){n.inArray(i.id,t)===-1&&t.push(i.id)}),i.resolve(t)})}),i.promise()},hasVisibilityFeature:function(e){return!e.required},getFieldsResource:function(){var e=i()+"/secure/QuickCreateIssue!default.jspa?decorator=none";return this.parentIssueId?e+"&parentIssueId="+this.parentIssueId:(this.initIssueType&&(e=e+"&issuetype="+this.initIssueType,delete this.initIssueType),this.itsmCategory&&(e=e+"&itsmCategory="+this.itsmCategory,delete this.itsmCategory),this.initProjectId&&(e=e+"&pid="+this.initProjectId,delete this.initProjectId),e)},addFieldToRetainValue:function(e,i){var t=!s.contains(this.nonRetainedFields,e),n=null!==e.match(/^filetoconvert/);(t||n||i)&&this._super(e)},getRequiredFields:function(){var e=n.Deferred(),i=[];return this.getFields().done(function(t){n.each(t,function(e,t){t.required&&i.push(t)}),e.resolve(i)}),e.promise()},getConfigurableFields:function(){var e=n.Deferred(),i=[];return this.getFields().done(function(t){n.each(t,function(e,t){"project"!==t.id&&"issuetype"!==t.id&&"com.atlassian.servicedesk:vp-origin"!==t.fieldType&&i.push(t)}),e.resolve(i)}),e.promise()},getIssueSetupFields:function(){var e=n.Deferred(),i=[];return this.getFields().done(function(t){n.each(t,function(e,t){"project"!==t.id&&"issuetype"!==t.id&&"com.atlassian.servicedesk:vp-origin"!==t.fieldType||i.push(t)}),e.resolve(i)}),e.promise()},markFieldAsDirty:function(e){e=this.normalizeCustomFieldId(e),this.fieldIsDirty(e)||this.dirtyFields.push(e)},unmarkFieldAsDirty:function(e){e=this.normalizeCustomFieldId(e),this.dirtyFields=this.dirtyFields.filter(function(i){return i!==e})},fieldIsDirty:function(e){return s.contains(this.dirtyFields,e)},isCustomFieldId:function(e){return e&&!!e.match(this.CUSTOMFIELD_PATTERN)},doesFieldSupportDefaultValue:function(e){var i=["description","environment"];return!!(this.isSimplified()&&i.indexOf(e)>-1)||this.isCustomFieldId(e)},isTimetrackingFieldId:function(e){return e&&!!e.match(this.TIMETRACKING_PATTERN)},normalizeCustomFieldId:function(e){return this.isCustomFieldId(e)?e.match(this.CUSTOMFIELD_PATTERN)[1]:e},normalizeFieldParam:function(e,i){return"filetoconvert"==e?e+"-"+i:this.isCustomFieldId(e)?this.normalizeCustomFieldId(e):this.isTimetrackingFieldId(e)?"timetracking":e}})}),AJS.namespace("JIRA.Forms.CreateIssueModel",null,require("quick-edit/form/model/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/model/edit-issue.js' */
define("quick-edit/form/model/edit-issue",["quick-edit/form/model","underscore","jquery"],function(e,i,r){"use strict";return e.extend({getUnconfigurableTabs:function(){var e=this,i=r.Deferred();return e.getTabs().done(function(e){var n=e.slice(0);n[0].fields=n[0].fields.slice(0),r.each(n[0].fields,function(e,i){if("comment"===i.id)return n[0].fields.splice(e,1),!1}),i.resolve(n)}),i.promise()},getCommentField:function(){var e=r.Deferred();return this.getFields().done(function(i){r.each(i,function(i,r){"comment"===r.id&&e.resolve(r)}),e.reject()}),e.promise()}})}),AJS.namespace("JIRA.Forms.EditIssueModel",null,require("quick-edit/form/model/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/model/factory/edit-issue.js' */
define("quick-edit/form/model/factory/edit-issue",["quick-edit/form/model/edit-issue","wrm/context-path"],function(e,i){"use strict";return function(s){return new e({fieldsResource:i()+"/secure/QuickEditIssue!default.jspa?issueId="+s+"&decorator=none",userFieldsResource:i()+"/rest/quickedit/1.0/userpreferences/edit"})}}),AJS.namespace("JIRA.Forms.Model.createQuickEditIssueModel",null,require("quick-edit/form/model/factory/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/helper/helper.js' */
define("quick-edit/form/helper/helper",["quick-edit/util/jira","quick-edit/form/model","quick-edit/util/class","jira/jquery/plugins/isdirty","jira/util/events","jira/dialog/dialog","underscore","jquery","jira/ajs/ajax/smart-ajax","wrm/context-path","jira/analytics/web-client"],function(e,t,i,r,n,s,o,a,u,c,l){"use strict";var d=AJS.escapeHTML;return i.extend({init:function(e){this.form=e},handleSubmitSuccess:function(t){function i(e,t,i){var r='<a href="'+i+'">'+e+" - "+d(t)+"</a>";return AJS.format("Issue {0} has been successfully created",r)}var r=this,n=this.form.$element.find("#summary").val();t.summary=n,this.form.triggerEvent("submitted",[t,this]),this.form.triggerEvent("issueCreated",[t,this],!0),r.form.model.isInMultipleMode()?(r.form.model.unmarkFieldAsDirty("description"),this.form.render().done(function(){var s=i(t.issueKey,n,c()+"/browse/"+t.issueKey);e.applySuccessMessageToForm(r.form.getForm(),s)})):this.form.triggerEvent("sessionComplete")},sendEvent:function(e,t,i,r,n){e>=500?l.sendOperationalEvent({source:"ui",actionSubject:"ui",action:"taskFail",attributes:Object.assign({task:"createIssue",edition:i,application:t,analyticsSource:"QuickCreateForm",errorMessage:r?e.toString()+" - "+r:e.toString()},n)}):e>=400&&e<500&&l.sendOperationalEvent({source:"ui",actionSubject:"ui",action:"taskSuccess",attributes:Object.assign({task:"createIssue",isCreated:!1,edition:i,application:t,analyticsSource:"QuickCreateForm"},n)})},sendExperienceEventOnSubmitError:function(t){var i,r=this,n={};try{if(t&&t.responseText&&t.getResponseHeader){const s=t.getResponseHeader("Content-Type");if(n.traceId=t.getResponseHeader("atl-traceid"),n.requestId=t.getResponseHeader("x-arequestid"),s.includes("json")){var o=JSON.parse(t.responseText);o&&(i=o.errorMessages&&o.errorMessages[0])}else if(s.includes("html")){const l=t.responseText.match(/^.+Log reference: <strong>(.+)<\/strong><\/li>.+$/);null!=l&&2===l.length?(i="html response",n.log_reference=l[1]):i="error parsing html response (likely HTTP 429 or connection dropped)"}else i=s+" response"}}catch(e){i=e.message}u.makeRequest({type:"GET",contentType:"application/json",url:c()+"/rest/api/2/project/"+a('[data-field-id="project"] input.project-field[name="pid"]').val(),success:function(s){var o=e.getApplication(s.projectTypeKey),a=e.getEdition(o);r.sendEvent(t.status,o,a,i,n)},error:function(){r.sendEvent(t.status,"unknown","unknown",i,n)}})},getCreateAnotherCheckbox:function(){return this.form.$element.find("#qf-create-another")},isInMultipleMode:function(){return this.getCreateAnotherCheckbox().is(":checked")},getProjectField:function(){return this.form.$element.find(".issue-setup-fields #project")},getIssueTypeField:function(){return this.form.$element.find(".issue-setup-fields #issuetype")},getRequestOrIssueTypeField:function(){return this.form.$element.find("#request-or-issue-type-field")},getRequestTypeField:function(){return this.form.$element.find(".issue-setup-fields .request-type-field")},serializeForToggle:function(e){if(!this.form.model.hasRetainFeature())return this.form.getForm().serialize();var t=this.form.model.prevActiveFields||[],i=this.form.getForm().serializeArray(),r=function(e){return this.form.model.normalizeFieldParam(e.name,e.value)}.bind(this),n=this.form.getActiveFieldIds(),s=a.grep(i,function(e){return a.inArray(r(e),n)!==-1}),o=a.grep(t,function(e){return a.inArray(r(e),n)===-1}),u=a.map(o,function(e){return r(e)}),c=a.merge(s,o),l=a.merge(n,u);this.form.model.prevActiveFields=a.extend(!0,[],c),e&&(l=this.executeProjectChangedSecuritySettingAction(l)),l=l.filter(function(e){return!this.form.model.doesFieldSupportDefaultValue(e)||this.form.model.fieldIsDirty(e)}.bind(this));var d=a.merge([{name:"retainValues",value:!0}],c);return a.each(i,function(e,t){"pid"!==t.name&&"issuetype"!==t.name||d.push(t)}),d.push({name:"toggle",value:!0}),a.each(l,function(e,t){d.push({name:"fieldsToRetain",value:t})}),d.push({name:"formToken",value:this.form.model.getFormToken()}),a.param(d)},executeProjectChangedSecuritySettingAction:function(e){return o.reject(e,function(e){return"security"===e})},prepareFieldsToRetain:function(e,t){return a.each(e,function(e,i){t.push({name:"fieldsToRetain",value:i})}),t},setIssueType:function(){var e=this,t=this.serializeForToggle();this.form.invalidateFieldsCache(),this.form.disable(),this.form.render(t).done(function(){e.form.enable()})},setProjectId:function(){var e=this,t=this.serializeForToggle(!0);this.form.invalidateFieldsCache(),this.form.disable(),this.form.render(t).done(function(){e.form.enable()})},setRequestType:function(e,t){var i=this.getRequestTypeField(),r=this.getIssueTypeField();i.length&&(i.attr("value",e),this.form.model.markFieldAsDirty(i.attr("id"))),r.attr("value")!==t&&(r.attr("value",t),r.change())},saveFormDirtyStatus:function(){this.form.isDirty=this.form.getForm().isDirty()},restoreFormDirtyStatus:function(){this.form.isDirty&&this.form.getForm().addClass(r.ClassNames.BY_DEFAULT)},decorate:function(){var e=this;this.getProjectField().change(function(){e.saveFormDirtyStatus(),n.trigger("dialogBeforeContentChange",["projectId",this.value,s.current.options.id]),e.setProjectId(this.value)}),this.getIssueTypeField().change(function(){e.saveFormDirtyStatus(),n.trigger("dialogBeforeContentChange",["issueType",this.value,s.current.options.id]),e.setIssueType(this.value)}),this.getCreateAnotherCheckbox().change(function(){e.form.model.setIsMultipleMode(this.checked)});var t=this.getRequestOrIssueTypeField();t.length&&t.change(function(){var t=this,i=a(t),r=o.flatten(o.map(i.data("options"),function(e){return e.items||e})),n=o.find(r,function(e){return e.value===t.value});n&&e.setRequestType(n.payload.requestTypeKey,n.payload.issueTypeId)})},decorateFields:function(){var e=this;this.form.$element.find('*[id^="customfield_"]').off("change.customField").on("change.customField",function(){e.form.model.isCustomFieldId(this.name)&&e.form.model.markFieldAsDirty(this.name)}),this.form.$element.find("textarea#description").on("change",function(){e.form.model.markFieldAsDirty(this.name)}),this.form.$element.find("textarea#environment").on("change",function(){e.form.model.markFieldAsDirty(this.name)})},sendQuickEditAnalyticsEvent:function(e){var t,i,r=e.instance,n=e.name,s=e.actionSubjectId,o=e.action,a=e.source,u=e.actionSubject,c=e.fieldAction,d=r.model.fields.map(function(e){return{id:e.id,required:e.required}});e.field&&(i={id:e.field.descriptor.id,required:e.field.descriptor.required}),r.model.getActiveFieldIds().then(function(r){t=d.filter(function(e){return r.some(function(t){return t===e.id})});var f={allFieldsShown:e.allFieldsShown,field:JSON.stringify(i),allFields:JSON.stringify(d),displayedFields:e.allFieldsShown?JSON.stringify(d):JSON.stringify(t),fieldAction:c};AJS.trigger("analyticsEvent",{name:n,data:f}),l.sendUIEvent({source:a,actionSubjectId:s,actionSubject:u,action:o,attributes:f})})}})}),AJS.namespace("JIRA.Forms.CreateIssueHelper",null,require("quick-edit/form/helper/helper"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/forge/forge.js' */
define("quick-edit/form/forge",["jquery","jira/analytics/web-client"],function(e,t){"use strict";return{isForgeField:function(e){return 0===e.fieldType.indexOf("com.atlassian.forge:ari:cloud:ecosystem::extension/")},renderForgeCustomFields:function(i,r,n){function a(){var e=document.createElement("span");return e.classList.add("aui-icon-wait","forge-wait-icon"),e}function s(e,t){switch(t){case"string":case"number":case"datetime":return e;case"group":return e.name;case"user":return e.accountId;case"object":return JSON.stringify(e);default:return e}}function o(e,t,i,r){if("list"===i)return e instanceof Array?(e.forEach(function(e){var i=e;"user"===t&&(i=e.accountId),"group"===t&&(i=e.name);var n=document.createElement("option");n.setAttribute("value",i),n.setAttribute("title",i),n.setAttribute("selected","selected"),r.append(n)}),{error:null}):{error:"The entered value is not an array."};try{var n=s(e,t,i);return r.val(n),{error:null}}catch(e){return{error:"The entered value does not match required custom field type."}}}function d(r,n,s,o,d){var c=a(),u=e('label[for="'+s.id+'"]',i.$element),p={fieldType:s.fieldData.properties.type,module:s.fieldData.type,renderContext:"issue-create"};t.sendOperationalEvent({source:"issue-create-dialog",actionSubject:"jiraForgeUi.customField",action:"initialized",attributes:p});var f=r.components.customField.renderView({extension:s.fieldData,extensionData:{fieldValue:n||null,fieldId:s.id,fieldType:s.fieldData.id,renderContext:"issue-create",issue:{type:d.issueType,typeId:d.issueTypeId},project:{id:d.projectId}},fieldId:s.id,analyticsAttributes:p,onInitialRender:function(){t.sendScreenEvent("jiraForgeUi.customFieldScreen",null,p)}});f.classList.add("forge-field-container"),u.after(f),f.addEventListener("click",function(){t.sendUIEvent({source:"create-issue-dialog",action:"clicked",actionSubject:"jiraForgeUi.customFieldEditTrigger",attributes:p}),l(r,n,s,o,f,d,c)})}function l(r,n,a,s,l,c,u){if(!l.contains(u)){var p=e('label[for="'+a.id+'"]',i.$element);l&&l.appendChild(u);var f={fieldType:a.fieldData.properties.type,module:a.fieldData.type,renderContext:"issue-create"};r.components.customField.renderEditView({extension:a.fieldData,extensionData:{fieldValue:n||null,fieldId:a.id,fieldType:a.fieldData.id,renderContext:"issue-create",issue:{type:c.issueType,typeId:c.issueTypeId},project:{id:c.projectId}},analyticsAttributes:f,onInitialRender:function(){t.sendScreenEvent("jiraForgeUi.customFieldEditScreen",null,f)},onRender:function(){u&&u.remove()},onError:function(){u&&u.remove()},onConfirm:function(e){l.remove();var t=d(r,e,a,s,c);p.after(t)},onSave:function(e){var t=a.fieldData.properties.type,i=a.fieldData.properties.collection,r=o(e,t,i,s);return r.error?Promise.resolve({error:{name:"ValidationError",errors:[{error:r.error}]}}):Promise.resolve({data:e})}})}}var c=require("jira/container-api");c.APIs.getForgeAPI().then(function(n){var a=n.modules.customFields.concat(n.modules.customFieldTypes).filter(function(e){return e.properties.edit&&e.properties.function}),s=r.map(function(e){var t=e.fieldType.slice("com.atlassian.forge:".length),i=a.find(function(e){return t===e.id});return i?Object.assign({},{fieldData:i},{id:e.id}):null}).filter(Boolean);0!==s.length&&(e(".aui-blanket").css("z-index","499"),e("#create-issue-dialog").css("z-index","500"),s.forEach(function(r){var a,s=r.fieldData.properties.type,o=r.fieldData.properties.collection;switch(s){case"datetime":case"number":case"object":case"string":case"group":a=e("#"+r.id,i.$element);break;case"user":a="list"===o?e("#"+r.id,i.$element):e("#hidden-"+r.id,i.$element);break;default:t.sendOperationalEvent({source:"issue-create-dialog",actionSubject:"jiraForgeUi.customField",action:"failed",attributes:{error:{message:"Not supported custom field type in issue create"},fieldType:r.fieldData.properties.type,renderContext:"issue-create"}})}if(a){var l=e('label[for="'+r.id+'"]',i.$element),c=l.parent(),u=c.children();u.each(function(e,t){"label"!==t.tagName.toLowerCase()&&(t.style.display="none")});var p,f,m,y=e(".issue-setup-fields #issuetype-field"),v=e(".issue-setup-fields #issuetype"),g=e(".issue-setup-fields #request-or-issue-type-field-field"),b=e(".issue-setup-fields #project");y.length>0?p=y[0].value:g.length>0&&(p=g[0].value),v.length>0&&(f=v[0].value),b.length>0&&(m=b[0].value);var D={issueType:p,issueTypeId:f,projectId:m};if(r.fieldData.properties.description){var F=r.fieldData.environmentType,T=document.createElement("div"),h=document.createElement("p");T.classList.add("description"),"PRODUCTION"!==F?h.innerText="("+F+")"+r.fieldData.properties.description:h.innerText=r.fieldData.properties.description,T.appendChild(h),c.append(T)}d(n,a.val(),r,a,D)}}))})}}}),AJS.namespace("JIRA.Forms.Forge",null,require("quick-edit/form/forge"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/abstract/abstract.js' */
define("quick-edit/form/abstract",["quick-edit/util/jira","quick-edit/util/control","jira/ajs/ajax/smart-ajax","jira/dialog/form-dialog","jira/dialog/dialog","jira/util/events/types","jira/util/events","jira/util/browser","jquery","underscore"],function(e,t,i,r,n,s,a,o,d,l){"use strict";var u=AJS.extractBodyFromResponse,c=AJS.log;return t.extend({submit:function(e){var t=this;return t.getForm().addClass("submitting"),this.triggerEvent("submitting",[],!0),i.makeRequest({url:this.getAction(),type:"POST",headers:e,beforeSend:function(){t.disable()},data:this.serialize(),complete:function(e,i,n){var s=n.data;if(t.getForm().find(".aui-message-context").remove(),t.enable(),t.getForm().find(".error").remove(),n.successful)if(t.performAnalytics(),s&&s.fields&&(t.invalidateFieldsCache(),t.model.setFields(s.fields)),"string"==typeof s){var a=d(u(s)),o=a.find("#atl_token").val();o&&(t.model.atlToken=o,t.getForm().find('input[name="atl_token"]').val(o));var l=new r({offsetTarget:"body",content:a});l._handleServerSuccess=function(){l.prev&&(l.prev._removeStackState(),l.prev._resetWindowTitle(),l._removeStackState()),l.hide(),t.triggerEvent("sessionComplete",[],!0),t.handleSubmitSuccess()},l._handleServerError=function(e){l.hide(),t.handleSubmitError(e)},l.show()}else t.handleSubmitSuccess(n.data);else t.handleSubmitError(e);t.getForm().removeClass("submitting")}})},disable:function(){this.getForm().find(":input").attr("disabled","disabled").trigger("disable"),this.getForm().find(":submit").attr("disabled","disabled")},enable:function(){this.getForm().find(":input").removeAttr("disabled").trigger("enable"),this.getForm().find(":submit").removeAttr("disabled")},getActiveFieldIds:function(){throw new Error("getActiveFieldIds: Abstract, must be implemented by sub class")},serialize:function(e){var t=this,i=this.getForm().serialize();return this.model.isInMultipleMode&&this.model.isInMultipleMode()&&(i+="&multipleMode=true"),this.model.hasRetainFeature()&&(this.model.clearRetainedFields(),d.each(this.getActiveFieldIds(),function(i,r){t.model.addFieldToRetainValue(r,e)}),d.each(this.model.getFieldsWithRetainedValues(),function(e,t){i=i+"&fieldsToRetain="+t})),i},invalidateFieldsCache:function(){delete this.fields},setInitialFocus:function(){this.getFormContent().find(":input:first").focus()},handleSubmitSuccess:function(){this.triggerEvent("submitted"),o.reloadViaWindowLocation()},performAnalytics:function(){var e=function(e,t){var i="***** Analytics log ["+e+"]";t&&(i+="["+JSON.stringify(t)+"]"),c(i),AJS.EventQueue&&AJS.EventQueue.push({name:e,properties:t||{}})},t=function(e){var t={},i=l.filter(e,function(e){return!l.contains(["isCreateIssue","isEditIssue","atl_token","hasWorkStarted"],e.name)}),r=l.filter(i,function(e){return""!=e.value});return l.each(r,function(e){var i=e.name;l.has(t,i)||(t[i]=[]),t[i].push(e.value)}),t};this.previousAnalytics=function(i,r){var s=t(i),a=l.keys(s),o=l.keys(r.data),d=l.difference(a,o),u=l.difference(o,a),c=l.intersection(o,a),m=l.filter(c,function(e){return l.isEqual(r.data[e],s[e])}),f=l.difference(c,m),h=r.count+1,g="edit-issue-dialog"===n.current.options.id,v={"atlassian.numCreates":h,"edit.form":g};return l.each(d,function(e){v[e]="added"}),l.each(u,function(e){v[e]="removed"}),l.each(m,function(e){v[e]="same"}),l.each(f,function(e){v[e]="changed"}),e("quick.create.fields",v),{data:s,count:h}}(this.getForm().serializeArray(),this.previousAnalytics||{data:{},count:0})},addErrorMessage:function(t){e.applyErrorMessageToForm(this.getForm(),[t])},handleSubmitError:function(t){var r,n=this;if(t.responseText){try{r=JSON.parse(t.responseText)}catch(e){}if(r){r.errorMessages&&r.errorMessages.length&&e.applyErrorMessageToForm(this.getForm(),r.errorMessages[0]),r&&r.errors&&400===t.status&&(this.getFieldById&&d.each(r.errors,function(e){/^timetracking/.test(e)?n.getFieldById("timetracking").done(function(e){a.trigger(s.VALIDATE_TIMETRACKING,[n.$element]),e.activate(!0)}):/^worklog/.test(e)?n.getFieldById("worklog").done(function(e){a.trigger(s.VALIDATE_TIMETRACKING,[n.$element]),e.activate(!0)}):n.getFieldById(e).done(function(e){e.activate(!0)})}),e.applyErrorsToForm(this.getForm(),r.errors),this.triggerEvent("validationError",[this,r.errors],!0));var o=n.$element.find(".error");o.length&&o[0].scrollIntoView(!1)}}else{var l=i.SmartAjaxResult(t,void 0,t.statusText,"",!1,void 0),u=i.buildSimpleErrorContent(l);n.addErrorMessage(u)}},getAction:function(){return this.action},getFormContent:function(){return this.$element.find("div.content")},getForm:function(){return this.$element.find("form")},createField:function(){throw new Error("AbstractForm: You must implement [createField] method in subclass.")},_getActiveAttachments:function(e){var t=[];if(!e)return t;for(var i=e.split("&"),r=0;r<i.length;r++){var n=i[r].split("=");"filetoconvert"==n[0]&&t.push(n[1])}return t},_setActiveAttachments:function(e){var t=this.$element.find("input[name=filetoconvert]");t.each(function(){var t=d(this),i=l.contains(e,t.attr("value"));t.prop("checked",i)})},render:function(e){var t=d.Deferred(),i=this,r=i._getActiveAttachments(e);return e?(this.invalidateFieldsCache(),this.model.refresh(e).done(function(){i._render().done(function(e,r){i.triggerEvent("rendered",[i.$element]),t.resolveWith(i,[i.$element,r])})})):i._render().done(function(e,r){i.triggerEvent("rendered",[i.$element]),t.resolveWith(i,[i.$element,r])}),t.always(function(){i._setActiveAttachments(r)}),t.promise()}})}),AJS.namespace("JIRA.Forms.AbstractForm",null,require("quick-edit/form/abstract"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/abstract/configurable.js' */
define("quick-edit/form/abstract/configurable",["quick-edit/form/abstract","quick-edit/form/field/configurable","quick-edit/form/helper/helper","jquery"],function(e,i,t,n){"use strict";return e.extend({getFields:function(){var e=n.Deferred(),i=this;return this.fields?e.resolveWith(this,[this.fields]):(this.fields=[],this.model.getConfigurableFields().done(function(t){n.each(t,function(e,t){var n=i.createField(t);i.fields.push(n)}),e.resolveWith(i,[i.fields])})),e.promise()},getActiveFieldIds:function(){var e=[],i=this.$element.find(".qf-field.qf-field-active:not(.qf-required), .qf-field.qf-required:not(.qf-field-active)");return n.each(i,function(i,t){var d=n(t),r=d.data("model"),c=d.data("field-id")||r&&r.getId();null!=c&&e.push(c),"attachment"===c&&d.find("input[name=filetoconvert]").each(function(){e.push(this.id)})}),e},createField:function(e){e.hasVisibilityFeature=this.model.hasVisibilityFeature(e),this.model.hasRetainFeature(e)&&(e.hasRetainFeature=!0,e.retainValue=this.model.hasRetainedValue(e));var n=this,d=new i(e),r=new t(n),c=n&&n.globalEventNamespaces&&n.globalEventNamespaces.length>0?n.globalEventNamespaces[0]:null;return e.hasVisibilityFeature&&d.bind("activated",function(){n.model.setUserFields(n.getActiveFieldIds()),d.highlight(),n.triggerEvent("QuickForm.fieldAdded",[d]);try{r.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.added",action:"changed",actionSubject:"checkbox",actionSubjectId:"toggleField",fieldAction:"added",source:c,field:d,instance:n})}catch(e){}}).bind("disabled",function(){n.model.setUserFields(n.getActiveFieldIds()),n.triggerEvent("QuickForm.fieldRemoved",[d]);try{r.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.removed",action:"changed",actionSubject:"checkbox",actionSubjectId:"toggleField",fieldAction:"removed",source:c,field:d,instance:n})}catch(e){}}),d},getFieldById:function(e){var i=this,t=n.Deferred();return this.getFields().done(function(d){n.each(d,function(n,d){d.getId()===e&&t.resolveWith(i,[d])}),t.rejectWith(i,[])}),t.promise()},hasNoVisibleFields:function(){var e=n.Deferred();return e.resolve(0===this.getActiveFieldIds().length),e.promise()},renderFormContents:function(){var e=n.Deferred(),i=n(),t=this;return t.getFields().done(function(d){var r=t.reorderFieldsToRender(d);t.model.getActiveFieldIds().done(function(d){n.each(r,function(){var e=this.render();i=i.add(e.scripts),t.getFormContent().append(e.element)}),n.each(d,function(e,i){n.each(r,function(){this.getId()===i&&this.activate(!0)})}),n.each(r,function(){this.isActive()||this.disable(!0)}),t.hasNoVisibleFields().done(function(n){if(n===!0)for(var d=0;d<3;d++)r[d]&&r[d].activate(!0);e.resolveWith(this,[t.$element,i])})})}),e.promise()},reorderFieldsToRender:function(e){return e}})}),AJS.namespace("JIRA.Forms.AbstractConfigurableForm",null,require("quick-edit/form/abstract/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/abstract/unconfigurable.js' */
define("quick-edit/form/abstract/unconfigurable",["quick-edit/form/abstract","quick-edit/templates/issue","jquery"],function(e,t,i){"use strict";return e.extend({getFieldsHtml:function(){var e=this,s=i.Deferred(),n={};return this.model.getTabs().done(function(i){1===i.length?n.fields=i[0].fields:(n.tabs=i,n.hasTabs=!0),s.resolveWith(e,[t.issueFields(n)])}),s.promise()},getActiveFieldIds:function(){var e=[];if(this.model.getFields().done(function(t){i.each(t,function(t,i){e.push(i.id)})}),e.indexOf("attachment")){var t=this.$element.find("input[name=filetoconvert]").map(function(e,t){return t.id}).toArray();e.push.apply(e,t)}return e},getFields:function(){var e=i.Deferred(),t=this;return this.fields?e.resolveWith(this,[this.fields]):(this.fields=[],this.model.getFields().done(function(s){i.each(s,function(e,i){var s=t.createField(i);t.fields.push(s)}),e.resolveWith(t,[t.fields])})),e.promise()}})}),AJS.namespace("JIRA.Forms.AbstractUnconfigurableForm",null,require("quick-edit/form/abstract/unconfigurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/configurable/create-issue.js' */
define("quick-edit/form/configurable/create-issue",["quick-edit/form/abstract/configurable","quick-edit/form/helper/helper","quick-edit/templates/issue","quick-edit/util/jira","jira/util/users/logged-in-user","wrm/context-path","jquery","quick-edit/form/forge"],function(e,i,t,r,o,n,s,l){"use strict";return e.extend({init:function(e){this.model=e.model,this.helper=new i(this),this.globalEventNamespaces=e.globalEventNamespaces||[],this.issueId=e.issueId,this.title=e.title,this._serialization={},this.action=n()+"/secure/QuickCreateIssue.jspa?decorator=none",this.$element=s("<div />").addClass("qf-form qf-configurable-form")},handleSubmitSuccess:function(e){return this.helper.handleSubmitSuccess(e)},handleSubmitError:function(i){e.prototype.handleSubmitError.call(this,i),this.helper.sendExperienceEventOnSubmitError(i)},_render:function(){var e=s.Deferred(),i=this;return i.model.getIssueSetupFields().done(function(n){var s=t.createIssueForm({issueSetupFields:n,atlToken:i.model.getAtlToken(),formToken:i.model.getFormToken(),isConfigurable:!0,title:i.title,parentIssueId:i.model.getParentIssueId(),multipleMode:i.model.isInMultipleMode(),showFieldConfigurationToolBar:!o.isAnonymous(),modifierKey:r.getModifierKey()});i.$element.html(s),i.helper.decorate(),i.renderFormContents().done(function(t,r){i.helper.decorateFields(),e.resolveWith(i,[i.$element,r])}),i.model.getFields().done(function(e){i.model.getActiveFieldIds().done(function(t){var r=e.filter(function(e){return l.isForgeField(e)&&t.indexOf(e.id)>-1});r.length>0&&l.renderForgeCustomFields(i,r)})}),i.bind("QuickForm.fieldAdded",function(e,t){i.helper.decorateFields(),i.model.getFields().done(function(e){var r=t.descriptor;l.isForgeField(r)&&l.renderForgeCustomFields(i,[r])})})}),e.promise()}})}),AJS.namespace("JIRA.Forms.ConfigurableCreateIssueForm",null,require("quick-edit/form/configurable/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/configurable/edit-issue.js' */
define("quick-edit/form/configurable/edit-issue",["quick-edit/form/abstract/configurable","quick-edit/util/jira","quick-edit/templates/issue","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(e,t,i,s,n,o){"use strict";return e.extend({init:function(e){this.model=e.model,this.globalEventNamespaces=e.globalEventNamespaces||[],this.issueId=e.issueId,this.title=e.title,this.action=n()+"/secure/QuickEditIssue.jspa?issueId="+e.issueId+"&decorator=none",this.$element=o("<div />").addClass("qf-form qf-configurable-form")},handleSubmitSuccess:function(e){this.triggerEvent("submitted",[e]),this.triggerEvent("issueEdited",[e],!0),this.triggerEvent("sessionComplete")},hasNoVisibleFields:function(){var e=o.Deferred(),t=this.getActiveFieldIds();return this.model.getUserFields().done(function(i){1===i.length&&"comment"===i[0]?e.resolve(!1):0===t.length||1===t.length&&"comment"===t[0]?e.resolve(!0):e.resolve(!1)}),e.promise()},_render:function(){var e=o.Deferred(),n=this,r=i.editIssueForm({issueId:this.issueId,title:this.title,atlToken:n.model.getAtlToken(),formToken:n.model.getFormToken(),pid:n.model.getPid(),isConfigurable:!0,modifierKey:t.getModifierKey(),showFieldConfigurationToolBar:!s.isAnonymous()});return this.$element.html(r),n.renderFormContents().done(function(t,i){n.getFieldById("comment").done(function(e){n.getFormContent().append(e.$element)}),e.resolveWith(n,[n.$element,i])}),e.promise()}})}),AJS.namespace("JIRA.Forms.ConfigurableEditIssueForm",null,require("quick-edit/form/configurable/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/field-picker/button/configurable.js' */
define("quick-edit/form/field-picker/button/configurable",["quick-edit/util/control","quick-edit/templates/form"],function(e,i){"use strict";return e.extend({init:function(e){var i=this;this.field=e.field,this.field.bind("disabled",function(){i.$element.removeClass("qf-active")}).bind("activated",function(){i.$element.addClass("qf-active")})},toggle:function(){this.field.isActive()?this.field.disable():this.field.activate()},getId:function(){return this.field.getId()},render:function(){return this.$element=jQuery(i.configurablePickerButton({required:this.field.descriptor.required,label:this.field.getLabel(),fieldId:this.field.getId(),isActive:this.field.isActive()})),this._assignEvents("button",this.$element),this.$element},_events:{button:{click:function(e){this.toggle(),e.preventDefault()}}}})}),AJS.namespace("JIRA.Forms.FieldPicker.ConfigurableButton",null,require("quick-edit/form/field-picker/button/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/field-picker/button/unconfigurable.js' */
define("quick-edit/form/field-picker/button/unconfigurable",["quick-edit/util/control","quick-edit/templates/form","jquery"],function(e,i,t){"use strict";return e.extend({init:function(e){this.descriptor=e},render:function(){return this.$element=t(i.unconfigurablePickerButton({required:this.descriptor.required,label:this.descriptor.label,fieldId:this.descriptor.id,isActive:!0})),this.$element}})}),AJS.namespace("JIRA.Forms.FieldPicker.UnconfigurableButton",null,require("quick-edit/form/field-picker/button/unconfigurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/field-picker/field-picker.js' */
define("quick-edit/form/field-picker",["quick-edit/form/field-picker/button/configurable","quick-edit/form/field-picker/button/unconfigurable","quick-edit/templates/form","quick-edit/util/control","aui/inline-dialog","jquery"],function(i,e,n,t,o,l){"use strict";return t.extend({INLINE_DIALOG_ID:"field_picker_popup",init:function(){this.buttons=[]},switchToAll:function(i){this.isConfigurable=!1,i!==!0&&(this.hideCallback=function(){this.remove()},this.inlineDialog.hide(),this.triggerEvent("switchedToAll"))},setForm:function(i){this.form=i},switchToCustom:function(i){this.isConfigurable=!0,i!==!0&&(this.hideCallback=function(){this.remove()},this.inlineDialog.hide(),this.triggerEvent("switchedToCustom"))},hideCallback:function(){},bindInlineDialog:function(){function i(i,t,o){e.render().done(function(e){0===i.find(".qf-picker").length&&(i.html(e),i.click(function(i){i.stopPropagation()}));var t=n.offset().top-l(window).scrollTop(),s=l(window).height(),r=s-t-110;i.find(".qf-picker-content").css("maxHeight",r),this.form.model.isSimplified()?i.find("#qf-picker-custom-link").hide():i.find("#qf-picker-custom-link").show(),o()})}var e=this,n=this.getInlineDialogTrigger();return this.inlineDialog&&this.inlineDialog.remove(),this.inlineDialog=o(n,this.INLINE_DIALOG_ID,i,{width:450,upfrontCallback:function(){n.parent().addClass("active")},hideCallback:function(){n.parent().removeClass("active")},nobind:!0}),n.click(function(i){l("#inline-dialog-"+e.INLINE_DIALOG_ID).is(":visible")?e.inlineDialog.hide():e.inlineDialog.show()}),this.inlineDialog},getInlineDialogTrigger:function(){return this.form.$element.find("#qf-field-picker-trigger")},renderButtons:function(n){var t=this,o=l('<ul class="qf-picker-buttons" />').appendTo(this.$content);l.each(n,function(n,s){var r,c;t.isConfigurable?t.form.getFieldById(s.id).done(function(e){if(e&&e.hasVisibilityFeature()){var n=l("<li />").appendTo(o),s=new i({field:e});s.render().appendTo(n),t.buttons.push(s)}}):(c=new e(s),r=l("<li />").appendTo(o),c.render().appendTo(r))}),0===o.children().length&&o.addClass("qf-no-fields").append("<li><em>"+"No fields can be configured for this tab"+"</em></li>")},renderContents:function(){var i=this,e=l.Deferred();return this.form.model.getSortedTabs().done(function(n){1===n.length?i.renderButtons(n[0].fields):l.each(n,function(e,n){n.fields.length>0&&(l("<h4><span></span></h4>").appendTo(i.$content).find("span").text(n.label),i.renderButtons(n.fields))}),e.resolveWith(i,[i.$element])}),e.promise()},show:function(){this.inlineDialog.show()},render:function(){return this.$element=l(n.fieldPicker({isConfigurable:this.isConfigurable})),this.$content=this.$element.find(".qf-picker-content"),this._assignEvents("switchToCustom",this.$element.find(".qf-configurable")),this._assignEvents("switchToAll",this.$element.find(".qf-unconfigurable")),this.renderContents()},_events:{switchToCustom:{click:function(i){this.switchToCustom(),i.preventDefault()}},switchToAll:{click:function(i){this.switchToAll(),i.preventDefault()}}}})}),AJS.namespace("JIRA.Forms.FieldPicker",null,require("quick-edit/form/field-picker"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/container/container.js' */
define("quick-edit/form/container",["quick-edit/form/field-picker","quick-edit/form/import-issues","quick-edit/util/jira","quick-edit/util/control","quick-edit/form/helper/helper","jira/dialog/form-dialog","jira/dialog/dialog","jira/util/navigator","jira/issue","jira/issuenavigator/issue-navigator","jquery","wrm/require","jira/analytics/web-client"],function(e,i,t,n,r,o,s,c,a,l,u,d,m){"use strict";return n.extend({init:function(i){this.$element=u("<div />").addClass("qf-container"),this.options=t.makePropertyFunc(i),this.fieldPicker=new e,this.successData=[],this.helper=new r(this);var n=this;d(["wr!com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api"]).then(function(){n.metrics=require("internal/browser-metrics")})},decorateRenderers:function(){var e=this,t=e.globalEventNamespaces&&e.globalEventNamespaces.length>0?e.globalEventNamespaces[0]:null;this.fieldPicker.decorated||(this.fieldPicker.bind("switchedToAll",function(){e.unconfigurableForm.render(e.currentView.serialize(!0)).done(function(){e.fieldPicker.show()}),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"switchAllButton",action:"clicked",source:t,name:"quickeditform.switched.all",allFieldsShown:!0,instance:e})}),this.fieldPicker.bind("switchedToCustom",function(){e.configurableForm.render(e.currentView.serialize(!0)).done(function(){e.fieldPicker.show()}),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"switchCustomButton",action:"clicked",source:t,name:"quickeditform.switched.custom",allFieldsShown:!1,instance:e})}),this.fieldPicker.decorated=!0),this.configurableForm.decorated||(this.configurableForm.bind("rendered",function(t,n){e.currentView=e.configurableForm,e.fieldPicker.switchToCustom(!0),e.fieldPicker.setForm(e.configurableForm),e.fieldPicker.bindInlineDialog(),i.setForm(e.configurableForm),i.bindImportIssueUrl(),e.applyGlobalDecorator(n),e.model.setUseConfigurableForm(!0),e.triggerEvent("configurableFormRendered")}),this.configurableForm.bind("submitted",function(i,n){e.successData.push(n),e.triggerEvent("configurableFormSubmitted"),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"submit",action:"clicked",source:t,name:"quickeditform.submit.success",allFieldsShown:!1,instance:e})}),this.configurableForm.bind("issueCreated",function(i,n){e.triggerEvent("issueCreated",n),e.metrics&&e.metrics.end({key:"jira.create.issue.dialog.submit"}),m.sendTrackEvent({source:t,attributes:{triggerPointKey:e.triggerPointKey},action:"created",actionSubject:"legacyCreateModalIssue"})}),this.configurableForm.decorated=!0),this.unconfigurableForm.decorated||(this.unconfigurableForm.bind("rendered",function(t,n){e.fieldPicker.switchToAll(!0),e.fieldPicker.setForm(e.unconfigurableForm),e.fieldPicker.bindInlineDialog(),i.setForm(e.unconfigurableForm),i.bindImportIssueUrl(),e.currentView=e.unconfigurableForm,e.applyGlobalDecorator(n),e.model.setUseConfigurableForm(!1),e.triggerEvent("unconfigurableFormRendered")}),this.unconfigurableForm.bind("submitted",function(i,n){e.successData.push(n),e.triggerEvent("unconfigurableFormSubmitted"),e.helper.sendQuickEditAnalyticsEvent({actionSubject:"submit",action:"clicked",source:t,name:"quickeditform.submit.success",allFieldsShown:!0,instance:e})}),this.unconfigurableForm.bind("issueCreated",function(i,n){e.triggerEvent("issueCreated",n),e.metrics&&e.metrics.end({key:"jira.create.issue.dialog.submit"}),m.sendTrackEvent({source:t,attributes:{triggerPointKey:e.triggerPointKey},action:"created",actionSubject:"legacyCreateModalIssue"})}),this.unconfigurableForm.decorated=!0)},applyGlobalDecorator:function(e){function i(){t.currentView.setInitialFocus&&t.currentView.setInitialFocus()}var t=this;e.detach(),this.$element.html(e),this.triggerEvent("contentRefreshed",[this.$element]),c.isIE()?window.setTimeout(i,0):i()},asDialog:function(e){e=u.extend(!0,{},e);var i,t=this,n=!!e.modeless;return t.triggerPointKey=e.triggerPointKey||"genericFunctionCreateIssue",this.dialog=i=new o({id:e.id,trigger:e.trigger,windowTitle:void 0!==e.windowTitle?e.windowTitle:!n,width:n?s.WIDTH_PRESETS.medium:s.WIDTH_PRESETS.large,defineResources:function(){this.requireContext("jira.create.issue")},content:function(e){t.render().done(function(){t.triggerEvent("dialogRendered"),e(t.$element)}),t.triggerEvent("dialogShown")},submitHandler:function(i,n){i.preventDefault(),t.metrics&&t.metrics.start({isInitial:!1,key:"jira.create.issue.dialog.submit"}),t.currentView.submit(e.headers).then(n,n)},stacked:!0,modeless:n,shouldLoadHeritageFormDialogContext:!!e.shouldLoadHeritageFormDialogContext}),"edit-issue-dialog"===e.id&&u(this.dialog).on("beforeShow",function(e){a.getIssueKey()||l.isRowSelected()||e.preventDefault()}),this.dialog._focusFirstField=function(){o.prototype._focusFirstField.apply(this,["div.content :input:visible:first"])},this.bind("initialized",function(){this.unconfigurableForm.bind("sessionComplete",function(){i.hide()}),this.configurableForm.bind("sessionComplete",function(){i.hide()})}).bind("contentRefreshed",function(){i.notifyOfNewContent()}),i.bind("Dialog.hide",function(){t.successData.length&&(t.triggerEvent("sessionComplete",[t.successData],!0),t.successData=[])}),t.$element.ajaxStart(function(){i.showFooterLoadingIndicator()}).ajaxStop(function(){i.hideFooterLoadingIndicator()}),i.getQuickForm=function(){return t},i.dirtyFormWarning(),i},lazyInit:function(){var e=this,i=this.options.call(this);this.model=i.model,this.errorHandler=i.errorHandler,this.globalEventNamespaces=i.globalEventNamespaces,this.configurableForm=i.configurableForm,this.unconfigurableForm=i.unconfigurableForm,this.sessionComplete=i.sessionComplete,this.model.clearRetainedFields(),this.configurableForm.invalidateFieldsCache(),this.model.bind("serverError",function(i,t){e.$element.html(e.errorHandler.render(t)),e.triggerEvent("contentRefreshed",[this.$element])}),this.triggerEvent("initialized"),this.decorateRenderers()},render:function(){var e=this,i=u.Deferred();return this.lazyInit(),e.model.getUseConfigurableForm().done(function(t){t===!0?e.configurableForm.render().done(function(t,n){i.resolveWith(e,[e.$element]),e.$element.append(n)}):e.unconfigurableForm.render().done(function(t,n){i.resolveWith(e,[e.$element,n]),e.$element.append(n)})}).fail(function(){i.resolveWith(e,[e.$element])}),i.promise()}})}),AJS.namespace("JIRA.Forms.Container",null,require("quick-edit/form/container"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/error/error.js' */
define("quick-edit/form/error",["quick-edit/util/control","quick-edit/templates/form","jira/ajs/ajax/smart-ajax"],function(r,e,t){"use strict";return r.extend({getErrorMessageFromSmartAjax:function(r){var a,s;if(r.hasData&&401!==r.status)try{s=JSON.parse(r.data),a=s.errorMessages&&s.errorMessages.length>0?e.errorMessage({message:s.errorMessages[0]}):t.buildDialogErrorContent(r,!0).html()}catch(e){a=t.buildDialogErrorContent(r,!0).html()}else a=t.buildDialogErrorContent(r,!0).html();return a},render:function(r){var e=this.getErrorMessageFromSmartAjax(r);return this._render(e)}})}),AJS.namespace("JIRA.Forms.Error",null,require("quick-edit/form/error"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/error/create-issue.js' */
define("quick-edit/form/error/create-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(e,r,t){"use strict";return e.extend({_render:function(e){return t(r.createIssueError({errorHtml:e}))}})}),AJS.namespace("JIRA.Forms.CreateIssueError",null,require("quick-edit/form/error/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/error/edit-issue.js' */
define("quick-edit/form/error/edit-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(e,r,i){"use strict";return e.extend({_render:function(e){return i(r.editIssueError({errorHtml:e}))}})}),AJS.namespace("JIRA.Forms.EditIssueError",null,require("quick-edit/form/error/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/unconfigurable/create-issue.js' */
define("quick-edit/form/unconfigurable-create-issue",["quick-edit/form/abstract/unconfigurable","quick-edit/form/helper/helper","quick-edit/templates/issue","quick-edit/util/jira","jira/util/users/logged-in-user","wrm/context-path","jquery","quick-edit/form/forge"],function(e,t,i,r,s,o,n,l){"use strict";return e.extend({init:function(e){this._serialization={},this.globalEventNamespaces=e.globalEventNamespaces||[],this.model=e.model,this.helper=new t(this),this.title=e.title,this.action=o()+"/secure/QuickCreateIssue.jspa?decorator=none",this.$element=n("<div class='qf-unconfigurable-form' />")},handleSubmitSuccess:function(e){this.helper.handleSubmitSuccess(e)},handleSubmitError:function(t){e.prototype.handleSubmitError.call(this,t),this.helper.sendExperienceEventOnSubmitError(t)},_render:function(){var e=n.Deferred(),t=this;return this.getFieldsHtml().done(function(o){t.model.getIssueSetupFields().done(function(n){var l=i.createIssueForm({issueSetupFields:n,fieldsHtml:o,parentIssueId:t.model.getParentIssueId(),atlToken:t.model.getAtlToken(),formToken:t.model.getFormToken(),title:t.title,multipleMode:t.model.isInMultipleMode(),showFieldConfigurationToolBar:!s.isAnonymous(),modifierKey:r.getModifierKey()}),u=r.extractScripts(l);t.$element.empty().append(u.html),t.helper.restoreFormDirtyStatus(),t.helper.decorate(),t.helper.decorateFields(),e.resolveWith(t,[t.$element,u.scripts])}),t.model.getFields().done(function(e){var i=e.filter(function(e){return l.isForgeField(e)});i.length>0&&l.renderForgeCustomFields(t,i)})}),e.promise()}})}),AJS.namespace("JIRA.Forms.UnconfigurableCreateIssueForm",null,require("quick-edit/form/unconfigurable-create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/unconfigurable/edit-issue.js' */
define("quick-edit/form/unconfigurable-edit-issue",["quick-edit/form/abstract/unconfigurable","quick-edit/util/jira","quick-edit/templates/issue","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(e,t,i,s,n,r){"use strict";return e.extend({init:function(e){this.globalEventNamespaces=e.globalEventNamespaces||[],this.model=e.model,this.issueId=e.issueId,this.title=e.title,this.action=n()+"/secure/QuickEditIssue.jspa?issueId="+e.issueId+"&decorator=none",this.$element=r("<div class='qf-unconfigurable-form' />")},getFieldsHtml:function(){var e=this,t=r.Deferred(),s={};return this.model.getUnconfigurableTabs().done(function(n){1===n.length?s.fields=n[0].fields:(s.tabs=n,s.hasTabs=!0),t.resolveWith(e,[i.issueFields(s)])}),t.promise()},handleSubmitSuccess:function(e){this.triggerEvent("submitted",[e]),this.triggerEvent("issueEdited",[e],!0),this.triggerEvent("sessionComplete")},_render:function(){var e=r.Deferred(),n=this;return this.getFieldsHtml().done(function(r){var o={fieldsHtml:r,title:n.title,issueId:n.issueId,atlToken:n.model.getAtlToken(),formToken:n.model.getFormToken(),pid:n.model.getPid(),modifierKey:t.getModifierKey(),showFieldConfigurationToolBar:!s.isAnonymous()};this.model.getCommentField().then(function(s){var r,l;o.commentField=s,r=i.editIssueForm(o),l=t.extractScripts(r),n.$element.html(l.html),e.resolveWith(n,[n.$element,l.scripts])},function(){var s=i.editIssueForm(o),r=t.extractScripts(s);n.$element.html(r.html),e.resolveWith(n,[n.$element,r.scripts])})}),e.promise()}})}),AJS.namespace("JIRA.Forms.UnconfigurableEditIssueForm",null,require("quick-edit/form/unconfigurable-edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/factory/create-issue.js' */
define("quick-edit/form/factory/create-issue",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue"],function(e,r,a,t,s){"use strict";function i(e,r){if(e&&r)for(var a=0;a<e.length;a++)r.markFieldAsDirty(e[a])}return function(o){return o=o||{},new e(function(){o.globalEventNamespaces=o.globalEventNamespaces||["QuickCreateIssue"];var e="Create issue",n=new s({projectId:o.pid,issueType:o.issueType,itsmCategory:o.itsmCategory,fields:o.fields});i(o.customFieldsToPreserveOnFormRecreation,n);var c=new r({model:n,title:e,globalEventNamespaces:o.globalEventNamespaces}),u=new a({model:n,title:e,globalEventNamespaces:o.globalEventNamespaces});return{globalEventNamespaces:o.globalEventNamespaces,model:n,errorHandler:new t,configurableForm:c,unconfigurableForm:u}})}}),AJS.namespace("JIRA.Forms.createCreateIssueForm",null,require("quick-edit/form/factory/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/factory/create-subtask.js' */
define("quick-edit/form/factory/create-subtask",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/util/dialog","jira/issue","jira/issuenavigator/issue-navigator"],function(e,t,s,a,r,i,u,n){"use strict";function c(e){return e.parentIssueId||u.getIssueId()||n.getSelectedIssueId()}return function(u){return u=u||{},new e(function(){u.globalEventNamespaces=u.globalEventNamespaces||["QuickCreateSubtask"];var e=c(u),n=i.getIssueActionTitle("Create Subtask"),o=new a({parentIssueId:e,projectId:u.pid,issueType:u.issueType,fields:u.fields}),l=new t({model:o,title:n,globalEventNamespaces:u.globalEventNamespaces}),d=new r({model:o,title:n,globalEventNamespaces:u.globalEventNamespaces});return{globalEventNamespaces:u.globalEventNamespaces,model:o,errorHandler:new s,configurableForm:l,unconfigurableForm:d}})}}),AJS.namespace("JIRA.Forms.createSubtaskForm",null,require("quick-edit/form/factory/create-subtask"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'jira-quick-edit-plugin/js/form/factory/edit-issue.js' */
define("quick-edit/form/factory/edit-issue",["quick-edit/form/container","quick-edit/form/configurable/edit-issue","quick-edit/form/error/edit-issue","quick-edit/util/dialog","quick-edit/form/model/factory/edit-issue","quick-edit/form/unconfigurable-edit-issue","jira/issue","jira/issuenavigator/issue-navigator","jquery"],function(e,i,t,s,u,r,n,o,d){"use strict";function a(e){var i=s.getAttrFromActiveTrigger("data-issueId");return d.isFunction(e.issueId)?e.issueId(e):e.issueId?e.issueId:i?i:n.getIssueId()||o.getSelectedIssueId()}function c(){var e="Edit issue";return s.shouldShowIssueKeyInTitle()?s.getIssueActionTitle(e):e}return function(s){return s=s||{},new e(function(){var e=a(s),n=c(),o=u(e),d=new i({title:n,model:o,issueId:e,globalEventNamespaces:["QuickEdit"]}),l=new r({title:n,model:o,issueId:e,globalEventNamespaces:["QuickEdit"]});return{globalEventNamespaces:["QuickEdit"],model:o,errorHandler:new t,configurableForm:d,unconfigurableForm:l}})}}),AJS.namespace("JIRA.Forms.createEditIssueForm",null,require("quick-edit/form/factory/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-calendar-init', location = 'jira-quick-edit-plugin/js/init/calendar.js' */
define("quick-edit/init/calendar",["wrm/require","jira/featureflags/feature-manager"],function(a,e){function r(a){var e;switch(a){case"cs_CZ":e="calendar-cs";break;case"da_DK":e="calendar-da";break;case"de_DE":e="calendar-de";break;case"en_UK":e="calendar-en";break;case"en_US":e="calendar-en";break;case"es_ES":e="calendar-es";break;case"et_EE":e="calendar-en";break;case"fi_FI":e="calendar-fi";break;case"fr_FR":e="calendar-fr";break;case"hu_HU":e="calendar-hu";break;case"is_IS":e="calendar-en";break;case"it_IT":e="calendar-it";break;case"ja_JP":e="calendar-ja";break;case"ko_KR":e="calendar-ko";break;case"nb_NO":e="calendar-no";break;case"nl_NL":e="calendar-nl";break;case"pl_PL":e="calendar-pl";break;case"pt_BR":e="calendar-pt";break;case"pt_PT":e="calendar-pt";break;case"ro_RO":e="calendar-ro";break;case"ru_RU":e="calendar-ru";break;case"sk_SK":e="calendar-sk";break;case"sv_SE":e="calendar-sv";break;case"zh_CN":e="calendar-zh";break;case"tr_TR":e="calendar-tr";break;case"zh_TW":e="calendar-zh";break;case"th_TH":e="calendar-en";break;default:e="calendar-en"}return e}function c(e){var c=n(),s=r(c);a("wrc!jira.webresources:"+s,e)}var n=function(){return AJS.Meta.get("user-locale")};return function(a){c(a)}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:loading-indicator', location = 'jira-quick-edit-plugin/js/util/loading-indicator.js' */
define("quick-edit/util/loading-indicator",["jira/loading/loading","jira/flag"],function(i,n){var o=AJS.dim,a=AJS.undim;return{showLoadingIndicator:function(){o(),i.showLoadingIndicator()},hideLoadingIndicator:function(o){a(),i.hideLoadingIndicator(),o&&n.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")}}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'jira-quick-edit-plugin/js/init/create-dialogs.js' */
define("quick-edit/init/create-dialogs",["wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","quick-edit/init/calendar","jira/featureflags/feature-manager"],function(i,e,a,t,n){var r=function(){a.disable(),e.showLoadingIndicator()},u=function(i){var t=i;"undefined"==typeof i&&(t=!0),e.hideLoadingIndicator(t),a.enable()},o=!1,c=function(e){if(!o){o=!0,r();var n="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue",c=i([n]);c.then(function(){var i=require("quick-edit/init/create");i.initIssueDialog(e),a.enable(),o=!1},function(){u(),o=!1}),t()}},d=!1,s=function(n){if(!d)if(d=!0,r(),window.IssueCreate&&window.IssueCreate.Visibility&&window.IssueCreate.Visibility.isEnabled){var o=require("quick-edit/init/create");o.initNewGicSubtaskDialog(n),e.hideLoadingIndicator(),d=!1}else{var c="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue",s=i([c]);s.then(function(){var i=require("quick-edit/init/create");i.initSubtaskDialog(n),a.enable(),d=!1},function(){u(),d=!1}),t()}};return{showCreateDialog:c,showCreateSubtaskDialog:s,hideLoadingIndicator:u}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'jira-quick-edit-plugin/js/init/create-bootstrap-wrm.js' */
require(["jquery","quick-edit/init/create-dialogs"],function(e,t){JIRA.API.getSidebar().then(function(e){e.on(e.events.JIRA_SUMMON_CREATE_ISSUE_DIALOG,function(e){t.showCreateDialog(e)},!0)}),e(function(){var e=document.getElementById("stqc_show");e&&(e.onclick=null)}),e(document).on("simpleClick",".create-issue, .create-issue-type",function(i){if(i.preventDefault(),window.IssueCreate&&window.IssueCreate.Visibility&&window.IssueCreate.Visibility.isEnabled){var a=require("quick-edit/util/loading-indicator");a.showLoadingIndicator();var s=e(i.target),r=s.is("a")?s:s.find("a"),n=parseUri(r.attr("href")).queryKey,o={pid:n.pid,issueType:n.issuetype,itsmCategory:n.itsmCategory};o=e.extend(o,{pid:s.attr("data-pid"),issueType:s.attr("data-issue-type"),itsmCategory:s.attr("data-itsm-category")});var u=new CustomEvent("openIssueCreateDialog",{detail:{payload:{prefilledFields:o},title:"Create Subtask",id:"create-issue-story-dialog",triggerPointKey:"jwm-summary-create-first-issue-trigger"}});document.dispatchEvent(u),a.hideLoadingIndicator()}else t.showCreateDialog(i)}),e(document).on("simpleClick",".issueaction-create-subtask",function(e){e.preventDefault(),t.showCreateSubtaskDialog(e)})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/dialog.js' */
define("jira/admin-helper/dialog",["jquery","jira/dialog/dialog","jira/focus/set-focus"],function(e,t,i){return t.extend({_getDefaultOptions:function(){return e.extend(this._super(),{cached:!1,widthClass:"large",stacked:!0})},defineResources:function(){this._super(),this.requireResource("com.atlassian.jira.plugins.jira-admin-helper-plugin:whereismycf-resources")},decorateContent:function(){var e=this;this.get$popupContent().find(".cancel").click(function(t){e.hide(),t.preventDefault()})},_onShowContent:function(){if(this._super(),t.current===this){var e=new i.FocusConfiguration;e.context=this.get$popup()[0],e.parentElementSelectors=[".form-body"],i.pushConfiguration(e),i.triggerFocus()}},hide:function(e){return this._super(e)!==!1&&void i.popConfiguration()}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/notification-helper-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta"],function(e,i,n){n.get("is-admin")&&e(document).delegate(".notificationhelper-trigger","click",function(e){e.preventDefault(),new i({id:"notification-helper-dialog",content:function(e){var i=this;require(["jira/admin-helper/notification-helper/content-loader"],function(n){n.loadContent(i,e)})}}).show()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/permission-helper-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta"],function(e,i,n){n.get("is-admin")&&e(document).delegate(".permissionhelper-trigger","click",function(e){e.preventDefault(),new i({id:"permission-helper-dialog",widthClass:"medium",content:function(e){var i=this;require(["jira/admin-helper/permission-helper/content-loader"],function(n){n.loadContent(i,e)})}}).show()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'jira-admin-helper-module/js/whereismycf-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta","jira/dialog/dialog"],function(i,e,n,t){function r(){AJS.InlineDialog.current=null}if(n.get("is-admin")){var a="Where is my field?";i(document).delegate(".whereismycf-trigger","click",function(i){i.preventDefault(),new e({id:"whereismycf-dialog",widthClass:"small",content:function(i){var e=this;require(["jira/admin-helper/whereismycf/content-loader"],function(n){n.loadContentForView(e,i)})}}).show()}),i(document).bind("showLayer",function(n,o,l){if("inlineDialog"==o&&"inline-dialog-field_picker_popup"==l.popup.attr("id")&&0==l.popup.find("#whereismycf-qfpicker-link-id").length){var d=i("<a href='#' id='whereismycf-qfpicker-link-id'>"+a+"</a>").appendTo(l.popup.find("#qf-picker-custom-link"));d.click(function(i){i.preventDefault(),l.hide(),r();var n=t.current;new e({id:"whereismycf-dialog",widthClass:"small",content:function(i){var e=this;require(["jira/admin-helper/whereismycf/content-loader"],function(t){t.loadContentForEditAndCreate(e,n,i)})}}).show()})}})}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue', location = 'jira-quick-edit-plugin/js/init/create.js' */
define("quick-edit/init/create",["quick-edit/form/factory/create-issue","quick-edit/form/factory/create-subtask","quick-edit/util/dialog","jira/analytics/web-client","jira/analytics/transformers/issue-type","jira/featureflags/feature-manager","jquery","quick-edit/util/jira","quick-edit/util/hierarchy","jira/util/events"],function(e,t,i,a,s,r,n,o,u,d){"use strict";var c=function(t){var i=n(t.target),r=i.is("a")?i:i.find("a"),c=parseUri(r.attr("href")).queryKey,p={pid:c.pid,issueType:c.issuetype,itsmCategory:c.itsmCategory};p=n.extend(p,{pid:i.attr("data-pid"),issueType:i.attr("data-issue-type"),itsmCategory:i.attr("data-itsm-category")});var g=e(p);n(g).on("dialogRendered",function(){JIRA.trace("create.issue.dialog.rendered"),a.sendPageEvent("createIssueModal"),d.trigger("createIssueDialogRendered")}),n(g).on("issueCreated",function(e,t){JIRA.trace("create.issue.dialog.issue.created");var i=t.createdIssueDetails.fields,r=String(i.project.id),n=i.project.projectTypeKey,c=String(t.createdIssueDetails.id),p=s.map(i.issuetype.name),g=String(i.issuetype.id),y={issueType:p,issueTypeId:g,projectType:n};i&&i.issuerestriction&&i.issuerestriction.issuerestrictions&&i.issuerestriction.issuerestrictions.projectrole&&i.issuerestriction.issuerestrictions.projectrole.length>0&&(y={issueType:p,issueTypeId:g,projectType:n,restrictIssue:!0});var f=i.project.simplified,I=t.hierarchy;y.nextGenProject=f,f&&I&&(y.issueTypeLevel=u.getIssueTypeLevel(I));var k="other";"software"===n&&(window.location.pathname.indexOf("roadmap")>-1?k="roadmap":window.location.pathname.indexOf("RapidBoard.jspa")>-1&&window.location.search.indexOf("view=planning")>-1||window.location.pathname.indexOf("backlog")>-1?k="backlog":(window.location.pathname.indexOf("RapidBoard.jspa")>-1||window.location.pathname.indexOf("board")>-1)&&(k="board")),y.location=k,"service_desk"===n&&(y.hasRequestType=l(i));var m={containerType:"project",containerId:r,source:"createIssueModal",objectType:"issue",objectId:c,actionSubject:"issue",action:"created",attributes:y};a.sendTrackEvent(m),d.trigger("legacyIssueCreated",m);var v=o.getApplication(n),b=o.getEdition(v);a.sendOperationalEvent({source:"ui",actionSubject:"ui",action:"taskSuccess",attributes:{task:"createIssue",isCreated:!0,application:v,edition:b,analyticsSource:"QuickCreateForm"}})}),g.asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:"Create issue",headers:{"X-Atlassian-Capability":"LEGACY_ISSUE_CREATE"}}).show()},l=function(e){var t=!1;return n.each(e,function(e,i){i&&i.hasOwnProperty("requestType")&&(t=!0)}),t},p=function(e){var t=n(e.target),i=t.is("a")?t:t.find("a"),a=i.attr("data-issueid"),s=require("jira/issue"),r=require("jira/issuenavigator/issue-navigator");a=a||n("#fallback-subtask-dialog-issueid").data("issueid")||s.getIssueId()||r.getSelectedIssueId();var o=new CustomEvent("openIssueCreateDialog",{detail:{isSubTaskCreationOpen:!0,shouldNotTransform:!0,payload:{parentId:{parentId:a.toString()}},title:"Create Subtask",id:"create-subtask-story-dialog",triggerPointKey:"create-subtask-issue-navigator-trigger"}});document.dispatchEvent(o)},g=function(e){var s=n(e.target),r=s.is("a")?s:s.find("a"),o=r.attr("data-issueid");o=o||n("#fallback-subtask-dialog-issueid").data("issueid");var u={parentIssueId:o},d=t(u);n(d).on("dialogRendered",function(){a.sendPageEvent("createSubTaskModal")}),d.asDialog({windowTitle:function(){return i.getIssueActionTitle("Create Subtask")},trigger:document.createElement("a"),id:"create-subtask-dialog"}).show()};return{initIssueDialog:c,initSubtaskDialog:g,initNewGicSubtaskDialog:p}});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:soy-templates', location = 'jira-view-issue-module/viewissue/attachmentsblock.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.ViewIssue&&(JIRA.Templates.ViewIssue={}),JIRA.Templates.ViewIssue.renderAttachments=function(e,t){return""+("list"==e.viewMode?JIRA.Templates.ViewIssue.fileAttachments(e):JIRA.Templates.ViewIssue.galleryAttachments(e))},JIRA.Templates.ViewIssue.fileAttachments=function(e,t){for(var a='<ol id="file_attachments" class="item-attachments" data-sort-key="'+soy.$$escapeHtml(e.sortKey)+'" data-sort-order="'+soy.$$escapeHtml(e.sortOrder)+'">',s=e.attachments,i=s.length,n=0;n<i;n++){var c=s[n];a+=JIRA.Templates.ViewIssue.fileAttachment(soy.$$augmentMap(e,{fileAttachment:c}))}return a+="</ol>"},JIRA.Templates.ViewIssue.galleryAttachments=function(e,t){for(var a='<ol id="attachment_thumbnails" class="item-attachments" data-sort-key="'+soy.$$escapeHtml(e.sortKey)+'" data-sort-order="'+soy.$$escapeHtml(e.sortOrder)+'">',s=e.attachments,i=s.length,n=0;n<i;n++){var c=s[n];a+=JIRA.Templates.ViewIssue.imageAttachment(soy.$$augmentMap(e,{imageAttachment:c}))}return a+="</ol>"},JIRA.Templates.ViewIssue.fileAttachment=function(e,t){return'<li class="attachment-content js-file-attachment'+(e.fileAttachment.latest?"":" earlier-version")+'" data-attachment-id="'+soy.$$escapeHtml(e.fileAttachment.id)+'"'+JIRA.Templates.ViewIssue.renderAttachmentData({issue:e.issue,attachment:e.fileAttachment})+">"+(e.fileAttachment.expandable?JIRA.Templates.ViewIssue.zipFileAttachment(e):'<div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.fileAttachment.mimeType)+":"+soy.$$escapeHtml(e.fileAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.fileAttachment})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(e,{mimetype:e.fileAttachment.mimeType}))+"</a></div><dl>"+JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(e,{attachment:e.fileAttachment}))+"</dl>")+"</li>"},JIRA.Templates.ViewIssue.zipFileAttachment=function(e,t){return'<div class="twixi-block collapsed expander"><div class="twixi-wrap verbose"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-expanded"><span>'+soy.$$escapeHtml("Hide")+'</span></span></a><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.fileAttachment.mimeType)+":"+soy.$$escapeHtml(e.fileAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.fileAttachment})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(e,{mimetype:e.fileAttachment.mimeType}))+"</a></div><dl>"+JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(e,{attachment:e.fileAttachment}))+'<dd class="zip-contents"><ol><li><div class="attachment-thumb"><img src="'+soy.$$escapeHtml(e.baseurl)+'/images/icons/wait.gif" /></div>'+soy.$$escapeHtml("Extracting archive...")+'</li></ol></dd></dl></div><div class="twixi-wrap concise"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-collapsed"><span>'+soy.$$escapeHtml("Show")+'</span></span></a><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.fileAttachment.mimeType)+":"+soy.$$escapeHtml(e.fileAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.fileAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.fileAttachment})+">"+JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(e,{mimetype:e.fileAttachment.mimeType}))+"</a></div><dl>"+JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(e,{attachment:e.fileAttachment}))+"</dl></div></div>"},JIRA.Templates.ViewIssue.imageAttachment=function(e,t){return'<li class="attachment-content js-file-attachment" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.imageAttachment.mimeType)+":"+soy.$$escapeHtml(e.imageAttachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.imageAttachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.renderAttachmentData({issue:e.issue,attachment:e.imageAttachment})+'><div class="attachment-thumb"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.imageAttachment.attachmentUrl)+'" title="'+soy.$$escapeHtml(e.imageAttachment.fileName)+" -"+(e.imageAttachment.latest?" "+soy.$$escapeHtml("Latest"):"")+" "+soy.$$escapeHtml(e.imageAttachment.createdDateTime)+(e.imageAttachment.authorDisplayName?" - "+soy.$$escapeHtml(e.imageAttachment.authorDisplayName):"")+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.imageAttachment})+">"+(null!=e.imageAttachment.thumbnailUrl?'<jira-attachment-thumbnail url="'+soy.$$escapeHtml(""+e.imageAttachment.thumbnailUrl)+'" jira-url="'+soy.$$escapeHtml(""+e.imageAttachment.jiraThumbnailUrl)+'" filename="'+soy.$$escapeHtml(e.imageAttachment.fileName)+'"></jira-attachment-thumbnail>':JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:e.imageAttachment.mimeType}))+"</a></div><dl "+(e.imageAttachment.latest?"":'class="earlier-version"')+"><dt>"+(e.imageAttachment.deletable?'<span class="blender blender-delete"></span><div class="attachment-delete"><a title="'+soy.$$escapeHtml("Delete this attachment")+'" id="del_'+soy.$$escapeHtml(e.imageAttachment.id)+'" href="'+soy.$$escapeHtml(e.baseurl)+"/secure/DeleteAttachment!default.jspa?id="+soy.$$escapeHtml(e.issue.id)+"&deleteAttachmentId="+soy.$$escapeHtml(e.imageAttachment.id)+'&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$escapeHtml("Delete this attachment")+"</span></a></div>":'<span class="blender"></span>')+'<a  href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.imageAttachment.attachmentUrl)+'" class="attachment-title" title="'+soy.$$escapeHtml(e.imageAttachment.fileName)+" -"+(e.imageAttachment.latest?" "+soy.$$escapeHtml("Latest"):"")+" "+soy.$$escapeHtml(e.imageAttachment.createdDateTime)+(e.imageAttachment.authorDisplayName?" - "+soy.$$escapeHtml(e.imageAttachment.authorDisplayName):"")+'"'+JIRA.Templates.ViewIssue.tagAttachment({attachment:e.imageAttachment})+">"+soy.$$escapeHtml(e.imageAttachment.fileName)+'</a></dt><dd class="attachment-size">'+soy.$$escapeHtml(e.imageAttachment.fileSize)+'</dd><dd class="attachment-date"><time class="livestamp" datetime="'+soy.$$escapeHtml(""+e.imageAttachment.createdIso8601)+'">'+soy.$$escapeHtml(e.imageAttachment.createdDateTime)+"</time></dd></dl></li>"},JIRA.Templates.ViewIssue.renderAttachmentInfo=function(e,t){return'<dt class="attachment-title"><a href="'+soy.$$escapeHtml(e.baseurl)+"/"+soy.$$escapeHtml(""+e.attachment.attachmentUrl)+'" title="'+(e.attachment.latest?soy.$$escapeHtml("Latest")+" ":"")+" "+soy.$$escapeHtml(e.attachment.createdDateTime)+(e.attachment.authorDisplayName?" - "+soy.$$escapeHtml(e.attachment.authorDisplayName):"")+'" draggable="true" data-downloadurl="'+soy.$$escapeHtml(e.attachment.mimeType)+":"+soy.$$escapeHtml(e.attachment.fileName)+":"+soy.$$escapeHtml(e.fullBaseUrl)+"/"+soy.$$escapeHtml(""+e.attachment.attachmentUrl)+'"'+JIRA.Templates.ViewIssue.tagAttachment(e)+">"+soy.$$escapeHtml(e.attachment.fileName)+'</a></dt><dd class="attachment-delete">'+(e.attachment.deletable?'<a title="'+soy.$$escapeHtml("Delete this attachment")+'" id="del_'+soy.$$escapeHtml(e.attachment.id)+'" href="'+soy.$$escapeHtml(e.baseurl)+"/secure/DeleteAttachment!default.jspa?id="+soy.$$escapeHtml(e.issue.id)+"&deleteAttachmentId="+soy.$$escapeHtml(e.attachment.id)+'&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$escapeHtml("Delete this attachment")+"</span></a>":'<span class="icon"></span>')+'</dd><dd class="attachment-date"><time class="livestamp" datetime="'+soy.$$escapeHtml(""+e.attachment.createdIso8601)+'">'+soy.$$escapeHtml(e.attachment.createdDateTime)+'</time></dd><dd class="attachment-size">'+soy.$$escapeHtml(e.attachment.fileSize)+'</dd><dd class="attachment-author">'+soy.$$escapeHtml(e.attachment.authorDisplayName?e.attachment.authorDisplayName:"")+"</dd>"},JIRA.Templates.ViewIssue.renderAttachmentData=function(e,t){return'data-issue-id="'+soy.$$escapeHtml(e.issue.id)+'"'+(e.attachment.expandable?'data-attachment-type="expandable"':null!=e.attachment.thumbnailUrl?'data-attachment-type="image"':'data-attachment-type="file"')},JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon=function(e,t){var a="",s=""+JIRA.Templates.ViewIssue.matchFileIconUrl(e),i=""+JIRA.Templates.ViewIssue.matchFileIconAlt(e);return a+='<img src="'+soy.$$escapeHtml(s)+'" height="16" width="16" border="0" alt="'+soy.$$escapeHtml(i)+'">'},JIRA.Templates.ViewIssue.matchFileIconUrl=function(e,t){return soy.$$escapeHtml(e.baseurl)+"/images/icons/attach/"+JIRA.Templates.ViewIssue.matchFileIcon(e)},JIRA.Templates.ViewIssue.matchFileIcon=function(e,t){var a="";switch(e.mimetype){case"application/pdf":a+="pdf.gif";break;case"image/gif":a+="image.gif";break;case"image/png":a+="image.gif";break;case"image/jpeg":a+="image.gif";break;case"text/xml":a+="xml.gif";break;case"text/html":a+="html.gif";break;case"text/plain":a+="text.gif";break;case"application/zip":a+="zip.gif";break;case"application/x-gzip-compressed":a+="zip.gif";break;case"application/msword":a+="word.gif";break;case"application/msword-template":a+="word.gif";break;case"application/vnd.ms-word.document.macroEnabled.12":a+="word.gif";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":a+="word.gif";break;case"application/vnd.ms-word.template.macroEnabled.12":a+="word.gif";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":a+="word.gif";break;case"application/vnd.ms-excel":a+="excel.gif";break;case"application/vnd.ms-excel.addin.macroEnabled.12":a+="excel.gif";break;case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":a+="excel.gif";break;case"application/vnd.ms-excel.sheet.macroEnabled.12":a+="excel.gif";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a+="excel.gif";break;case"application/vnd.ms-excel.template.macroEnabled.12":a+="excel.gif";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":a+="excel.gif";break;case"application/vnd.ms-powerpoint":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.template.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.openxmlformats-officedocument.presentationml.template":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.addin.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":a+="powerpoint.gif";break;case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":a+="powerpoint.gif";break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a+="powerpoint.gif";break;case"text/x-java":a+="java.gif";break;case"text/x-java-source":a+="java.gif";break;case"application/x-java-archive":a+="java.gif";break;default:a+="file.gif"}return a},JIRA.Templates.ViewIssue.matchFileIconAlt=function(e,t){var a="";switch(e.mimetype){case"application/pdf":a+=soy.$$escapeHtml("PDF File");break;case"image/gif":a+=soy.$$escapeHtml("GIF File");break;case"image/png":a+=soy.$$escapeHtml("PNG File");break;case"image/jpeg":a+=soy.$$escapeHtml("JPEG File");break;case"text/xml":a+=soy.$$escapeHtml("XML File");break;case"text/html":a+=soy.$$escapeHtml("HTML File");break;case"text/plain":a+=soy.$$escapeHtml("Text File");break;case"application/zip":a+=soy.$$escapeHtml("Zip Archive");break;case"application/x-gzip-compressed":a+=soy.$$escapeHtml("GZip Archive");break;case"application/msword":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/msword-template":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-word.document.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-word.template.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.addin.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.sheet.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-excel.template.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":a+=soy.$$escapeHtml("Microsoft Word");break;case"application/vnd.ms-powerpoint":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.template.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.openxmlformats-officedocument.presentationml.template":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.addin.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a+=soy.$$escapeHtml("Microsoft PowerPoint");break;case"text/x-java":a+=soy.$$escapeHtml("Java Source File");break;case"text/x-java-source":a+=soy.$$escapeHtml("Java Source File");break;case"application/x-java-archive":a+=soy.$$escapeHtml("Java Archive File");break;default:a+=soy.$$escapeHtml("File")}return a},JIRA.Templates.ViewIssue.renderAttachmentIcon=function(e,t){var a="",s=""+JIRA.Templates.ViewIssue.matchFileClass(e),i=""+JIRA.Templates.ViewIssue.matchFileIconAlt(e);return a+='<span class="aui-icon aui-icon-small attachment-icon '+soy.$$escapeHtml(s)+'" title="'+soy.$$escapeHtml(i)+'"></span>'},JIRA.Templates.ViewIssue.renderThumbnailIcon=function(e,t){var a="",s=""+JIRA.Templates.ViewIssue.matchFileClass(e);return a+='<span class="aui-icon aui-icon-large attachment-thumbnail-icon '+soy.$$escapeHtml(s)+'"></span>'},JIRA.Templates.ViewIssue.matchFileClass=function(e,t){var a="";switch(e.mimetype){case"application/pdf":a+="aui-iconfont-file-pdf";break;case"image/gif":a+="aui-iconfont-image";break;case"image/png":a+="aui-iconfont-image";break;case"image/jpeg":a+="aui-iconfont-image";break;case"video/mp4":a+="aui-iconfont-file-video";break;case"text/xml":a+="aui-iconfont-file-code";break;case"text/html":a+="aui-iconfont-file-code";break;case"text/plain":a+="aui-iconfont-file-txt";break;case"application/zip":a+="aui-iconfont-file-zip";break;case"application/x-gzip-compressed":a+="aui-iconfont-file-zip";break;case"application/msword":a+="aui-iconfont-file-doc";break;case"application/msword-template":a+="aui-iconfont-file-doc";break;case"application/vnd.ms-word.document.macroEnabled.12":a+="aui-iconfont-file-doc";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":a+="aui-iconfont-file-doc";break;case"application/vnd.ms-word.template.macroEnabled.12":a+="aui-iconfont-file-doc";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":a+="aui-iconfont-file-doc";break;case"application/vnd.ms-excel":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.addin.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.sheet.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-excel.template.macroEnabled.12":a+="aui-iconfont-file-xls";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":a+="aui-iconfont-file-xls";break;case"application/vnd.ms-powerpoint":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.template.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.template":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.addin.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":a+="aui-iconfont-file-ppt";break;case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":a+="aui-iconfont-file-ppt";break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a+="aui-iconfont-file-ppt";break;case"text/x-java":a+="aui-iconfont-file-code";break;case"text/x-java-source":a+="aui-iconfont-file-code";break;case"application/x-java-archive":a+="aui-iconfont-file-zip";break;default:a+="aui-iconfont-devtools-file"}return a},JIRA.Templates.ViewIssue.tagAttachment=function(e,t){return""+JIRA.Templates.ViewIssue.tagFilePreview({id:e.attachment.id,title:e.attachment.fileName,mimeType:e.attachment.mimeType,thumbnailUrl:e.attachment.thumbnailUrl})},JIRA.Templates.ViewIssue.tagFilePreview=function(e,t){var a="",s=""+(null==e.mimeType&&null!=e.thumbnailUrl?"image":null!=e.mimeType&&(""+e.mimeType).indexOf("image/")!=-1?"image":null!=e.mimeType&&(""+e.mimeType).indexOf("video/mp4")!=-1?"video":"application/pdf"==e.mimeType?"document":"unknown");return a+="unknown"!=s?' file-preview-id="'+soy.$$escapeHtml(e.id)+'" file-preview-title="'+soy.$$escapeHtml(e.title)+'" file-preview-type="'+soy.$$escapeHtml(s)+'" file-preview-mime-type="'+soy.$$escapeHtml(e.mimeType)+'"'+(null!=e.thumbnailUrl?'file-preview-url="'+soy.$$escapeHtml(""+e.thumbnailUrl)+'"':""):""};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'jira-dnd-attachment-module/js/jira-amd.js' */
define("dndattachment/JIRA",function(){return JIRA});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'jira-dnd-attachment-module/js/aui-amd.js' */
define("dndattachment/aui",function(){return AJS});;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.29.4', location = 'atlassian-jslibs/libs/moment/moment.js' */
!function(e){define("atlassian/libs/moment",function(){var t={};return e.call(t),t.moment})}(function(){!function(e,t){e.moment=t()}(this,function(){"use strict";function e(){return ti.apply(null,arguments)}function t(e){ti=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(i(e,t))return!1;return!0}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,s=[],i=e.length;for(n=0;n<i;++n)s.push(t(e[n],n));return s}function h(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Ot(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=c()),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=ni.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function _(e){var t=d(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}function y(e,t){var n,s,i,r=si.length;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),r>0)for(n=0;n<r;n++)s=si[n],i=t[s],a(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ii===!1&&(ii=!0,e.updateOffset(this),ii=!1)}function w(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function p(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function v(t,n){var s=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){var r,a,o,u=[],l=arguments.length;for(a=0;a<l;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(o in arguments[0])i(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];u.push(r)}p(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),ri[t]||(p(n),ri[t]=!0)}function M(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){var t,n;for(n in e)i(e,n)&&(t=e[n],M(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(e,t){var n,r=h({},e);for(n in t)i(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)i(e,n)&&!i(t,n)&&s(e[n])&&(r[n]=h({},r[n]));return r}function Y(e){null!=e&&this.set(e)}function O(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return M(s)?s.call(t,n):s}function b(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function x(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(ci[e]=i),t&&(ci[t[0]]=function(){return b(i.apply(this,arguments),t[1],t[2])}),n&&(ci[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function T(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,s=e.match(li);for(t=0,n=s.length;t<n;t++)ci[s[t]]?s[t]=ci[s[t]]:s[t]=T(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=M(s[i])?s[i].call(t,e):s[i];return r}}function P(e,t){return e.isValid()?(t=R(t,e.localeData()),di[t]=di[t]||N(t),di[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(hi.lastIndex=0;s>=0&&hi.test(e);)e=e.replace(hi,n),hi.lastIndex=0,s-=1;return e}function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(li).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}function C(){return this._invalidDate}function U(e){return this._ordinal.replace("%d",e)}function H(e,t,n,s){var i=this._relativeTime[n];return M(i)?i(e,t,n,s):i.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)}function L(e,t){var n=e.toLowerCase();wi[n]=wi[n+"s"]=wi[t]=e}function V(e){return"string"==typeof e?wi[e]||wi[e.toLowerCase()]:void 0}function G(e){var t,n,s={};for(n in e)i(e,n)&&(t=V(n),t&&(s[t]=e[n]));return s}function E(e,t){pi[e]=t}function A(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:pi[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}function I(e){return e%4===0&&e%100!==0||e%400===0}function j(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=j(t)),n}function z(t,n){return function(s){return null!=s?(q(this,t,s),e.updateOffset(this,n),this):$(this,t)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&I(e.year())&&1===e.month()&&29===e.date()?(n=Z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),re(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function B(e){return e=V(e),M(this[e])?this[e]():this}function J(e,t){if("object"==typeof e){e=G(e);var n,s=A(e),i=s.length;for(n=0;n<i;n++)this[s[n].unit](e[s[n].unit])}else if(e=V(e),M(this[e]))return this[e](t);return this}function Q(e,t,n){oi[e]=M(t)?t:function(e,s){return e&&n?n:t}}function X(e,t){return i(oi,e)?oi[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,s,i=t;for("string"==typeof e&&(e=[e]),o(t)&&(i=function(e,n){n[t]=Z(e)}),s=e.length,n=0;n<s;n++)Li[e[n]]=i}function ne(e,t){te(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function se(e,t,n){null!=t&&i(Li,e)&&Li[e](t,n._a,n,e)}function ie(e,t){return(e%t+t)%t}function re(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ie(t,12);return e+=(t-n)/12,1===n?I(e)?29:28:31-n%7%2}function ae(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ji).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function oe(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ji.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ue(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=Fi.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Fi.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=Fi.call(this._shortMonthsParse,a),i!==-1?i:(i=Fi.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Fi.call(this._longMonthsParse,a),i!==-1?i:(i=Fi.call(this._shortMonthsParse,a),i!==-1?i:null))}function le(e,t,n){var s,i,r;if(this._monthsParseExact)return ue.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function he(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Z(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(t){return null!=t?(he(this,t),e.updateOffset(this,!0),this):$(this,"Month")}function ce(){return re(this.year(),this.month())}function fe(e){return this._monthsParseExact?(i(this,"_monthsRegex")||_e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=Qi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(i(this,"_monthsRegex")||_e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=Xi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function _e(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=ee(s[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)r[t]=ee(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ye(e){return I(e)?366:365}function ge(){return I(this.year())}function we(e,t,n,s,i,r,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function pe(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ve(e,t,n){var s=7+t-n,i=(7+pe(e,0,s).getUTCDay()-t)%7;return-i+s-1}function ke(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=ve(e,s,i),l=1+7*(t-1)+o+u;return l<=0?(r=e-1,a=ye(r)+l):l>ye(e)?(r=e+1,a=l-ye(e)):(r=e,a=l),{year:r,dayOfYear:a}}function Me(e,t,n){var s,i,r=ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+De(i,t,n)):a>De(e.year(),t,n)?(s=a-De(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function De(e,t,n){var s=ve(e,t,n),i=ve(e+1,t,n);return(ye(e)-s+i)/7}function Se(e){return Me(e,this._week.dow,this._week.doy).week}function Ye(){return this._week.dow}function Oe(){return this._week.doy}function be(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xe(e){var t=Me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Te(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ne(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Re(e,t){var s=n(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Pe(s,this._week.dow):e?s[e.day()]:s}function We(e){return e===!0?Pe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ce(e){return e===!0?Pe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ue(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=Fi.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=Fi.call(this._weekdaysParse,a),i!==-1?i:(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=Fi.call(this._weekdaysParse,a),i!==-1?i:(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=Fi.call(this._minWeekdaysParse,a),i!==-1?i:(i=Fi.call(this._weekdaysParse,a),i!==-1?i:(i=Fi.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function He(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Ue.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Te(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ve(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ne(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ge(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ie.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=ir),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ee(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ie.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=rr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ae(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ie.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ar),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ie(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=ee(this.weekdaysMin(n,"")),i=ee(this.weekdaysShort(n,"")),r=ee(this.weekdays(n,"")),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);a.sort(e),o.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function je(){return this.hours()%12||12}function Ze(){return this.hours()||24}function ze(e,t){x(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Be(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Je(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,s,i,r=0;r<e.length;){for(i=Qe(e[r]).split("-"),t=i.length,n=Qe(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=et(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&Je(i,n)>=t-1)break;t--}r++}return or}function Ke(e){return null!=e.match("^[^/\\\\]*$")}function et(e){var t,n=null;if(void 0===dr[e]&&"undefined"!=typeof module&&module&&module.exports&&Ke(e))try{n=or._abbr,t=require,t("./locale/"+e),tt(n)}catch(t){dr[e]=null}return dr[e]}function tt(e,t){var n;return e&&(n=a(t)?it(e):nt(e,t),n?or=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),or._abbr}function nt(e,t){if(null!==t){var n,s=hr;if(t.abbr=e,null!=dr[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=dr[e]._config;else if(null!=t.parentLocale)if(null!=dr[t.parentLocale])s=dr[t.parentLocale]._config;else{if(n=et(t.parentLocale),null==n)return cr[t.parentLocale]||(cr[t.parentLocale]=[]),cr[t.parentLocale].push({name:e,config:t}),null;s=n._config}return dr[e]=new Y(S(s,t)),cr[e]&&cr[e].forEach(function(e){nt(e.name,e.config)}),tt(e),dr[e]}return delete dr[e],null}function st(e,t){if(null!=t){var n,s,i=hr;null!=dr[e]&&null!=dr[e].parentLocale?dr[e].set(S(dr[e]._config,t)):(s=et(e),null!=s&&(i=s._config),t=S(i,t),null==s&&(t.abbr=e),n=new Y(t),n.parentLocale=dr[e],dr[e]=n),tt(e)}else null!=dr[e]&&(null!=dr[e].parentLocale?(dr[e]=dr[e].parentLocale,e===tt()&&tt(e)):null!=dr[e]&&delete dr[e]);return dr[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return or;if(!n(e)){if(t=et(e))return t;e=[e]}return Xe(e)}function rt(){return ai(dr)}function at(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[Gi]<0||n[Gi]>11?Gi:n[Ei]<1||n[Ei]>re(n[Vi],n[Gi])?Ei:n[Ai]<0||n[Ai]>24||24===n[Ai]&&(0!==n[Ii]||0!==n[ji]||0!==n[Zi])?Ai:n[Ii]<0||n[Ii]>59?Ii:n[ji]<0||n[ji]>59?ji:n[Zi]<0||n[Zi]>999?Zi:-1,f(e)._overflowDayOfYear&&(t<Vi||t>Ei)&&(t=Ei),f(e)._overflowWeeks&&t===-1&&(t=zi),f(e)._overflowWeekday&&t===-1&&(t=$i),f(e).overflow=t),e}function ot(e){var t,n,s,i,r,a,o=e._i,u=fr.exec(o)||mr.exec(o),l=yr.length,h=gr.length;if(u){for(f(e).iso=!0,t=0,n=l;t<n;t++)if(yr[t][1].exec(u[1])){i=yr[t][0],s=yr[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=h;t<n;t++)if(gr[t][1].exec(u[3])){r=(u[2]||" ")+gr[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_r.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),pt(e)}else e._isValid=!1}function ut(e,t,n,s,i,r){var a=[lt(e),Bi.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function lt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ht(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function dt(e,t,n){if(e){var s=nr.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ct(e,t,n){if(e)return vr[e];if(t)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return 60*r+i}function ft(e){var t,n=pr.exec(ht(e._i));if(n){if(t=ut(n[4],n[3],n[2],n[5],n[6],n[7]),!dt(n[1],t,e))return;e._a=t,e._tzm=ct(n[8],n[9],n[10]),e._d=pe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function mt(t){var n=wr.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(ot(t),void(t._isValid===!1&&(delete t._isValid,ft(t),t._isValid===!1&&(delete t._isValid,t._strict?t._isValid=!1:e.createFromInputFallback(t)))))}function _t(e,t,n){return null!=e?e:null!=t?t:n}function yt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function gt(e){var t,n,s,i,r,a=[];if(!e._d){for(s=yt(e),e._w&&null==e._a[Ei]&&null==e._a[Gi]&&wt(e),null!=e._dayOfYear&&(r=_t(e._a[Vi],s[Vi]),(e._dayOfYear>ye(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=pe(r,0,e._dayOfYear),e._a[Gi]=n.getUTCMonth(),e._a[Ei]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ai]&&0===e._a[Ii]&&0===e._a[ji]&&0===e._a[Zi]&&(e._nextDay=!0,e._a[Ai]=0),e._d=(e._useUTC?pe:we).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ai]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function wt(e){var t,n,s,i,r,a,o,u,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,a=4,n=_t(t.GG,e._a[Vi],Me(bt(),1,4).year),s=_t(t.W,1),i=_t(t.E,1),(i<1||i>7)&&(u=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,l=Me(bt(),r,a),n=_t(t.gg,e._a[Vi],l.year),s=_t(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r),s<1||s>De(n,r,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(o=ke(n,s,i,r,a),e._a[Vi]=o.year,e._dayOfYear=o.dayOfYear)}function pt(t){if(t._f===e.ISO_8601)return void ot(t);if(t._f===e.RFC_2822)return void ft(t);t._a=[],f(t).empty=!0;var n,s,i,r,a,o,u,l=""+t._i,h=l.length,d=0;for(i=R(t._f,t._locale).match(li)||[],u=i.length,n=0;n<u;n++)r=i[n],s=(l.match(X(r,t))||[])[0],s&&(a=l.substr(0,l.indexOf(s)),a.length>0&&f(t).unusedInput.push(a),l=l.slice(l.indexOf(s)+s.length),d+=s.length),ci[r]?(s?f(t).empty=!1:f(t).unusedTokens.push(r),se(r,s,t)):t._strict&&!s&&f(t).unusedTokens.push(r);f(t).charsLeftOver=h-d,l.length>0&&f(t).unusedInput.push(l),t._a[Ai]<=12&&f(t).bigHour===!0&&t._a[Ai]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[Ai]=vt(t._locale,t._a[Ai],t._meridiem),o=f(t).era,null!==o&&(t._a[Vi]=t._locale.erasConvertYear(o,t._a[Vi])),gt(t),at(t)}function vt(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function kt(e){var t,n,s,i,r,a,o=!1,u=e._f.length;if(0===u)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)r=0,a=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],pt(t),m(t)&&(a=!0),r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,o?r<s&&(s=r,n=t):(null==s||r<s||a)&&(s=r,n=t,a&&(o=!0));h(e,n||t)}function Mt(e){if(!e._d){var t=G(e._i),n=void 0===t.day?t.date:t.day;e._a=l([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),gt(e)}}function Dt(e){var t=new g(at(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,s=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===s&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new g(at(t)):(u(t)?e._d=t:n(s)?kt(e):s?pt(e):Yt(e),m(e)||(e._d=null),e))}function Yt(t){var i=t._i;a(i)?t._d=new Date(e.now()):u(i)?t._d=new Date(i.valueOf()):"string"==typeof i?mt(t):n(i)?(t._a=l(i.slice(0),function(e){return parseInt(e,10)}),gt(t)):s(i)?Mt(t):o(i)?t._d=new Date(i):e.createFromInputFallback(t)}function Ot(e,t,i,a,o){var u={};return t!==!0&&t!==!1||(a=t,t=void 0),i!==!0&&i!==!1||(a=i,i=void 0),(s(e)&&r(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=i,u._i=e,u._f=t,u._strict=a,Dt(u)}function bt(e,t,n,s){return Ot(e,t,n,s,!1)}function xt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return bt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function Tt(){var e=[].slice.call(arguments,0);return xt("isBefore",e)}function Nt(){var e=[].slice.call(arguments,0);return xt("isAfter",e)}function Pt(e){var t,n,s=!1,r=Sr.length;for(t in e)if(i(e,t)&&(Fi.call(Sr,t)===-1||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Sr[n]]){if(s)return!1;parseFloat(e[Sr[n]])!==Z(e[Sr[n]])&&(s=!0)}return!0}function Rt(){return this._isValid}function Wt(){return Kt(NaN)}function Ct(e){var t=G(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=Pt(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=it(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ft(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&Z(e[s])!==Z(t[s]))&&a++;return a+r}function Lt(e,t){x(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+b(~~(e/60),2)+t+b(~~e%60,2)})}function Vt(e,t){var n,s,i,r=(t||"").match(e);return null===r?null:(n=r[r.length-1]||[],s=(n+"").match(Yr)||["-",0,0],i=+(60*s[1])+Z(s[2]),0===i?0:"+"===s[0]?i:-i)}function Gt(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(w(t)||u(t)?t.valueOf():bt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):bt(t).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Vt(Ci,t),null===t)return this}else Math.abs(t)<16&&!s&&(t=60*t);return!this._isUTC&&n&&(i=Et(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?rn(this,Kt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Et(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jt(e){return this.utcOffset(0,e)}function Zt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this}function zt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Vt(Wi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function $t(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),t=St(t),t._a?(e=t._isUTC?d(t._a):bt(t._a),this._isDSTShifted=this.isValid()&&Ft(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Jt(){return!!this.isValid()&&!this._isUTC}function Qt(){return!!this.isValid()&&this._isUTC}function Xt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Kt(e,t){var n,s,r,a=e,u=null;return Ut(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:o(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(u=Or.exec(e))?(n="-"===u[1]?-1:1,a={y:0,d:Z(u[Ei])*n,h:Z(u[Ai])*n,m:Z(u[Ii])*n,s:Z(u[ji])*n,ms:Z(Ht(1e3*u[Zi]))*n}):(u=br.exec(e))?(n="-"===u[1]?-1:1,a={y:en(u[2],n),M:en(u[3],n),w:en(u[4],n),d:en(u[5],n),h:en(u[6],n),m:en(u[7],n),s:en(u[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=nn(bt(a.from),bt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),s=new Ct(a),Ut(e)&&i(e,"_locale")&&(s._locale=e._locale),Ut(e)&&i(e,"_isValid")&&(s._isValid=e._isValid),s}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){var n;return e.isValid()&&t.isValid()?(t=Gt(t,e),e.isBefore(t)?n=tn(e,t):(n=tn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function sn(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),i=Kt(n,s),rn(this,i,e),this}}function rn(t,n,s,i){var r=n._milliseconds,a=Ht(n._days),o=Ht(n._months);t.isValid()&&(i=null==i||i,o&&he(t,$(t,"Month")+o*s),a&&q(t,"Date",$(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function an(e){return"string"==typeof e||e instanceof String}function on(e){return w(e)||u(e)||an(e)||o(e)||ln(e)||un(e)||null===e||void 0===e}function un(e){var t,n,a=s(e)&&!r(e),o=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=u.length;for(t=0;t<l;t+=1)n=u[t],o=o||i(e,n);return a&&o}function ln(e){var t=n(e),s=!1;return t&&(s=0===e.filter(function(t){return!o(t)&&an(e)}).length),t&&s}function hn(e){var t,n,a=s(e)&&!r(e),o=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<u.length;t+=1)n=u[t],o=o||i(e,n);return a&&o}function dn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function cn(t,n){1===arguments.length&&(arguments[0]?on(arguments[0])?(t=arguments[0],n=void 0):hn(arguments[0])&&(n=arguments[0],t=void 0):(t=void 0,n=void 0));var s=t||bt(),i=Gt(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(M(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,bt(s)))}function fn(){return new g(this)}function mn(e,t){var n=w(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function _n(e,t){var n=w(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function yn(e,t,n,s){var i=w(e)?e:bt(e),r=w(t)?t:bt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&(s=s||"()",("("===s[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n)))}function gn(e,t){var n,s=w(e)?e:bt(e);return!(!this.isValid()||!s.isValid())&&(t=V(t)||"millisecond","millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function wn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function vn(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(s=Gt(e,this),!s.isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=V(t)){case"year":r=kn(this,s)/12;break;case"month":r=kn(this,s);break;case"quarter":r=kn(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:j(r)}function kn(e,t){if(e.date()<t.date())return-kn(t,e);var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),
s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function Mn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Dn(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?P(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",P(n,"Z")):P(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,s,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",s=r+'[")]',this.format(e+t+n+s)}function Yn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=P(this,t);return this.localeData().postformat(n)}function On(e,t){return this.isValid()&&(w(e)&&e.isValid()||bt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(bt(),e)}function xn(e,t){return this.isValid()&&(w(e)&&e.isValid()||bt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(bt(),e)}function Nn(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function Pn(){return this._locale}function Rn(e,t){return(e%t+t)%t}function Wn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Cr:new Date(e,t,n).valueOf()}function Cn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Cr:Date.UTC(e,t,n)}function Un(t){var n,s;if(t=V(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(s=this._isUTC?Cn:Wn,t){case"year":n=s(this.year(),0,1);break;case"quarter":n=s(this.year(),this.month()-this.month()%3,1);break;case"month":n=s(this.year(),this.month(),1);break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=s(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Rn(n+(this._isUTC?0:this.utcOffset()*Rr),Wr);break;case"minute":n=this._d.valueOf(),n-=Rn(n,Rr);break;case"second":n=this._d.valueOf(),n-=Rn(n,Pr)}return this._d.setTime(n),e.updateOffset(this,!0),this}function Hn(t){var n,s;if(t=V(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(s=this._isUTC?Cn:Wn,t){case"year":n=s(this.year()+1,0,1)-1;break;case"quarter":n=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=s(this.year(),this.month()+1,1)-1;break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=Wr-Rn(n+(this._isUTC?0:this.utcOffset()*Rr),Wr)-1;break;case"minute":n=this._d.valueOf(),n+=Rr-Rn(n,Rr)-1;break;case"second":n=this._d.valueOf(),n+=Pr-Rn(n,Pr)-1}return this._d.setTime(n),e.updateOffset(this,!0),this}function Fn(){return this._d.valueOf()-6e4*(this._offset||0)}function Ln(){return Math.floor(this.valueOf()/1e3)}function Vn(){return new Date(this.valueOf())}function Gn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function En(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function An(){return this.isValid()?this.toISOString():null}function In(){return m(this)}function jn(){return h({},f(this))}function Zn(){return f(this).overflow}function zn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function $n(t,n){var s,i,r,a=this._eras||it("en")._eras;for(s=0,i=a.length;s<i;++s){switch(typeof a[s].since){case"string":r=e(a[s].since).startOf("day"),a[s].since=r.valueOf()}switch(typeof a[s].until){case"undefined":a[s].until=+(1/0);break;case"string":r=e(a[s].until).startOf("day").valueOf(),a[s].until=r.valueOf()}}return a}function qn(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s]}else if([r,a,o].indexOf(e)>=0)return u[s]}function Bn(t,n){var s=t.since<=t.until?1:-1;return void 0===n?e(t.since).year():e(t.since).year()+(n-t.offset)*s}function Jn(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].name;if(s[e].until<=n&&n<=s[e].since)return s[e].name}return""}function Qn(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].narrow;if(s[e].until<=n&&n<=s[e].since)return s[e].narrow}return""}function Xn(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].abbr;if(s[e].until<=n&&n<=s[e].since)return s[e].abbr}return""}function Kn(){var t,n,s,i,r=this.localeData().eras();for(t=0,n=r.length;t<n;++t)if(s=r[t].since<=r[t].until?1:-1,i=this.clone().startOf("day").valueOf(),r[t].since<=i&&i<=r[t].until||r[t].until<=i&&i<=r[t].since)return(this.year()-e(r[t].since).year())*s+r[t].offset;return this.year()}function es(e){return i(this,"_erasNameRegex")||os.call(this),e?this._erasNameRegex:this._erasRegex}function ts(e){return i(this,"_erasAbbrRegex")||os.call(this),e?this._erasAbbrRegex:this._erasRegex}function ns(e){return i(this,"_erasNarrowRegex")||os.call(this),e?this._erasNarrowRegex:this._erasRegex}function ss(e,t){return t.erasAbbrRegex(e)}function is(e,t){return t.erasNameRegex(e)}function rs(e,t){return t.erasNarrowRegex(e)}function as(e,t){return t._eraYearOrdinalRegex||Pi}function os(){var e,t,n=[],s=[],i=[],r=[],a=this.eras();for(e=0,t=a.length;e<t;++e)s.push(ee(a[e].name)),n.push(ee(a[e].abbr)),i.push(ee(a[e].narrow)),r.push(ee(a[e].name)),r.push(ee(a[e].abbr)),r.push(ee(a[e].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function us(e,t){x(0,[e,e.length],0,t)}function ls(e){return _s.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hs(e){return _s.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ds(){return De(this.year(),1,4)}function cs(){return De(this.isoWeekYear(),1,4)}function fs(){var e=this.localeData()._week;return De(this.year(),e.dow,e.doy)}function ms(){var e=this.localeData()._week;return De(this.weekYear(),e.dow,e.doy)}function _s(e,t,n,s,i){var r;return null==e?Me(this,s,i).year:(r=De(e,s,i),t>r&&(t=r),ys.call(this,e,t,n,s,i))}function ys(e,t,n,s,i){var r=ke(e,t,n,s,i),a=pe(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function gs(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function ws(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ps(e,t){t[Zi]=Z(1e3*("0."+e))}function vs(){return this._isUTC?"UTC":""}function ks(){return this._isUTC?"Coordinated Universal Time":""}function Ms(e){return bt(1e3*e)}function Ds(){return bt.apply(null,arguments).parseZone()}function Ss(e){return e}function Ys(e,t,n,s){var i=it(),r=d().set(s,t);return i[n](r,e)}function Os(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ys(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Ys(e,s,n,"month");return i}function bs(e,t,n,s){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var i,r=it(),a=e?r._week.dow:0,u=[];if(null!=n)return Ys(t,(n+a)%7,s,"day");for(i=0;i<7;i++)u[i]=Ys(t,(i+a)%7,s,"day");return u}function xs(e,t){return Os(e,t,"months")}function Ts(e,t){return Os(e,t,"monthsShort")}function Ns(e,t,n){return bs(e,t,n,"weekdays")}function Ps(e,t,n){return bs(e,t,n,"weekdaysShort")}function Rs(e,t,n){return bs(e,t,n,"weekdaysMin")}function Ws(){var e=this._data;return this._milliseconds=Ar(this._milliseconds),this._days=Ar(this._days),this._months=Ar(this._months),e.milliseconds=Ar(e.milliseconds),e.seconds=Ar(e.seconds),e.minutes=Ar(e.minutes),e.hours=Ar(e.hours),e.months=Ar(e.months),e.years=Ar(e.years),this}function Cs(e,t,n,s){var i=Kt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Us(e,t){return Cs(this,e,t,1)}function Hs(e,t){return Cs(this,e,t,-1)}function Fs(e){return e<0?Math.floor(e):Math.ceil(e)}function Ls(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*Fs(Gs(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=j(r/1e3),u.seconds=e%60,t=j(e/60),u.minutes=t%60,n=j(t/60),u.hours=n%24,a+=j(n/24),i=j(Vs(a)),o+=i,a-=Fs(Gs(i)),s=j(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function Vs(e){return 4800*e/146097}function Gs(e){return 146097*e/4800}function Es(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=V(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+Vs(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Gs(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function As(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN}function Is(e){return function(){return this.as(e)}}function js(){return Kt(this)}function Zs(e){return e=V(e),this.isValid()?this[e+"s"]():NaN}function zs(e){return function(){return this.isValid()?this._data[e]:NaN}}function $s(){return j(this.days()/7)}function qs(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function Bs(e,t,n,s){var i=Kt(e).abs(),r=ra(i.as("s")),a=ra(i.as("m")),o=ra(i.as("h")),u=ra(i.as("d")),l=ra(i.as("M")),h=ra(i.as("w")),d=ra(i.as("y")),c=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(c=c||h<=1&&["w"]||h<n.w&&["ww",h]),c=c||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d],c[2]=t,c[3]=+e>0,c[4]=s,qs.apply(null,c)}function Js(e){return void 0===e?ra:"function"==typeof e&&(ra=e,!0)}function Qs(e,t){return void 0!==aa[e]&&(void 0===t?aa[e]:(aa[e]=t,"s"===e&&(aa.ss=t-1),!0))}function Xs(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,s,i=!1,r=aa;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(r=Object.assign({},aa,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),n=this.localeData(),s=Bs(this,!i,r,n),i&&(s=n.pastFuture(+this,s)),n.postformat(s)}function Ks(e){return(e>0)-(e<0)||+e}function ei(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,i,r,a,o,u=oa(this._milliseconds)/1e3,l=oa(this._days),h=oa(this._months),d=this.asSeconds();return d?(e=j(u/60),t=j(e/60),u%=60,e%=60,n=j(h/12),h%=12,s=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",r=Ks(this._months)!==Ks(d)?"-":"",a=Ks(this._days)!==Ks(d)?"-":"",o=Ks(this._milliseconds)!==Ks(d)?"-":"",i+"P"+(n?r+n+"Y":"")+(h?r+h+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(u?o+s+"S":"")):"P0D"}var ti,ni;ni=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),s=n.length>>>0;for(t=0;t<s;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var si=e.momentProperties=[],ii=!1,ri={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var ai;ai=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};var oi,ui={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},li=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,hi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,di={},ci={},fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},mi="Invalid date",_i="%d",yi=/\d{1,2}/,gi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},wi={},pi={},vi=/\d/,ki=/\d\d/,Mi=/\d{3}/,Di=/\d{4}/,Si=/[+-]?\d{6}/,Yi=/\d\d?/,Oi=/\d\d\d\d?/,bi=/\d\d\d\d\d\d?/,xi=/\d{1,3}/,Ti=/\d{1,4}/,Ni=/[+-]?\d{1,6}/,Pi=/\d+/,Ri=/[+-]?\d+/,Wi=/Z|[+-]\d\d:?\d\d/gi,Ci=/Z|[+-]\d\d(?::?\d\d)?/gi,Ui=/[+-]?\d+(\.\d{1,3})?/,Hi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;oi={};var Fi,Li={},Vi=0,Gi=1,Ei=2,Ai=3,Ii=4,ji=5,Zi=6,zi=7,$i=8;Fi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},x("M",["MM",2],"Mo",function(){return this.month()+1}),x("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),x("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),E("month",8),Q("M",Yi),Q("MM",Yi,ki),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Gi]=Z(e)-1}),te(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[Gi]=i:f(n).invalidMonth=e});var qi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Bi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ji=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qi=Hi,Xi=Hi;x("Y",0,0,function(){var e=this.year();return e<=9999?b(e,4):"+"+e}),x(0,["YY",2],0,function(){return this.year()%100}),x(0,["YYYY",4],0,"year"),x(0,["YYYYY",5],0,"year"),x(0,["YYYYYY",6,!0],0,"year"),L("year","y"),E("year",1),Q("Y",Ri),Q("YY",Yi,ki),Q("YYYY",Ti,Di),Q("YYYYY",Ni,Si),Q("YYYYYY",Ni,Si),te(["YYYYY","YYYYYY"],Vi),te("YYYY",function(t,n){n[Vi]=2===t.length?e.parseTwoDigitYear(t):Z(t)}),te("YY",function(t,n){n[Vi]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[Vi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return Z(e)+(Z(e)>68?1900:2e3)};var Ki=z("FullYear",!0);x("w",["ww",2],"wo","week"),x("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),E("week",5),E("isoWeek",5),Q("w",Yi),Q("ww",Yi,ki),Q("W",Yi),Q("WW",Yi,ki),ne(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=Z(e)});var er={dow:0,doy:6};x("d",0,"do","day"),x("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),x("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),x("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),x("e",0,0,"weekday"),x("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),E("day",11),E("weekday",11),E("isoWeekday",11),Q("d",Yi),Q("e",Yi),Q("E",Yi),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,s){t[s]=Z(e)});var tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ir=Hi,rr=Hi,ar=Hi;x("H",["HH",2],0,"hour"),x("h",["hh",2],0,je),x("k",["kk",2],0,Ze),x("hmm",0,0,function(){return""+je.apply(this)+b(this.minutes(),2)}),x("hmmss",0,0,function(){return""+je.apply(this)+b(this.minutes(),2)+b(this.seconds(),2)}),x("Hmm",0,0,function(){return""+this.hours()+b(this.minutes(),2)}),x("Hmmss",0,0,function(){return""+this.hours()+b(this.minutes(),2)+b(this.seconds(),2)}),ze("a",!0),ze("A",!1),L("hour","h"),E("hour",13),Q("a",$e),Q("A",$e),Q("H",Yi),Q("h",Yi),Q("k",Yi),Q("HH",Yi,ki),Q("hh",Yi,ki),Q("kk",Yi,ki),Q("hmm",Oi),Q("hmmss",bi),Q("Hmm",Oi),Q("Hmmss",bi),te(["H","HH"],Ai),te(["k","kk"],function(e,t,n){var s=Z(e);t[Ai]=24===s?0:s}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[Ai]=Z(e),f(n).bigHour=!0}),te("hmm",function(e,t,n){var s=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s)),f(n).bigHour=!0}),te("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s,2)),t[ji]=Z(e.substr(i)),f(n).bigHour=!0}),te("Hmm",function(e,t,n){var s=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s))}),te("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Ai]=Z(e.substr(0,s)),t[Ii]=Z(e.substr(s,2)),t[ji]=Z(e.substr(i))});var or,ur=/[ap]\.?m?\.?/i,lr=z("Hours",!0),hr={calendar:ui,longDateFormat:fi,invalidDate:mi,ordinal:_i,dayOfMonthOrdinalParse:yi,relativeTime:gi,months:qi,monthsShort:Bi,week:er,weekdays:tr,weekdaysMin:sr,weekdaysShort:nr,meridiemParse:ur},dr={},cr={},fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=/Z|[+-]\d\d(?::?\d\d)?/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wr=/^\/?Date\((-?\d+)/i,pr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=v("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var kr=v("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),Mr=v("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}),Dr=function(){return Date.now?Date.now():+new Date},Sr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Lt("Z",":"),Lt("ZZ",""),Q("Z",Ci),Q("ZZ",Ci),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(Ci,e)});var Yr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Or=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,br=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Kt.fn=Ct.prototype,Kt.invalid=Wt;var xr=sn(1,"add"),Tr=sn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Nr=v("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),Pr=1e3,Rr=60*Pr,Wr=60*Rr,Cr=3506328*Wr;x("N",0,0,"eraAbbr"),x("NN",0,0,"eraAbbr"),x("NNN",0,0,"eraAbbr"),x("NNNN",0,0,"eraName"),x("NNNNN",0,0,"eraNarrow"),x("y",["y",1],"yo","eraYear"),x("y",["yy",2],0,"eraYear"),x("y",["yyy",3],0,"eraYear"),x("y",["yyyy",4],0,"eraYear"),Q("N",ss),Q("NN",ss),Q("NNN",ss),Q("NNNN",is),Q("NNNNN",rs),te(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var i=n._locale.erasParse(e,s,n._strict);i?f(n).era=i:f(n).invalidEra=e}),Q("y",Pi),Q("yy",Pi),Q("yyy",Pi),Q("yyyy",Pi),Q("yo",as),te(["y","yy","yyy","yyyy"],Vi),te(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Vi]=n._locale.eraYearOrdinalParse(e,i):t[Vi]=parseInt(e,10)}),x(0,["gg",2],0,function(){return this.weekYear()%100}),x(0,["GG",2],0,function(){return this.isoWeekYear()%100}),us("gggg","weekYear"),us("ggggg","weekYear"),us("GGGG","isoWeekYear"),us("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),E("weekYear",1),E("isoWeekYear",1),Q("G",Ri),Q("g",Ri),Q("GG",Yi,ki),Q("gg",Yi,ki),Q("GGGG",Ti,Di),Q("gggg",Ti,Di),Q("GGGGG",Ni,Si),Q("ggggg",Ni,Si),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=Z(e)}),ne(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),x("Q",0,"Qo","quarter"),L("quarter","Q"),E("quarter",7),Q("Q",vi),te("Q",function(e,t){t[Gi]=3*(Z(e)-1)}),x("D",["DD",2],"Do","date"),L("date","D"),E("date",9),Q("D",Yi),Q("DD",Yi,ki),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],Ei),te("Do",function(e,t){t[Ei]=Z(e.match(Yi)[0])});var Ur=z("Date",!0);x("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),E("dayOfYear",4),Q("DDD",xi),Q("DDDD",Mi),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Z(e)}),x("m",["mm",2],0,"minute"),L("minute","m"),E("minute",14),Q("m",Yi),Q("mm",Yi,ki),te(["m","mm"],Ii);var Hr=z("Minutes",!1);x("s",["ss",2],0,"second"),L("second","s"),E("second",15),Q("s",Yi),Q("ss",Yi,ki),te(["s","ss"],ji);var Fr=z("Seconds",!1);x("S",0,0,function(){return~~(this.millisecond()/100)}),x(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),x(0,["SSS",3],0,"millisecond"),x(0,["SSSS",4],0,function(){return 10*this.millisecond()}),x(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),x(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),x(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),x(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),x(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),E("millisecond",16),Q("S",xi,vi),Q("SS",xi,ki),Q("SSS",xi,Mi);var Lr,Vr;for(Lr="SSSS";Lr.length<=9;Lr+="S")Q(Lr,Pi);for(Lr="S";Lr.length<=9;Lr+="S")te(Lr,ps);Vr=z("Milliseconds",!1),x("z",0,0,"zoneAbbr"),x("zz",0,0,"zoneName");var Gr=g.prototype;Gr.add=xr,Gr.calendar=cn,Gr.clone=fn,Gr.diff=vn,Gr.endOf=Hn,Gr.format=Yn,Gr.from=On,Gr.fromNow=bn,Gr.to=xn,Gr.toNow=Tn,Gr.get=B,Gr.invalidAt=Zn,Gr.isAfter=mn,Gr.isBefore=_n,Gr.isBetween=yn,Gr.isSame=gn,Gr.isSameOrAfter=wn,Gr.isSameOrBefore=pn,Gr.isValid=In,Gr.lang=Nr,Gr.locale=Nn,Gr.localeData=Pn,Gr.max=Mr,Gr.min=kr,Gr.parsingFlags=jn,Gr.set=J,Gr.startOf=Un,Gr.subtract=Tr,Gr.toArray=Gn,Gr.toObject=En,Gr.toDate=Vn,Gr.toISOString=Dn,Gr.inspect=Sn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(Gr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Gr.toJSON=An,Gr.toString=Mn,Gr.unix=Ln,Gr.valueOf=Fn,Gr.creationData=zn,Gr.eraName=Jn,Gr.eraNarrow=Qn,Gr.eraAbbr=Xn,Gr.eraYear=Kn,Gr.year=Ki,Gr.isLeapYear=ge,Gr.weekYear=ls,Gr.isoWeekYear=hs,Gr.quarter=Gr.quarters=gs,Gr.month=de,Gr.daysInMonth=ce,Gr.week=Gr.weeks=be,Gr.isoWeek=Gr.isoWeeks=xe,Gr.weeksInYear=fs,Gr.weeksInWeekYear=ms,Gr.isoWeeksInYear=ds,Gr.isoWeeksInISOWeekYear=cs,Gr.date=Ur,Gr.day=Gr.days=Fe,Gr.weekday=Le,Gr.isoWeekday=Ve,Gr.dayOfYear=ws,Gr.hour=Gr.hours=lr,Gr.minute=Gr.minutes=Hr,Gr.second=Gr.seconds=Fr,Gr.millisecond=Gr.milliseconds=Vr,Gr.utcOffset=At,Gr.utc=jt,Gr.local=Zt,Gr.parseZone=zt,Gr.hasAlignedHourOffset=$t,Gr.isDST=qt,Gr.isLocal=Jt,Gr.isUtcOffset=Qt,Gr.isUtc=Xt,Gr.isUTC=Xt,Gr.zoneAbbr=vs,Gr.zoneName=ks,Gr.dates=v("dates accessor is deprecated. Use date instead.",Ur),Gr.months=v("months accessor is deprecated. Use month instead",de),Gr.years=v("years accessor is deprecated. Use year instead",Ki),Gr.zone=v("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),Gr.isDSTShifted=v("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var Er=Y.prototype;Er.calendar=O,Er.longDateFormat=W,Er.invalidDate=C,Er.ordinal=U,Er.preparse=Ss,Er.postformat=Ss,Er.relativeTime=H,Er.pastFuture=F,Er.set=D,Er.eras=$n,Er.erasParse=qn,Er.erasConvertYear=Bn,Er.erasAbbrRegex=ts,Er.erasNameRegex=es,Er.erasNarrowRegex=ns,Er.months=ae,Er.monthsShort=oe,Er.monthsParse=le,Er.monthsRegex=me,Er.monthsShortRegex=fe,Er.week=Se,Er.firstDayOfYear=Oe,Er.firstDayOfWeek=Ye,Er.weekdays=Re,Er.weekdaysMin=Ce,Er.weekdaysShort=We,Er.weekdaysParse=He,Er.weekdaysRegex=Ge,Er.weekdaysShortRegex=Ee,Er.weekdaysMinRegex=Ae,Er.isPM=qe,Er.meridiem=Be,tt("en",{eras:[{since:"0001-01-01",until:+(1/0),offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-(1/0),offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===Z(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=v("moment.lang is deprecated. Use moment.locale instead.",tt),e.langData=v("moment.langData is deprecated. Use moment.localeData instead.",it);var Ar=Math.abs,Ir=Is("ms"),jr=Is("s"),Zr=Is("m"),zr=Is("h"),$r=Is("d"),qr=Is("w"),Br=Is("M"),Jr=Is("Q"),Qr=Is("y"),Xr=zs("milliseconds"),Kr=zs("seconds"),ea=zs("minutes"),ta=zs("hours"),na=zs("days"),sa=zs("months"),ia=zs("years"),ra=Math.round,aa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},oa=Math.abs,ua=Ct.prototype;
//! moment.js
return ua.isValid=Rt,ua.abs=Ws,ua.add=Us,ua.subtract=Hs,ua.as=Es,ua.asMilliseconds=Ir,ua.asSeconds=jr,ua.asMinutes=Zr,ua.asHours=zr,ua.asDays=$r,ua.asWeeks=qr,ua.asMonths=Br,ua.asQuarters=Jr,ua.asYears=Qr,ua.valueOf=As,ua._bubble=Ls,ua.clone=js,ua.get=Zs,ua.milliseconds=Xr,ua.seconds=Kr,ua.minutes=ea,ua.hours=ta,ua.days=na,ua.weeks=$s,ua.months=sa,ua.years=ia,ua.humanize=Xs,ua.toISOString=ei,ua.toString=ei,ua.toJSON=ei,ua.locale=Nn,ua.localeData=Pn,ua.toIsoString=v("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ei),ua.lang=Nr,x("X",0,0,"unix"),x("x",0,0,"valueOf"),Q("x",Ri),Q("X",Ui),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),te("x",function(e,t,n){n._d=new Date(Z(e))}),e.version="2.29.4",t(bt),e.fn=Gr,e.min=Tt,e.max=Nt,e.now=Dr,e.utc=d,e.unix=Ms,e.months=xs,e.isDate=u,e.locale=tt,e.invalid=_,e.duration=Kt,e.isMoment=w,e.weekdays=Ns,e.parseZone=Ds,e.localeData=it,e.isDuration=Ut,e.monthsShort=Ts,e.weekdaysMin=Rs,e.defineLocale=nt,e.updateLocale=st,e.locales=rt,e.weekdaysShort=Ps,e.normalizeUnits=V,e.relativeTimeRounding=Js,e.relativeTimeThreshold=Qs,e.calendarFormat=dn,e.prototype=Gr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment"],function(n){return n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],function(t,e){"use strict";function r(e){return u[e]||t.reduce(e,function(t,e){return t+(u[e]||e)},"")}function n(e){var n=!1,u=!1,a="",o=t.reduce(e,function(t,e,o,i){return u?u=!1:"'"===e?(a&&(t+=r(a),a=""),"'"===i[o+1]?(t+=e,u=!0):(t+=n?"]":"[",n=!n)):n?t+=e:/[a-zA-Z]/.test(e)?a&&a[a.length-1]!==e?(t+=r(a),a=e):a+=e:(a&&(t+=r(a),a=""),t+=e),t},"");return a&&(o+=r(a)),o}var u={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};e.translateSimpleDateFormat=n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.formatter","jira/util/formatter","jira/util/data/meta","wrm/data"],function(e,t,a,m,o){"use strict";var r=o.claim("jira.webresources:dateFormatProvider.dateFormat");e.locale("jira",{months:r.months,monthsShort:r.monthsShort,weekdays:r.weekdays,weekdaysShort:r.weekdaysShort,weekdaysMin:r.weekdaysShort,longDateFormat:{LT:t.translateSimpleDateFormat(m.get("date-time")),L:t.translateSimpleDateFormat(m.get("date-day")),LL:t.translateSimpleDateFormat(m.get("date-dmy")),LLL:t.translateSimpleDateFormat(m.get("date-complete"))},meridiem:function(e){return r.meridiem[+(e>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:a.format("in {0}","%s"),past:a.format("{0} ago","%s"),s:"a few seconds",m:"a minute",mm:a.format("{0} minutes","%d"),h:"an hour",hh:a.format("{0} hours","%d"),d:"a day",dd:a.format("{0} days","%d"),M:"a month",MM:a.format("{0} months","%d"),y:"a year",yy:a.format("{0} years","%d")}})});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.lib","jira/moment/moment.jira.i18n"],function(t,n){return t.splitDate=function(t,n){return Date.splitDate(t,n)},t});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
!function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat),AJS.namespace("window.moment",null,require("jira/moment"))}();;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'jira-dnd-attachment-module/js/ctrlv/time.js' */
define("dndattachment/ctrlv/time",[],function(){"use strict";return moment});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'jira-dnd-attachment-module/js/ctrlv/base64decode.js' */
define("dndattachment/ctrlv/base64decode",["exports"],function(e){"use strict";function n(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0}var r=function(e){for(var r,t,a=e.replace(/[^A-Za-z0-9\+\/]/g,""),c=a.length,i=3*c+1>>2,d=new Uint8Array(i),o=0,s=0,f=0;f<c;f++)if(t=3&f,o|=n(a.charCodeAt(f))<<18-6*t,3===t||c-f===1){for(r=0;r<3&&s<i;r++,s++)d[s]=o>>>(16>>>r&24)&255;o=0}return d};e.base64decode=r,e.decodeBase64DataUri=function(e){var n=";base64,",t=e.slice(0,e.indexOf(n))+n,a=e.substring(t.length);return r(a)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'jira-dnd-attachment-module/js/ctrlv/utility.js' */
define("dndattachment/ctrlv/utility",["jquery","underscore","dndattachment/ctrlv/base64decode","dndattachment/ctrlv/time","jira/flag","jira/util/navigator","exports"],function(t,e,n,a,i,r,o){"use strict";o.isKeyPasteEvent=function(t,e){var n=86,a=(e||"").indexOf("Mac")!==-1||r.isMac();return t.which===n&&(a?t.metaKey:t.ctrlKey)},o.isImagePasteEvent=function(t){if(t&&t.clipboardData){var n=e.union(e.toArray(t.clipboardData.items),e.toArray(t.clipboardData.files)),a=n.some(function(t){return t.type.indexOf("image")!==-1}),i=n.some(function(t){return t.type.indexOf("rtf")!==-1});return a&&!i}};var s=function(t){if(t.clipboardData&&t.clipboardData.types&&e.contains(t.clipboardData.types,"text/html")){var n=t.clipboardData.getData("text/html"),a=new DOMParser,i=a.parseFromString(n,"text/html"),r=i.body.querySelectorAll("img");return 1===r.length?r[0].getAttribute("src"):null}};o.getHtmlImagePaste=s,o.isHtmlImagePasteEvent=function(t){return null!=s(t)},o.isTextPasteEvent=function(t){return t.clipboardData.types&&(e.contains(t.clipboardData.types,"text/plain")||e.contains(t.clipboardData.types,"text/html"))},o.isContentEditable=function(e){return"true"==e.contentEditable||""==e.contentEditable||"inherit"==e.contentEditable&&t(e).parents().is("[contenteditable=true]")},o.isValidFileName=function(t){return!e(["\\","/",'"',":","?","*","<","|",">","!"]).any(function(e){return t.indexOf(e)>-1})},o.getTextPasteContent=function(t){return t.clipboardData.types&&e.contains(t.clipboardData.types,"text/plain")&&t.clipboardData.getData("text/plain")||""},o.getTextContent=function(e){return e?r.isIE()&&"undefined"!=typeof e.innerText?e.innerText:t(e).text():""},o.normalizePasteEvent=function(t){return t&&t.originalEvent&&t.originalEvent.clipboardData&&(t.clipboardData=t.originalEvent.clipboardData),t&&!t.clipboardData&&window.clipboardData&&(t.clipboardData={files:window.clipboardData.files,types:{contains:function(t){if("text/plain"==t)return!!window.clipboardData.getData("Text")}},getData:function(t){if("text/plain"==t)return window.clipboardData.getData("Text")}}),t},o.browserIsSupported=function(e){var n=(e||"").indexOf("Mac")!==-1||r.isMac(),a=r.isSafari(),i=r.isIE();if(n&&a)return!1;if(i&&!r.isEdge()){var o=document.documentElement.className.split(/\s+/),s=t.inArray("msie-gt-10",o)>-1,l=t.inArray("msie-gt-11",o)>-1,u=i&&s&&!l;return u}return!0},o.browserIsNativePaste=function(){return r.isChrome()||r.isSafari()},o.isWikiTextfield=function(t){return t.is(":input")&&t.hasClass("wiki-textfield")};var l=function(t){return t.is("input#summary")},u=function(n,a,i,r){var s=t(a);if((o.isWikiTextfield(s)||l(s))&&n){s.is(":focus")||s.one("focus",function(){var t=s[0];t.selectionStart=t.selectionEnd=i+n.length});var u=s.val(),c=u.substring(0,i),d=u.substring(r,u.length),f=s.data("wikiEditor");f&&f.undoRedoEl&&e.isFunction(f.undoRedoEl.recordHistoryItem)&&f.undoRedoEl.recordHistoryItem(),s.val(c+n+d),s.trigger("input"),a.selectionStart=a.selectionEnd=i+n.length,f&&f.undoRedoEl&&e.isFunction(f.undoRedoEl.updateCurrent)&&f.undoRedoEl.updateCurrent()}};o.insertToInput=u,o.getMarkup=function(t){var n=["gif"],a=["bmp","jpeg","jpg","png"],i=t.split("."),r=i[i.length-1].toLowerCase();return e.contains(n,r)?"!"+t+"!":e.contains(a,r)?"!"+t+"|thumbnail!":"[^"+t+"]"},o.insertWikiMarkup=function(t,e,n,a){var i=o.getMarkup(t);i&&(i=" "+i+" ",u(i,e,n,a))},o.loadImage=function(e){var n=new t.Deferred,a=new Image;return a.setAttribute("crossOrigin","anonymous"),a.onload=function(){n.resolve(a)},a.onerror=n.reject.bind(n),a.src=e,a.width>0&&a.height>0&&n.resolve(a),n},o.convertImageToBlob=function(e){var a=t("<canvas>").attr("width",e.width).attr("height",e.height)[0];a.getContext("2d").drawImage(e,0,0);try{if(a.mozGetAsFile)return a.mozGetAsFile("image/png");if(a.toDataURL)return new Blob([n.decodeBase64DataUri(a.toDataURL("image/png"))],{type:"image/png"})}catch(t){return null}},o.convertBlobToImage=function(t,e){var n=new Blob([t.slice()],{type:t.type});return n.lastModifiedDate=new Date,n.name=e,n},o.dropFileToElement=function(e,n){var a=e.name;a||(a=this.generateFileName(),e.name=a+".png");var i=t.Event("drop",{dataTransfer:{files:[e]},isPasteEvent:!0}),r=!1;return t(document).on("dropHandled.dropFileToElement",function(){r=!0}),n.trigger(i),t(document).off(".dropFileToElement"),r},o.generateFileName=function(){return"image-"+a().format("YYYY-MM-DD-HH-mm-ss-SSS")},o.getCurrentIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()},o.showErrorMsg=function(t,e){i.showErrorMsg(t,e)},o.createBlobFromFile=function(t){var e=new Blob([t.slice()],{type:t.type});return e.name=t.name,e},o.dragEventContainsFiles=function(t){if(!t.dataTransfer||!t.dataTransfer.types)return!0;var n=t.dataTransfer.types;return r.isMozilla()?e.contains(n,"application/x-moz-file"):e.contains(n,"Files")}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/Configuration.js' */
define("dndattachment/util/Configuration",["underscore"],function(n){function t(t){return n.isFunction(WRM.data)?WRM.data(t):WRM.data.claim(t)}var a="com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.";return{getWRM:n.memoize(function(n){return t(a+n)})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/DataTransfer.js' */
define("dndattachment/util/DataTransfer",["jquery"],function(e){return Class.extend({init:function(e){this._dataTransfer=e},getFiles:function(){var n=this._dataTransfer.files,r=this._dataTransfer.items;return r&&r.length>0&&_.any(r,function(e){return!!e.webkitGetAsEntry})?this.readEntries(r):n&&n.length>0?this.readFiles(this._dataTransfer.files):(new e.Deferred).reject()},readFiles:function(n){var r=new e.Deferred;return e.when.apply(window,_.map(n,function(r){var t=new e.Deferred,i=!r.name.match(/\.([a-z0-9]+)$/i);return i&&r.size<=8192||8192==r.size||4096==r.size||r.size<=1024?this.readFileAsText(r).fail(function(){n=_(n).without(r)}).always(t.resolve.bind(t)):t.resolve(),t}.bind(this))).always(function(){r.resolve(n)}),r},readFileAsText:function(n){var r=new e.Deferred,t=new FileReader;return t.onload=function(){r.resolve(this.result)},t.onerror=function(){r.reject(this.error)},t.readAsText(n),r},readEntries:function(n){var r=new e.Deferred;return n=_.filter(n,function(e){return"file"===e.kind}),e.when.apply(window,_.map(n,function(e){return this.readEntry(e.webkitGetAsEntry(),e)}.bind(this))).then(function(){r.resolve(_.union.apply(_,arguments))},r.reject.bind(r)),r},readEntry:function(n,r){var t=new e.Deferred;return n.isFile?r&&r.getAsFile?t.resolve([r.getAsFile()]):n.file(function(e){t.resolve([e])}):n.isDirectory&&n.createReader().readEntries(function(n){var r=[];e.when.apply(window,_.map(n,function(e){return this.readEntry(e).then(function(e){return r.push.apply(r,e)})}.bind(this))).always(function(){t.resolve(r)})}.bind(this)),t}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/FileSizeUtil.js' */
define("dndattachment/util/FileSizeUtil",function(){function n(n){return n>u?t(n):n>i?r(n):e(n)}function t(n){var t=n/u;return t.toFixed(2)+a}function r(n){var t=Math.round(n/i);return t+o}function e(n){var t=n/i;return t.toFixed(1)+o}var i=1024,u=i*i,o=" kB",a=" MB";return{format:n}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'jira-dnd-attachment-module/js/util/AttachmentEvents.js' */
define("dndattachment/util/events/types",{ATTACHMENT_FOR_PAGE_RECEIVED:"attachmentForPageReceived"});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'jira-dnd-attachment-module/js/upload/UploadHandler.js' */
define("dndattachment/upload/handler",["jira/util/events","dndattachment/util/events/types","underscore","jquery","dndattachment/ctrlv/utility","exports","dndattachment/upload/default/executor"],function(e,t,n,i,a,r,o){var u,l,s=[],c=function(e,t){return n.find(s,function(n){return n.isValid(e,t)})},f=function(e,t){var r=i.Deferred(),o=JIRA.Dialog.current;if(o){AJS.trigger("analytics",{name:"attach.screenshot.html5.dialogPaste",data:{}});var l=a.createBlobFromFile(t.files[0]);a.dropFileToElement(l,o.$form)&&r.resolve([t.files[0].name])}else{var s=c(e,t);s&&(r=s.processFiles(t.files,u),t.successCallback&&r.done(t.successCallback),t.failureCallback&&r.fail(t.failureCallback),t.alwaysCallback&&r.always(t.alwaysCallback))}r.done(function(e,r){if(!r&&t.isWikiTextfieldFocused){var u=t.wikiTextfield;n.each(e,function(e){a.insertWikiMarkup(e,u,u.selectionStart,u.selectionStart)}),o&&t.isPaste&&AJS.trigger("analytics",{name:"attach.screenshot.html5.dialogPaste.insertWikiMarkup",data:{}}),i(t.wikiTextfield).is(":focus")||setTimeout(function(){t.wikiTextfield.focus()},0)}})},d=function(e){if(e){var t="undefined"!=typeof e.isValid,n="undefined"!=typeof e.processFiles,i="undefined"!=typeof e.weight,a="undefined"!=typeof e.name;return t&&n&&i&&a}return!1};r.registerExecutor=function(e){var t=d(e);if(t){var i=n.reject(s,function(t){return t.name===e.name});i.push(e),s=n.sortBy(i,function(e){return-e.weight})}return t},r.unregisterExecutor=function(e){s=n.reject(s,function(t){return t.name===e.name})},r.initialize=function(){e.bind(t.ATTACHMENT_FOR_PAGE_RECEIVED,f)},r.disable=function(){e.unbind(t.ATTACHMENT_FOR_PAGE_RECEIVED,f)},r.setAttachmentDropZone=function(e){u=e,this.setCurrentDropZone(e)},r.isDefaultExecutor=function(e){var t=c(null,e);return t&&t.name===o.name},r.setCurrentDropZone=function(e){l=e},r.doUpload=function(e){return!(!l||!l.browseFilesAndUpload)&&l.browseFilesAndUpload(i.Event("upload"),e)},r.disconnectCurrentDropZone=function(){l=u}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'jira-dnd-attachment-module/js/upload/DefaultUploadExecutor.js' */
define("dndattachment/upload/default/executor",["jquery","underscore","dndattachment/ctrlv/utility","exports"],function(t,e,n,u){u.name="Default attachment executor",u.weight=0,u.isValid=function(t,e){return!0},u.processFiles=function(t,e){return e.uploadFiles(t)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/i18n.js' */
define("dndattachment/i18n",function(){var t={"dnd.attachment.unsupported.browser":"Drag and Drop of attachments is currently only available for the following browsers:","dnd.attachment.file.is.too.large":"File exceeds maximum size limit set by the administrator ({0}).","dnd.attachment.upload.in.progress":"Upload in progress, please wait.","dnd.attachment.not.uploaded":function(t){return AJS.format("File \"{0}\" was not uploaded",t)},"dnd.attachment.unauthorized":"You are not authorised, session has expired or connection is lost.","dnd.attachment.internal.server.error":"An internal error has occurred. Please contact your administrator.","dnd.attachment.upload.aborted":"Upload was aborted.","dnd.attachment.upload.remove":"Remove attachment"};return function(n){if(t[n])return t[n];throw"Unknown key: "+n}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/TemporaryAttachments.js' */
define("dndattachment/TemporaryAttachments",[],function(){var t={};return{createAttachment:function(t,e,n,a){return{id:t,name:e,type:n,file:a}},getAttachment:function(e,n){return t[e]||this.createAttachment(e,n)},putAttachment:function(e,n){return t[e]=this.createAttachment(e,n.name,n.type,n)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/Parser.js' */
define("dndattachment/Parser",["dndattachment/aui","jquery"],function(e,n){function r(e){var r=n(e).find(a).add(e.filter(a)),d=r.addClass(t).map(function(e,r){var t=new n.Deferred;return require([n(r).attr("duiType")],function(e){"function"==typeof e?t.resolve(new e(r)):t.reject()}),t});return n.when.apply(window,n.makeArray(d))}var t="-dui-type-parsed",a="*[duiType]:not(."+t+")";return JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,n,t){r(n)}),n.isReady?r(n("body")):n(function(){r(n("body"))}),{parse:r}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'jira-dnd-attachment-module/js/dropzones/IssueDropZone.js' */
define("dndattachment/dropzones/IssueDropZone",["jquery","jira/flag","dndattachment/Parser","dndattachment/aui","dndattachment/JIRA","dndattachment/i18n","dndattachment/TemporaryAttachments","dndattachment/util/DataTransfer","dndattachment/ctrlv/utility"],function(e,t,n,i,s,r,a,o,d){var u=5e3,l=["An internal error has occurred. Please contact your administrator."],h=Class.extend({eventGroup:"issuedropzone",progressBarType:"dndattachment/progressbars/UploadProgressBar",init:function(t){return this.$node=e(t),this.isSupportedBrowser()?(this.$node.parents(".mod-content")&&this.$node.parents(".mod-content").addClass("issue-drop-zone"),this.uploadLimit=this.$node.data("upload-limit"),this.uploadSize=this.$node.data("upload-size"),this.formToken=this.$node.data("form-token"),this.attachFileUrl=contextPath+"/secure/AttachFile.jspa",this.pendingQueue=[],this.render(),void this.queueEvent("init")):this.renderUnsupported()},queueTask:function(t){this.pendingQueue.push(t),t.always(function(){this.pendingQueue.splice(this.pendingQueue.indexOf(t),1)}.bind(this)),this.markDirty(!0),e.when.apply(window,this.pendingQueue).always(_.debounce(this.checkMarkDirty,!1,!0).bind(this))},render:function(){this.$node.html(s.Templates.DnDAttachmentPlugin.IssueDropZone({})),this.fileInput=this.$node.find(".issue-drop-zone__file"),this.fileButton=this.$node.find("button.issue-drop-zone__button"),this.connectListeners(),s.trace("jira.issue.dnd.issuedropzone.render")},addHandlerToBrowseLink:function(){this.fileButton.click(this.browseLinkHandler.bind(this))},browseLinkHandler:function(e){e.preventDefault(),this.fileInput.click()},connectListeners:function(){this.fileInput.change(function(e){this.handleFilesReceived(this.fileInput[0].files),this.queueEvent("fileInput",{count:this.fileInput[0].files.length}),this.fileInput.attr("value",null)}.bind(this)),this.addHandlerToBrowseLink();var t=this.$node.parents(".issue-drop-zone").length>0?this.$node.parents(".issue-drop-zone"):this.$node;this.$dropTarget=t.find(">*").andSelf(),this.$dropTarget.on("dragover dragenter drop",function(n){if(n.preventDefault(),n.stopPropagation(),t.addClass("dragover"),"drop"==n.type){t.removeClass("dragover"),e(document).trigger("dropHandled");var i=new o(n.dataTransfer);i.getFiles().then(function(e){this.handleFilesReceived(e),this.queueEvent("fileDrop",{count:e.length})}.bind(this))}}.bind(this)),this.$dropTarget.on("dragleave",function(){t.removeClass("dragover")}.bind(this))},configureUploadProgressBar:function(e,t){e.data("upload-size",this.uploadSize).data("file",t).data("form-token",this.formToken)},createUploadProgressBar:function(t){var i=e('<div duiType="'+this.progressBarType+'" class="upload-progress-bar"></div>');return this.configureUploadProgressBar(i,t),n.parse(i).then(function(e){this.placeUploadProgressBar(i,e),this.handleNewProgressBar(e)}.bind(this))},placeUploadProgressBar:function(e){return e.insertAfter(this.$node)},handleNewProgressBar:function(e){},handleFilesReceived:function(e){this.uploadFiles(e)},uploadFiles:function(n){var r=new e.Deferred,a=[],o=s.Issues.Api.getSelectedIssueKey(),d=s.Issues.Api.getSelectedIssueId(),l=i.Meta.get("viewissue-permlink"),h=e("#summary-val input").attr("value")||e("#summary-val").text(),c=s.Templates.DnDAttachmentPlugin.SuccessMessageLink({issueLink:l,issueKey:o,issueSummary:h}),p=_.map(n,function(t){var n=new e.Deferred;return this.createUploadProgressBar(t).then(function(e){this.trigger("progressBarInserted",e),a.push(e),e.uploadFile(t,this.uploadLimit).then(n.resolve.bind(n),n.resolve.bind(n)).done(function(){this.trigger("uploadFinished",e)}.bind(this)).fail(function(){s.trace("jira.issue.dnd.upload.fail"),r.reject(arguments)})}.bind(this)),n}.bind(this)),f=e.when.apply(window,p);return f.done(function(){var e=_.filter(1==p.length?[arguments]:arguments,function(e){return e&&e[0]&&e[0].id}).map(function(e){return e[0].id});0!=e.length&&this.commitUpload(e,d).done(function(){_.delay(function(){a.some(function(e){e.getAutoDestroy()&&(e.destroy(),this.queueEvent("autoDestroy"))}.bind(this))}.bind(this),u);var e=_.filter(a,function(e){return e.result.isResolved()});if(1==e.length){var n=e[0].getFileName();t.showSuccessMsg("",i.format("{0} was attached successfully to {1}.",n,c))}else e.length>1&&t.showSuccessMsg("",i.format("{0} files were attached successfully to {1}.",e.length,c));r.resolve(_.map(e,function(e){return e.file.name}))}.bind(this)).fail(function(e,t){r.reject(e,t),e&&e.forEach(function(e){a.forEach(function(t){t.reportError(e)})}),t&&a.forEach(function(e){var n=t["#"+e.getFileID()]||t[e.getFileName()];n&&e.reportError(n)}),s.trace("jira.issue.dnd.commit.fail")})}.bind(this)),this.queueTask(f),r},loadAttachments:function(e){e.forEach(function(e){this.createUploadProgressBar(e.file).then(function(t){t.setFileID(e.id),t.setFileName(e.name),t.setFileSize(e.size),t.setProgress(1),t.setFinished(),this.trigger("uploadFinished",t)}.bind(this))},this)},commitUpload:function(t,n){return new e.Deferred},attachFile:function(t,n){var i=new e.Deferred;return s.SmartAjax.makeRequest({type:"POST",url:this.attachFileUrl,data:{inline:!0,id:n||s.Issue.getIssueId(),filetoconvert:t,atl_token:atl_token(),formToken:this.formToken},dataType:"json"}).done(i.resolve.bind(i)).fail(function(e){try{var t=JSON.parse(e.responseText);i.reject(t.errorMessages||l,t.errors)}catch(e){i.reject(l)}}),i},isSupportedBrowser:function(){if(e("html.webkit")[0]||e("html.safari")[0]){if(!(parseFloat(e.browser.version)>=537))return!1}else if(e("html.mozilla")[0]){if(!(parseFloat(e.browser.version)>=1.9))return!1}else{if(!e("html.msie")[0])return!1;if(!(parseFloat(e.browser.version)>=10))return!1}return!0},renderUnsupported:function(){this.$node.addClass("issue-drop-zone__not-supported").text(r("dnd.attachment.unsupported.browser")).append("<ul><li>FireFox 3.6+</li><li>Chrome 5+</li><li>Safari 5</li></ul>")},markDirty:function(e){this.$node.addClass(s.DirtyForm.ClassNames.SANCTIONED),this.$node.toggleClass(s.DirtyForm.ClassNames.EXEMPT,!e),this.$node.attr("value",!1),this.$node.attr("defaultValue",!0)},checkMarkDirty:function(){0==this.pendingQueue.length&&this.markDirty(!1)},queueEvent:function(e,t){i.trigger("analytics",{name:"issue.dnd.attachment."+this.eventGroup+"."+e,data:t||{}})}});return h});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-integration', location = 'jira-dnd-attachment-module/js/integration/register.js' */
define("dndattachment/integration-register",function(){function r(r){return e[r]}function t(r,t){return"function"==typeof t&&(e[r]=t,!0)}var e={attachmentMenuLink:null,attachmentsZoneCreator:null,browseLink:null,temporaryAttachmentCreatorFactory:null,attachmentCreatorFactoryForBrowseLink:null,attachmentCreatorFactoryForAttachLink:null,temporaryBinaryUploadHandler:null,connectedTemporaryBinaryUploadHandler:null};return{getAttachmentMenuHandler:function(){var t=r("attachmentCreatorFactoryForAttachLink");return t&&t("attachment-menu")},registerAttachmentMenuHandlerFactory:function(r){return t("attachmentCreatorFactoryForAttachLink",r)},getBrowseLinkHandler:function(){var t=r("attachmentCreatorFactoryForBrowseLink");return t&&t("browse-link")},registerBrowseLinkHandlerFactory:function(r){return t("attachmentCreatorFactoryForBrowseLink",r)},getAttachmentsZoneCreator:function(){return r("attachmentsZoneCreator")},registerAttachmentsZoneCreator:function(r){return t("attachmentsZoneCreator",r)},registerTemporaryAttachmentCreatorFactory:function(r){return t("temporaryAttachmentCreatorFactory",r)},getTemporaryAttachmentCreator:function(t,e,n){var a=r("temporaryAttachmentCreatorFactory");return a&&a(t,e,n)},getTemporaryAttachmentZoneCreator:function(){return r("temporaryAttachmentsZoneCreator")},registerTemporaryAttachmentZoneCreator:function(r){return t("temporaryAttachmentsZoneCreator",r)},getTemporaryBinaryUploadHandler:function(){return r("temporaryBinaryUploadHandler")},registerTemporaryBinaryUploadHandler:function(r){return t("temporaryBinaryUploadHandler",r)},getConnectedTemporaryBinaryUploadHandler:function(){return r("connectedTemporaryBinaryUploadHandler")},registerConnectedTemporaryBinaryUploadHandler:function(r){return t("connectedTemporaryBinaryUploadHandler",r)},unregisterAllHandlers:function(){for(var r in e)e[r]=null}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/AttachmentsDropZone.js' */
define("dndattachment/dropzones/AttachmentsDropZone",["dndattachment/dropzones/IssueDropZone","jira/util/events","dndattachment/util/events/types","jquery","dndattachment/util/DataTransfer","dndattachment/ctrlv/utility","jira/dialog/dialog","dndattachment/integration-register","dndattachment/upload/handler","jira/featureflags/feature-manager"],function(e,t,n,o,r,i,a,s,d,h){var c=function(){var e=parseUri(window.location);return e.protocol+"://"+e.authority}(),l=e.extend({eventGroup:"attachmentsdropzone",progressBarType:"dndattachment/progressbars/AttachmentsUploadProgressBar",init:function(){this._super.apply(this,arguments),this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment",t.bind(JIRA.Events.PANEL_REFRESHED,this.panelRefreshed.bind(this)),this.connectContainer()},connectContainer:function(){this.$containerNode=this.getContainerNode(),this.$dragoverDropzone=o(JIRA.Templates.DnDAttachmentPlugin.dropzone()),this.$dragoverBorder=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-border"),this.$dragoverInfo=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-info"),this.$dragoverDropzone.appendTo(this.$containerNode),this._connectDropzone(),this.$windowMask=o(JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask()),this.$body=o(document.body);var e=this.$body;window.__SPA__&&(e=o("#attachment-dropzone-mask-container"),e.length||(e=this.$body)),e.append(this.$windowMask),this.$body.on("dragenter",_.throttle(this.onBodyDragEnter.bind(this),200,{trailing:!1})),this.$body.on("dragleave",this.onBodyDragLeave.bind(this)),this.$windowMask.on("dragover dragenter",this.onWindowMaskDragEnter.bind(this)),this.$windowMask.on("dragleave",this.onWindowMaskDragLeave.bind(this)),this.$windowMask.on("drop",this.onWindowMaskDrop.bind(this)),this.$auiSidebar=o(".aui-sidebar-body"),this._disconnectListenersFromParentDropzone(),this.onContentAddedHandler=this.onContentAdded.bind(this),t.bind(JIRA.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),this.externalHandler=s.getBrowseLinkHandler()},_connectDropzone:function(){var e=s.getAttachmentsZoneCreator();this.onDragOverDropHandler=this.onDragOverDrop.bind(this),this.onDragLeaveHandler=this.onDragLeave.bind(this),this.$containerNode.on("dragover dragenter drop",this.onDragOverDropHandler),this.$containerNode.on("dragleave",this.onDragLeaveHandler),"function"==typeof e&&(this.externalZone=e(this.$containerNode[0]))},_disconnectListenersFromParentDropzone:function(){this.$dropTarget.off("dragover drop dragleave dragenter"),o(document).off("dragover dragenter")},disconnectContainer:function(){this.$dragoverDropzone.remove(),this.$windowMask.remove(),this.$body.removeClass("attachments-drop-zone__dragover"),this.$body.off("dragenter",this.onBodyDragEnter.bind(this)),this.$containerNode.off("dragenter dragover drop",this.onDragOverDropHandler),this.$containerNode.off("dragleave",this.onDragLeaveHandler),this.externalZone&&this.externalZone.deactivate(),t.unbind(JIRA.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),d.disconnectCurrentDropZone(this)},isAttached:function(){return o.contains(document.body,this.$node[0])},onContentAdded:function(){this.isAttached()||this.disconnectContainer()},getContainerNode:function(){var e=o(o(".issue-container")[0]);return"static"===e.css("position")&&e.css("position","relative"),e},addHandlerToBrowseLink:function(){this.fileButton.click(this.browseFilesAndUpload.bind(this))},canDoFullPageDrop:function(){return a.current?(JIRA.trace("jira.issue.dnd.dropnotallowed"),!1):(JIRA.trace("jira.issue.dnd.dropallowed"),!0)},onDragOverDrop:function(e){if(!this.isAttached())return void this.disconnectContainer();if(i.dragEventContainsFiles(e)&&this.canDoFullPageDrop()&&(e.preventDefault(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),JIRA.trace("jira.issue.dnd.dragover"),this.$body.addClass("attachments-drop-zone__dragover"),this.$body.addClass("attachments-drop-zone__window-dragover"),this.$containerNode.addClass("attachments-drop-zone__dragover-fade"),this._readjustDropzone(),this._repositionStickyInfoBox(),"dragenter"===e.type&&this.externalZone&&(d.isDefaultExecutor({})?this.externalZone.activate():this.externalZone.deactivate()),"drop"==e.type))if(this.removeAllDragoverClasses(this.$containerNode),o(document).trigger("dropHandled"),this.externalZone&&d.isDefaultExecutor({}))this.externalZone.drop();else{var t=new r(e.dataTransfer);t.getFiles().then(function(e){this.handleFilesReceived(e),this.queueEvent("fileDrop",{count:e.length})}.bind(this))}},onDragLeave:function(){this.removeAllDragoverClasses(this.$containerNode)},browseFilesAndUpload:function(e,t){return"function"==typeof this.externalHandler&&d.isDefaultExecutor({})?this.externalHandler.call(null,e,t||{}):this.browseLinkHandler.call(this,e),!0},_readjustDropzone:function(){if(0!==this.$auiSidebar.length){var e=this.$auiSidebar.offset().left+this.$auiSidebar.width();if(this.$dragoverBorder.parent().offset()){var t=this.$dragoverBorder.parent().offset().left;e>t?this.$dragoverBorder.css({left:e-t}):this.$dragoverBorder.css({left:0})}else this.$dragoverBorder.css({left:0})}},_repositionStickyInfoBox:function(){if(window.__SPA__){var e=this.$containerNode.scrollParent().scrollTop()+10;return void this.$dragoverInfo.css({top:e})}var t,e=this.$containerNode.scrollParent().scrollTop()+10,n=this.$containerNode.offset().top;t=this.$containerNode.scrollParent().offset()?this.$containerNode.scrollParent().offset().top:0;var o;o=0===t?e>=n?e-n:10:e,this.$dragoverInfo.css({top:o})},onBodyDragEnter:function(e){i.dragEventContainsFiles(e)&&(this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"))},onBodyDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDragEnter:function(e){i.dragEventContainsFiles(e)&&(e.preventDefault(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="none"),this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"),this.canDoFullPageDrop()&&(this.$body.addClass("attachments-drop-zone__dragover"),this._repositionStickyInfoBox()))},onWindowMaskDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDrop:function(e){e.preventDefault(),this.removeAllDragoverClasses()},removeAllDragoverClasses:function(e){e&&e.removeClass("attachments-drop-zone__dragover-fade"),this.$body.removeClass("attachments-drop-zone__window-dragover"),this.$body.removeClass("attachments-drop-zone__dragover")},handleFilesReceived:function(e){var r=o("textarea.wiki-textfield:visible:focus"),i=r.length>0;t.trigger(n.ATTACHMENT_FOR_PAGE_RECEIVED,{files:e,isWikiTextfieldFocused:i,wikiTextfield:r[0]})},render:function(){return this.$node.parents("#attachmentmodule").addClass("attachments-drop-zone-parent"),this.$listNode=this.$node.siblings("#file_attachments, #attachment_thumbnails"),this._super.apply(this,arguments)},panelRefreshed:function(e,t,n,r){if(r.find(this.$node).is("*")){this.getViewMode();n=n.find(">.mod-content"),n.addClass("issue-drop-zone"),this.$node.prependTo(n),this.render();var i=r.find(".attachments-upload-progress-bar");i.data("viewMode",this.getViewMode()).each(function(e,t){var n=o(t).prop("_instance");void 0!=n&&n.render()}),i.each(function(e,t){this.insertProgressBar(o(t))}.bind(this)),this._disconnectListenersFromParentDropzone()}},getViewMode:function(){return"file_attachments"==this.$listNode.attr("id")?"list":"gallery"},getSortBy:function(){return this.$listNode.data("sort-key")},getSortOrder:function(){return this.$listNode.data("sort-order")},getSortComparator:function(){var e="asc"==this.getSortOrder()?1:-1,t="fileName"==this.getSortBy()?function(e){return e.find(".attachment-title").text()}:function(e){return new Date(e.find("*[datetime]").attr("datetime")).getTime()},n="fileName"==this.getSortBy()&&String.prototype.localeCompare?function(e,t){return e.localeCompare(t)}:function(e,t){return e<t?-1:e>t?1:0};return function(o,r){var i=t(o),a=t(r);return e*n(i,a)}},commitUpload:function(e,t){var n=new o.Deferred;return this.attachFile(e,t).then(n.resolve.bind(n),n.reject.bind(n)),n.then(function(n){var r=o(JIRA.Templates.ViewIssue.renderAttachments({baseurl:contextPath,fullBaseUrl:c+contextPath,issue:{id:t},attachments:n,viewMode:this.getViewMode()})).find(".attachment-content");n.forEach(function(t,n){var o=r[n],i=this.$listNode.find('>*[data-file-id="'+e[n]+'"]');i.replaceWith(o)},this),JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$listNode,JIRA.CONTENT_ADDED_REASON.panelRefreshed]),JIRA.trace("jira.issue.dnd.attached")}.bind(this)),this.queueTask(n),this.queueEvent("commitUpload",{count:e.length}),n},configureUploadProgressBar:function(e){this._super.apply(this,arguments),e.data("viewMode",this.getViewMode())},placeUploadProgressBar:function(e,t){return t.$node.find("time.livestamp").attr("datetime",(new Date).toISOString()).livestamp(),this.insertProgressBar(e),t.bind("onDestroy",function(){var t=e.parents(".item-attachments");0==t.find(".attachments-upload-progress-bar, .attachment-content").length&&t.remove()}),e},insertProgressBar:function(e){var t=this.getSortComparator(),n=this.$listNode.children().toArray(),r=function(n){if(t(e,o(n))<1)return e.insertBefore(n),!0};n.some(r)||e.appendTo(this.$listNode)}});return l});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/UploadProgressBar.js' */
define("dndattachment/progressbars/UploadProgressBar",["jquery","dndattachment/Parser","dndattachment/JIRA","dndattachment/aui","dndattachment/i18n","dndattachment/TemporaryAttachments","dndattachment/util/Configuration","dndattachment/util/FileSizeUtil"],function(t,e,i,s,n,o,r,a){function d(t,e){s.trigger("analytics",{name:"issue.dnd.attachment.uploadprogress."+t,data:e||{}})}var h=["aui-iconfont-error","aui-iconfont-success","aui-iconfont-close-dialog"],u=r.getWRM("thumbnail-mime-types").split(","),l=Class.extend({autoDestroy:!0,init:function(e){this.result=new t.Deferred,this.$node=t(e),this.file=this.$node.data("file"),this.uploadSize=this.$node.data("upload-size"),this.formToken=this.$node.data("form-token"),this.$node.prop("_instance",this),this.render()},render:function(){this.$node.html(i.Templates.DnDAttachmentPlugin.UploadProgressBar({isImageType:this.isImageType()})),this.afterRender()},afterRender:function(){this.file&&(this.setFileName(this.file.name),this.setFileSize(this.file.size),this.loadThumbnail(this.file)),this.progress&&this.updateProgress(),this.connectListeners()},connectListeners:function(){this.getControlNode().on("click",function(){this.destroy(),d("buttonClick")}.bind(this))},destroy:function(){this.destroyed||(this.upload&&this.upload.abort(),this.setAutoDestroy(!1),this.trigger("onBeforeDestroy"),this.destroyed=!0,this.$node.animate({opacity:0},{duration:250,complete:function(){this.$node.slideUp(250,function(){this.objectURL&&window.URL.revokeObjectURL(this.objectURL),this.$node.remove(),i.trace("jira.issue.dnd.progressbar.removed"),this.trigger("onDestroy")}.bind(this))}.bind(this)}))},isDestroyed:function(){return!!this.destroyed},setAutoDestroy:function(t){this.autoDestroy=t},getAutoDestroy:function(){return this.autoDestroy},getUploadParams:function(t){var e={filename:t.name,size:t.size,atl_token:atl_token(),formToken:this.formToken};return _.extend(e,this.getEntityParams()),e},getEntityParams:function(){var t={},e=i.Issue.getIssueId(),s=this.$node.parents("form").find('*[name="pid"]').attr("value");return s?t.projectId=s:e&&(t.issueId=e),t},setFile:function(t){this.file=t},setFileID:function(t){this.fileID=t,this.$node.attr("data-file-id",t)},getFileID:function(){return this.fileID},setFileName:function(t){this.$node.find(".upload-progress-bar__file-name").text(t)},getFileName:function(){return this.$node.find(".upload-progress-bar__file-name").text()},setFileSize:function(t){t>=0&&this.$node.find(".upload-progress-bar__file-size").html(a.format(t))},uploadFile:function(t,e){this.setFile(t);var r=this.result;if(this.monitorUpload(r),r.fail(this.reportError.bind(this)),t.size>e)return r.reject(n("dnd.attachment.file.is.too.large").replace("{0}",this.uploadSize),!0),r;for(var a=["\\","/",'"',":","?","*","<","|",">"],d=0;d<a.length;d++){var h=a[d];if(_.contains(t.name,h))return r.reject(s.format("{0} contains the invalid character \'\'{1}\'\'. Please rename the file and try again.",t.name,h),!0),r}return this.upload=new s.InlineAttach.AjaxUpload({file:t,params:this.getUploadParams(t),url:s.InlineAttach.AjaxPresenter.DEFAULT_URL,progress:function(e){r.notify(e/t.size)},success:function(e,i){void 0!==e.id&&void 0!==e.name?(r.notify(1),r.resolve(e,i,t)):r.reject(e,i,t)},error:function(t,e){r.reject(n("dnd.attachment.internal.server.error"),e)},abort:function(){r.reject(n("dnd.attachment.upload.aborted"),"abort")}}),this.checkSession().then(function(){this.upload.upload()}.bind(this)).fail(function(){r.reject(n("dnd.attachment.unauthorized"),401)}),this.$node.find(".upload-progress-bar__control>*").on("click",function(){this.upload.abort(),r.reject()}.bind(this)),r.done(function(e){o.putAttachment(e.id,t),this.setFileID(e.id),i.trace("jira.issue.dnd.uploaded")}.bind(this)),r},monitorUpload:function(t){t.progress(this.setProgress.bind(this)),t.done(this.setFinished.bind(this)),t.fail(this.setFailed.bind(this))},setProgress:function(t){this.progress=t,this.updateProgress()},updateProgress:function(){var t=this.$node.find(".upload-progress-bar__progress-bar");t.toggleClass("UploadProgressBar_progressUnknown",this.progress===!1),this.progress>=0&&t.find(".upload-progress-bar__bar").css("width",100*this.progress+"%")},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished"),this.$node.find(".upload-progress-bar__control button .aui-icon").addClass("aui-iconfont-success").removeClass("aui-iconfont-close-dialog"),this.finished=!0,this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed"),this.finished=!0,this.failed=!0,this.trigger("onFailed")},isFinished:function(){return!!this.finished},isFailed:function(){return!!this.failed},isSuccessful:function(){return this.isFinished()&&!this.isFailed()},isImageType:function(){return this.file&&this.file.type&&_.contains(u,this.file.type)},getThumbnailSrc:function(t){return this.isImageType()&&(this.objectURL=window.URL.createObjectURL(t)),this.objectURL||i.Templates.ViewIssue.matchFileIconUrl({baseurl:s.contextPath(),mimetype:t.type})},getThumbnailNode:function(){return this.$node.find(".upload-progress-bar__thumbnail")},getControlNode:function(){return this.$node.find(".upload-progress-bar__control button")},loadThumbnail:function(e){var i=this.getThumbnailSrc(e),s=this.getThumbnailNode();s.addClass(this.objectURL?"upload-progress-bar__thumbnail_image":"upload-progress-bar__thumbnail_icon");var n=t("<img/>").attr("src",i);return n.appendTo(s)},reportError:function(t,e){"object"==typeof t&&t.errorMessage&&(t=t.errorMessage),this.$node.addClass("upload-progress-bar__upload-error"),this.$node.removeClass("upload-progress-bar__upload-finished"),this.$node.find(".upload-progress-bar__bar").css("width","100%"),this.showErrorMessage(t,e),this.setAutoDestroy(!1),d("error",{message:t})},showErrorMessage:function(t){this.$node.find(".upload-progress-bar__error-message").text(t)},setIcon:function(t){var e=this.$node.find(".upload-progress-bar__control button .aui-icon");if(!h.some(function(i){return e.toggleClass(i,i==t),i==t}))throw"Unknown icon"},checkSession:function(){var e=new t.Deferred;return s.$.ajax({type:"GET",url:contextPath+"/rest/auth/1/session",contentType:"application/json"}).done(function(){e.resolve()}).fail(function(){this.checkPermissions().done(function(t){e.resolve()}).fail(function(){e.reject()})}.bind(this)),e},checkPermissions:function(){var e=new t.Deferred;return s.$.ajax({type:"GET",url:contextPath+"/rest/api/2/mypermissions",contentType:"application/json",data:t.extend({},this.getEntityParams(),{permissions:"CREATE_ATTACHMENTS"})}).done(function(t){t.permissions.CREATE_ATTACHMENTS.havePermission?e.resolve():e.reject()}).fail(function(){e.reject()}),e}});return l});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/AttachmentsUploadProgressBar.js' */
define("dndattachment/progressbars/AttachmentsUploadProgressBar",["dndattachment/progressbars/UploadProgressBar","jira/flag","jquery","dndattachment/i18n"],function(e,t,a,n){return e.extend({render:function(){this.$node.html(JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar({isImageType:this.isImageType()})).removeClass("upload-progress-bar").addClass("attachments-upload-progress-bar"),this.$node.toggleClass("attachment-content",!this.isImageType()),this.afterRender()},loadThumbnail:function(t){return"gallery"==this.$node.data("viewMode")?e.prototype.isImageType.call(this)?this._super.apply(this,arguments):a(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:t.type})).appendTo(this.getThumbnailNode()):a(JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype:t.type})).appendTo(this.getThumbnailNode())},showErrorMessage:function(e,s){if("abort"!=s){var o=t.showErrorMsg(n("dnd.attachment.not.uploaded")(this.getFileName()),AJS.escapeHTML(e));a(o).on("aui-flag-close",function(){this.destroy()}.bind(this)),this.bind("onDestroy",function(){o.close()})}},isImageType:function(){return"gallery"==this.$node.data("viewMode")},getControlNode:function(){return this.$node.find(".upload-progress-bar__upload-control span")},getAutoDestroy:function(){return!1}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/IssueDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.IssueDropZone=function(e,t){return'<div class="issue-drop-zone__target"></div><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span> '+soy.$$escapeHtml("Drop files to attach, or")+' <button type="button" class="issue-drop-zone__button"> '+soy.$$escapeHtml("browse")+'.</button><input class="issue-drop-zone__file ignore-inline-attach" type="file" multiple /></span>'},JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone=function(e,t){return'<div duiType="dndattachment/dropzones/AttachmentsDropZone" class="issue-drop-zone" data-upload-limit="'+soy.$$escapeHtml(e.jiraAttachmentSize)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'"></div>'};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/AttachmentsDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.dropzoneMask=function(n,e){return'<span><div class="attachments-drop-zone__dragover-mask"></div></span>'},JIRA.Templates.DnDAttachmentPlugin.dropzone=function(n,e){return'<span><div class="attachments-drop-zone__dragover-border"><div class="attachments-drop-zone__dragover-info"><p>'+soy.$$escapeHtml("Drop files to attach them to the issue")+"</p></div></div></span>"},JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask=function(n,e){return'<span><div class="attachments-drop-zone__window-dragover-mask"></div></span>'};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/UploadProgressBar.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar=function(a,s){return'<div class="upload-progress-bar__thumbnail"> </div><span class="upload-progress-bar__file-name"> </span><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Cancel upload")+'</span></button></div><div class="upload-progress-bar__error-message"></div>'},JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar=function(a,s){return""+(a.isImageType?'<div class="upload-progress-bar__thumbnail"><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><dl><dt><span class="upload-progress-bar__file-name"> </span></dt><dd class="upload-progress-bar__file-size"> </dd><dd class="upload-progress-bar__upload-control"><span>'+soy.$$escapeHtml("Cancel")+'</span></dd><dd class="upload-progress-bar__error-message"></dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>':'<div class="attachment-thumb upload-progress-bar__thumbnail"></div><dl><dt class="attachment-title upload-progress-bar__file-name"></dt><dd class="upload-progress-bar__upload-control"><span>'+soy.$$escapeHtml("Cancel")+'</span></dd><dd class="attachment-size"><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></dd><dd class="attachment-author"> </dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>')},JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar=function(a,s){return'<div class="temp-upload-progress-bar__parent-container temp-upload-progress-bar__uploading"><div class="temp-upload-progress-bar__container"><div class="upload-progress-bar__thumbnail"></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__error"><div class="upload-progress-bar__error-indicator"><span class="aui-icon aui-icon-large aui-iconfont-error">'+soy.$$escapeHtml("Upload error")+'</span></div><div class="upload-progress-bar__error-text">'+soy.$$escapeHtml("Upload failed")+'</div></div><div class="upload-progress-bar__upload-mask"></div><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog"><div class="button-text" aria-label="'+soy.$$escapeHtml("Cancel upload")+' "></div><div class="file-name"></div><div class="error-message"></div></span></button></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><div class="upload-progress-bar_file-name-container"><span class="upload-progress-bar__file-name"></span></div></div>'},JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink=function(a,s){return'<a href="'+soy.$$escapeHtml(a.issueLink)+'">'+soy.$$escapeHtml(a.issueKey)+" - "+soy.$$escapeHtml(a.issueSummary)+"</a>"};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/path.js' */
define("dndattachment/ctrlv/path",["exports"],function(t){"use strict";var n=function(t){return t.split(/\//).pop()};t.basename=n,t.dirname=function(t){var e=n(t);return t.substring(0,t.length-e.length)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/templates/soy/attach-screenshot-form.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Html5Screenshot&&(JIRA.Templates.Html5Screenshot={}),JIRA.Templates.Html5Screenshot.attachScreenshotForm=function(e,t){return'<h2 class="dialog-title">'+soy.$$escapeHtml("Attach Screenshot")+'</h2><form action="ShowAttachScreenshotFormAction.jspa" class="aui" method="post" id="attach-screenshot-form"><input type="hidden" name="id" value="'+soy.$$escapeHtml(e.id)+'"/><input type="hidden" name="projectId" value="'+soy.$$escapeHtml(e.projectId)+'"/><input type="hidden" name="atl_token" value="'+soy.$$escapeHtml(e.atlToken)+'"><input type="hidden" name="formToken" value="'+soy.$$escapeHtml(e.formToken)+'"><input type="hidden" name="filetoconvert" value=""><div class="attach-screenshot-padding"><div class="attach-screenshot-container"><div id="attach-screenshot-inner-container"><div class="mod-content"><ul class="item-details"><li><dl><dt>'+soy.$$escapeHtml("Take a screenshot:")+"</dt>"+("pc"==e.userPlatform?"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003ePrtScn\u003c/kbd\u003e")+"</dd>":"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003e&#8963; Ctrl\u003c/kbd\u003e + \u003ckbd\u003e&#8984; Cmd\u003c/kbd\u003e + \u003ckbd\u003e&#8679; Shift\u003c/kbd\u003e + \u003ckbd\u003e3\u003c/kbd\u003e")+"</dd>")+"</dl></li><li><dl><dt>"+soy.$$escapeHtml("Paste the image:")+"</dt>"+("pc"==e.userPlatform?"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003eCtrl\u003c/kbd\u003e + \u003ckbd\u003ev\u003c/kbd\u003e")+"</dd>":"<dd>"+soy.$$filterNoAutoescape("\u003ckbd\u003e&#8984; Cmd\u003c/kbd\u003e + \u003ckbd\u003ev\u003c/kbd\u003e")+"</dd>")+'</dl></li></ul></div><input type="text" id="attach-screenshot-fake-input"><div class="attach-screenshot-padding attach-screenshot-padding-inner"><div id="attach-screenshot-image-container" class="attach-screenshot-image-container"><div class="attach-screenshot-placeholder"><div class="mod-content"><ul class="item-details"><li><dl><dt id="attach-screenshot-placeholder-message">'+soy.$$escapeHtml("Your image will be pasted here")+"</dt></dl></li></ul></div></div></div></div><div id='attach-max-size' class=\"hidden\">"+soy.$$escapeHtml(e.maxSize)+"</div></div></div></div><fieldset><div><legend><span>"+soy.$$escapeHtml("Attach Screenshot")+'</span></legend><div id="attach-screenshot-filename-group" class="field-group"><div id="attach-screenshot-progress-container"></div><label for="attachscreenshotname">'+soy.$$escapeHtml("File name")+' <span class="aui-icon icon-required">'+soy.$$escapeHtml("Required")+'</span></label><input class="text" type="text" id="attachscreenshotname" name="attachscreenshotname" title="File Name" value="'+soy.$$escapeHtml(e.nextScreenshotName)+'"><div class="description">'+soy.$$escapeHtml("A file name to be used as attached image name")+'</div></div></div></fieldset><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-primary" id="attach-screenshot-html5-upload">'+soy.$$escapeHtml("Upload")+'</button><a href="#" class="cancel">'+soy.$$escapeHtml("Cancel")+"</a></div></div></form>"};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/html5.js' */
define("dndattachment/ctrlv/html5",["jquery","underscore","dndattachment/integration-register","dndattachment/ctrlv/base64decode","dndattachment/ctrlv/utility","jira/dialog/dialog","jira/dialog/dialog-register","jira/ajs/ajax/smart-ajax","jira/attachment/inline-attach","dndattachment/ctrlv/tracking","exports"],function(e,t,n,i,r,a,o,s,l,c,d){"use strict";d.getFileFromEvent=function(n){var i=new e.Deferred;return r.isImagePasteEvent(n)?i.resolve(t(n.clipboardData.items).filter(function(e){return e.type.indexOf("image")!==-1}).map(function(e){return e.getAsFile()})[0]||t(n.clipboardData.files).filter(function(e){return e.type.indexOf("image")!==-1})[0]):i.reject(),i.promise()},d.REQUEST_TIMEOUT_MILLIS=3e5,d.screenshotFileUpload={},d.screenshotFileUploadUri=null,d.$document=void 0,d.$window=void 0,d.$container=void 0,d.$fakeInput=void 0,d.uploadError=!1,d.uploadErrorMsg="",d.progressView={hidden:!1,progress:0,old:0,progressBarContainer:void 0,progressEl:void 0,container:void 0,options:void 0,staticProgress:void 0,initProgress:function(){this.container=this.buildContainer(),this.progressEl=this.buildProgress(),this.container.append(this.progressEl),this.options={showPercentage:!1,height:"5px"},this.progressBarContainer=e("#attach-screenshot-progress-container"),this.progressBarContainer.empty(),this.progressBarContainer.append(this.container),this.staticProgress=this.container,this.hidden=!0},finish:function(){this.value(100)},progressHandler:function(e){var t=Math.round(100*e.loaded/e.total);this.value(t)},value:function(e){e>100?e=100:e<0&&(e=0),this.hidden&&(this.progressEl.show(),this.hidden=!1),this.old!==e&&(this.progressEl.progressBar(e,this.options),e>=100&&this.progressEl.fadeOut(),this.old=e)},buildContainer:function(){return e("<div>").addClass("file-progress")},buildProgress:function(){return e("<div>").attr("id","attach-screenshot-upload-progress")}},d.dialogView={pasteCatcher:{},presenter:void 0,getMaxSize:function(){return e("#attach-max-size").text()},getFileSize:function(){return e.isPlainObject(this.presenter.screenshotFileUpload)&&t.isEmpty(this.presenter.screenshotFileUpload)?0:this.presenter.screenshotFileUpload.size||this.presenter.screenshotFileUpload.byteLength||this.presenter.screenshotFileUpload.length},cleanGeneralErrors:function(){e("#error-attach-screenshot-image").closest(".field-group").remove()},cleanFileErrors:function(){e("#error-attach-screenshot-filename").remove()},displayErrors:function(e){"compatibility"in e&&r.showErrorMsg("",e.compatibility),"fileName"in e&&r.showErrorMsg("",e.fileName),"fileUpload"in e&&r.showErrorMsg("",e.fileUpload)},appendBlobImage:function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);this.presenter.screenshotFileUpload=e,this.createImage(n)},createImage:function(n){var i=new Image;i.onload=function(){},i.src=n,this.presenter.screenshotToUpload=i;var r=e(i);r.addClass("attach-screenshot-pasted-image");var a=e("#attach-screenshot-image-container");a.empty(),a.append(r),this.presenter.$fakeInput.focus(),t.defer(function(){d.imageCreatedHandler()})},checkInput:function(){var e,t=d.dialogView.pasteCatcher.childNodes[0];return t&&("IMG"===t.tagName&&0===t.src.indexOf("data:")&&(e=t.src),d.dialogView.pasteCatcher.innerHTML=""),e||d.$fakeInput.focus(),e},onPaste:function(e){d.dialogView.cleanFileErrors(),d.dialogView.cleanGeneralErrors(),r.isImagePasteEvent(e)?d.getFileFromEvent(e).then(function(e){this.appendBlobImage(e)}.bind(this)):setTimeout(function(){var e=this.checkInput();e&&(d.screenshotFileUpload=i.decodeBase64DataUri(e),d.dialogView.createImage(e))}.bind(this),0)},getFakeInput:function(){return e("#attach-screenshot-fake-input")},getContainer:function(){return e("#attach-screenshot-image-container")},getIssueKey:function(){return e("input[name='id']").val()},getProjectId:function(){return e("input[name='projectId']").val()},getDocument:function(){return e(document)},getWindow:function(){return e(window)},getFileNameInput:function(){return e("#attachscreenshotname")},hasPngExtension:function(e){var t=/\.png$/i;return t.test(e)},setFileToConvert:function(t){e("input[name='filetoconvert']").val(t)},buildPasteCatcher:function(){if(document.getElementById("attach-screenshot-form")){var e=document.createElement("div");return e.setAttribute("contenteditable","true"),e.style.width=0,e.style.height=0,e.style.position="absolute",e.style.top="-5000px",document.getElementById("attach-screenshot-form").appendChild(e),e}},_getFormSubmits:function(){return e("#attach-screenshot-form").find("button.aui-button")},disable:function(){return this._getFormSubmits().attr("disabled","disabled"),this},enable:function(){return this._getFormSubmits().removeAttr("disabled"),this},isEnabled:function(){return this.isVisible()&&!this._getFormSubmits().attr("disabled")},isVisible:function(){return e("#attach-screenshot-form").length>0},initDialog:function(e){this.pasteCatcher={},this.presenter=e,this.pasteCatcher=this.buildPasteCatcher()}},d.initScreenshotPasteHandler=function(){var e=d.dialogView;d.screenshotFileUpload={},d.resetUploadErrors(),d.dialogView.initDialog(d),d.$document=e.getDocument(),d.$window=e.getWindow(),d.$container=e.getContainer(),d.$fakeInput=e.getFakeInput(),d.bindOnce(d.$container,"click",d.setFocusOnClickHandler),d.bindOnce(d.$fakeInput,"focus",d.showFocusOnFieldHandler),d.bindOnce(d.$fakeInput,"blur",d.hideFocusOnFieldHandler),d.bindOnce(d.$fakeInput,"keydown",d.keyDownHandler),r.browserIsSupported()?d.bindOnce(d.$window,"paste",d.pasteHandler):e.displayErrors({compatibility:AJS.format("Your browser is not supported. Consider using an alternative supported browser such as {0}Google Chrome{1} or {2}Firefox{3}.",'<a href="//www.google.com/chrome/browser/">',"</a>",'<a href="//www.mozilla.org/firefox/">',"</a>")})},d.resetUploadErrors=function(){d.uploadError=!1,d.uploadErrorMsg=void 0},d.setUploadError=function(e){d.uploadError=!0,d.uploadErrorMsg=e},d.bindOnce=function(e,t,n){e.unbind(t,n),e.bind(t,n)},d.showFocusOnFieldHandler=function(){d.$container.addClass("focus")},d.hideFocusOnFieldHandler=function(){d.$container.addClass("focus")},d.setFocusOnClickHandler=function(){d.$fakeInput.focus()},d.pasteHandler=function(e){d.dialogView.isEnabled()&&(e=r.normalizePasteEvent(e),d.dialogView.onPaste(e))},d.polyPasteHandler=function(e,t,n){d.dialogView.isEnabled()&&(d.screenshotFileUpload={length:-1},d.screenshotFileUploadUri=t,d.dialogView.createImage(n))},d.keyDownHandler=function(e){r.isKeyPasteEvent(e)&&d.dialogView.pasteCatcher.focus&&d.dialogView.pasteCatcher.focus()},d.imageCreatedHandler=function(){d.doAjaxUpload(this.dialogView.getIssueKey(),this.dialogView.getFileNameInput().val())},d.getMimeType=function(){return"image/png"},d.createData=function(){return d.screenshotFileUpload},d.clipboardDataIsEmpty=function(e){return null==window.clipboardData&&!(e&&e.clipboardData&&e.clipboardData.types&&e.clipboardData.types.length>0)},d.validateFileSize=function(e,t,n){var t=t||d.dialogView.getFileSize(),n=n||d.dialogView.getMaxSize();if(t>n){var i=l.Text.fileSize(n,t);e.fileUpload=AJS.format("Screenshot is too large to attach. Attachment is {0} but the largest allowed attachment is {1}.",i[1],i[0])}},d.validateFormData=function(n,i){var a={};return e.isPlainObject(n)&&t.isEmpty(n)&&(a.fileUpload="Please paste the image you wish to upload"),d.validateFileSize(a),d.uploadError&&(a.fileUpload="The error occurred during image upload - you will need to try the pasting image again. Sorry for the inconvenience."),""==i&&(a.fileName="You must specify a filename of the image."),r.isValidFileName(i)||(a.fileName="Filename must not contain the characters \'\\\', \'/\', \'\"\', \':\', \'?\', \'*\', \'\u003c\', \'|\', \'\u003e\', \'!\'"),a},d.doAjaxUpload=function(i,r){d.dialogView.disable();var a={};if(d.validateFileSize(a),!t.isEmpty(a))return d.dialogView.displayErrors(a),void d.dialogView.enable();var o=d.createData(),l=d.getMimeType(),c=e("#attach-screenshot-form").find("input[name='formToken']").attr("value"),u=encodeURIComponent(this.dialogView.getProjectId()),p=AJS.contextPath()+"/rest/internal/2/AttachTemporaryFile?size="+d.dialogView.getFileSize()+"&filename="+encodeURIComponent(r)+"&atl_token="+encodeURIComponent(atl_token())+"&issueId="+encodeURIComponent(this.dialogView.getIssueKey())+(c?"&formToken="+encodeURIComponent(c):"");d.resetUploadErrors();var h=n.getTemporaryBinaryUploadHandler(),g=h?h(u,o,r,encodeURIComponent(c)):d.executeAjaxUpload(o,p,l);g.progress(function(e){"init"==e&&d.progressView.initProgress()}).done(function(e){"string"==typeof e&&(e=JSON.parse(e)),d.dialogView.setFileToConvert(e.id)}).fail(function(e,t,n,i){var r;if("abort"===i.statusText)r="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else if(i.hasData){var a=JSON.parse(i.data);r=a.errorMessage?a.errorMessage:s.buildSimpleErrorContent(i,{alert:!1})}d.setUploadError(r),d.dialogView.displayErrors({fileUpload:r})}).always(function(){var t=e.Deferred();t.resolve(),t.then(function(){d.dialogView.enable(),d.progressView.finish()})}).progress(function(e){"init"!=e&&d.progressView.progressHandler(e)})},d.executeAjaxUpload=function(t,n,i){c.trigger("attach.screenshot.html5.jira.upload");var r=e.Deferred(),a=s.makeRequest({type:"POST",url:n,contentType:i,processData:!1,data:t,timeout:d.REQUEST_TIMEOUT_MILLIS,success:r.resolve.bind(r),error:r.reject.bind(r),xhr:function(){var t=e.ajaxSettings.xhr();return r.notify("init"),t.upload.addEventListener("progress",r.notify.bind(r)),t}});return r.always(function(){e.ajaxSettings.xhr().removeEventListener("progress",d.progressView.progressHandler),e(o.attachScreenshotDialog).off("Dialog.hide",a.abort)}),e(o.attachScreenshotDialog).one("Dialog.hide",a.abort),r.promise()},d.show=function(){var n=new e.Deferred,i=e(".issueaction-attach-screenshot-html5");return null!=a.current?n.reject().promise():0==i.length?n.reject().promise():(t.defer(function(){i.trigger("click")}),e(document).on("dialogContentReady",function(e,t){t===o.attachScreenshotDialog&&d.dialogView.isEnabled()?n.resolve(t):n.reject()}),e(document).on("ajaxComplete.jira.screenshot.dialog",function(e,t,r){r.url.indexOf(i.attr("href"))>-1&&setTimeout(function(){n.isResolved()||n.reject()},1e3)}),n.always(function(){e(document).off("ajaxComplete.jira.screenshot.dialog")}),n.promise())}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/issue-paste.js' */
define("dndattachment/ctrlv/issue-paste",["jquery","dndattachment/ctrlv/trace","dndattachment/ctrlv/tracking","dndattachment/ctrlv/utility","dndattachment/ctrlv/html5","dndattachment/ctrlv/base64decode","jira/dialog/dialog","jira/util/events","dndattachment/util/events/types","exports"],function(t,e,n,a,i,r,o,u,c,s){"use strict";function l(t,e){e.stateName=t;var n=function(){var n=e.apply(null,arguments);return n.stateName=t,n};return n.stateName=t,n}function d(t,e,n){return l(t,function(){var a=setTimeout(function(){f(_)},n),i=e.apply(null,arguments),r=function(t,e){var n=i(t,e);if(n)return clearTimeout(a),n};return r.stateName=t,r})}function f(t,e){if(f.eventQueue)return void f.eventQueue.push({type:t,object:e});for(f.eventQueue=[{type:t,object:e}];f.eventQueue.length>0;){var n=f.eventQueue.splice(0,1)[0],a=A(n.type,n.object);a&&(A=a)}delete f.eventQueue}var g=0,E=1,v=2,m=3,p=4,h=5,I=6,T=7,w=8,_=9,N=l("idle",function(){function i(e){if(!t(e.target).is(":input:not(.wiki-textfield, #summary)")&&!a.isContentEditable(e.target))return!0}return function(r,o){if(r==g&&a.isKeyPasteEvent(o)){if(a.browserIsNativePaste()||!i(o)||!a.browserIsSupported())return;return n.trigger("attach.screenshot.html5.catchClipboard"),new D(o)}if(r==E){if(a.isImagePasteEvent(o))return n.trigger("attach.screenshot.html5.handlePaste"),i(o)?(t(o.target).is(":input.wiki-textfield")&&o.preventDefault(),new L(o)):void e("jira/attach-images-plugin/pasteIgnored");e("jira/attach-images-plugin/pasteIgnoredNotImage")}}}),D=d("catchClipboard",function(e){function n(){o.remove()}var i=document.activeElement;e.selectionStart=e.target.selectionStart,e.selectionEnd=e.target.selectionEnd;var o=t('<div contenteditable="true" class="attach-screenshot-paste-catcher"></div>').appendTo("body");return o.focus(),t(i).is(":focusable:input,:aui-focusable:input")&&setTimeout(function(){i.focus()}),function(t,u){if(t==E){if(a.isImagePasteEvent(u))return n(),u.target=i,new L(u);if(a.isHtmlImagePasteEvent(u))return n(),u.target=i,new b(u);if(a.isTextPasteEvent(u)){n();var c=a.getTextPasteContent(u);return a.insertToInput(c,e.target,e.selectionStart,e.selectionEnd),u.preventDefault(),new N}}if(t==_){n();var s=o.find(">img");if(s.is(":only-child")){var l=s.attr("src");if(0===l.toLowerCase().indexOf("http"))return N();var d=r.decodeBase64DataUri(l),f=new Blob([d],{type:"image/png"});return new O(f,e)}var g=a.getTextContent(o[0]);return a.insertToInput(g,e.target,e.selectionStart,e.selectionEnd),N()}}}),b=l("imageLoading",function(t){var e=a.getHtmlImagePaste(t);return e?a.loadImage(e).then(function(t){f(p,t)},f.bind(null,h)):f(h),function(e,n){if(e==p){var i=a.convertImageToBlob(n);return i?new O(i,t):new N}if(e==_||e==h)return new N}}),L=d("fileLoading",function(t){return i.getFileFromEvent(t).done(function(t){f(v,t)}).fail(function(){f(m)}),function(e,n){return e==v?new O(n,t):e==m||e==_?new N:void 0}},1e3),O=l("attachImage",function(e,n){var i=n.target,r=a.generateFileName()+".png",o=a.convertBlobToImage(e,r);return u.trigger(c.ATTACHMENT_FOR_PAGE_RECEIVED,{files:[o],isWikiTextfieldFocused:a.isWikiTextfield(t(i)),wikiTextfield:i,isPaste:!0,successCallback:function(){f(I)}}),function(t,e){return new N}}),A=new N;s._getStateMap=function(){return{events:{EVENT_WINDOW_KEYDOWN:g,EVENT_WINDOW_PASTE:E,EVENT_FILE_LOADED:v,EVENT_FILE_LOAD_ERROR:m,EVENT_IMAGE_LOADED:p,EVENT_IMAGE_LOAD_ERROR:h,EVENT_DIALOG_LOADED:I,EVENT_DIALOG_CLOSED:T,EVENT_DIALOG_CANCELED:w,EVENT_TIMEOUT:_},states:{StateIdle:N,StateCatchClipboard:D,StateImageLoading:b,StateFileLoading:L,StateAttachImage:O}}},s.initIssuePaste=function(){t(window).on("keydown",function(t){f(g,t)}),t(window).on("paste",function(t){f(E,a.normalizePasteEvent(t))}),u.bind("Dialog.hide",function(t,e,n){n?f(w,e):f(T,e)})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/trace.js' */
define("dndattachment/ctrlv/trace",[],function(){"use strict";return function(){return JIRA.trace.apply(void 0,arguments)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/tracking.js' */
define("dndattachment/ctrlv/tracking",["exports"],function(t){"use strict";t.trigger=function(t,n){AJS.trigger("analytics",{name:t,data:n||{}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/executor.js' */
define("dndattachment/ctrlv/executor",["jquery","jira/util/events","dndattachment/ctrlv/html5","dndattachment/upload/handler","exports"],function(e,t,n,r,a){a.register=function(){var a={name:"JIRA Ctrl+V attachment executor",weight:5,isValid:function(e,t){return!!t.isPaste},processFiles:function(r,a){var c=e.Deferred();return n.show().done(function(n){var a=e("#attach-screenshot-placeholder-message"),i=e.Event("paste");i.clipboardData={files:r},a.focus(),setTimeout(function(){a.trigger(i)}),t.bind("Dialog.hide",function(e,t,n){n?c.reject():c.resolve([t.find("#attachscreenshotname").val()+".png"])})}),c}};r.registerExecutor(a)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'jira-dnd-attachment-module/js/ctrlv/initialize.js' */
define("dndattachment/ctrlv/initialize",["jquery","underscore","dndattachment/ctrlv/utility","dndattachment/ctrlv/html5","dndattachment/ctrlv/issue-paste","dndattachment/ctrlv/tracking","dndattachment/ctrlv/executor","jira/dialog/dialog-register","jira/dialog/form-dialog","exports"],function(t,e,n,i,a,r,o,c,s,d){"use strict";d.init=function(){var n=s.extend({options:{}});JIRA.ScreenshotDialog=n,a.initIssuePaste(),t(document).ready(function(){var a=t.Deferred();a.resolve(),c.attachScreenshotDialog=new n({id:"attach-screenshot-dialog",trigger:"a.issueaction-attach-screenshot-html5",isIssueDialog:!0,onContentRefresh:function(){this.$form.bind("before-submit",function(n){var a=i.validateFormData(i.screenshotFileUpload,t.trim(i.dialogView.getFileNameInput().val()));return 0==i.dialogView.getFileSize()?(n.preventDefault(),!1):!!e.isEmpty(a)||(i.dialogView.displayErrors(a),n.preventDefault(),!1)})},delayShowUntil:function(){return a}}),t(document).bind("dialogContentReady",function(t,e){e===c.attachScreenshotDialog&&null!==document.getElementById("attach-screenshot-form")&&(r.trigger("attach.screenshot.html5.contentReady"),i.initScreenshotPasteHandler())}),t(document).ready(function(){t(document).on("click","#attach-screenshot-html5",function(){r.trigger("attach.screenshot.html5.display")})})}),o.register()}}),require(["dndattachment/ctrlv/initialize","jquery"],function(t,e){"use strict";e(function(){t.init()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-form-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/FormDropZone.js' */
define("dndattachment/dropzones/FormDropZone",["dndattachment/Parser","dndattachment/integration-register","dndattachment/upload/handler","dndattachment/dropzones/IssueDropZone","jquery","dndattachment/aui","dndattachment/i18n","dndattachment/JIRA","dndattachment/util/DataTransfer","dndattachment/ctrlv/utility","jira/util/events","underscore"],function(e,t,n,o,i,r,a,d,s,h,l,c){var p=o.extend({eventGroup:"formdropzone",init:function(){this._super.apply(this,arguments),this.progressBars=[],this.bind("uploadFinished",this.onUploadFinished.bind(this)),this.$containerNode=this.getContainerNode(),this.$formNode=this.$node.parents("form"),this.formToken=this.$formNode.find('input[name="formToken"]').attr("value"),this.projectId=this.$formNode.find("*[name=pid]").val(),this.$inputNode=i('<input name="dnd-dropzone" type="hidden" />').insertAfter(this.$node),this.$fieldNode=this.$node.parents(".field-group"),this.$fieldNode.addClass("long-field"),this.connectContainer()},onUploadFinished:function(e,t){var n=i('<input type="checkbox" name="filetoconvert"/>').addClass("upload-progress-bar__checkbox").attr("value",t.fileID).attr("id","filetoconvert-"+t.fileID).prop("checked",!0).insertBefore(t.$node);t.bind("onBeforeDestroy",function(){n.prop("checked",!1).prop("value",null)}),setTimeout(function(){t.$node.addClass("upload-progress-bar__upload-ready"),t.setIcon("aui-iconfont-close-dialog")},1e3),d.trace("jira.issue.dnd.uploadfinished")},commitUpload:function(e){return this.queueEvent("commitUpload",{count:e.length}),new i.Deferred},getContainerNode:function(){return this.$node.parents(".jira-dialog-content")},connectContainer:function(){if(this.$dragoverMask=i('<div class="attach-files-drop-zone__dragover-mask" />'),this.$dragoverMask.appendTo(this.$containerNode),this.$body=i(document.body),this.onDragOverDropHandler=this.onDragOverDrop.bind(this),this.onDragLeaveHandler=this.onDragLeave.bind(this),this.onBodyDragOverDropHandler=this.onBodyDragOverDrop.bind(this),this.$containerNode.on("dragenter dragover drop",this.onDragOverDropHandler),this.$containerNode.on("dragleave",this.onDragLeaveHandler),this.$body.on("dragover drop",this.onBodyDragOverDropHandler),this.onBeforeSubmitHandler=this.onBeforeSubmit.bind(this),this.$formNode.on("before-submit",this.onBeforeSubmitHandler),this.onContentAddedHandler=this.onContentAdded.bind(this),d.bind(d.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),l.bind("Dialog.hide",this.onDialogHide.bind(this)),r.dialog2&&r.dialog2.on("hide",this.onDialogHide.bind(this)),this.projectId){this.externalTemporaryAttachmentCreator=t.getTemporaryAttachmentCreator(this.projectId,this.formToken,this.$node[0]);var e=t.getConnectedTemporaryBinaryUploadHandler();"function"==typeof e&&(this.externalPasteUploadHandler=e(this.projectId,this.formToken,this.$node[0]));var n=t.getTemporaryAttachmentZoneCreator();if("function"==typeof n){var o={};this.externalZone=n(this.projectId,this.formToken,this.$node[0],this.$containerNode[0],{onFileUploadStarted:function(e){var t=new i.Deferred;o[e.id]=t,this.queueTask(t.promise())}.bind(this),onFileUploadFinished:function(e){o[e.id].resolve()}})}}},addHandlerToBrowseLink:function(){this.fileButton.click(this.browseFilesAndUpload.bind(this))},browseFilesAndUpload:function(e,t){if("function"==typeof this.externalTemporaryAttachmentCreator&&n.isDefaultExecutor({})){var o={},r=c.extend({},t,{onFileUploadStarted:function(e){var n=new i.Deferred;o[e.id]=n,this.queueTask(n.promise()),t&&t.onFileUploadStarted&&t.onFileUploadStarted.call(e,e)}.bind(this),onFileUploadFinished:function(e){o[e.id].resolve(),t&&t.onFileUploadFinished&&t.onFileUploadFinished.call(null)}});return this.externalTemporaryAttachmentCreator.call(null,e,r),!0}this.browseLinkHandler.call(this,e)},disconnectContainer:function(){this.externalZone&&this.externalZone.deactivate(),n.disconnectCurrentDropZone(this),this.$dragoverMask.remove(),this.$containerNode.removeClass("attach-files-drop-zone__dragover"),this.$containerNode.off("dragover drop",this.onDragOverDropHandler),this.$containerNode.off("dragleave",this.onDragLeaveHandler),this.$formNode.off("before-submit",this.onBeforeSubmitHandler),d.unbind(d.Events.NEW_CONTENT_ADDED,this.onContentAddedHandler),l.unbind("Dialog.hide",this.onDialogHide.bind(this)),r.dialog2&&r.dialog2.off("hide",this.onDialogHide.bind(this))},isAttached:function(){return i.contains(document.body,this.$node[0])},onContentAdded:function(){this.isAttached()||this.disconnectContainer()},onDialogHide:function(){this.$body.off("dragover drop",this.onBodyDragOverDropHandler)},onBodyDragOverDrop:function(e){e.preventDefault(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="none")},onDragOverDrop:function(e){return this.isAttached()?void(h.dragEventContainsFiles(e)&&(e.preventDefault(),e.stopPropagation(),e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),this.$containerNode.addClass("attach-files-drop-zone__dragover"),"dragenter"===e.type&&this.externalZone&&(n.isDefaultExecutor({})?this.externalZone.activate():this.externalZone.deactivate()),"drop"===e.type&&(this.$containerNode.removeClass("attach-files-drop-zone__dragover"),i(document).trigger("dropHandled"),e.isPasteEvent?this.externalPasteUploadHandler?this.externalPasteUploadHandler(e.dataTransfer.files[0]):this.doAjaxUpload(e.dataTransfer):this.externalZone&&n.isDefaultExecutor({})?this.externalZone.drop():this.doAjaxUpload(e.dataTransfer)))):void this.disconnectContainer()},doAjaxUpload:function(e){var t=new s(e);t.getFiles().then(function(e){this.handleFilesReceived(e),this.queueEvent("fileDrop",{count:e.length})}.bind(this))},onDragLeave:function(){this.$containerNode.removeClass("attach-files-drop-zone__dragover")},onBeforeSubmit:function(e){if(this.isDirty){e.preventDefault();var t={};t[this.$inputNode.attr("name")]=a("dnd.attachment.upload.in.progress"),d.applyErrorsToForm(this.$formNode,t),this.$formNode.find(".error").toArray().some(function(e){e.scrollIntoView()})}},markDirty:function(e){o.prototype.markDirty.apply(this,arguments),this.isDirty=e,d.trace(e?"jira.issue.dnd.isdirty":"jira.issue.dnd.isclear")},handleNewProgressBar:function(e){this.progressBars.push(e),e.bind("onBeforeDestroy",c.bind(function(){this.trigger("progressBarOnBeforeDestroy",e),this.progressBars=c.filter(this.progressBars,function(t){return t!==e}),0===this.progressBars.length&&this.trigger("allUploadsCancelled")},this)),e.bind("onDestroy",c.bind(function(){this.trigger("progressBarDestroyed")},this)),e.bind("onFinished",c.bind(function(){this.trigger("progressBarFinished")},this)),e.bind("onFailed",c.bind(function(){this.trigger("progressBarFailed")},this)),this.trigger("progressBarStarted")},filesStillUploading:function(){return c.filter(this.progressBars,function(e){return!e.isFinished()}).length>0},anyFilesFailed:function(){return c.filter(this.progressBars,function(e){return e.isFailed()}).length>0}});return p});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/AttachFilesDropZone.js' */
define("dndattachment/dropzones/AttachFilesDropZone",["dndattachment/dropzones/FormDropZone","jquery"],function(e,n){var t=e.extend({eventGroup:"attachfiledropzone",init:function(){this._super.apply(this,arguments),this.bind("progressBarInserted",function(e,t){var r=new n.Deferred;this.queueTask(r),t.result.done(r.resolve.bind(r)),t.bind("onBeforeDestroy",function(){r.resolve()})}.bind(this))},checkMarkDirty:function(){this.pendingQueue.length<=1&&this.markDirty(!1)}});return t});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/js/dropzones/CreateIssueDropZone.js' */
define("dndattachment/dropzones/CreateIssueDropZone",["jquery","dndattachment/dropzones/FormDropZone"],function(e,n){var r=n.extend({eventGroup:"createissuedropzone",progressBarType:"dndattachment/progressbars/ProjectUploadProgressBar",getContainerNode:function(){return e(this.$node.parents(".jira-dialog-content")[0]||this.$node.parents("form#issue-create").parents(".aui-page-panel-content")[0])},handleNewProgressBar:function(e){this._super.apply(this,arguments),e.bind("onDestroy onFinished",_.bind(function(){if(!this.filesStillUploading()){var e={};e[this.$inputNode.attr("name")]="",JIRA.applyErrorsToForm(this.$formNode,e)}},this))}});return r});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/js/progressbars/ProjectUploadProgressBar.js' */
define("dndattachment/progressbars/ProjectUploadProgressBar",["jquery","dndattachment/progressbars/UploadProgressBar"],function(e,a){return a.extend({getProjectId:function(){return this.$node.parents("form").find("*[name=pid]").val()},getUploadParams:function(e){var t=a.prototype.getUploadParams.apply(this,arguments);return this.getProjectId()&&(t.projectId=this.getProjectId()),t},loadThumbnail:function(a){if(this.isImageType())return this._super.apply(this,arguments);var t=this.getThumbnailNode();t.removeClass("upload-progress-bar__thumbnail_image").addClass("upload-progress-bar__thumbnail_icon").addClass("upload-progress-bar__thumbnail_icon_aui");var r="aui-iconfont-devtools-file",s="File";"object"==typeof a&&(r=JIRA.Templates.ViewIssue.matchFileClass({mimetype:a.type}),s=JIRA.Templates.ViewIssue.matchFileIconAlt({mimetype:a.type}));var o=e('<span class="aui-icon aui-icon-large"/>').addClass(r).attr("title",s);return o.appendTo(t)}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/AttachFilesDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.AttachFilesDropZone=function(e,t){return'<div duiType="dndattachment/dropzones/AttachFilesDropZone" class="issue-drop-zone" data-upload-limit="'+soy.$$escapeHtml(e.jiraAttachmentSize)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'"></div>'};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-create-issue-drop-zone', location = 'jira-dnd-attachment-module/templates/CreateIssueDropZone.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.DnDAttachmentPlugin&&(JIRA.Templates.DnDAttachmentPlugin={}),JIRA.Templates.DnDAttachmentPlugin.CreateIssueDropZone=function(e,t){return'<div duiType="dndattachment/dropzones/CreateIssueDropZone" class="issue-drop-zone" data-upload-limit="'+soy.$$escapeHtml(e.jiraAttachmentSize)+'" data-upload-size="'+soy.$$escapeHtml(e.uploadLimit)+'"></div>'+(e.description?'<div class="description">'+soy.$$escapeHtml(e.description)+"</div>":"")};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:drag-and-drop-attachment-javascript-init', location = 'jira-dnd-attachment-module/js/initIssueDropZone.js' */
require(["dndattachment/Parser","jquery","dndattachment/dropzones/IssueDropZone","dndattachment/upload/handler","dndattachment/upload/default/executor","dndattachment/aui","dndattachment/TemporaryAttachments","dndattachment/util/Configuration","dndattachment/util/FileSizeUtil"],function(t,e,n,a,i,o,r,d,s){function u(n,i){var o=n.find(".field-group.file-input-list");if(0!=o.size()&&!(o.find('*[duiType*="'+i+'"]').length>0)){var d=o.find("input[name=filetoconvert]:checked").map(function(t,n){return r.getAttachment(n.value,e(n).siblings("label").text())}).toArray(),u=o.find(".description:last-child").html();o.empty();var p=e(JIRA.Templates.DnDAttachmentPlugin[i]({uploadLimit:s.format(m),jiraAttachmentSize:m,description:u}));t.parse(p.appendTo(o)).then(function(t){null!=t&&(t.loadAttachments(d),a.setCurrentDropZone(t))})}}function p(t,n){var i=function(){u(t.$popupContent,n)};t.$popup&&t.$popup.is(":visible")?i():t.onContentReady(i),e(t).bind("Dialog.hide",function(){a.disconnectCurrentDropZone()})}function c(n){var i=n&&"attachmentmodule"==n.attr("id")&&e(".mod-content:not(.issue-drop-zone)",n);if(i&&i.size()>0){if(0==n.find("#add-attachments-link").length)return;i.addClass("issue-drop-zone");var o=e(JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone({uploadLimit:s.format(m),jiraAttachmentSize:m}));t.parse(o.prependTo(i)).then(function(t){l&&l.disconnectContainer(),l=t,a.setAttachmentDropZone(t)})}}if(n.prototype.isSupportedBrowser()){var l,m=d.getWRM("upload-limit"),h=function(){JIRA.Dialogs.attachFile&&p(JIRA.Dialogs.attachFile,"AttachFilesDropZone");var t=["create-issue-dialog","create-subtask-dialog","edit-issue-dialog"],n=function(e,n,a){t.includes(n.attr("id"))&&p(a,"CreateIssueDropZone")};e(o).on("Dialog.show",n),JIRA.Dialog.current&&n(null,JIRA.Dialog.current.$popup,JIRA.Dialog.current),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(t,e,n){u(e,"CreateIssueDropZone"),c(e)});var r=e("form#issue-create, form#issue-edit");r.size()>0&&u(r,"CreateIssueDropZone"),a.initialize(),a.registerExecutor(i),c(e("#attachmentmodule"))};e.isReady?h():o.$(h),e.event.props?e.event.props.push("dataTransfer"):e.event.addProp("dataTransfer")}});;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-spin-spin', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/spin/spin.js' */
("undefined"===typeof window?global:window).__5948fbc87d30aef48e0301714319f1fd=function(){var m={exports:{}},r=m.exports,x={module:m,exports:r},s;s=function(p,e,h){var j=("undefined"===typeof window?global:window).define,f,k,h=[h,e,p].filter(function(e){return"function"===typeof e})[0],e=[e,p,[]].filter(Array.isArray)[0];f=h.apply(null,e.map(function(e){return x[e]}));k=typeof f;"function"===typeof j&&j("string"===typeof p?p:"__5948fbc87d30aef48e0301714319f1fd",e,h);"string"===k?f=String(f):"number"===
k?f=Number(f):"boolean"===k&&(f=Boolean(f));void 0!==f&&(r=m.exports=f)};s.amd=!0;var w=function(){function p(b,a){var c=document.createElement(b||"div"),d;for(d in a)c[d]=a[d];return c}function e(b){for(var a=1,c=arguments.length;a<c;a++)b.appendChild(arguments[a]);return b}function h(b,a){var c=b.style,d,e,a=a.charAt(0).toUpperCase()+a.slice(1);for(e=0;e<m.length;e++)if(d=m[e]+a,void 0!==c[d])return d;if(void 0!==c[a])return a}function j(b,a){for(var c in a)b.style[h(b,c)||c]=a[c];return b}function f(b){for(var a=
1;a<arguments.length;a++){var c=arguments[a],d;for(d in c)void 0===b[d]&&(b[d]=c[d])}return b}function k(b){for(var a={x:b.offsetLeft,y:b.offsetTop};b=b.offsetParent;)a.x+=b.offsetLeft+b.clientLeft,a.y+=b.offsetTop+b.clientTop;return a}function l(b){if("undefined"==typeof this)return new l(b);this.opts=f(b||{},l.defaults,r)}var m=["webkit","Moz","ms","O"],s={},t,u,n=p("style",{type:"text/css"});e(document.getElementsByTagName("head")[0],n);u=n.sheet||n.styleSheet;var r={lines:12,length:7,width:5,
radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={};f(l.prototype,{spin:function(b){this.stop();var a=this,c=a.opts,d=a.el=j(p(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex}),e=c.radius+c.length+c.width,i,g;b&&(b.insertBefore(d,b.firstChild||null),g=k(b),i=k(d),j(d,{left:("auto"==c.left?g.x-i.x+(b.offsetWidth>>1):parseInt(c.left,10)+e)+"px",top:("auto"==
c.top?g.y-i.y+(b.offsetHeight>>1):parseInt(c.top,10)+e)+"px"}));d.setAttribute("role","progressbar");a.lines(d,a.opts);if(!t){var f=0,m=(c.lines-1)*(1-c.direction)/2,o,h=c.fps,q=h/c.speed,s=(1-c.opacity)/(q*c.trail/100),l=q/c.lines;(function y(){f++;for(var b=0;b<c.lines;b++){o=Math.max(1-(f+(c.lines-b)*l)%q*s,c.opacity);a.opacity(d,b*c.direction+m,o,c)}a.timeout=a.el&&setTimeout(y,~~(1E3/h))})()}return a},stop:function(){var b=this.el;b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),
this.el=void 0);return this},lines:function(b,a){function c(b,c){return j(p(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*d+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var d=0,f=(a.lines-1)*(1-a.direction)/2,i;d<a.lines;d++){i=p();var g=1+~(a.width/2)+"px",h=a.hwaccel?"translate3d(0,0,0)":"",m=a.opacity,o;if(o=t){o=a.opacity;var l=a.trail,q=f+
d*a.direction,k=a.lines,n=["opacity",l,~~(100*o),q,k].join("-"),q=0.01+100*(q/k),k=Math.max(1-(1-o)/l*(100-q),o),r=t.substring(0,t.indexOf("Animation")).toLowerCase(),r=r&&"-"+r+"-"||"";s[n]||(u.insertRule("@"+r+"keyframes "+n+"{0%{opacity:"+k+"}"+q+"%{opacity:"+o+"}"+(q+0.01)+"%{opacity:1}"+(q+l)%100+"%{opacity:"+o+"}100%{opacity:"+k+"}}",u.cssRules.length),s[n]=1);o=n+" "+1/a.speed+"s linear infinite"}i=j(i,{position:"absolute",top:g,transform:h,opacity:m,animation:o});a.shadow&&e(i,j(c("#000",
"0 0 4px #000"),{top:"2px"}));e(b,e(i,c("string"==typeof a.color?a.color:a.color[d%a.color.length],"0 0 1px rgba(0,0,0,.1)")))}return b},opacity:function(b,a,c){a<b.childNodes.length&&(b.childNodes[a].style.opacity=c)}});n=j(p("group"),{behavior:"url(#default#VML)"});if(!h(n,"transform")&&n.adj){var v=function(b,a){return p("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',a)};u.addRule(".spin-vml","behavior:url(#default#VML)");l.prototype.lines=function(b,a){function c(){return j(v("group",
{coordsize:i+" "+i,coordorigin:-f+" "+-f}),{width:i,height:i})}function d(b,d,g){e(h,e(j(c(),{rotation:360/a.lines*b+"deg",left:~~d}),e(j(v("roundrect",{arcsize:a.corners}),{width:f,height:a.width,left:a.radius,top:-a.width>>1,filter:g}),v("fill",{color:"string"==typeof a.color?a.color:a.color[b%a.color.length],opacity:a.opacity}),v("stroke",{opacity:0}))))}var f=a.length+a.width,i=2*f,g=2*-(a.width+a.length)+"px",h=j(c(),{position:"absolute",top:g,left:g});if(a.shadow)for(g=1;g<=a.lines;g++)d(g,
-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;g<=a.lines;g++)d(g);return e(b,h)};l.prototype.opacity=function(b,a,c,d){b=b.firstChild;d=d.shadow&&d.lines||0;if(b&&a+d<b.childNodes.length&&(b=(b=(b=b.childNodes[a+d])&&b.firstChild)&&b.firstChild))b.opacity=c}}else t=h(n,"animation");return l};"object"==typeof r?m.exports=w():"function"==typeof s&&s("aui/internal/spin",w);this.Spinner=w();return m.exports}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-jquery-spin', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/jquery/jquery.spin.js' */
("undefined"===typeof window?global:window).__e9282c4286b6886c60cee0b1e3321cc6=function(){var b=jQuery;b.fn.spin=function(a,c){var f,d;if("string"===typeof a){if(!a in b.fn.spin.presets)throw Error("Preset '"+a+"' isn't defined");f=b.fn.spin.presets[a];d=c||{}}else{if(c)throw Error("Invalid arguments. Accepted arguments:\n$.spin([String preset[, Object options]]),\n$.spin(Object options),\n$.spin(Boolean shouldSpin)");f=b.fn.spin.presets.small;d=b.isPlainObject(a)?a:{}}if(window.Spinner)return this.each(function(){var c=
b(this),e=c.data();e.spinner&&(e.spinner.stop(),delete e.spinner);!1!==a&&(d=b.extend({color:c.css("color")},f,d),e.spinner=(new Spinner(d)).spin(this))});throw"Spinner class not available.";};b.fn.spin.presets={small:{lines:12,length:3,width:2,radius:3,trail:60,speed:1.5},medium:{lines:12,length:5,width:3,radius:8,trail:60,speed:1.5},large:{lines:12,length:8,width:4,radius:10,trail:60,speed:1.5}};b.fn.spinStop=function(){if(window.Spinner)return this.each(function(){var a=b(this).data();a.spinner&&
(a.spinner.stop(),delete a.spinner)});throw"Spinner class not available.";};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-spin', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/spin.js' */
("undefined"===typeof window?global:window).__e573296a636ce4ee054d5d3b9c8823fb=function(){"use strict";__5948fbc87d30aef48e0301714319f1fd;__e9282c4286b6886c60cee0b1e3321cc6;return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-constants', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/constants.js' */
("undefined"===typeof window?global:window).__fa2d609d3773596cc2b702b68678a39c=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={INPUT_SUFFIX:"-input"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-toggle', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/toggle.js' */
("undefined"===typeof window?global:window).__1840a42d6d7e6ab244ecf3cf5bcc56cd=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function c(a){return a._input||(a._input=a.querySelector("input"))}function f(a,b){c(b).removeAttribute(a)}function h(a,b,d){c(b).setAttribute(a,d.newValue)}function i(a){return{removed:f.bind(this,a),fallback:h.bind(this,a)}}"use strict";__e573296a636ce4ee054d5d3b9c8823fb;__8a6820c3d0bc5d638a8490d849a5b750;var g=__29fa312a51517f20df339a1900640e1d,d=e(__307d3e18fd611f85395c67cddeb1fe24),
k=e(__8339408c10b0a9052af9f3aad7b3a4e8),l=e(__f52b7059926ab2bdcd0aee12b4bc782b),m=e(__c1ce1f1e3e613f564fc234ff043570f1),n=__fa2d609d3773596cc2b702b68678a39c,j={removed:function(a){f.call(this,"form",a);a._formId=null},fallback:function(a,b){h.call(this,"form",a,b);a._formId=b.newValue}},o={removed:f.bind(void 0,"id"),fallback:function(a,b){c(a).setAttribute("id",""+b.newValue+n.INPUT_SUFFIX)}};(0,m.default)("aui-toggle",{template:(0,l.default)('<input type="checkbox" class="aui-toggle-input">','<span class="aui-toggle-view">',
'<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(a){a._input=c(a);a._tick=a.querySelector(".aui-toggle-tick");a._cross=a.querySelector(".aui-toggle-cross");(0,d.default)(a._input).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1});a._input.addEventListener("keydown",
function(b){a.busy&&b.keyCode===AJS.keyCode.SPACE&&b.preventDefault()});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&a._input.addEventListener("click",function(b){a.busy&&b.preventDefault()})},attached:function(a){(0,k.default)(a).attributeExists("label")},events:{click:function(a,b){!a.disabled&&(!a.busy&&b.target!==a._input)&&a._input.click();(0,g.setBooleanAttribute)(a,"checked",c(a).checked)}},attributes:{id:o,checked:{removed:function(a){f.call(this,"checked",a);c(a).checked=!1},
fallback:function(a,b){h.call(this,"checked",a,b);c(a).checked=!0}},disabled:i("disabled"),form:j,name:i("name"),value:i("value"),"tooltip-on":{value:"On",fallback:function(a,b){c(a).setAttribute("tooltip-on",b.newValue||"On")}},"tooltip-off":{value:"Off",fallback:function(a,b){c(a).setAttribute("tooltip-off",b.newValue||"Off")}},label:{removed:function(a){c(a).removeAttribute("aria-label")},
fallback:function(a,b){c(a).setAttribute("aria-label",b.newValue)}}},prototype:{focus:function(){this._input.focus();return this},get checked(){return this._input.checked},set checked(a){this._input.checked=a;return(0,g.setBooleanAttribute)(this,"checked",a)},get disabled(){return this._input.disabled},set disabled(a){return(0,g.setBooleanAttribute)(this,"disabled",a)},get form(){return document.getElementById(this._formId)},set form(a){j.fallback.call(this,this,{newValue:a||null});return this.form},
get name(){return this._input.name},set name(a){this.setAttribute("name",a);return a},get value(){return this._input.value},set value(a){this.setAttribute("value",null===a?"":a);return a},get busy(){return"true"===this._input.getAttribute("aria-busy")},set busy(a){(0,g.setBooleanAttribute)(this,"busy",a);a?(this._input.setAttribute("aria-busy","true"),this._input.indeterminate=!0,this.checked?((0,d.default)(this._input).addClass("indeterminate-checked"),(0,d.default)(this._tick).spin({zIndex:null})):
(0,d.default)(this._cross).spin({zIndex:null,color:"black"})):((0,d.default)(this._input).removeClass("indeterminate-checked"),this._input.indeterminate=!1,this._input.removeAttribute("aria-busy"),(0,d.default)(this._cross).spinStop(),(0,d.default)(this._tick).spinStop());var b=!!a;this.id&&Array.prototype.forEach.call(document.querySelectorAll('aui-label[for="'+this.id+'"]'),function(a){a.disabled=b});return a}}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.plugin.jslibs:backbone-1.0.0-factory-legacy', location = 'atlassian-jslibs/factories/backbone/1.0.0/backbone-1.0.0-factory.js' */
!function(t){define("atlassian/libs/factories/backbone-1.0.0",function(){return function(e,i){var s={_:e,$:i};return t.call(s),"undefined"!=typeof exports?exports.noConflict():s.Backbone.noConflict()}})}(function(){(function(){var t,e=this,i=e.Backbone,s=[],n=s.push,r=s.slice,a=s.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var o=e._;o||"undefined"==typeof require||(o=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var h=t.Events={on:function(t,e,i){if(!c(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var s=this._events[t]||(this._events[t]=[]);return s.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!c(this,"once",t,[e,i])||!e)return this;var s=this,n=o.once(function(){s.off(t,n),e.apply(this,arguments)});return n._callback=e,this.on(t,n,i)},off:function(t,e,i){var s,n,r,a,h,u,l,d;if(!this._events||!c(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(a=t?[t]:o.keys(this._events),h=0,u=a.length;h<u;h++)if(t=a[h],r=this._events[t]){if(this._events[t]=s=[],e||i)for(l=0,d=r.length;l<d;l++)n=r[l],(e&&e!==n.callback&&e!==n.callback._callback||i&&i!==n.context)&&s.push(n);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t],s=this._events.all;return i&&l(i,e),s&&l(s,arguments),this},stopListening:function(t,e,i){var s=this._listeners;if(!s)return this;var n=!e&&!i;"object"==typeof e&&(i=this),t&&((s={})[t._listenerId]=t);for(var r in s)s[r].off(e,i,this),n&&delete this._listeners[r];return this}},u=/\s+/,c=function(t,e,i,s){if(!i)return!0;if("object"==typeof i){for(var n in i)t[e].apply(t,[n,i[n]].concat(s));return!1}if(u.test(i)){for(var r=i.split(u),a=0,o=r.length;a<o;a++)t[e].apply(t,[r[a]].concat(s));return!1}return!0},l=function(t,e){var i,s=-1,n=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++s<n;)(i=t[s]).callback.call(i.ctx);return;case 1:for(;++s<n;)(i=t[s]).callback.call(i.ctx,r);return;case 2:for(;++s<n;)(i=t[s]).callback.call(i.ctx,r,a);return;case 3:for(;++s<n;)(i=t[s]).callback.call(i.ctx,r,a,o);return;default:for(;++s<n;)(i=t[s]).callback.apply(i.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};o.each(d,function(t,e){h[e]=function(e,i,s){var n=this._listeners||(this._listeners={}),r=e._listenerId||(e._listenerId=o.uniqueId("l"));return n[r]=e,"object"==typeof i&&(s=this),e[t](i,s,this),this}}),h.bind=h.on,h.unbind=h.off,o.extend(t,h);var f=t.Model=function(t,e){var i,s=t||{};e||(e={}),this.cid=o.uniqueId("c"),this.attributes={},o.extend(this,o.pick(e,p)),e.parse&&(s=this.parse(s,e)||{}),(i=o.result(this,"defaults"))&&(s=o.defaults({},s,i)),this.set(s,e),this.changed={},this.initialize.apply(this,arguments)},p=["url","urlRoot","collection"];o.extend(f.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return o.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return o.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var s,n,r,a,h,u,c,l;if(null==t)return this;if("object"==typeof t?(n=t,i=e):(n={})[t]=e,i||(i={}),!this._validate(n,i))return!1;r=i.unset,h=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=o.clone(this.attributes),this.changed={}),l=this.attributes,c=this._previousAttributes,this.idAttribute in n&&(this.id=n[this.idAttribute]);for(s in n)e=n[s],o.isEqual(l[s],e)||a.push(s),o.isEqual(c[s],e)?delete this.changed[s]:this.changed[s]=e,r?delete l[s]:l[s]=e;if(!h){a.length&&(this._pending=!0);for(var d=0,f=a.length;d<f;d++)this.trigger("change:"+a[d],this,l[a[d]],i)}if(u)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,o.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,o.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o.isEmpty(this.changed):o.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&o.clone(this.changed);var e,i=!1,s=this._changing?this._previousAttributes:this.attributes;for(var n in t)o.isEqual(s[n],e=t[n])||((i||(i={}))[n]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(s){return!!e.set(e.parse(s,t),t)&&(i&&i(e,s,t),void e.trigger("sync",e,s,t))},R(this,t),this.sync("read",this,t)},save:function(t,e,i){var s,n,r,a=this.attributes;if(null==t||"object"==typeof t?(s=t,i=e):(s={})[t]=e,s&&(!i||!i.wait)&&!this.set(s,i))return!1;if(i=o.extend({validate:!0},i),!this._validate(s,i))return!1;s&&i.wait&&(this.attributes=o.extend({},a,s)),void 0===i.parse&&(i.parse=!0);var h=this,u=i.success;return i.success=function(t){h.attributes=a;var e=h.parse(t,i);return i.wait&&(e=o.extend(s||{},e)),!(o.isObject(e)&&!h.set(e,i))&&(u&&u(h,t,i),void h.trigger("sync",h,t,i))},R(this,i),n=this.isNew()?"create":i.patch?"patch":"update","patch"===n&&(i.attrs=s),r=this.sync(n,this,i),s&&i.wait&&(this.attributes=a),r},destroy:function(t){t=t?o.clone(t):{};var e=this,i=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&s(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;R(this,t);var n=this.sync("delete",this,t);return t.wait||s(),n},url:function(){var t=o.result(this,"urlRoot")||o.result(this.collection,"url")||U();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},o.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=o.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,o.extend(e||{},{validationError:i})),!1)}});var g=["keys","values","pairs","invert","pick","omit"];o.each(g,function(t){f.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.attributes),o[t].apply(o,e)}});var v=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,o.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};o.extend(v.prototype,h,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,o.defaults(e||{},y))},remove:function(t,e){t=o.isArray(t)?t.slice():[t],e||(e={});var i,s,n,r;for(i=0,s=t.length;i<s;i++)r=this.get(t[i]),r&&(delete this._byId[r.id],delete this._byId[r.cid],n=this.indexOf(r),this.models.splice(n,1),this.length--,e.silent||(e.index=n,r.trigger("remove",r,this,e)),this._removeReference(r));return this},set:function(t,e){e=o.defaults(e||{},m),e.parse&&(t=this.parse(t,e)),o.isArray(t)||(t=t?[t]:[]);var i,s,r,h,u,c=e.at,l=this.comparator&&null==c&&e.sort!==!1,d=o.isString(this.comparator)?this.comparator:null,f=[],p=[],g={};for(i=0,s=t.length;i<s;i++)(r=this._prepareModel(t[i],e))&&((h=this.get(r))?(e.remove&&(g[h.cid]=!0),e.merge&&(h.set(r.attributes,e),l&&!u&&h.hasChanged(d)&&(u=!0))):e.add&&(f.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(e.remove){for(i=0,s=this.length;i<s;++i)g[(r=this.models[i]).cid]||p.push(r);p.length&&this.remove(p,e)}if(f.length&&(l&&(u=!0),this.length+=f.length,null!=c?a.apply(this.models,[c,0].concat(f)):n.apply(this.models,f)),u&&this.sort({silent:!0}),e.silent)return this;for(i=0,s=f.length;i<s;i++)(r=f[i]).trigger("add",r,this,e);return u&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var i=0,s=this.models.length;i<s;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return o.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,i){e||(e=this.comparator);var s=o.isFunction(e)?e:function(t){return t.get(e)};return o.sortedIndex(this.models,t,s,i)},pluck:function(t){return o.invoke(this.models,"get",t)},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(s){var n=t.reset?"reset":"set";i[n](s,t),e&&e(i,s,t),i.trigger("sync",i,s,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?o.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,s=e.success;return e.success=function(n){e.wait&&i.add(t,e),s&&s(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(_,function(t){v.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.models),o[t].apply(o,e)}});var b=["groupBy","countBy","sortBy"];o.each(b,function(t){v.prototype[t]=function(e,i){var s=o.isFunction(e)?e:function(t){return t.get(e)};return o[t](this.models,s,i)}});var w=t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];o.extend(w.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=o.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(o.isFunction(i)||(i=this[t[e]]),i){var s=e.match(x),n=s[1],r=s[2];i=o.bind(i,this),n+=".delegateEvents"+this.cid,""===r?this.$el.on(n,i):this.$el.on(n,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=o.extend({},o.result(this,"options"),t)),o.extend(this,o.pick(t,E)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var e=o.extend({},o.result(this,"attributes"));this.id&&(e.id=o.result(this,"id")),this.className&&(e.class=o.result(this,"className"));var i=t.$("<"+o.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,s){var n=k[e];o.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:n,dataType:"json"};if(s.url||(r.url=o.result(i,"url")||U()),null!=s.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){r.type="POST",s.emulateJSON&&(r.data._method=n);var a=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",n),a)return a.apply(this,arguments)}}"GET"===r.type||s.emulateJSON||(r.processData=!1),"PATCH"!==r.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var h=s.xhr=t.ajax(o.extend(r,s));return i.trigger("request",i,h,s),h};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},$=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,H=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(S.prototype,h,{initialize:function(){},route:function(e,i,s){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(i)&&(s=i,i=""),s||(s=this[i]);var n=this;return t.history.route(e,function(r){var a=n._extractParameters(e,r);s&&s.apply(n,a),n.trigger.apply(n,["route:"+i].concat(a)),n.trigger("route",i,a),t.history.trigger("route",n,i,a)}),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var t,e=o.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace($,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/]+)"}).replace(H,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return o.map(i,function(t){return t?decodeURIComponent(t):null})}});var I=t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,O=/msie [\w.]+/,C=/\/$/;I.started=!1,o.extend(I.prototype,h,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(C,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(N,"")},start:function(e){if(I.started)throw new Error("Backbone.history has already been started");I.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),s=document.documentMode,n=O.exec(navigator.userAgent.toLowerCase())&&(!s||s<=7);this.root=("/"+this.root+"/").replace(P,"/"),n&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var r=this.location,a=r.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(N,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),I.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e!==this.fragment&&(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),i=o.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0});return i},navigate:function(t,e){if(!I.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var s=t.href.replace(/(javascript:|#).*$/,"");t.replace(s+"#"+e)}else t.hash="#"+e}}),t.history=new I;var j=function(t,e){var i,s=this;i=t&&o.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},o.extend(i,s,e);var n=function(){this.constructor=i};return n.prototype=s.prototype,i.prototype=new n,t&&o.extend(i.prototype,t),i.__super__=s.prototype,i};f.extend=v.extend=S.extend=w.extend=I.extend=j;var U=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var i=e.error;e.error=function(s){i&&i(t,s,e),t.trigger("error",t,s,e)}}}).call(this)});;
;
/* module-key = 'com.atlassian.plugin.jslibs:brace-1.1.0-factory', location = 'atlassian-jslibs/factories/brace/1.1.0/brace-1.1.0-factory.js' */
!function(t){define("atlassian/libs/factories/brace-1.1.0",function(){return function(e,n){var i={_:e,Backbone:n};t.call(i);var r=i.Brace.noConflict();return r.VERSION="1.1.0",r}})}(function(){/*!
     *  Backbone Brace - 2017-01-20
     *  Copyright 2017 Atlassian Software Systems Pty Ltd
     *  Licensed under the Apache License, Version 2.0
     */
!function(t,e){var n="Brace",i=t[n],r=function(){return t[n]=i,this},o=e(t._,t.Backbone);o.noConflict=r,t[n]=o}(this,function(t,e){function n(e){return t.isArray(e)?t.reduce(e,function(t,e){return t[e]=null,t},{}):e}function i(e,n){if(!e||null==n)return n;if(e===String&&t.isString(n))return n;if(e===Number&&t.isNumber(n))return n;if(e===Boolean&&t.isBoolean(n))return n;if("string"==typeof e||e instanceof String){if(typeof n!=""+e)throw"The typeof "+n+" is "+typeof n+" but expected it to be "+e;return n}if(t.isArray(e)||e===Array){if(!o(n))throw"Array type expected, but nonnull, non-Array value provided.";return e!==Array&&e[0]?t.map(n,t.bind(i,null,e[0])):n}if("function"!=typeof e)throw"Invalid expected type "+e+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return n instanceof e?n:new e(r(e)?i([e.model],n):n)}function r(t,n){return t&&(t.__super__ instanceof(n||e.Collection)||t.__super__===(n||e.Collection).prototype||t===(n||e.Collection))}function o(n){return t.has(n,"length")&&!(n instanceof String||t.has({string:1,function:1},typeof n)||n instanceof e.Collection)}function a(e,n){var i={};return t.each(e,function(t,e){if(n[e]&&!s(t,n[e])){if(!t||s(n[e],t))return;throw e+" has conflicted type descriptors."}i[e]=t}),i}function s(t,e){return!e||e===t||!(!t||"string"==typeof t)&&(t instanceof Array?e===Array||e instanceof Array&&s(t[0],e[0]):"function"==typeof e&&(r(e)?r(t,e):t.prototype instanceof e))}function u(e){return t.isObject(e)?t.reduce(e,function(e,n,i){return n&&t.isFunction(n.toJSON)?e[i]=n.toJSON():t.isArray(n)&&(e[i]=t.map(n,function(e){return e&&t.isFunction(e.toJSON)?e.toJSON():e})),e},e):e}function c(t){return function(){var e=t.call(this);return u(e)}}function p(e){return function i(r,o){var a,s,u=t.extend({},r);return r&&r.mixins&&(s=r.mixins,delete u.mixins),a=e.call(this,u,o),this.prototype.namedEvents&&h.Mixins.applyMixin(a,{namedEvents:this.prototype.namedEvents}),this.prototype.namedAttributes&&h.Mixins.applyMixin(a,{namedAttributes:this.prototype.namedAttributes}),this.prototype.ignoreUnknownAttributes&&h.Mixins.applyMixin(a,{ignoreUnknownAttributes:this.prototype.ignoreUnknownAttributes}),s&&t.each(r.mixins,function(t){h.Mixins.applyMixin(a,t)}),a.prototype.namedEvents&&h.Mixins.applyMixin(a,h.EventsMixinCreator.create(a.prototype.namedEvents)),a.prototype.namedAttributes&&(a.prototype.namedAttributes=n(a.prototype.namedAttributes),h.Mixins.applyMixin(a,h.AttributesMixinCreator.create(a.prototype.namedAttributes,a.prototype.idAttribute))),a.prototype.toJSON&&(a.prototype.toJSON=c(a.prototype.toJSON)),a.extend=i,a}}function f(e,n){var r=e.prototype,o=n.prototype,a=r.set;o.set=function(e,n,r){var o,s=this.namedAttributes;if(!s||null==e)return a.apply(this,arguments);t.isObject(e)?(o=t.clone(e),r=n):(o={},o[e]=n);for(var u in o)if(t.has(o,u)){if(!t.has(s,u)&&!this.ignoreUnknownAttributes)throw"Attribute '"+u+"' does not exist";o[u]=i(s[u],o[u])}return a.call(this,o,r)};var s=r.get;o.get=function(e){if(this.namedAttributes&&!t.has(this.namedAttributes,e)&&!this.ignoreUnknownAttributes)throw"Attribute '"+e+"' does not exist";return s.apply(this,arguments)}}function d(e,n){var i=e.prototype,r=n.prototype,o=i.parse;r.parse=function(e,n){return t.pick(o(e,n),t.keys(this.namedAttributes))}}function l(t){var e=t.extend(),n=t.extend;return e.extend=p(n),e}function y(t){var e=l(t);return f(t,e),d(t,e),e}var h={};h.Mixins={createMethodName:function(t,e){return t+e.charAt(0).toUpperCase()+e.substr(1)},applyMixin:function(e,i){t.forEach(t.keys(i),function(r){var o=e.prototype;if("initialize"===r){var s=o.initialize;return void(o.initialize=function(){s&&s.apply(this,arguments),i.initialize.apply(this,arguments)})}if("validate"===r){var u=o.validate;return void(o.validate=function(){if(u){var t=u.apply(this,arguments);if(t)return t}return i.validate.apply(this,arguments)})}if("defaults"!==r){if("namedAttributes"===r){var c=n(o.namedAttributes)||{},p=n(i[r]);return void(o.namedAttributes=t.extend(c,a(p,c)))}if("namedEvents"===r){if(!t.isArray(i[r]))throw"Expects events member on mixin to be an array";return o.namedEvents||(o.namedEvents=[]),void(o.namedEvents=t.uniq(o.namedEvents.concat(i[r])))}if("ignoreUnknownAttributes"===r)return void(o.hasOwnProperty(r)||(o.ignoreUnknownAttributes=i[r]||!1));if(o.hasOwnProperty(r))throw"Mixin error: class already has property '"+r+"' defined";o[r]=i[r]}else{var f=o.defaults||(o.defaults={}),d=i[r];for(var l in d){if(f.hasOwnProperty(l))throw"Mixin error: class already has default '"+l+"' defined";f[l]=d[l]}}},this)}},h.AttributesMixinCreator={create:function(e,n){var i={};if(e||(e={}),t.has(e,"id")||(e.id=null),t.each(e,function(t,e){var n=h.Mixins.createMethodName("set",e);i[n]=function(t,n){return this.set(e,t,n)};var r=h.Mixins.createMethodName("get",e);i[r]=function(){return this.get(e)}}),"string"==typeof n&&"undefined"!=typeof e[n]&&"id"!==n){e.id=e[n];var r=h.Mixins.createMethodName("get",n),o=h.Mixins.createMethodName("set",n);i.getId=function(){return this[r]()},i.setId=function(t,e){return this[o](t,e)}}return i},ensureType:i},h.EventsMixinCreator={create:function(e){var n={},i=function(e){var i=h.Mixins.createMethodName("on",e);n[i]=function(){return this.on.apply(this,[e].concat(t.toArray(arguments)))};var r=h.Mixins.createMethodName("trigger",e);n[r]=function(){return this.trigger.apply(this,[e].concat(t.toArray(arguments)))}};return t.each(e,t.bind(i,this)),n}},h.Model=y(e.Model),h.Collection=l(e.Collection),h.View=l(e.View),h.Router=l(e.Router);var v=function(){this.initialize.apply(this,arguments)};return t.extend(v.prototype,e.Events,{initialize:function(){}}),v.extend=e.Model.extend,h.Evented=l(v),h})});;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-common-jsd-entry-chunk', location = 'common-jsd-entry-chunk.bundle.js' */
!function(e){function r(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,r),c.l=!0,c.exports}var a=window.sdJsonp;window.sdJsonp=function(t,i,d){for(var n,o,s,f=0,b=[];f<t.length;f++){if(o=t[f],c[o])b.push(c[o][0]);c[o]=0}for(n in i)if(Object.prototype.hasOwnProperty.call(i,n))e[n]=i[n];if(a)a(t,i,d);for(;b.length;)b.shift()();if(d)for(f=0;f<d.length;f++)s=r(r.s=d[f]);return s};var t={},c={35:0};r.e=function(e){function a(){d.onerror=d.onload=null,clearTimeout(n);var r=c[e];if(0!==r){if(r)r[1](new Error("Loading chunk "+e+" failed."));c[e]=void 0}}if(0===c[e])return Promise.resolve();if(c[e])return c[e][2];var t=new Promise(function(r,a){c[e]=[r,a]});c[e][2]=t;var i=document.getElementsByTagName("head")[0],d=document.createElement("script");if(d.type="text/javascript",d.charset="utf-8",d.async=!0,d.timeout=12e4,r.nc)d.setAttribute("nonce",r.nc);d.src=r.p+"context-"+({0:"sd.agent.reports.workload",1:"sd.agent.reports.sla",2:"sd.project.reports",3:"jira.view.issue",4:"sd.project.admin",5:"sd.project.admin.registry",6:"sd.project.settings.automation.modules",7:"sd.project.view",8:"atl.dashboard",9:"atl.general",10:"jira.heritage.form.dialog",11:"sd.project.sidebar.content",12:"sd.project.legacy.issue.view",13:"sd.project.settings.request.forms.workflow.bridge",14:"jira.workflow.view",15:"jira.admin.conf",16:"jira.create.issue",17:"sd.project.queues.legacy.issue.view.bridge",18:"jira.view.issue.asset.unlicensed",19:"jira.heritage.form.dialog.asset.unlicensed",20:"sd.project.report.legacy.issue.view.bridge",21:"sd.project.view.registry",22:"sd.project.config.checker.bridge",23:"sd.admin.email.requests",24:"jira.create.issue.asset.unlicensed",25:"atl.general.asset.unlicensed",26:"cmdb.field.list.view",27:"sd.request.type.field",28:"sd.project.queues.bridge",29:"jql.field.renderer.bridge",30:"cmdb.field.jsw.board.view",31:"jira.heritage.sd.sidebar.integration",32:"jql.editor.bridge",33:"sd.agent.unlicensed",34:"asset.tracking.field.config"}[e]||e)+"-"+{0:"605c1d1cbf51cf49c9df",1:"07cd3c8cbab2c1db1537",2:"5945c4ae265c6d7b84e8",3:"e1485b468b99b36888f0",4:"bf948821ef5df2c19396",5:"2630a3fc5748a667a2cd",6:"97d7e92c752f7ddca9a6",7:"5b1678f6c6d553553284",8:"b57ada28345f766919c5",9:"21d2389e75176e496149",10:"b524492987e7f75935f2",11:"6e4c6ae1e49ee35ec966",12:"85d1c784cf7f66488234",13:"ae22a847d741ec203aac",14:"c2ba0f42eafe4ab06e01",15:"09bc461527e36008bab6",16:"22deae681baff06afeab",17:"d895a03fe1f956949fc4",18:"66b5f50e994b6ce49598",19:"02da4137976deb18518d",20:"b4eba66ee021c9f425b1",21:"a01da566a19aee8943e9",22:"ee0e30874f5f800d54bf",23:"ada291568a6206c6caa3",24:"aef89c475a58a10140ed",25:"8a3bfb59db689e4e7196",26:"9e3c3235592a5bb6bf58",27:"8aadff9615b7df5116e4",28:"6e9c94e7bc2204cbea7b",29:"344f8dbc36e3dfd40757",30:"2be106b6a49101000cf6",31:"ccd6e5af6ae37e279255",32:"4df3acb8808efb6a6be4",33:"448891a7cc544787e879",34:"e0ff7505615bdf5013dd"}[e]+".js?locale=" + __webpack_public_path_locale__;var n=setTimeout(a,12e4);return d.onerror=d.onload=a,i.appendChild(d),t},r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,a,t){if(!r.o(e,a))Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r.oe=function(e){throw console.error(e),e}}([]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:context-jira.create.issue.asset.unlicensed', location = 'jira.create.issue.asset.unlicensed.bundle.js' */
sdJsonp([24],{0:function(n,t,e){var r,i;r=[e(17)],void 0!==(i=function(n){return n}.apply(t,r))&&(n.exports=i)},1:function(n,t,e){var r;void 0!==(r=function(){return jQuery}.call(t,e,t,n))&&(n.exports=r)},10:function(n,t,e){var r,i;r=[e(0),e(1),e(22)],void 0!==(i=function(n,t,e){return e(n,t)}.apply(t,r))&&(n.exports=i)},11:function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){if("object"==typeof window)e=window}n.exports=e},13:function(n,t,e){var r,i;if(void 0===o)var o={};if(o.table=function(n,t){return"<table"+(n.id?' id="'+soy.$$escapeHtml(n.id)+'"':"")+' class="aui'+o.renderExtraClasses(n)+'"'+o.renderExtraAttributes(n)+">"+(n.columnsContent?soy.$$filterNoAutoescape(n.columnsContent):"")+(n.captionContent?"<caption>"+soy.$$filterNoAutoescape(n.captionContent)+"</caption>":"")+(n.theadContent?"<thead>"+soy.$$filterNoAutoescape(n.theadContent)+"</thead>":"")+(n.tfootContent?"<tfoot>"+soy.$$filterNoAutoescape(n.tfootContent)+"</tfoot>":"")+(!n.contentIncludesTbody?"<tbody>":"")+soy.$$filterNoAutoescape(n.content)+(!n.contentIncludesTbody?"</tbody>":"")+"</table>"},goog.DEBUG)o.table.soyTemplateName="aui.table";r=[],void 0!==(i=function(){return o}.apply(t,r))&&(n.exports=i)},14:function(n,t,e){(function(t,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */
!function(t,e){!0?n.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function n(n){return"function"==typeof n||"object"==typeof n&&null!==n}function i(n){return"function"==typeof n}function o(n){Y=n}function u(n){V=n}function s(){return function(){return t.nextTick(p)}}function a(){if(void 0!==Q)return function(){Q(p)};else return l()}function c(){var n=0,t=new Z(p),e=document.createTextNode("");return t.observe(e,{characterData:!0}),function(){e.data=n=++n%2}}function f(){var n=new MessageChannel;return n.port1.onmessage=p,function(){return n.port2.postMessage(0)}}function l(){var n=setTimeout;return function(){return n(p,1)}}function p(){for(var n=0;n<J;n+=2){(0,en[n])(en[n+1]),en[n]=void 0,en[n+1]=void 0}J=0}function h(){try{var n=e(16);return Q=n.runOnLoop||n.runOnContext,a()}catch(n){return l()}}function v(n,t){var e=arguments,r=this,i=new this.constructor(y);if(void 0===i[on])z(i);var o=r._state;if(o)!function(){var n=e[o-1];V(function(){return O(o,i,n,r._result)})}();else $(r,i,n,t);return i}function d(n){var t=this;if(n&&"object"==typeof n&&n.constructor===t)return n;var e=new t(y);return j(e,n),e}function y(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function b(n){try{return n.then}catch(n){return cn.error=n,cn}}function w(n,t,e,r){try{n.call(t,e,r)}catch(n){return n}}function _(n,t,e){V(function(n){var r=!1,i=w(e,t,function(e){if(!r)if(r=!0,t!==e)j(n,e);else k(n,e)},function(t){if(!r)r=!0,S(n,t)},"Settle: "+(n._label||" unknown promise"));if(!r&&i)r=!0,S(n,i)},n)}function x(n,t){if(t._state===sn)k(n,t._result);else if(t._state===an)S(n,t._result);else $(t,void 0,function(t){return j(n,t)},function(t){return S(n,t)})}function A(n,t,e){if(t.constructor===n.constructor&&e===v&&t.constructor.resolve===d)x(n,t);else if(e===cn)S(n,cn.error),cn.error=null;else if(void 0===e)k(n,t);else if(i(e))_(n,t,e);else k(n,t)}function j(t,e){if(t===e)S(t,m());else if(n(e))A(t,e,b(e));else k(t,e)}function T(n){if(n._onerror)n._onerror(n._result);E(n)}function k(n,t){if(n._state===un)if(n._result=t,n._state=sn,0!==n._subscribers.length)V(E,n)}function S(n,t){if(n._state===un)n._state=an,n._result=t,V(T,n)}function $(n,t,e,r){var i=n._subscribers,o=i.length;if(n._onerror=null,i[o]=t,i[o+sn]=e,i[o+an]=r,0===o&&n._state)V(E,n)}function E(n){var t=n._subscribers,e=n._state;if(0!==t.length){for(var r=void 0,i=void 0,o=n._result,u=0;u<t.length;u+=3)if(r=t[u],i=t[u+e],r)O(e,r,i,o);else i(o);n._subscribers.length=0}}function C(){this.error=null}function F(n,t){try{return n(t)}catch(n){return fn.error=n,fn}}function O(n,t,e,r){var o=i(e),u=void 0,s=void 0,a=void 0,c=void 0;if(o){if((u=F(e,r))===fn)c=!0,s=u.error,u.error=null;else a=!0;if(t===u)return void S(t,g())}else u=r,a=!0;if(t._state!==un);else if(o&&a)j(t,u);else if(c)S(t,s);else if(n===sn)k(t,u);else if(n===an)S(t,u)}function I(n,t){try{t(function(t){j(n,t)},function(t){S(n,t)})}catch(t){S(n,t)}}function D(){return ln++}function z(n){n[on]=ln++,n._state=void 0,n._result=void 0,n._subscribers=[]}function N(n,t){if(this._instanceConstructor=n,this.promise=new n(y),!this.promise[on])z(this.promise);if(G(t)){if(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length)k(this.promise,this._result);else if(this.length=this.length||0,this._enumerate(),0===this._remaining)k(this.promise,this._result)}else S(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function B(n){return new N(this,n).promise}function L(n){var t=this;if(!G(n))return new t(function(n,t){return t(new TypeError("You must pass an array to race."))});else return new t(function(e,r){for(var i=n.length,o=0;o<i;o++)t.resolve(n[o]).then(e,r)})}function q(n){var t=this,e=new t(y);return S(e,n),e}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(n){if(this[on]=D(),this._result=this._state=void 0,this._subscribers=[],y!==n)"function"!=typeof n&&H(),this instanceof R?I(this,n):P()}function U(){var n=void 0;if(void 0!==r)n=r;else if("undefined"!=typeof self)n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=n.Promise;if(t){var e=null;try{e=Object.prototype.toString.call(t.resolve())}catch(n){}if("[object Promise]"===e&&!t.cast)return}n.Promise=R}var K=void 0;if(!Array.isArray)K=function(n){return"[object Array]"===Object.prototype.toString.call(n)};else K=Array.isArray;var G=K,J=0,Q=void 0,Y=void 0,V=function(n,t){if(en[J]=n,en[J+1]=t,2===(J+=2))if(Y)Y(p);else rn()},W="undefined"!=typeof window?window:void 0,X=W||{},Z=X.MutationObserver||X.WebKitMutationObserver,nn="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),tn="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,en=new Array(1e3),rn=void 0;if(nn)rn=s();else if(Z)rn=c();else if(tn)rn=f();else if(void 0===W)rn=h();else rn=l();var on=Math.random().toString(36).substring(16),un=void 0,sn=1,an=2,cn=new C,fn=new C,ln=0;return N.prototype._enumerate=function(){for(var n=this.length,t=this._input,e=0;this._state===un&&e<n;e++)this._eachEntry(t[e],e)},N.prototype._eachEntry=function(n,t){var e=this._instanceConstructor,r=e.resolve;if(r===d){var i=b(n);if(i===v&&n._state!==un)this._settledAt(n._state,t,n._result);else if("function"!=typeof i)this._remaining--,this._result[t]=n;else if(e===R){var o=new e(y);A(o,n,i),this._willSettleAt(o,t)}else this._willSettleAt(new e(function(t){return t(n)}),t)}else this._willSettleAt(r(n),t)},N.prototype._settledAt=function(n,t,e){var r=this.promise;if(r._state===un)if(this._remaining--,n===an)S(r,e);else this._result[t]=e;if(0===this._remaining)k(r,this._result)},N.prototype._willSettleAt=function(n,t){var e=this;$(n,void 0,function(n){return e._settledAt(sn,t,n)},function(n){return e._settledAt(an,t,n)})},R.all=B,R.race=L,R.resolve=d,R.reject=q,R._setScheduler=o,R._setAsap=u,R._asap=V,R.prototype={constructor:R,then:v,catch:function(n){return this.then(null,n)}},R.polyfill=U,R.Promise=R,R})}).call(t,e(15),e(11))},144:function(n,t,e){var r,i;if("undefined"==typeof ServiceDesk)window.ServiceDesk={};if(void 0===ServiceDesk.Templates)ServiceDesk.Templates={};if(void 0===ServiceDesk.Templates.Components)ServiceDesk.Templates.Components={};if(void 0===ServiceDesk.Templates.Components.Assets)ServiceDesk.Templates.Components.Assets={};if(void 0===ServiceDesk.Templates.Components.Assets.Field)ServiceDesk.Templates.Components.Assets.Field={};if(ServiceDesk.Templates.Components.Assets.Field.assetLozenge=function(n,t){return'<li class="sd-asset-lozenge" title="'+soy.$$escapeHtml(n.asset.label.value)+'"><span class="sd-asset" title="'+soy.$$escapeHtml(n.asset.label.value)+'">'+("Unknown Asset"==n.asset.label.value?'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml("Unknown Asset")+"&nbsp;</span>"+aui.icons.icon({useIconFont:!0,icon:"warning",extraClasses:"aui-iconfont-warning"}):'<span class="sd-asset-value">&nbsp;'+soy.$$escapeHtml(n.asset.label.value)+"</span>")+'</span><button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG)ServiceDesk.Templates.Components.Assets.Field.assetLozenge.soyTemplateName="ServiceDesk.Templates.Components.Assets.Field.assetLozenge";r=[e(40)],void 0!==(i=function(){return ServiceDesk.Templates.Components.Assets.Field}.apply(t,r))&&(n.exports=i)},15:function(n,t){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(n){if(f===setTimeout)return setTimeout(n,0);if((f===e||!f)&&setTimeout)return f=setTimeout,setTimeout(n,0);try{return f(n,0)}catch(t){try{return f.call(null,n,0)}catch(t){return f.call(this,n,0)}}}function o(n){if(l===clearTimeout)return clearTimeout(n);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(n);try{return l(n)}catch(t){try{return l.call(null,n)}catch(t){return l.call(this,n)}}}function u(){if(d&&h){if(d=!1,h.length)v=h.concat(v);else y=-1;if(v.length)s()}}function s(){if(!d){var n=i(u);d=!0;for(var t=v.length;t;){for(h=v,v=[];++y<t;)if(h)h[y].run();y=-1,t=v.length}h=null,d=!1,o(n)}}function a(n,t){this.fun=n,this.array=t}function c(){}var f,l,p=n.exports={};!function(){try{if("function"==typeof setTimeout)f=setTimeout;else f=e}catch(n){f=e}try{if("function"==typeof clearTimeout)l=clearTimeout;else l=r}catch(n){l=r}}();var h,v=[],d=!1,y=-1;p.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(v.push(new a(n,t)),1===v.length&&!d)i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(n){return[]},p.binding=function(n){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(n){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},151:function(n,t,e){var r,i;r=[e(1),e(144),e(78)],void 0!==(i=function(n){var t=ServiceDesk.Templates.Components.Assets.Field.assetLozenge;return function(e){return n(t({asset:e}))}}.apply(t,r))&&(n.exports=i)},152:function(n,t,e){var r,i;r=[e(0),e(1),e(9),e(2),e(34),e(51),e(32),e(29),e(19),e(151),e(72),e(73),e(78)],void 0!==(i=function(n,t,e,r,i,o,u,s,a,c,f,l){var p=o.extend({keys:{Up:function(){return this.keys.Left.apply(this,arguments)},Down:function(){return this.keys.Right.apply(this,arguments)}}}),h=i.extend({init:function(n,t){var e=this;l(n.properties.value,function(n){e.$lozenge=c(n),e._assignEvents("instance",e)._assignEvents("removeButton",e.$lozenge.find(".js-remove")),t(e.$lozenge)})},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),v=u.extend({init:function(){this._super.apply(this,arguments),this.$container.addClass("sd-asset-field")},_getTypeOriginAsSerializedType:function(n){return encodeURIComponent((n.appKey+"/"+n.originId).toLowerCase())},_getAssetFieldConfigQueryParamsAsString:function(n,t){var e=this,r="";if(""!==t)r+="prioritizedAssignee="+t+"&";return n.types.forEach(function(n){r+="type="+e._getTypeOriginAsSerializedType(n)+"&"}),r.slice(0,-1)},_getDefaultOptions:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=t(e[0].element).data().assetFieldConfig,o=t(e[0].element).data().assetFieldReporterAccountId,u="";if(i)u=this._getAssetFieldConfigQueryParamsAsString(i,o);return t.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new p,itemAttrDisplayed:"label",errorMessage:!1,matchingStrategy:".*",itemBuilder:function(n){var t=this;return new h(n,function(n){n.appendTo(t.$selectedItemsContainer),t.updateItemsIndent()})},ajaxOptions:{url:AJS.contextPath()+"/rest/assetapi/asset/search?"+u,query:!0,formatResponse:this._formatResponse,headers:{"X-B3-Sampled":"1"}}})},_formatResponse:function(t){return n.map(t.values,function(n){return new s(f(n))})},updateItemsIndent:function(){var n=5,e=this.$selectedItemsContainer.outerHeight()+n+n;if(this.$field.css({paddingLeft:n,paddingTop:e,height:e+20+n}),t.browser.msie&&parseInt(t.browser.version,10)<11)this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,""))},keys:{Up:function(){var t=this;if(!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0)n.defer(n.bind(function(){t.lozengeGroup.shiftFocus(-1)},this))}}});return a("js-request-asset-field",{created:function(n){n.field=new v({element:n})}})}.apply(t,r))&&(n.exports=i)},16:function(n,t){},17:function(n,t,e){var r,i;(function(){function e(n){function t(t,e,r,i,o,u){for(;o>=0&&o<u;o+=n){var s=i?i[o]:o;r=e(r,t[s],s,t)}return r}return function(e,r,i,o){r=A(r,o,4);var u=!C(e)&&x.keys(e),s=(u||e).length,a=n>0?0:s-1;if(arguments.length<3)i=e[u?u[a]:a],a+=n;return t(e,r,i,u,a,s)}}function o(n){return function(t,e,r){e=j(e,r);for(var i=E(t),o=n>0?0:i-1;o>=0&&o<i;o+=n)if(e(t[o],o,t))return o;return-1}}function u(n,t,e){return function(r,i,o){var u=0,s=E(r);if("number"==typeof o)if(n>0)u=o>=0?o:Math.max(o+s,u);else s=o>=0?Math.min(o+1,s):o+s+1;else if(e&&o&&s)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=t(v.call(r,u,s),x.isNaN),o>=0?o+u:-1;for(o=n>0?u:s-1;o>=0&&o<s;o+=n)if(r[o]===i)return o;return-1}}function s(n,t){var e=z.length,r=n.constructor,i=x.isFunction(r)&&r.prototype||l,o="constructor";if(x.has(n,o)&&!x.contains(t,o))t.push(o);for(;e--;)if((o=z[e])in n&&n[o]!==i[o]&&!x.contains(t,o))t.push(o)}var a=this,c=a._,f=Array.prototype,l=Object.prototype,p=Function.prototype,h=f.push,v=f.slice,d=l.toString,y=l.hasOwnProperty,m=Array.isArray,g=Object.keys,b=p.bind,w=Object.create,_=function(){},x=function(n){if(n instanceof x)return n;if(!(this instanceof x))return new x(n);else return void(this._wrapped=n)};if(!0){if(void 0!==n&&n.exports)t=n.exports=x;t._=x}else a._=x;x.VERSION="1.8.3";var A=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,o){return n.call(t,e,r,i,o)}}return function(){return n.apply(t,arguments)}},j=function(n,t,e){if(null==n)return x.identity;if(x.isFunction(n))return A(n,t,e);if(x.isObject(n))return x.matcher(n);else return x.property(n)};x.iteratee=function(n,t){return j(n,t,1/0)};var T=function(n,t){return function(e){var r=arguments.length;if(r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],u=n(o),s=u.length,a=0;a<s;a++){var c=u[a];if(!t||void 0===e[c])e[c]=o[c]}return e}},k=function(n){if(!x.isObject(n))return{};if(w)return w(n);_.prototype=n;var t=new _;return _.prototype=null,t},S=function(n){return function(t){return null==t?void 0:t[n]}},$=Math.pow(2,53)-1,E=S("length"),C=function(n){var t=E(n);return"number"==typeof t&&t>=0&&t<=$};x.each=x.forEach=function(n,t,e){t=A(t,e);var r,i;if(C(n))for(r=0,i=n.length;r<i;r++)t(n[r],r,n);else{var o=x.keys(n);for(r=0,i=o.length;r<i;r++)t(n[o[r]],o[r],n)}return n},x.map=x.collect=function(n,t,e){t=j(t,e);for(var r=!C(n)&&x.keys(n),i=(r||n).length,o=Array(i),u=0;u<i;u++){var s=r?r[u]:u;o[u]=t(n[s],s,n)}return o},x.reduce=x.foldl=x.inject=e(1),x.reduceRight=x.foldr=e(-1),x.find=x.detect=function(n,t,e){var r;if(C(n))r=x.findIndex(n,t,e);else r=x.findKey(n,t,e);if(void 0!==r&&-1!==r)return n[r]},x.filter=x.select=function(n,t,e){var r=[];return t=j(t,e),x.each(n,function(n,e,i){if(t(n,e,i))r.push(n)}),r},x.reject=function(n,t,e){return x.filter(n,x.negate(j(t)),e)},x.every=x.all=function(n,t,e){t=j(t,e);for(var r=!C(n)&&x.keys(n),i=(r||n).length,o=0;o<i;o++){var u=r?r[o]:o;if(!t(n[u],u,n))return!1}return!0},x.some=x.any=function(n,t,e){t=j(t,e);for(var r=!C(n)&&x.keys(n),i=(r||n).length,o=0;o<i;o++){var u=r?r[o]:o;if(t(n[u],u,n))return!0}return!1},x.contains=x.includes=x.include=function(n,t,e,r){if(!C(n))n=x.values(n);if("number"!=typeof e||r)e=0;return x.indexOf(n,t,e)>=0},x.invoke=function(n,t){var e=v.call(arguments,2),r=x.isFunction(t);return x.map(n,function(n){var i=r?t:n[t];return null==i?i:i.apply(n,e)})},x.pluck=function(n,t){return x.map(n,x.property(t))},x.where=function(n,t){return x.filter(n,x.matcher(t))},x.findWhere=function(n,t){return x.find(n,x.matcher(t))},x.max=function(n,t,e){var r,i,o=-1/0,u=-1/0;if(null==t&&null!=n){n=C(n)?n:x.values(n);for(var s=0,a=n.length;s<a;s++)if((r=n[s])>o)o=r}else t=j(t,e),x.each(n,function(n,e,r){if((i=t(n,e,r))>u||i===-1/0&&o===-1/0)o=n,u=i});return o},x.min=function(n,t,e){var r,i,o=1/0,u=1/0;if(null==t&&null!=n){n=C(n)?n:x.values(n);for(var s=0,a=n.length;s<a;s++)if((r=n[s])<o)o=r}else t=j(t,e),x.each(n,function(n,e,r){if((i=t(n,e,r))<u||i===1/0&&o===1/0)o=n,u=i});return o},x.shuffle=function(n){for(var t,e=C(n)?n:x.values(n),r=e.length,i=Array(r),o=0;o<r;o++){if((t=x.random(0,o))!==o)i[o]=i[t];i[t]=e[o]}return i},x.sample=function(n,t,e){if(null==t||e){if(!C(n))n=x.values(n);return n[x.random(n.length-1)]}return x.shuffle(n).slice(0,Math.max(0,t))},x.sortBy=function(n,t,e){return t=j(t,e),x.pluck(x.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,e,r){var i={};return e=j(e,r),x.each(t,function(r,o){var u=e(r,o,t);n(i,r,u)}),i}};x.groupBy=F(function(n,t,e){if(x.has(n,e))n[e].push(t);else n[e]=[t]}),x.indexBy=F(function(n,t,e){n[e]=t}),x.countBy=F(function(n,t,e){if(x.has(n,e))n[e]++;else n[e]=1}),x.toArray=function(n){if(!n)return[];if(x.isArray(n))return v.call(n);if(C(n))return x.map(n,x.identity);else return x.values(n)},x.size=function(n){if(null==n)return 0;else return C(n)?n.length:x.keys(n).length},x.partition=function(n,t,e){t=j(t,e);var r=[],i=[];return x.each(n,function(n,e,o){(t(n,e,o)?r:i).push(n)}),[r,i]},x.first=x.head=x.take=function(n,t,e){if(null!=n)if(null==t||e)return n[0];else return x.initial(n,n.length-t)},x.initial=function(n,t,e){return v.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},x.last=function(n,t,e){if(null!=n)if(null==t||e)return n[n.length-1];else return x.rest(n,Math.max(0,n.length-t))},x.rest=x.tail=x.drop=function(n,t,e){return v.call(n,null==t||e?1:t)},x.compact=function(n){return x.filter(n,x.identity)};var O=function(n,t,e,r){for(var i=[],o=0,u=r||0,s=E(n);u<s;u++){var a=n[u];if(C(a)&&(x.isArray(a)||x.isArguments(a))){if(!t)a=O(a,t,e);var c=0,f=a.length;for(i.length+=f;c<f;)i[o++]=a[c++]}else if(!e)i[o++]=a}return i};x.flatten=function(n,t){return O(n,t,!1)},x.without=function(n){return x.difference(n,v.call(arguments,1))},x.uniq=x.unique=function(n,t,e,r){if(!x.isBoolean(t))r=e,e=t,t=!1;if(null!=e)e=j(e,r);for(var i=[],o=[],u=0,s=E(n);u<s;u++){var a=n[u],c=e?e(a,u,n):a;if(t){if(!u||o!==c)i.push(a);o=c}else if(e){if(!x.contains(o,c))o.push(c),i.push(a)}else if(!x.contains(i,a))i.push(a)}return i},x.union=function(){return x.uniq(O(arguments,!0,!0))},x.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=E(n);r<i;r++){var o=n[r];if(!x.contains(t,o)){for(var u=1;u<e&&x.contains(arguments[u],o);u++);if(u===e)t.push(o)}}return t},x.difference=function(n){var t=O(arguments,!0,!0,1);return x.filter(n,function(n){return!x.contains(t,n)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(n){for(var t=n&&x.max(n,E).length||0,e=Array(t),r=0;r<t;r++)e[r]=x.pluck(n,r);return e},x.object=function(n,t){for(var e={},r=0,i=E(n);r<i;r++)if(t)e[n[r]]=t[r];else e[n[r][0]]=n[r][1];return e},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(n,t,e,r){e=j(e,r,1);for(var i=e(t),o=0,u=E(n);o<u;){var s=Math.floor((o+u)/2);if(e(n[s])<i)o=s+1;else u=s}return o},x.indexOf=u(1,x.findIndex,x.sortedIndex),x.lastIndexOf=u(-1,x.findLastIndex),x.range=function(n,t,e){if(null==t)t=n||0,n=0;e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),o=0;o<r;o++,n+=e)i[o]=n;return i};var I=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var o=k(n.prototype),u=n.apply(o,i);if(x.isObject(u))return u;else return o};x.bind=function(n,t){if(b&&n.bind===b)return b.apply(n,v.call(arguments,1));if(!x.isFunction(n))throw new TypeError("Bind must be called on a function");var e=v.call(arguments,2),r=function(){return I(n,r,t,this,e.concat(v.call(arguments)))};return r},x.partial=function(n){var t=v.call(arguments,1),e=function(){for(var r=0,i=t.length,o=Array(i),u=0;u<i;u++)o[u]=t[u]===x?arguments[r++]:t[u];for(;r<arguments.length;)o.push(arguments[r++]);return I(n,e,this,this,o)};return e},x.bindAll=function(n){var t,e,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e=arguments[t],n[e]=x.bind(n[e],n);return n},x.memoize=function(n,t){var e=function(r){var i=e.cache,o=""+(t?t.apply(this,arguments):r);if(!x.has(i,o))i[o]=n.apply(this,arguments);return i[o]};return e.cache={},e},x.delay=function(n,t){var e=v.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(n,t,e){var r,i,o,u=null,s=0;if(!e)e={};var a=function(){if(s=!1===e.leading?0:x.now(),u=null,o=n.apply(r,i),!u)r=i=null};return function(){var c=x.now();if(!s&&!1===e.leading)s=c;var f=t-(c-s);if(r=this,i=arguments,f<=0||f>t){if(u)clearTimeout(u),u=null;if(s=c,o=n.apply(r,i),!u)r=i=null}else if(!u&&!1!==e.trailing)u=setTimeout(a,f);return o}},x.debounce=function(n,t,e){var r,i,o,u,s,a=function(){var c=x.now()-u;if(c<t&&c>=0)r=setTimeout(a,t-c);else if(r=null,!e)if(s=n.apply(o,i),!r)o=i=null};return function(){o=this,i=arguments,u=x.now();var c=e&&!r;if(!r)r=setTimeout(a,t);if(c)s=n.apply(o,i),o=i=null;return s}},x.wrap=function(n,t){return x.partial(t,n)},x.negate=function(n){return function(){return!n.apply(this,arguments)}},x.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},x.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},x.before=function(n,t){var e;return function(){if(--n>0)e=t.apply(this,arguments);if(n<=1)t=null;return e}},x.once=x.partial(x.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(n){if(!x.isObject(n))return[];if(g)return g(n);var t=[];for(var e in n)if(x.has(n,e))t.push(e);if(D)s(n,t);return t},x.allKeys=function(n){if(!x.isObject(n))return[];var t=[];for(var e in n)t.push(e);if(D)s(n,t);return t},x.values=function(n){for(var t=x.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=n[t[i]];return r},x.mapObject=function(n,t,e){t=j(t,e);for(var r,i=x.keys(n),o=i.length,u={},s=0;s<o;s++)r=i[s],u[r]=t(n[r],r,n);return u},x.pairs=function(n){for(var t=x.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=[t[i],n[t[i]]];return r},x.invert=function(n){for(var t={},e=x.keys(n),r=0,i=e.length;r<i;r++)t[n[e[r]]]=e[r];return t},x.functions=x.methods=function(n){var t=[];for(var e in n)if(x.isFunction(n[e]))t.push(e);return t.sort()},x.extend=T(x.allKeys),x.extendOwn=x.assign=T(x.keys),x.findKey=function(n,t,e){t=j(t,e);for(var r,i=x.keys(n),o=0,u=i.length;o<u;o++)if(r=i[o],t(n[r],r,n))return r},x.pick=function(n,t,e){var r,i,o={},u=n;if(null==u)return o;if(x.isFunction(t))i=x.allKeys(u),r=A(t,e);else i=O(arguments,!1,!1,1),r=function(n,t,e){return t in e},u=Object(u);for(var s=0,a=i.length;s<a;s++){var c=i[s],f=u[c];if(r(f,c,u))o[c]=f}return o},x.omit=function(n,t,e){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(O(arguments,!1,!1,1),String);t=function(n,t){return!x.contains(r,t)}}return x.pick(n,t,e)},x.defaults=T(x.allKeys,!0),x.create=function(n,t){var e=k(n);if(t)x.extendOwn(e,t);return e},x.clone=function(n){if(!x.isObject(n))return n;else return x.isArray(n)?n.slice():x.extend({},n)},x.tap=function(n,t){return t(n),n},x.isMatch=function(n,t){var e=x.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),o=0;o<r;o++){var u=e[o];if(t[u]!==i[u]||!(u in i))return!1}return!0};var N=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;if(n instanceof x)n=n._wrapped;if(t instanceof x)t=t._wrapped;var i=d.call(n);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":if(+n!=+n)return+t!=+t;else return 0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var u=n.constructor,s=t.constructor;if(u!==s&&!(x.isFunction(u)&&u instanceof u&&x.isFunction(s)&&s instanceof s)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var a=e.length;a--;)if(e[a]===n)return r[a]===t;if(e.push(n),r.push(t),o){if((a=n.length)!==t.length)return!1;for(;a--;)if(!N(n[a],t[a],e,r))return!1}else{var c,f=x.keys(n);if(a=f.length,x.keys(t).length!==a)return!1;for(;a--;)if(c=f[a],!x.has(t,c)||!N(n[c],t[c],e,r))return!1}return e.pop(),r.pop(),!0};if(x.isEqual=function(n,t){return N(n,t)},x.isEmpty=function(n){if(null==n)return!0;if(C(n)&&(x.isArray(n)||x.isString(n)||x.isArguments(n)))return 0===n.length;else return 0===x.keys(n).length},x.isElement=function(n){return!(!n||1!==n.nodeType)},x.isArray=m||function(n){return"[object Array]"===d.call(n)},x.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){x["is"+n]=function(t){return d.call(t)==="[object "+n+"]"}}),!x.isArguments(arguments))x.isArguments=function(n){return x.has(n,"callee")};if("function"!=typeof/./&&"object"!=typeof Int8Array)x.isFunction=function(n){return"function"==typeof n||!1};x.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},x.isNaN=function(n){return x.isNumber(n)&&n!==+n},x.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===d.call(n)},x.isNull=function(n){return null===n},x.isUndefined=function(n){return void 0===n},x.has=function(n,t){return null!=n&&y.call(n,t)},x.noConflict=function(){return a._=c,this},x.identity=function(n){return n},x.constant=function(n){return function(){return n}},x.noop=function(){},x.property=S,x.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},x.matcher=x.matches=function(n){return n=x.extendOwn({},n),function(t){return x.isMatch(t,n)}},x.times=function(n,t,e){var r=Array(Math.max(0,n));t=A(t,e,1);for(var i=0;i<n;i++)r[i]=t(i);return r},x.random=function(n,t){if(null==t)t=n,n=0;return n+Math.floor(Math.random()*(t-n+1))},x.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=x.invert(M),L=function(n){var t=function(t){return n[t]},e="(?:"+x.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}};x.escape=L(M),x.unescape=L(B),x.result=function(n,t,e){var r=null==n?void 0:n[t];if(void 0===r)r=e;return x.isFunction(r)?r.call(n):r};var q=0;x.uniqueId=function(n){var t=++q+"";return n?n+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,U=function(n){return"\\"+P[n]},K=/^\s*(\w|\$)+\s*$/;x.template=function(n,t,e){if(!t&&e)t=e;t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";n.replace(r,function(t,e,r,u,s){if(o+=n.slice(i,s).replace(R,U),i=s+t.length,e)o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'";else if(r)o+="'+\n((__t=("+r+"))==null?'':__t)+\n'";else if(u)o+="';\n"+u+"\n__p+='";return t}),o+="';\n";var u=t.variable;if(u){if(!K.test(u))throw new Error(u)}else o="with(obj||{}){\n"+o+"}\n",u="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(u,"_",o)}catch(n){throw n.source=o,n}var a=function(n){return s.call(this,n,x)};return a.source="function("+u+"){\n"+o+"}",a},x.chain=function(n){var t=x(n);return t._chain=!0,t};var G=function(n,t){return n._chain?x(t).chain():t};if(x.mixin=function(n){x.each(x.functions(n),function(t){var e=x[t]=n[t];x.prototype[t]=function(){var n=[this._wrapped];return h.apply(n,arguments),G(this,e.apply(x,n))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=f[n];x.prototype[n]=function(){var e=this._wrapped;if(t.apply(e,arguments),("shift"===n||"splice"===n)&&0===e.length)delete e[0];return G(this,e)}}),x.each(["concat","join","slice"],function(n){var t=f[n];x.prototype[n]=function(){return G(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},!0)r=[],void 0!==(i=function(){return x}.apply(t,r))&&(n.exports=i)}).call(this)},19:function(n,t,e){var r,i;r=[e(0),e(9)],void 0!==(i=function(n,t){var e=void 0;return function(){var r=this,i=n.toArray(arguments);return{install:n.once(function(){try{e=t.apply(r,i)}catch(n){console.log("Failed to install skate component, maybe it has already been installed")}return e})}}}.apply(t,r))&&(n.exports=i)},2:function(n,t,e){var r,i;r=[e(0),e(10),e(23)],void 0!==(i=function(n,t,e){var r=e(n,t);return r.Model.prototype.ignoreUnknownAttributes=!0,r}.apply(t,r))&&(n.exports=i)},22:function(n,t){n.exports=window.require("atlassian/libs/factories/backbone-1.0.0")},23:function(n,t){n.exports=window.require("atlassian/libs/factories/brace-1.1.0")},24:function(n,t){n.exports=window.require("atlassian/libs/skate-0.12.6")},29:function(n,t){n.exports=window.require("jira/ajs/list/item-descriptor")},32:function(n,t){n.exports=window.require("jira/ajs/select/multi-select")},34:function(n,t){n.exports=window.require("jira/ajs/control")},40:function(n,t,e){var r,i;if(void 0===o)var o={};if(void 0===o.icons)o.icons={};if(o.icons.icon=function(n,t){return"<"+soy.$$escapeHtml(n.tagName?n.tagName:"span")+(n.id?' id="'+soy.$$escapeHtml(n.id)+'"':"")+' class="aui-icon'+(n.useIconFont?" aui-icon-"+soy.$$escapeHtml(n.size?n.size:"small"):"")+" aui"+soy.$$escapeHtml(n.useIconFont?"-iconfont":"-icon")+soy.$$escapeHtml(n.iconFontSet?"-"+n.iconFontSet:"")+"-"+soy.$$escapeHtml(n.icon)+o.renderExtraClasses(n)+'"'+o.renderExtraAttributes(n)+">"+(n.accessibilityText?soy.$$escapeHtml(n.accessibilityText):"")+"</"+soy.$$escapeHtml(n.tagName?n.tagName:"span")+">"},goog.DEBUG)o.icons.icon.soyTemplateName="aui.icons.icon";r=[e(13)],void 0!==(i=function(){return o.icons}.apply(t,r))&&(n.exports=i)},484:function(n,t,e){!function(n,t){n(function(){t.install()})}(e(1),e(152))},51:function(n,t){n.exports=window.require("jira/ajs/select/multi-select/lozenge-group")},716:function(n,t,e){e(8),n.exports=e(484)},72:function(n,t,e){var r,i;r=[],void 0!==(i=function(){return function(n){return{value:n.origin.appKey+"/"+n.origin.originId,label:n.label.value}}}.apply(t,r))&&(n.exports=i)},73:function(n,t,e){var r,i;r=[e(1)],void 0!==(i=function(n){return function(t,e){n.ajax({url:AJS.contextPath()+"/rest/assetapi/asset/"+t,cache:!0,headers:{"X-B3-Sampled":"1"}}).fail(function(){var n=t.split("/");e({origin:{appKey:n[0],originId:n[1]},label:{value:"Unknown Asset"}})}).then(function(n){e&&e(n)})}}.apply(t,r))&&(n.exports=i)},78:function(n,t){},8:function(n,t,e){"use strict";n.exports=e(14).polyfill()},9:function(n,t,e){var r,i;r=[e(24)],void 0!==(i=function(n){return n}.apply(t,r))&&(n.exports=i)}},[716]);;
;
/* module-key = 'com.atlassian.plugin.jslibs:jquery.fancybox-1.3.4', location = 'atlassian-jslibs/jquery-plugins/jquery.fancybox/1.3.4/jquery.fancybox-1.3.4.js' */
!function(t){define("atlassian/jquery-plugins/jquery.fancybox-1.3.4",function(){return function(e){return t(window,document,e),e}})}(function(t,e,i){!function(n){var a,o,d,c,r,s,h,l,f,p,g,b,u,y=0,v={},x=[],w=0,m={},I=[],C=null,k=new Image,O=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,j=/[^\.]\.(swf)\s*$/i,T=1,S=0,A="",D=!1,F=n.extend(n("<div/>")[0],{prop:0}),E=n.browser.msie&&n.browser.version<7&&!t.XMLHttpRequest,N=function(){o.hide(),k.onerror=k.onload=null,C&&C.abort(),a.empty()},B=function(){return!1===v.onError(x,y,v)?(o.hide(),void(D=!1)):(v.titleShow=!1,v.width="auto",v.height="auto",a.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void L())},P=function(){var t,e,i,d,c,r,h=x[y];if(N(),v=n.extend({},n.fn.fancybox.defaults,"undefined"==typeof n(h).data("fancybox")?v:n(h).data("fancybox")),r=v.onStart(x,y,v),r===!1)return void(D=!1);if("object"==typeof r&&(v=n.extend(v,r)),i=v.title||(h.nodeName?n(h).attr("title"):h.title)||"",h.nodeName&&!v.orig&&(v.orig=n(h).children("img:first").length?n(h).children("img:first"):n(h)),""===i&&v.orig&&v.titleFromAlt&&(i=v.orig.attr("alt")),t=v.href||(h.nodeName?n(h).attr("href"):h.href)||null,(/^(?:javascript)/i.test(t)||"#"==t)&&(t=null),v.type?(e=v.type,t||(t=v.content)):v.content?e="html":t&&(e=t.match(O)?"image":t.match(j)?"swf":n(h).hasClass("iframe")?"iframe":0===t.indexOf("#")?"inline":"ajax"),!e)return void B();switch("inline"==e&&(h=t.substr(t.indexOf("#")),e=n(h).length>0?"inline":"ajax"),v.type=e,v.href=t,v.title=i,v.autoDimensions&&("html"==v.type||"inline"==v.type||"ajax"==v.type?(v.width="auto",v.height="auto"):v.autoDimensions=!1),v.modal&&(v.overlayShow=!0,v.hideOnOverlayClick=!1,v.hideOnContentClick=!1,v.enableEscapeButton=!1,v.showCloseButton=!1),v.padding=parseInt(v.padding,10),v.margin=parseInt(v.margin,10),a.css("padding",v.padding+v.margin),n(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){n(this).replaceWith(s.children())}),e){case"html":a.html(v.content),L();break;case"inline":if(n(h).parent().is("#fancybox-content")===!0)return void(D=!1);n('<div class="fancybox-inline-tmp" />').hide().insertBefore(n(h)).bind("fancybox-cleanup",function(){n(this).replaceWith(s.children())}).bind("fancybox-cancel",function(){n(this).replaceWith(a.children())}),n(h).appendTo(a),L();break;case"image":D=!1,n.fancybox.showActivity(),k=new Image,k.onerror=function(){B()},k.onload=function(){D=!0,k.onerror=k.onload=null,M()},k.src=t;break;case"swf":v.scrolling="no",d='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+v.width+'" height="'+v.height+'"><param name="movie" value="'+t+'"></param>',c="",n.each(v.swf,function(t,e){d+='<param name="'+t+'" value="'+e+'"></param>',c+=" "+t+'="'+e+'"'}),d+='<embed src="'+t+'" type="application/x-shockwave-flash" width="'+v.width+'" height="'+v.height+'"'+c+"></embed></object>",a.html(d),L();break;case"ajax":D=!1,n.fancybox.showActivity(),v.ajax.win=v.ajax.success,C=n.ajax(n.extend({},v.ajax,{url:t,data:v.ajax.data||{},error:function(t,e,i){t.status>0&&B()},success:function(e,i,n){var d="object"==typeof n?n:C;if(200==d.status){if("function"==typeof v.ajax.win){if(r=v.ajax.win(t,e,i,n),r===!1)return void o.hide();"string"!=typeof r&&"object"!=typeof r||(e=r)}a.html(e),L()}}}));break;case"iframe":z()}},L=function(){var e=v.width,i=v.height;e=e.toString().indexOf("%")>-1?parseInt((n(t).width()-2*v.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px",i=i.toString().indexOf("%")>-1?parseInt((n(t).height()-2*v.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",a.wrapInner('<div style="width:'+e+";height:"+i+";overflow: "+("auto"==v.scrolling?"auto":"yes"==v.scrolling?"scroll":"hidden")+';position:relative;"></div>'),v.width=a.width(),v.height=a.height(),z()},M=function(){v.width=k.width,v.height=k.height,n("<img />").attr({id:"fancybox-img",src:k.src,alt:v.title}).appendTo(a),z()},z=function(){var i,r;return o.hide(),c.is(":visible")&&!1===m.onCleanup(I,w,m)?(n.event.trigger("fancybox-cancel"),void(D=!1)):(D=!0,n(s.add(d)).unbind(),n(t).unbind("resize.fb scroll.fb"),n(e).unbind("keydown.fb"),c.is(":visible")&&"outside"!==m.titlePosition&&c.css("height",c.height()),I=x,w=y,m=v,m.overlayShow?(d.css({"background-color":m.overlayColor,opacity:m.overlayOpacity,cursor:m.hideOnOverlayClick?"pointer":"auto",height:n(e).height()}),d.is(":visible")||(E&&n("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),d.show())):d.hide(),u=U(),q(),c.is(":visible")?(n(h.add(f).add(p)).hide(),i=c.position(),b={top:i.top,left:i.left,width:c.width(),height:c.height()},r=b.width==u.width&&b.height==u.height,void s.fadeTo(m.changeFade,.3,function(){var t=function(){s.html(a.contents()).fadeTo(m.changeFade,1,K)};n.event.trigger("fancybox-change"),s.empty().removeAttr("filter").css({"border-width":m.padding,width:u.width-2*m.padding,height:v.autoDimensions?"auto":u.height-S-2*m.padding}),r?t():(F.prop=0,n(F).animate({prop:1},{duration:m.changeSpeed,easing:m.easingChange,step:X,complete:t}))})):(c.removeAttr("style"),s.css("border-width",m.padding),"elastic"==m.transitionIn?(b=J(),s.html(a.contents()),c.show(),m.opacity&&(u.opacity=0),F.prop=0,void n(F).animate({prop:1},{duration:m.speedIn,easing:m.easingIn,step:X,complete:K})):("inside"==m.titlePosition&&S>0&&l.show(),s.css({width:u.width-2*m.padding,height:v.autoDimensions?"auto":u.height-S-2*m.padding}).html(a.contents()),void c.css(u).fadeIn("none"==m.transitionIn?0:m.speedIn,K))))},H=function(t){return!(!t||!t.length)&&("float"==m.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+m.titlePosition+'">'+t+"</div>")},q=function(){if(A=m.title||"",S=0,l.empty().removeAttr("style").removeClass(),m.titleShow===!1)return void l.hide();if(A=n.isFunction(m.titleFormat)?m.titleFormat(A,I,w,m):H(A),!A||""===A)return void l.hide();switch(l.addClass("fancybox-title-"+m.titlePosition).html(A).appendTo("body").show(),m.titlePosition){case"inside":l.css({width:u.width-2*m.padding,marginLeft:m.padding,marginRight:m.padding}),S=l.outerHeight(!0),l.appendTo(r),u.height+=S;break;case"over":l.css({marginLeft:m.padding,width:u.width-2*m.padding,bottom:m.padding}).appendTo(r);break;case"float":l.css("left",parseInt((l.width()-u.width-40)/2,10)*-1).appendTo(c);break;default:l.css({width:u.width-2*m.padding,paddingLeft:m.padding,paddingRight:m.padding}).appendTo(c)}l.hide()},R=function(){return(m.enableEscapeButton||m.enableKeyboardNav)&&n(e).bind("keydown.fb",function(t){27==t.keyCode&&m.enableEscapeButton?(t.preventDefault(),n.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!m.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),n.fancybox[37==t.keyCode?"prev":"next"]())}),m.showNavArrows?((m.cyclic&&I.length>1||0!==w)&&f.show(),void((m.cyclic&&I.length>1||w!=I.length-1)&&p.show())):(f.hide(),void p.hide())},K=function(){n.support.opacity||(s.get(0).style.removeAttribute("filter"),c.get(0).style.removeAttribute("filter")),v.autoDimensions&&s.css("height","auto"),c.css("height","auto"),A&&A.length&&l.show(),m.showCloseButton&&h.show(),R(),m.hideOnContentClick&&s.bind("click",n.fancybox.close),m.hideOnOverlayClick&&d.bind("click",n.fancybox.close),n(t).bind("resize.fb",n.fancybox.resize),m.centerOnScroll&&n(t).bind("scroll.fb",n.fancybox.center),"iframe"==m.type&&n('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(n.browser.msie?'allowtransparency="true""':"")+' scrolling="'+v.scrolling+'" src="'+m.href+'"></iframe>').appendTo(s),c.show(),D=!1,n.fancybox.center(),m.onComplete(I,w,m),W()},W=function(){var t,e;I.length-1>w&&(t=I[w+1].href,"undefined"!=typeof t&&t.match(O)&&(e=new Image,e.src=t)),w>0&&(t=I[w-1].href,"undefined"!=typeof t&&t.match(O)&&(e=new Image,e.src=t))},X=function(t){var e={width:parseInt(b.width+(u.width-b.width)*t,10),height:parseInt(b.height+(u.height-b.height)*t,10),top:parseInt(b.top+(u.top-b.top)*t,10),left:parseInt(b.left+(u.left-b.left)*t,10)};"undefined"!=typeof u.opacity&&(e.opacity=t<.5?.5:t),c.css(e),s.css({width:e.width-2*m.padding,height:e.height-S*t-2*m.padding})},$=function(){return[n(t).width()-2*m.margin,n(t).height()-2*m.margin,n(e).scrollLeft()+m.margin,n(e).scrollTop()+m.margin]},U=function(){var t,e=$(),i={},n=m.autoScale,a=2*m.padding;return m.width.toString().indexOf("%")>-1?i.width=parseInt(e[0]*parseFloat(m.width)/100,10):i.width=m.width+a,m.height.toString().indexOf("%")>-1?i.height=parseInt(e[1]*parseFloat(m.height)/100,10):i.height=m.height+a,n&&(i.width>e[0]||i.height>e[1])&&("image"==v.type||"swf"==v.type?(t=m.width/m.height,i.width>e[0]&&(i.width=e[0],i.height=parseInt((i.width-a)/t+a,10)),i.height>e[1]&&(i.height=e[1],i.width=parseInt((i.height-a)*t+a,10))):(i.width=Math.min(i.width,e[0]),i.height=Math.min(i.height,e[1]))),i.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-i.height-40)),10),i.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-i.width-40)),10),i},G=function(t){var e=t.offset();return e.top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),e},J=function(){var t,e,i=!!v.orig&&n(v.orig),a={};return i&&i.length?(t=G(i),a={width:t.width+2*m.padding,height:t.height+2*m.padding,top:t.top-m.padding-20,left:t.left-m.padding-20}):(e=$(),a={width:2*m.padding,height:2*m.padding,top:parseInt(e[3]+.5*e[1],10),left:parseInt(e[2]+.5*e[0],10)}),a},Q=function(){return o.is(":visible")?(n("div",o).css("top",T*-40+"px"),void(T=(T+1)%12)):void clearInterval(g)};n.fn.fancybox=function(t){return n(this).length?(n(this).data("fancybox",n.extend({},t,n.metadata?n(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!D){D=!0,n(this).blur(),x=[],y=0;var e=n(this).attr("rel")||"";e&&""!=e&&"nofollow"!==e?(x=n("a[rel="+e+"], area[rel="+e+"]"),y=x.index(this)):x.push(this),P()}}),this):this},n.fancybox=function(t){var e;if(!D){if(D=!0,e="undefined"!=typeof arguments[1]?arguments[1]:{},x=[],y=parseInt(e.index,10)||0,n.isArray(t)){for(var a=0,o=t.length;a<o;a++)"object"==typeof t[a]?n(t[a]).data("fancybox",n.extend({},e,t[a])):t[a]=n({}).data("fancybox",n.extend({content:t[a]},e));x=i.merge(x,t)}else"object"==typeof t?n(t).data("fancybox",n.extend({},e,t)):t=n({}).data("fancybox",n.extend({content:t},e)),x.push(t);(y>x.length||y<0)&&(y=0),P()}},n.fancybox.showActivity=function(){clearInterval(g),o.show(),g=setInterval(Q,66)},n.fancybox.hideActivity=function(){o.hide()},n.fancybox.next=function(){return n.fancybox.pos(w+1)},n.fancybox.prev=function(){return n.fancybox.pos(w-1)},n.fancybox.pos=function(t){D||(t=parseInt(t),x=I,t>-1&&t<I.length?(y=t,P()):m.cyclic&&I.length>1&&(y=t>=I.length?0:I.length-1,P()))},n.fancybox.cancel=function(){D||(D=!0,n.event.trigger("fancybox-cancel"),N(),v.onCancel(x,y,v),D=!1)},n.fancybox.close=function(){function i(){d.fadeOut("fast"),l.empty().hide(),c.hide(),n.event.trigger("fancybox-cleanup"),s.empty(),m.onClosed(I,w,m),I=v=[],w=y=0,m=v={},D=!1}if(!D&&!c.is(":hidden")){if(D=!0,m&&!1===m.onCleanup(I,w,m))return void(D=!1);if(N(),n(h.add(f).add(p)).hide(),n(s.add(d)).unbind(),n(t).unbind("resize.fb scroll.fb"),n(e).unbind("keydown.fb"),s.find("iframe").attr("src",E&&/^https/i.test(t.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==m.titlePosition&&l.empty(),c.stop(),"elastic"==m.transitionOut){b=J();var a=c.position();u={top:a.top,left:a.left,width:c.width(),height:c.height()},m.opacity&&(u.opacity=1),l.empty().hide(),F.prop=1,n(F).animate({prop:0},{duration:m.speedOut,easing:m.easingOut,step:X,complete:i})}else c.fadeOut("none"==m.transitionOut?0:m.speedOut,i)}},n.fancybox.resize=function(){d.is(":visible")&&d.css("height",n(e).height()),n.fancybox.center(!0)},n.fancybox.center=function(){var t,e;D||(e=arguments[0]===!0?1:0,t=$(),!e&&(c.width()>t[0]||c.height()>t[1])||c.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-s.height()-40)-m.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-s.width()-40)-m.padding))},"number"==typeof arguments[0]?arguments[0]:200))},n.fancybox.init=function(){n("#fancybox-wrap").length||(n("body").append(a=n('<div id="fancybox-tmp"></div>'),o=n('<div id="fancybox-loading"><div></div></div>'),d=n('<div id="fancybox-overlay"></div>'),c=n('<div id="fancybox-wrap"></div>')),r=n('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(c),r.append(s=n('<div id="fancybox-content"></div>'),h=n('<a id="fancybox-close"></a>'),l=n('<div id="fancybox-title"></div>'),f=n('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),p=n('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),h.click(n.fancybox.close),o.click(n.fancybox.cancel),f.click(function(t){t.preventDefault(),n.fancybox.prev()}),p.click(function(t){t.preventDefault(),n.fancybox.next()}),n.fn.mousewheel&&c.bind("mousewheel.fb",function(t,e){D?t.preventDefault():0!=n(t.target).get(0).clientHeight&&n(t.target).get(0).scrollHeight!==n(t.target).get(0).clientHeight||(t.preventDefault(),n.fancybox[e>0?"prev":"next"]())}),n.support.opacity||c.addClass("fancybox-ie"),E&&(o.addClass("fancybox-ie6"),c.addClass("fancybox-ie6"),n('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(t.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(r)))},n.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},n(e).ready(function(){n.fancybox.init()})}(i)});;
;
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox.jira.js' */
require(["jquery","atlassian/jquery-plugins/jquery.fancybox-1.3.4"],function(t,i){i(t),t.fn.fancybox.defaults.titleFormat=function(t){if(t&&t.length)return t=AJS.escapeHtml(t),"float"===this.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+this.titlePosition+'">'+t+"</div>"}});;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jira/moment","jira/util/data/meta"],function(e,t,n){"use strict";function o(e,t){this.key=e,this.isAge=t}function r(t,n,o){return t in y?e.format(y[t],o):null}function a(e){switch(e.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":return"LLL";case"timestamp":return"LLL";default:return null}}function i(e){return e.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function u(e,t){var n=i(e),o=n.clone().subtract(1,"d");return o<=t&&t<n}function l(e,t){var n=i(e).add(1,"d"),o=n.clone().add(1,"d");return n<=t&&t<o}function m(e,t){return Math.floor(t.diff(e,"minutes",!0))}function s(e,t){var n=t.diff(e,"hours",!0);return Math.round(n)}function c(e,t){return Math.floor(t.diff(e,"days",!0))}function d(e,t){var n=a(t);return e.format(n)}function g(e,n,o){if(o=o||t(),e<=o){if(e>o.clone().subtract(1,"m"))return r("aMomentAgo",n);if(e>o.clone().subtract(2,"m"))return r("oneMinuteAgo",n);if(e>o.clone().subtract(50,"m"))return r("xMinutesAgo",n,m(e,o));if(e>o.clone().subtract(90,"m"))return r("oneHourAgo",n);if(u(o,e)&&e<o.clone().subtract(5,"h"))return r("oneDayAgo",n);if(e>o.clone().subtract(1,"d"))return r("xHoursAgo",n,s(e,o));if(e>o.clone().subtract(7,"d"))return r("xDaysAgo",n,Math.max(c(e,o),2));if(e>o.clone().subtract(8,"d"))return r("oneWeekAgo",n)}else{if(e<o.clone().add(1,"m"))return r("inAMoment",n);if(e<o.clone().add(2,"m"))return r("inOneMinute",n);if(e<o.clone().add(50,"m"))return r("inXMinutes",n,m(o,e));if(e<o.clone().add(90,"m"))return r("inOneHour",n);if(l(o,e)&&e>o.clone().add(5,"h"))return r("inOneDay",n);if(e<o.clone().add(1,"d"))return r("inXHours",n,s(o,e));if(e<o.clone().add(7,"d"))return r("inXDays",n,Math.max(c(o,e),2));if(e<o.clone().add(8,"d"))return r("inOneWeek",n)}return d(e,n)}var f={},v=n.getBoolean("date-relativize");o.types={};for(var x,A=["shortAge","longAge","fullAge","short","long","full","timestamp"],h=0,T=A.length;h<T;h++)x=A[h],o.types[x]=new o(x,x.toLowerCase().indexOf("age")!==-1);var y={};return f.FormatType=o,f.formatDate=function(e,t,n){return e&&t?(v||n)&&t.isAge?g(e,t):d(e,t):null},f.setRelativeTranslations=function(e){for(var t in e)y[t]=e[t]},f.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({inAMoment:"Now",inOneMinute:"In 1 minute",inXMinutes:"In {0} minutes",inOneHour:"In 1 hour",inXHours:"In {0} hours",inOneDay:"Tomorrow",inXDays:"In {0} days",inOneWeek:"In 1 week",aMomentAgo:"Just now",oneMinuteAgo:"1 minute ago",xMinutesAgo:"{0} minutes ago",oneHourAgo:"1 hour ago",xHoursAgo:"{0} hours ago",oneDayAgo:"Yesterday",xDaysAgo:"{0} days ago",oneWeekAgo:"1 week ago"})},f.restoreDefaultRelativeTranslations(),f.formatDateWithRelativeAge=g,f.formatDateWithFormatString=d,f}),AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/skate","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],function(t,e,i,a,r){"use strict";var n=6e3,u=a.getBoolean("date-relativize");e("livestamp",{type:e.type.CLASSNAME,prototype:{update:function(){var e=t(this),a=e.data("relativize"),n=e.attr("datetime");if(n&&(n=isNaN(n)?i(n).utcOffset(n):i(parseInt(n,10)),i.isMoment(n)&&n.isValid())){var m=e.data("datetime-format");m=m?m:"fullAge",u||a||(m=m.replace("Age",""));var s=r.formatDate(n,r.FormatType.types[m],a);return e.text()!==s&&e.text(s),!0}return!1},onTimeout:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=!1);var t=this.update();t&&(this.timerId=setTimeout(this.onTimeout.bind(this),n))}},attributes:function(t){t.onTimeout()},attached:function(t){t.onTimeout()},detached:function(t){clearTimeout(t.timerId),t.timerId=!1}}),t.fn.livestamp=function(){return this}}),function(){require("jira/jquery/plugins/livestamp/livestamp")}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:ajs-helper', location = 'jira-issue-navigator-components-module/util/ajshelper.js' */
define("jira/components/utils/ajshelper",[],function(){"use strict";function e(){return function(e,n){if(n){var r=n.data||{};r.searchSessionId=r.searchSessionId||t.Meta.get("search-session-id"),r.searchObjectId=r.searchObjectId||t.Meta.get("search-object-id"),r.searchContainerId=r.searchContainerId||t.Meta.get("search-container-id"),r.searchContentType=r.searchContentType||t.Meta.get("search-content-type"),n.data=r}t.trigger(e,n)}}var t=window.AJS;return{escapeHtml:t.escapeHtml.bind(t),LEFT:t.LEFT,Templates:t.Templates,HIDE_REASON:t.HIDE_REASON,trigger:e(),log:t.log.bind(t),extractBodyFromResponse:t.extractBodyFromResponse,whenIType:function(){return t.whenIType},activeShortcuts:function(){return t.activeShortcuts}}});
//# sourceMappingURL=ajshelper-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.5.2', location = 'atlassian-jslibs/libs/underscore/1.5.2/underscore.js' */
!function(n){define("atlassian/libs/underscore-1.5.2",function(){var t={};return n.call(t),"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports.noConflict():exports.noConflict():t._.noConflict()})}(function(){(function(){var n=this,t=n._,r={},e=Array.prototype,i=Object.prototype,u=Function.prototype,o=e.push,a=e.slice,c=e.concat,l=i.toString,f=i.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,d=e.filter,y=e.every,g=e.some,m=e.indexOf,x=e.lastIndexOf,w=Array.isArray,b=Object.keys,_=u.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var i=0,u=n.length;i<u;i++)if(t.call(e,n[i],i,n)===r)return}else for(var o=j.keys(n),i=0,u=o.length;i<u;i++)if(t.call(e,n[o[i]],o[i],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(A(n,function(n,u,o){i?r=t.call(e,r,n,u,o):(r=n,i=!0)}),!i)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(u!==+u){var o=j.keys(n);u=o.length}if(A(n,function(a,c,l){c=o?o[--u]:--u,i?r=t.call(e,r,n[c],c,l):(r=n[c],i=!0)}),!i)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,i,u){if(t.call(r,n,i,u))return e=n,!0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var i=!0;return null==n?i:y&&n.every===y?n.every(t,e):(A(n,function(n,u,o){if(!(i=i&&t.call(e,n,u,o)))return r}),!!i)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var i=!1;return null==n?i:g&&n.some===g?n.some(t,e):(A(n,function(n,u,o){if(i||(i=t.call(e,n,u,o)))return r}),!!i)};j.contains=j.include=function(n,t){return null!=n&&(m&&n.indexOf===m?n.indexOf(t)!=-1:O(n,function(n){return n===t}))},j.invoke=function(n,t){var r=a.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return A(n,function(n,i,u){var o=t?t.call(r,n,i,u):n;o>e.computed&&(e={value:n,computed:o})}),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,i,u){var o=t?t.call(r,n,i,u):n;o<e.computed&&(e={value:n,computed:o})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var i={},u=null==r?j.identity:k(r);return A(t,function(r,o){var a=u.call(e,r,o,t);n(i,a,r)}),i}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var i=r.call(e,t),u=0,o=n.length;u<o;){var a=u+o>>>1;r.call(e,n[a])<i?u=a+1:o=a}return u},j.toArray=function(n){return n?j.isArray(n)?a.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:a.call(n,0,t)},j.initial=function(n,t,r){return a.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:a.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return a.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?o.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,a.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var i=r?j.map(n,r,e):n,u=[],o=[];return A(i,function(r,e){(t?e&&o[o.length-1]===r:j.contains(o,r))||(o.push(r),u.push(n[e]))}),u},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=a.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(e,a.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(m&&n.indexOf===m)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(x&&n.lastIndexOf===x)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,a.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=a.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(a.call(arguments)));R.prototype=n.prototype;var i=new R;R.prototype=null;var u=n.apply(i,r.concat(a.call(arguments)));return Object(u)===u?u:i}},j.partial=function(n){var t=a.call(arguments,1);return function(){return n.apply(this,t.concat(a.call(arguments)))}},j.bindAll=function(n){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=a.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(a.call(arguments,1)))},j.throttle=function(n,t,r){var e,i,u,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:new Date,o=null,u=n.apply(e,i)};return function(){var l=new Date;a||r.leading!==!1||(a=l);var f=t-(l-a);return e=this,i=arguments,f<=0?(clearTimeout(o),o=null,a=l,u=n.apply(e,i)):o||r.trailing===!1||(o=setTimeout(c,f)),u}},j.debounce=function(n,t,r){var e,i,u,o,a;return function(){u=this,i=arguments,o=new Date;var c=function(){var l=new Date-o;l<t?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(u,i)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(u,i)),a}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},j.keys=b||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(a.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,a.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,a.call(arguments,1));for(var i in n)j.contains(r,i)||(t[i]=n[i]);return t},j.defaults=function(n){return A(a.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var i=l.call(n);if(i!=l.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var o=n.constructor,a=t.constructor;if(o!==a&&!(j.isFunction(o)&&o instanceof o&&j.isFunction(a)&&a instanceof a))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==i){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=w||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null!=n){var r=n[t];return j.isFunction(r)?r.call(n):r}},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g,D=/^\s*(\w|\$)+\s*$/;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var i=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(i,function(t,r,e,i,a){return o+=n.slice(u,a).replace(C,function(n){return"\\"+B[n]}),r&&(o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(o+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),u=a+t.length,t}),o+="';\n";var a=r.variable;if(a){if(!D.test(a))throw new Error(a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{e=new Function(a,"_",o)}catch(n){throw n.source=o,n}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+a+"){\n"+o+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:underscore', location = 'jira-issue-navigator-components-module/libs/underscore.js' */
define("jira/components/libs/underscore",["require"],function(e){"use strict";return e("atlassian/libs/underscore-1.5.2")});
//# sourceMappingURL=underscore-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-tracker', location = 'jira-issue-navigator-components-module/analytics-tracker/tracker.js' */
define("jira/components/analytics-tracker/tracker",["jira/components/libs/underscore","jira/issue","jira/components/utils/ajshelper","jquery","jira/customevents/trigger-custom-event"],function(e,t,n,r,i){"use strict";function o(){if(!h)try{h=require("jira/api/projects")}catch(e){h=null}}function a(){return g?g:(o(),h?h.getCurrentProjectId():void 0)}function c(){return j?j:(o(),h?h.getCurrentProjectType():void 0)}function s(){return k?k:t?t.getIssueId():void 0}function u(e){if(e.attr("class")||e.attr("id"))return e;var t=e.parent().closest("[class], [id]");return t.length?t:e}function d(e){var t=r(e.target).closest(p),n=u(t);v("viewissue","generic-action",{className:n.attr("class")||"no-element-className",id:n.attr("id")||"no-element-id"}),w=!1}function l(){r(".issue-container").off("click",p,d).on("click",p,d),r("#create_link").off("click",d).on("click",d),y&&clearTimeout(y),y=setTimeout(function(){w&&v("viewissue","inactive-timeout")},m)}function v(t,r,o){var u=f+"."+t+"."+r;I=I||Math.round(performance.now());var d=Math.round(performance.now())-I;o=o||{};var l={projectId:o.projectId||a(),projectType:o.projectType||c(),issueId:o.issueId||s(),userAgent:window.navigator.userAgent,timeSinceIssueLoaded:d},v=e.extend(l,o);n.trigger("analyticsEvent",{name:u,data:v}),i.trigger("legacy-gas-v2-event",u,v)}var f="jira.platform.fe.web",m=3e5,p="a, .editable-field, button",g=void 0,j=void 0,k=void 0,w=void 0,y=void 0,I=void 0,h=void 0;return{initialize:function(e,t,n){g=e,j=t,k=n,w=!0,I=Math.round(performance.now()),l()},trackEvent:v}});
//# sourceMappingURL=tracker-min.js.map
;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = 'includes/jira/viewissue/issuecomponents.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issue&&(JIRA.Templates.Issue={}),JIRA.Templates.Issue.watchersWithBrowse=function(e,s){for(var a='<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a><fieldset><label class="js-add-watchers-label">'+soy.$$escapeHtml("Add Watchers")+'</label><div class="autocomplete-user-target"><select id="watchers" name="watchers" data-description="'+soy.$$escapeHtml("Start Typing for Users")+'" class="watchers-user-picker hidden" multiple="multiple">',t=e.watchers,l=t.length,c=0;c<l;c++){var o=t[c];a+="<option style=\"background-image:url('"+soy.$$escapeHtml(o.avatarUrls["16x16"])+'\')" selected="selected" value="'+soy.$$escapeHtml(o.accountId)+'">'+soy.$$escapeHtml(o.displayName)+"</option>"}return a+="</select></div></fieldset></form>"},JIRA.Templates.Issue.watchersNoBrowse=function(e,s){for(var a='<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a><fieldset><label for="watchers-multi-select">'+soy.$$escapeHtml("Add Watchers")+'</label><div><input type="text" class="text" id="watchers-nosearch" /><div class="description">'+soy.$$escapeHtml("Type username and press enter.")+'</div></div><div class="recipients"><ol class="watchers">',t=e.watchers,l=t.length,c=0;c<l;c++){var o=t[c];a+=JIRA.Templates.Fields.recipientUsername({username:o.name,icon:o.avatarUrls["16x16"],displayName:o.displayName,escape:!0})}return a+="</ol></div></fieldset></form>"},JIRA.Templates.Issue.error=function(e,s){for(var a="<p>"+soy.$$escapeHtml(e.msg)+"</p><ul>",t=e.errors,l=t.length,c=0;c<l;c++){var o=t[c];a+="<li>"+soy.$$escapeHtml(o)+"</li>"}return a+="</ul>"},JIRA.Templates.Issue.usersListReadOnly=function(e,s){for(var a='<form class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a><fieldset><div class="recipients"><ol class="voters">',t=e.users,l=t.length,c=0;c<l;c++){var o=t[c];a+=JIRA.Templates.Fields.recipientUsername({username:o.name,icon:o.avatarUrls["16x16"],displayName:o.displayName,readOnly:!0,escape:!0})}return a+="</ol></div></fieldset></form>"};;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/user-collection.js' */
define("jira/viewissue/watchers-voters/entities/user-collection",["require"],function(e){var r=e("jira/message"),s=e("backbone"),t=e("underscore"),o=e("jquery"),n=e("wrm/context-path"),i=e("jira/util/formatter"),a=JIRA.Templates.Issue,u=s.Model.extend({idAttribute:"key"});return s.Collection.extend({model:u,initialize:function(e){if(void 0===e)throw new Error("Must supply options");if(!e.issueKey)throw new Error("Must supply issue key");if(this.issueKey=e.issueKey,!e.endpoint)throw new Error("Must supply an endpoint");if(this.endpoint=e.endpoint,!e.modelKey)throw new Error("Must supply an model key");this.modelKey=e.modelKey},url:function(){return[n(),"rest/api/2/issue",this.issueKey,this.endpoint].join("/")},parse:function(e){return e&&e[this.modelKey]?e[this.modelKey]:[]},ajax:function(e){return e=t.extend({url:this.url(),headers:{"Content-Type":"application/json"},success:t.bind(function(){this.fetch()},this),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)},e),o.ajax(e)},getUser:function(e){return o.ajax({url:n()+"/rest/api/2/user?username="+encodeURIComponent(e),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)})},handleErrorResponse:function(e,s){var t=this._parseResponse(e.responseText);if(t.errorMessages){var o=a.error({msg:s,errors:t.errorMessages});r.showErrorMsg(o,{closeable:!0})}this.trigger("errorOccurred")},_parseResponse:function(e){try{return JSON.parse(e)}catch(e){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var e="<p>"+"Communications Breakdown"+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p>";r.showErrorMsg(e,{closeable:!0})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/voters-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/voters-user-collection",["jira/viewissue/watchers-voters/entities/user-collection"],function(e){return e.extend({initialize:function(t){var i={issueKey:t,endpoint:"votes",modelKey:"voters"};e.prototype.initialize.apply(this,[i])},vote:function(){return this.ajax({type:"POST"})},unvote:function(){return this.ajax({type:"DELETE"})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/watchers-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/watchers-user-collection",["jira/viewissue/watchers-voters/entities/user-collection","jira/util/data/meta"],function(e,t){return e.extend({initialize:function(i){this.canBrowseUsers=t.get("can-search-users"),this.isReadOnly=!t.get("can-edit-watchers");var a={issueKey:i,endpoint:"watchers",modelKey:"watchers"};e.prototype.initialize.apply(this,[a])},addWatcher:function(e){return this.ajax({type:"POST",data:'"'+e+'"'})},removeWatcher:function(e){return this.ajax({type:"DELETE",url:this.url()+"?accountId="+e})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/voters-view.js' */
define("jira/viewissue/watchers-voters/views/voters-view",["require"],function(e){var t=e("aui/message"),i=e("backbone"),r=(e("underscore"),e("jquery"),e("jira/jquery/deferred"),e("jira/util/formatter")),s=JIRA.Templates.Issue;return i.View.extend({$empty:void 0,initialize:function(e){this.collection=e.collection,this.collection.bind("replace reset add remove",this.render,this)},renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no voters for this issue"}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){return this.$el.html(s.usersListReadOnly({users:this.collection.toJSON()})),this.renderNoWatchers(),this.$el}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/abstract-watchers-view.js' */
define("jira/viewissue/watchers-voters/views/abstract-watchers-view",["require"],function(e){var t=e("aui/message"),i=e("backbone"),n=e("underscore"),r=e("jquery"),s=e("jira/jquery/deferred"),a=e("jira/util/formatter");return i.View.extend({$empty:void 0,renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no watchers."}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){var e=s();return this.collection.fetch().done(n.bind(function(){this._render(),this.renderNoWatchers(),e.resolve(this.$el),setTimeout(n.bind(function(){this.focus()},this),0)},this)),e.promise()},watch:function(){r("#watching-toggle").text("Stop watching this issue")},unwatch:function(){r("#watching-toggle").text("Start watching this issue")},focus:r.noop,_incrementWatcherCount:function(){var e=r("#watcher-data"),t=parseInt(e.text(),10);e.text(t+1),this.renderNoWatchers()},_decrementWatcherCount:function(){var e=r("#watcher-data"),t=parseInt(e.text(),10);e.text(t-1),this.renderNoWatchers()}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-view",["require"],function(e){var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),i=e("underscore"),a=e("jira/util/logger"),s=e("jira/field/multi-user-list-picker"),c=JIRA.Templates.Issue;return t.extend({events:{selected:"addWatcherToModel",unselect:"removeWatcherFromModel"},_render:function(){this.$el.html(c.watchersWithBrowse({watchers:this.collection.toJSON()}));var e=new s({element:this.$el.find(".watchers-user-picker"),width:220});this.$el.find(".js-add-watchers-label").attr("for",e.$field.attr("id"))},focus:function(){this.$el.find("#watchers-textarea").focus()},addWatcherToModel:function(e,t){e.preventDefault(),this.collection.addWatcher(t.value()).done(i.bind(function(){this._incrementWatcherCount(),t.value()===r.get("remote-user")&&this.watch()},this))},removeWatcherFromModel:function(e,t){this.collection.removeWatcher(t.value()).done(i.bind(function(){this._decrementWatcherCount(),t.value()===r.get("remote-user")&&(this.unwatch(),a.trace("jira.issue.watcher.deleted"))},this))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-no-browse-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-no-browse-view",["require"],function(e){var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),a=e("underscore"),i=e("jquery"),s=e("jira/util/logger"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return t.extend({events:{"click .remove-recipient":"removeWatcher",submit:"addWatcher"},addWatcher:function(e){e.preventDefault(),this.removeInlineError();var t=i("#watchers-nosearch"),s=i.trim(t.val());t.attr("disabled","disabled"),this.hasUsername(s)?(t.removeAttr("disabled"),this.showInlineError(n.format("User {0} is already watching this issue",s)),t.val("")):this.collection.getUser(s).done(a.bind(function(e){var a=JIRA.Templates.Fields.recipientUsername({icon:e.avatarUrls["16x16"],username:e.name,displayName:e.displayName});s===r.get("remote-user")&&this.watch(),t.val(""),this.$(".watchers").append(a),this.collection.addWatcher(e.name),this._incrementWatcherCount()},this)).fail(a.bind(function(e){404===e.status&&this.showInlineError("User does not exist")},this)).always(function(){t.removeAttr("disabled").focus()})},hasUsername:function(e){var t=!1;return this.$(".watchers li").each(function(){if(i(this).attr("data-username")===e)return t=!0,!1}),t},removeInlineError:function(){this.$(".error").remove()},showInlineError:function(e){i("<div />").addClass("error").text(e).insertAfter(this.$(".description"))},focus:function(){i("#watchers-nosearch").focus()},removeWatcher:function(e){e.preventDefault();var t=i(e.target).closest("li"),a=t.attr("data-username");a&&(t.remove(),this.collection.removeWatcher(a),this._decrementWatcherCount(),a===r.get("remote-user")&&this.unwatch()),s.trace("jira.issue.watcher.deleted")},_render:function(){this.$el.html(o.watchersNoBrowse({watchers:this.collection.toJSON()}))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-read-only-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-read-only-view",["require"],function(e){var s=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=JIRA.Templates.Issue;return s.extend({_render:function(){this.$el.html(r.usersListReadOnly({users:this.collection.toJSON()}))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-inline-dialog-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view",["require"],function(e){var i=e("backbone"),t=e("jira/skate"),n=i.View.prototype.setElement;return i.View.extend({id:"inline-dialog-watchers",events:{"click .cancel":function(e){e.preventDefault(),this.hide()}},setElement:function(e){var s=e instanceof i.$?e.get(0):e;if(s)return this.el&&this.el.parentNode&&this.el!==s&&this.el.parentNode.removeChild(this.el),n.call(this,s),t.init(this.el),this},contents:function(e){var i=this.$el.find(".aui-inline-dialog-contents");0===i.length&&(i=AJS.$("<div/>",{class:"aui-inline-dialog-contents"}),this.$el.append(i)),i.html(e)},show:function(){this.el.setAttribute("open","")},hide:function(){this.el.removeAttribute("open")},isVisible:function(){return!!this.el.hasAttribute("open")}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/watchers.js' */
define("jira/viewissue/watchers-voters/watchers",["require"],function(e){"use strict";function i(){return h||(h=new a({el:d("#inline-dialog-watchers").get(0)})),h}function s(e){return e.isReadOnly?n:e.canBrowseUsers?r:t}var n=e("jira/viewissue/watchers-voters/views/watchers-read-only-view"),t=e("jira/viewissue/watchers-voters/views/watchers-no-browse-view"),r=e("jira/viewissue/watchers-voters/views/watchers-view"),o=e("jira/viewissue/watchers-voters/entities/watchers-user-collection"),a=e("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view"),c=e("jira/util/events"),l=e("jira/util/events/types"),w=e("jira/util/events/reasons"),u=e("jira/issue"),v=e("aui/inline-dialog"),d=e("jquery"),h=null;d(document).on("click","#view-watcher-list",function(e){e.preventDefault();var n=i(),t=d("#watching-toggle").next(".icon"),r=new o(u.getIssueKey());t.addClass("loading");var a=s(r);new a({collection:r}).render().done(function(e){t.removeClass("loading"),n.contents(e),n.show()}),r.on("errorOccurred",function(){n.hide()})}),d(document).on("keydown",function(e){h&&27===e.keyCode&&v.current!==h.el&&h.isVisible()&&(v.current&&v.current.hide(),h.hide())}),d(document).on("click",function(e){if(h){var i=d(e.target).closest("#inline-dialog-watchers, #watchers-suggestions").length;0===i&&h.isVisible()&&h.hide()}}),c.bind(l.NEW_CONTENT_ADDED,function(e,s,n){n===w.panelRefreshed&&s.is("#peoplemodule")&&i().setElement(s.find("#inline-dialog-watchers").get(0))})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/voters.js' */
define("jira/viewissue/watchers-voters/voters",["require"],function(e){"use strict";var i=e("jira/viewissue/watchers-voters/entities/voters-user-collection"),r=e("jira/viewissue/watchers-voters/views/voters-view"),t=e("jira/issue"),n=e("jira/ajs/layer/inline-layer"),s=e("aui/inline-dialog"),o=e("jquery"),c=s("#view-voter-list","voters",function(e,n,s){var a=o("#vote-toggle").next(".icon");a.addClass("loading");var u=new i(t.getIssueKey()),v=new r({collection:u}),l=u.fetch();l.done(function(){var i=v.render();e.html(i),e.find(".cancel").click(function(e){c.hide(),e.preventDefault()}),a.removeClass("loading"),s()}),u.on("errorOccurred",function(){c.hide()})},{width:240,useLiveEvents:!0,items:"#view-voters-list",preHideCallback:function(){return!n.current}});o(document).bind("keydown",function(e){27===e.keyCode&&s.current!==c&&c.is(":visible")&&(s.current&&s.current.hide(),c.hide())}),o(document).click(function(e){var i=s.current;i&&"voters"===i.id&&(o(e.target).closest("#inline-dialog-voters").length||i.hide())})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/toggler.js' */
define("jira/viewissue/watchers-voters/toggler",["require"],function(t){var e=t("jira/components/analytics-tracker/tracker"),a=t("jira/ajs/ajax/smart-ajax"),o=t("jira/flag"),n=t("jquery"),s=t("wrm/context-path"),i=t("jira/util/formatter"),r=function(t,o,i,r,c){var u,f=o+"-on",g=o+"-off",d="/voters",x=t.next(".icon"),p="POST",v=t.hasClass(f)?"on":"off";t.hasClass(f)&&(p="DELETE"),o.indexOf("watch")!==-1&&(d="/watchers"),t.removeClass(f).removeClass(g),"POST"===p&&(u={dummy:!0}),e.trackEvent("viewissue."+o+"."+v,"click"),n(a.makeRequest({url:s()+"/rest/api/1.0/issues/"+t.attr("rel")+d,type:p,dataType:"json",data:u,contentType:"application/json",complete:function(e,a,o){var n="POST"===p;o.successful?(n?(t.addClass(f),t.text(c.titleOn),r.attr("title",c.titleOn).text(c.textOn)):(t.addClass(g),t.text(c.titleOff),r.attr("title",c.titleOff).text(c.textOff)),i.text(o.data.count),i[n?"addClass":"removeClass"](f),i[n?"removeClass":"addClass"](g)):(o.aborted||l(o),n?(t.addClass(g),t.text(c.titleOff),r.attr("title",c.titleOff).text(c.textOff)):(t.addClass(f),t.text(c.titleOn),r.attr("title",c.titleOn).text(c.textOn)))}})).throbber({target:x})},l=function(t){var e=a.buildSimpleErrorContent(t,{alert:!0});if(t.hasData){var n=JSON.parse(t.data);n.errorMessages&&(e=n.errorMessages[0])}o.showErrorMsg(e,{closeable:!0})};n(document).delegate("#toggle-vote-issue","click",function(t){t.preventDefault(),n("#vote-toggle").click()}),n(document).delegate("#toggle-watch-issue","click",function(t){t.preventDefault(),n("#watching-toggle").click()});var c=function(t){n("input[type=hidden][id|=error]").each(function(e,a){var o=a.id.replace("error-","");t[o]=a.value})};n(document).delegate("#vote-toggle","click",function(t){t.preventDefault();var e={titleOn:"Remove vote for this issue",titleOff:"Vote for this issue",textOn:"Remove vote",textOff:"Add vote",actionTextOff:"Vote",actionTextOn:"Voted"},a=n(this),o=n(document.querySelectorAll("#vote-data")),s=n(document.querySelectorAll("#toggle-vote-issue"));c(e),r(a,"vote-state",o,s,e)}),n(document).delegate("#watching-toggle","click",function(t){t.preventDefault();var e={titleOn:"Stop watching this issue",titleOff:"Start watching this issue",textOn:"Stop watching",textOff:"Watch issue",actionTextOff:"Watch",actionTextOn:"Watching"},a=n(this),o=n(document.querySelectorAll("#watcher-data")),s=n(document.querySelectorAll("#toggle-watch-issue"));c(e),r(a,"watch-state",o,s,e)})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/initWatchersAndVoters.js' */
AJS.namespace("JIRA.VotersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/voters-user-collection")),AJS.namespace("JIRA.WatchersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/watchers-user-collection")),AJS.namespace("JIRA.VotersView",null,require("jira/viewissue/watchers-voters/views/voters-view")),AJS.namespace("JIRA.WatchersView",null,require("jira/viewissue/watchers-voters/views/watchers-view")),AJS.namespace("JIRA.WatchersNoBrowseView",null,require("jira/viewissue/watchers-voters/views/watchers-no-browse-view")),AJS.namespace("JIRA.WatchersReadOnly",null,require("jira/viewissue/watchers-voters/views/watchers-read-only-view"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/AnalyticsUtils.js' */
define("jira/viewissue/analytics-utils",["jira/util/data/meta","jira/issuenavigator/issue-navigator","jira/util/strings","wrm/context-path","jquery","exports"],function(n,t,e,i,r,s){function a(){return r(document.body).hasClass("navigator-issue-only")}function u(){return!!n.get("is-servicedesk-rendered")}function o(){return t.isNavigator()}function c(){return a()&&e.contains(location.search,"jql=")}function l(){return e.startsWith(location.pathname,i()+"/projects/")}s.context=function(){return c()?"fullscreen-issuenav":a()?"fullscreen":u()?"sd-queue":o()?"issuenav":l()?"project":"unknown"}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/slideshow/slideshow-configuration.js' */
define("jira/viewissue/slideshow/slideshow-configuration",["jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery"],function(e,t){var i={type:"image",centerOnScroll:!0,onStart:e.disable,onClosed:e.enable},n="elastic";return t.extend({},i,{transitionIn:n,transitionOut:n})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/image-wrap.js' */
define("jira/viewissue/element/image-wrap",["jira/skate"],function(e){e("file-preview-type",{type:e.type.ATTRIBUTE,attached:function(){},detached:function(){}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/ajs/shorten/shortener.js' */
define("jira/ajs/shorten/shortener",["jira/util/formatter","jira/ajs/control","jira/data/local-storage","jquery"],function(t,e,i,n){return e.extend({_getDefaultOptions:function(){return{items:"a, span",numRows:1,shortenText:"hide",shortenOnInit:!0,persist:!0,expandButtonTooltip:"Click to view {0} more",collapseButtonTooltip:"Hide"}},init:function(t){"string"==typeof t&&(t={element:t}),t=t||{},this.options=n.extend(this._getDefaultOptions(),t),this._timerId=0,this.expanded=!1,this.$container=n(this.options.element),this._cleanupOldButtons(),this.$container.css("height","auto"),this._assignEvents("body",document.body),this._ready()},_isValid:function(){return!this.initialized&&this.$container.is(":visible")&&this.$container.children().length>0},_cleanupOldButtons:function(){this.$container.find("a.ellipsis.shortener-expand").remove(),this.$container.find("a.shortener-collapse").remove(),this.$container.find("br.shortener-expand-line-break").remove()},_ready:function(){this._isValid()&&(this.$items=this.$container.children(this.options.items),this.$expandButton=this._render("expandButton"),this.$collapseButton=this._render("collapseButton"),this._assignEvents("expand-button",".shortener-expand"),this._assignEvents("collapse-button",".shortener-collapse"),(!n.browser.msie||n.browser.version>="9")&&this._assignEvents("resize-region",window),this._isCollapsedOnInit()?this.collapse():this.expand(),this.initialized=!0)},_renders:{expandButton:function(){return n("<a href='#' class='ellipsis shortener-expand'></a>").attr("title",this.options.expandButtonTooltip).add("<br class='shortener-expand-line-break'>")},collapseButton:function(){return n("<a href='#' title='Hide' class='icon icon-hide shortener-collapse'></a>").append(n("<span>").text(this.options.collapseButtonTooltip))}},_events:{"expand-button":{click:function(t){t.currentTarget===this.$expandButton[0]&&(t.preventDefault(),this.expand(),this._saveState("expanded"))}},"collapse-button":{click:function(t){t.currentTarget===this.$collapseButton[0]&&(t.preventDefault(),this.collapse(),this._saveState("collapsed"),this.$container.scrollIntoView())}},"resize-region":{resize:function(){if(clearTimeout(this._timerId),!this.expanded){var t=this;this._timerId=setTimeout(function(){t.collapse()},400)}}},body:{tabSelect:function(){this._ready()}}},_saveState:function(t){try{i.setItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"),t)}catch(t){}},_loadState:function(){return i.getItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"))},_isCollapsedOnInit:function(){var t=this._loadState();return null!==t?"expanded"!==t:this.options.shortenOnInit},_removeButtons:function(){this.$expandButton.remove(),this.$collapseButton.remove()},_getOverflowIndex:function(){if(this.$items.length>1)for(var t=1,e=-1,i=0;i<this.$items.length;i++){var n=this.$items.eq(i).offset().left;if(n<=e&&(t++,t>this.options.numRows))return i;e=n}return-1},expand:function(){this._removeButtons(),this._getOverflowIndex()>0&&(this.$collapseButton=this._render("collapseButton"),this.$container.append(this.$collapseButton),this.$container.css("height","auto"),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")),this.expanded=!0},collapse:function(){this._removeButtons();var e=this._getOverflowIndex();if(e>0){this.$container.css({position:"absolute",visibility:"hidden",width:this.$container[0].clientWidth+"px"});var i=this.$expandButton.first();do{var s=this.$items.length-e;i.text("("+s+")"),this.$expandButton.insertBefore(this.$items[e]),e--;var o=this.$items.eq(e).offset(),r=this.$expandButton.offset();if(o.left<r.left&&r.top<o.top+10)break}while(e>0);var a=e<this.$items.length-1?this.$items.eq(e+1).offset().top-this.$container.offset().top+"px":"auto";this.$container.css({height:a,position:"static",visibility:"visible",width:"auto"}),i.attr("title",t.format(this.options.expandButtonTooltip,s)),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")}else this.$container.css("height","auto");this.expanded=!1}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/ajs/shorten/namespace.js' */
AJS.namespace("AJS.Shortener",null,require("jira/ajs/shorten/shortener"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jquery/plugins/shorten/shortener.js' */
define("jira/jquery/plugins/shorten/shorten",["jira/ajs/shorten/shortener","jquery"],function(n,e){e.fn.shorten=function(e){var r=[];return e=e||{},this.each(function(){e.element=this,r.push(new n(e))}),r}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jquery/plugins/shorten/install.js' */
!function(){require("jira/jquery/plugins/shorten/shorten")}();;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/shorten.js' */
define("jira/viewissue/element/shorten",["jira/ajs/shorten/shortener","jira/skate"],function(e,t){return t("shorten",{type:t.type.CLASSNAME,attached:function(t){var n={};n.element=t,new e(n)}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initToggleBlock.js' */
define("jira/viewissue/init-toggle-block",["jira/util/events","jira/util/events/types","jira/toggleblock/toggle-block"],function(e,t,i){new i({blockSelector:".toggle-wrap",triggerSelector:".issue-container .mod-header .toggle-title",storageCollectionName:"block-states"}),t.ISSUE_REFRESHED&&e.bind(t.ISSUE_REFRESHED,function(){t.REFRESH_TOGGLE_BLOCKS&&e.trigger(t.REFRESH_TOGGLE_BLOCKS)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/comment-form.js' */
define("jira/viewissue/comment/comment-form",["jira/util/formatter","jira/util/events","jira/util/events/types","jira/ajs/ajax/smart-ajax","jira/issue","jira/dialog/form-dialog","wrm/context-path","jira/jquery/deferred","jquery"],function(e,t,i,n,r,o,s,a,m){var l=s(),d={setCaretAtEndOfCommentField:function(){var e,t=this.getField(),i=t[0];t.length&&(e=t.val().length,t.scrollTop(t.attr("scrollHeight")),i.setSelectionRange&&e>0&&i.setSelectionRange(e,e))},disable:function(){this.getForm().find("textarea").attr("readonly","readonly"),this.getForm().find("input[type=submit]").attr("disabled","disabled")},isDirty:function(){var e=this.getField();return!!e.length&&e[0].value!==e[0].defaultValue},handleBrowseAway:function(){if(d.isDirty()){var t=d.getForm(),i=t.length&&t.is(":visible");return i?"You have entered a comment on this issue. If you navigate away from this page without first saving, the comment will be lost.":void 0}},isVisibilityAvailble:function(){return"none"!=this.getForm().find("#commentLevel :selected").val()},setSubmitState:function(){m.trim(this.getField().val()).length>0&&this.isVisibilityAvailble()?this.getForm().find("#issue-comment-add-submit").removeAttr("disabled"):this.getForm().find("#issue-comment-add-submit").attr("disabled","disabled")},enable:function(){this.getForm().find("textarea").removeAttr("readonly"),this.getForm().find("input[type=submit]").removeAttr("disabled")},getCommentVisibility:function(){var e=this.getForm().find("#commentLevel :selected").val();if(e){var t=e.split(":");return{type:t[0],value:this.getForm().find("#commentLevel :selected").text()}}return null},ajaxSubmit:function(){var s=m('<span class="icon throbber loading"></span>'),u=r.getIssueId(),c=r.getIssueKey(),g=l+"/rest/api/2/issue/"+c+"/comment",f={body:this.getField()[0].value.replace(/\r?\n/g,"\r\n")},h=this.getCommentVisibility();h&&(f.visibility=h);var v=a(),b=m.ajax({url:g,type:"POST",contentType:"application/json",data:JSON.stringify(f),success:function(e){t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"]),t.trigger(i.REFRESH_ISSUE_PAGE,[u,{complete:function(){var t="comment-"+e.id;m("#"+t).scrollIntoView({marginBottom:200,marginTop:200});var i=m("#issue_actions_container > .issue-data-block.focused");i.removeClass("focused");var n=m("#"+t);n.addClass("focused"),s.remove(),d.enable(),v.resolve()}}])},error:function(t){function i(t){var i="<h2>"+"Error"+'</h2><div class="ajaxerror"><div class="aui-message error"><span class="aui-icon icon-warning"/>'+t+"</div></div>";return m(i)}var r,a=m.parseJSON(t.responseText);r=a&&a.errors&&a.errors.comment?i(a.errors.comment):n.buildDialogErrorContent(t),new o({content:r}).show(),s.remove(),d.enable(),v.reject()}});return s.appendTo(this.getForm().find("input[type=submit]").parent()),m.when(b,v)},getForm:function(){var e=m("form#issue-comment-add");return 1===e.length&&(this.$form=e),this.$form||m()},getField:function(){return this.getForm().find("#comment")},getSubmitButton:function(){return this.getForm().find("#issue-comment-add-submit")},hide:function(e){e&&this.cancel(),this.getForm().detach(),i.UNLOCK_PANEL_REFRESHING&&t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"])},show:function(){this.focus(),i.LOCK_PANEL_REFRESHING&&t.trigger(i.LOCK_PANEL_REFRESHING,["addcommentmodule"])},focus:function(){this.focusField(),this.setCaretAtEndOfCommentField()},focusField:function(){this.getField().focus().trigger("keyup"),this.getSubmitButton().scrollIntoView({marginBottom:200})},showNoCommentMsg:function(e){if(""===this.getField().val())return m("#emptyCommentErrMsg").show(),!0},cancel:function(){var e=this;setTimeout(function(){e.getField().val("")},100),m("#comment-preview_link.selected").click()}};return d});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/footer-comment.js' */
define("jira/viewissue/comment/footer-comment",["jira/viewissue/comment/comment-form","jquery"],function(e,t){var i=!1,n=!1,o={getModule:function(){return t("#addcomment")},isActive:function(){return this.getModule().hasClass("active")},hide:function(t){if(this.isActive()){var o=e.handleBrowseAway();(n||i||!o||confirm(o))&&(this.getModule().removeClass("active"),e.hide(t))}},ajaxSubmit:function(){i=!0,e.ajaxSubmit().then(function(){o.hide(!0)})},show:function(){this.isActive()?e.focusField():(i=!1,this.getModule().addClass("active"),this.appendForm(),e.show())},appendForm:function(){this.getModule().find(".mod-content").append(e.getForm())}};return o.setPreviewMode=function(e){n=Boolean(e)},o});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/init-comment-areas.js' */
define("jira/viewissue/init-comment-areas",["require"],function(e){var t=e("jira/viewissue/comment/comment-form"),n=e("jira/viewissue/comment/footer-comment"),i=e("jira/issue"),o=e("jquery"),a=e("jira/libs/parse-uri"),m=window.onbeforeunload,u={};u.openFooterComment=function(){n.show(),t.getForm().find("#commentLevel").bind("change",function(){t.setSubmitState()}),t.setSubmitState()},o(document).delegate("#addcomment #issue-comment-add","submit",function(e){n.ajaxSubmit(),e.preventDefault()}).delegate(".issue-header #comment-issue","click",function(e){n.show(),e.preventDefault()}).delegate("#footer-comment-button","click",function(e){u.openFooterComment(),e.preventDefault()}).delegate("#addcomment .cancel","click",function(e){e.preventDefault(),n.hide(!0)}).delegate("#issue-comment-add","submit",function(){window.setTimeout(function(){t.disable()},0)}).delegate("#issue-comment-add #comment","input",function(){t.setSubmitState()}).delegate("#issue-comment-add input[type='submit']","click",function(e){t.showNoCommentMsg()&&e.preventDefault()}).bind("showWikiInput",function(){n.setPreviewMode(!1);var e=t.getField();e.is(":visible:enabled")&&(i.getStalker().trigger("stalkerHeightUpdated"),e.length>0&&e.focus(),t.setCaretAtEndOfCommentField())}).bind("showWikiPreview",function(){n.setPreviewMode(!0),i.getStalker().trigger("stalkerHeightUpdated")}),window.onbeforeunload=function(){var e=void 0;return o.isFunction(m)&&(e=m.apply(this,arguments)),e||t.handleBrowseAway.apply(this,arguments)},o(function(){"add-comment"===a(window.location.href).anchor&&u.openFooterComment()})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/invoke-comment-trigger.js' */
define("jira/viewissue/invoke-comment-trigger",["jquery"],function(e){return function(){var i=e(".add-issue-comment");if(0!==i.length){var r=i.filter(".toolbar-trigger");r.length>0?r.click():i.click()}}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/namespace.js' */
AJS.namespace("JIRA.Issue.CommentForm",null,require("jira/viewissue/comment/comment-form")),AJS.namespace("JIRA.Issue.getDirtyCommentWarning",null,require("jira/viewissue/comment/comment-form").handleBrowseAway),AJS.namespace("JIRA.Issue.invokeCommentTrigger",null,require("jira/viewissue/invoke-comment-trigger"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initCustomFieldTabs.js' */
define("jira/viewissue/init-custom-field-tabs",["jira/util/logger","jira/util/events","jira/util/events/types","aui/tabs","jquery"],function(t,i,e,n,a){var r="#customfieldmodule",l=function(i){var e;"string"!=typeof i&&i.length>0||("#"!==i[0]&&(i="#"+i),t.log("activating tab",i),e=a("a[href='"+i+"']",r),e.length&&n.change(e))},u=function(t){var i=a(t.target).closest(".tabs-pane");i.length>0&&l(i.attr("id"))};a(function(){e.NEW_CONTENT_ADDED&&i.bind(e.NEW_CONTENT_ADDED,function(t,i){var e=i.find(r);e.unbind("reveal"),e.bind("reveal",u),n.setup()}),e.PANEL_REFRESHED&&i.bind(e.PANEL_REFRESHED,function(t,i,e,n){if("details-module"===i){var a=n.find(r).find(".active-tab");1===a.length&&l(a.find("a").attr("href"))}}),a(r).bind("reveal",u)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initSubtaskTimeLogging.js' */
define("jira/viewissue/init-subtask-time-logging",["jquery"],function(i){i(document).delegate("#tt_include_subtasks input","click",function(t){i(this).is(":checked")?(i("#tt_info_single").hide(),i("#tt_info_aggregate").show()):(i("#tt_info_aggregate").hide(),i("#tt_info_single").show())})});;
;
/* module-key = 'jira.webresources:viewissue', location = 'includes/jira/viewissue/ViewIssueTabs.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Issue&&(JIRA.Templates.Issue={}),"undefined"==typeof JIRA.Templates.Issue.Tabs&&(JIRA.Templates.Issue.Tabs={}),JIRA.Templates.Issue.Tabs.label=function(e,s){return"<strong>"+soy.$$escapeHtml(e.text)+"</strong>"},JIRA.Templates.Issue.Tabs.tab=function(e,s){return'<a id="'+soy.$$escapeHtml(e.id)+'" href="'+soy.$$escapeHtml(e.href)+'" class="'+soy.$$escapeHtml(e.linkClass)+'">'+JIRA.Templates.Issue.Tabs.label(e)+"</a>"};;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabsAnalytics.js' */
define("jira/viewissue/tabs/analytics",["jquery","jira/analytics","jira/util/strings","jira/viewissue/analytics-utils","jira/components/analytics-tracker/tracker","underscore"],function(e,t,a,n,i,s){function r(e){return m.indexOf(e)>-1?e:a.hashCode(e)}function c(e){return{tab:r(e.attr("data-key")),tabPosition:e.index()}}function l(e,t){return{inNewWindow:e,keyboard:t,context:n.context()}}function o(e){var t=e.attr("id");return!!t&&/\d+_thumb/.test(t)}function u(e){return e.hasClass("issue-link")?"issue":e.hasClass("external-link")?"external":o(e)?"attachment":"unknown"}function d(e,t,a,n){var r=e.closest(".mod-content").find("#issue-tabs li.active"),o=l(a,n);s.extend(o,c(r)),s.extend(o,{linkType:t}),i.trackEvent("viewissue","tab.link.clicked",o)}var m=["com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel","com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"];return{tabClicked:function(e,a,n){var r=e.parent(),o=s.extend({},l(a,n),c(r));t.send({name:"jira.viewissue.tab.clicked",data:o}),i.trackEvent("viewissue","tab.clicked",o)},buttonClicked:function(e,a,n){if(e.is("[data-tab-sort]")){var i=e.data("order"),r=e.parents(".tabwrap").find("li.active");t.send({name:"jira.viewissue.tabsort.clicked",data:s.extend({},l(a,n),c(r),{order:i})})}},permalinkClicked:function(e,t){i.trackEvent("viewissue","comment.permalink.click",{commentId:e,keyboard:t})},permalinkContextMenuOpened:function(e,t){i.trackEvent("viewissue","comment.permalink.contextmenu.opened",{commentId:e,keyboard:t})},tabItemDetailsLinkClicked:function(e,t,a){d(e,"profile",t,a)},tabItemBodyLinkClicked:function(e,t,a){d(e,u(e),t,a)}}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabs.js' */
define("jira/viewissue/tabs",["jira/util/logger","jira/util/formatter","jquery","jira/jquery/deferred","jira/util/data/meta","jira/dialog/form-dialog","jira/ajs/ajax/smart-ajax","jira/userhover/userhover","jira/viewissue/tabs/analytics"],function(t,e,i,a,n,r,o,s,c){function u(t){t=t||document,i.each(F,function(e,i){i(t)})}function l(t){var e=i(t).find(".issuePanelWrapper"),a=i(t).find("#issue_actions_container");q=a.length?a:q,_=e.length?e:_}function f(t,e){var i=new r({id:"issue-tab-error-dialog",widthClass:"small",content:o.buildDialogErrorContent(t,!1)});d(e),q.show(),i.show()}function d(t){i("#issue-tabs li").each(function(){var e=i(this),a=e.data("key"),n=e.data("label");if(a==t)e.addClass("active"),e.html(D.label({text:n}));else{e.removeClass("active");var r=e.data("id"),o=e.data("href");e.html(D.tab({id:r,href:o,linkClass:J,text:n}))}}),k(i("#issue-tabs"))}function h(t){d(t)}function v(t,e){var i=t.pageX,a=t.pageY,n=e.offset(),r=e.outerWidth(),o=e.outerHeight();return 0==i&&0==a||!(i>=n.left&&i<=n.left+r&&a>=n.top&&a<=n.top+o)}function m(){var t=i("#issue_actions_container");p(t,"action-details","viewIssueTabDetailsLink",c.tabItemDetailsLinkClicked),p(t,"action-body","viewIssueTabBodyLink",c.tabItemBodyLinkClicked)}function p(t,e,a,n){var r="."+e+" a";t.find(r).off("click."+a).on("click."+a,function(t){var e=i(this),a=t.metaKey,r=v(t,e);n(e,a,r)})}function b(){var t=i('[id^="permlink_comment"]');t.off("click").on("click",function(t){var e=g(t.target),a=i(this),n=v(t,a);c.permalinkClicked(e,n)}),t.off("contextmenu").on("contextmenu",function(t){var e=g(t.target),a=i(this),n=v(t,a);c.permalinkContextMenuOpened(e,n)})}function g(t){var e=i(t).closest('[id^="permlink_comment"]').attr("id"),a=e.split("_").pop();return a}function k(t){var e=i(t).find("li.active").data("key");i(t).find(E).off("click.viewIssueTabs").on("click.viewIssueTabs",function(t){var a=i(this),n=v(t,a),r=a.parent().data("key"),o=t.metaKey;r?c.tabClicked(a,o,n):c.buttonClicked(a,o,n),o||(t.preventDefault(),r&&h(r),y(e,a.attr("href")).done(function(t){n&&(r?t.find("#"+a.attr("id")+" > :first-child").focus():t.find(".sortwrap  > :first-child").focus())}).done(u))})}function y(e,n){var r=a();L&&L.abort();var s=o.makeRequest({jqueryAjaxFn:R?i.pjax:i.ajax,headers:{"X-PJAX":!0},container:S,url:n,timeout:null,complete:function(a,n,o){if("abort"!=n){if(L=null,!o.successful)return void((o.status<300||o.status>=400)&&f(o,e));var s=i(this.container),c=document.createElement("div");c.innerHTML=o.data;var u=document.createDocumentFragment().appendChild(c);R||j(s,u),t.trace("jira.issue.tab.loaded"),r.resolve(s)}}});return i(s).throbber({target:_}),L=s,r}function j(t,e){var a=e.querySelectorAll(".tabwrap"),n=t.find(".tabwrap"),r=i(e.querySelectorAll("#issue_actions_container")).contents(),o=q.contents();if(a.length&&n.length&&r.length&&o.length){n.replaceWith(a),q.stop(!0,!0);var s=q.height();q.append(r);var c=q.height()-s,u=s-c;u>0?(q.css("height",c+u),o.remove(),w(c,u)):q.empty().append(r),i(e.querySelectorAll("script")).each(function(){i.globalEval(this.text||this.textContent||this.innerHTML||"")})}else t.empty().append(e)}function w(t,e){var i=150,a=800,n=e/a*1e3;setTimeout(function(){q.animate({height:t+1},n,"easeOutQuart",function(){q.css("height","auto")})},i)}function x(t){i(t).find(E).each(function(){var t=i(this);t.attr("href",t.attr("href")+"#issue-tabs")})}function C(t){!R||i.support.pjax?k(t):x(t)}function T(t){i(t).bind("moveToFinished",function(t,e){i("a.twixi:visible",e).focus()})}function I(t){t.find("time.livestamp").livestamp()}function A(t){i.inArray(t,F)<0&&F.push(t)}var _,q,L,D=JIRA.Templates.Issue.Tabs,R=n.get("viewissue-use-history-api")!==!1,J="ajax-activity-content",S="#activitymodule div.mod-content",E=e.format("a.{0}",J),F=[];return A(l),A(C),A(T),A(s),A(I),A(m),A(b),{onTabReady:A,domReady:u}}),AJS.namespace("JIRA.ViewIssueTabs",null,require("jira/viewissue/tabs"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewIssueTabs.js' */
define("jira/viewissue/init-view-issue-tabs",["require"],function(i){var e=i("jquery"),n=i("jira/util/events"),s=i("jira/util/events/types"),t=i("jira/viewissue/tabs");e(function(){s.PANEL_REFRESHED&&n.bind(s.PANEL_REFRESHED,function(i,e,n,s){if("activitymodule"===e){var t=s.find("#issue_actions_container > .issue-data-block.focused");1===t.length&&n.find("#"+t.attr("id")).addClass("focused")}})}),n.bind(s.NEW_CONTENT_ADDED,function(i,e){t.domReady(e)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewissue.js' */
require(["jira/viewissue/element/shorten","jira/viewissue/element/image-wrap","jira/viewissue/watchers-voters/watchers","jira/viewissue/watchers-voters/voters","jira/viewissue/watchers-voters/toggler","jira/viewissue/init-comment-areas","jira/viewissue/init-subtask-time-logging","jira/viewissue/init-toggle-block","jira/viewissue/init-custom-field-tabs","jira/viewissue/init-view-issue-tabs"],function(){});;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-1.4.1-factory', location = 'atlassian-jslibs/factories/marionette/1.4.1/marionette-1.4.1-factory.js' */
!function(e){define("atlassian/libs/factories/marionette-1.4.1",function(){return function(t,i){var n=i.Marionette,r={_:t,Backbone:i};e.call(r);var o=i.Marionette;return o.VERSION="1.4.1",i.Marionette=n,o}})}(function(){var e=this.Backbone,t=this._,i=function(e,t){var i=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(i.prototype,{add:function(e,t){var i=e.cid;this._views[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this._updateLength()},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var i=e.cid;e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===i)return delete this._indexByCustom[t],!0},this),delete this._views[i],this._updateLength()},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,i){t.each(this._views,function(n){t.isFunction(n[e])&&n[e].apply(n,i||[])})},_updateLength:function(){this.length=t.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(n,function(e){i.prototype[e]=function(){var i=t.values(this._views),n=[i].concat(t.toArray(arguments));return t[e].apply(t,n)}}),i}(e,t),n=function(e,t,i){"use strict";var n={};return n.Handlers=function(e,t){var i=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return i.extend=e.Model.extend,t.extend(i.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,i){var n=null;t.isObject(e)&&!t.isFunction(e)&&(n=e.context,e=e.callback),this.setHandler(i,e,n)},this)},setHandler:function(e,t,i){var n={callback:t,context:i};this._wreqrHandlers[e]=n,this.trigger("handler:add",e,t,i)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(e,i),n.CommandStorage=function(){var t=function(e){this.options=e,this._commands={},i.isFunction(this.initialize)&&this.initialize(e)};return i.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var i=this.getCommands(e);i.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),t}(),n.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,i)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,n){var r=this.storage.getCommands(e);i.each(r.instances,function(e){t.apply(n,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,n=e.storageType||this.storageType;t=i.isFunction(n)?new n:n,this.storage=t}})}(n),n.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(n),n.EventAggregator=function(e,t){var i=function(){};return i.extend=e.Model.extend,t.extend(i.prototype,e.Events),i}(e,i),n}(e,e.Marionette,t);(function(e,t,r){"use strict";function o(e){return a.call(e)}function s(e,t){var i=new Error(e);throw i.name=t||"Error",i}var h={};t.Marionette=h,h.$=t.$;var a=Array.prototype.slice;return h.extend=t.Model.extend,h.getOption=function(e,t){if(e&&t){var i;return i=e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},h.triggerMethod=function(){function e(e,t,i){return i.toUpperCase()}var t=/(^|:)(\w)/gi,i=function(i){var n="on"+i.replace(t,e),o=this[n];if(r.isFunction(this.trigger)&&this.trigger.apply(this,arguments),r.isFunction(o))return o.apply(this,r.tail(arguments))};return i}(),h.MonitorDOMRefresh=function(){function e(e){e._isShown=!0,i(e)}function t(e){e._isRendered=!0,i(e)}function i(e){e._isShown&&e._isRendered&&r.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}return function(i){i.listenTo(i,"show",function(){e(i)}),i.listenTo(i,"render",function(){t(i)})}}(),function(e){function t(e,t,i,n){var o=n.split(/\s+/);r.each(o,function(n){var r=e[n];r||s("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,r,e)})}function i(e,t,i,n){e.listenTo(t,i,n,e)}function n(e,t,i,n){var o=n.split(/\s+/);r.each(o,function(n){var r=e[n];e.stopListening(t,i,r,e)})}function o(e,t,i,n){e.stopListening(t,i,n,e)}function h(e,t,i,n,o){t&&i&&(r.isFunction(i)&&(i=i.call(e)),r.each(i,function(i,s){r.isFunction(i)?n(e,t,s,i):o(e,t,s,i)}))}e.bindEntityEvents=function(e,n,r){h(e,n,r,i,t)},e.unbindEntityEvents=function(e,t,i){h(e,t,i,o,n)}}(h),h.Callbacks=function(){this._deferred=h.$.Deferred(),this._callbacks=[]},r.extend(h.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(i,n){t&&(i=t),e.call(i,n)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=h.$.Deferred(),this._callbacks=[],r.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),h.Controller=function(e){this.triggerMethod=h.triggerMethod,this.options=e||{},r.isFunction(this.initialize)&&this.initialize(this.options)},h.Controller.extend=h.extend,r.extend(h.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),h.Region=function(e){if(this.options=e||{},this.el=h.getOption(this,"el"),!this.el){var t=new Error("An 'el' must be specified for a region.");throw t.name="NoElError",t}if(this.initialize){var i=Array.prototype.slice.apply(arguments);this.initialize.apply(this,i)}},r.extend(h.Region,{buildRegion:function(e,t){var i="string"==typeof e,n="string"==typeof e.selector,o="undefined"==typeof e.regionType,s="function"==typeof e;if(!s&&!i&&!n)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");var h,a;i&&(h=e),e.selector&&(h=e.selector),s&&(a=e),!s&&o&&(a=t),e.regionType&&(a=e.regionType);var l=new a({el:h});return e.parentEl&&(l.getEl=function(t){var i=e.parentEl;return r.isFunction(i)&&(i=i()),i.find(t)}),l}}),r.extend(h.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||r.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,h.triggerMethod.call(this,"show",e),h.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return h.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),h.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),h.Region.extend=h.extend,h.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return r.each(e,function(e,n){"string"==typeof e&&(e={selector:e}),e.selector&&(e=r.defaults({},e,t));var o=this.addRegion(n,e);i[n]=o},this),i},addRegion:function(t,i){var n,o=r.isObject(i),s=r.isString(i),h=!!i.selector;return n=s||o&&h?e.Region.buildRegion(i,e.Region):r.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,n),this.triggerMethod("region:add",t,n),n},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){r.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){r.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);e.Controller.prototype.close.apply(this,t)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=r.size(this._regions)}}),i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return r.each(i,function(e){t.prototype[e]=function(){var t=r.values(this._regions),i=[t].concat(r.toArray(arguments));return r[e].apply(r,i)}}),t}(h),h.TemplateCache=function(e){this.templateId=e},r.extend(h.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new h.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=o(arguments),i=t.length;if(i>0)for(e=0;e<i;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),r.extend(h.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=h.$(e).html();return t&&0!==t.length||s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return r.template(e)}}),h.Renderer={render:function(e,t){if(!e){var i=new Error("Cannot render the template since it's false, null or undefined.");throw i.name="TemplateNotFoundError",i}var n;return(n="function"==typeof e?e:h.TemplateCache.get(e))(t)}},h.View=t.View.extend({constructor:function(e){r.bindAll(this,"render");var i=Array.prototype.slice.apply(arguments);this.options=r.extend({},this.options,e),this.events=this.normalizeUIKeys(r.result(this,"events")),t.View.prototype.constructor.apply(this,i),h.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:h.triggerMethod,getTemplate:function(){return h.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=h.getOption(this,"templateHelpers");return r.isFunction(t)&&(t=t.call(this)),r.extend(e,t)},normalizeUIKeys:function(e){if("undefined"!=typeof e)return r.each(r.keys(e),function(t){var i=t.split("@ui.");2===i.length&&(e[i[0]+this.ui[i[1]]]=e[t],delete e[t])},this),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(r.result(this,"triggers"));return r.each(t,function(t,i){var n=r.isObject(t),o=n?t.event:t;e[i]=function(e){if(e){var i=e.preventDefault,r=e.stopPropagation,s=n?t.preventDefault:i,h=n?t.stopPropagation:r;s&&i&&i.apply(e),h&&r&&r.apply(e)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(o,a)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),h.bindEntityEvents(this,this.model,h.getOption(this,"modelEvents")),h.bindEntityEvents(this,this.collection,h.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,r.isFunction(e)&&(e=e.call(this));var i={},n=this.configureTriggers();r.extend(i,e,n),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),h.unbindEntityEvents(this,this.model,h.getOption(this,"modelEvents")),h.unbindEntityEvents(this,this.collection,h.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=this.triggerMethod("before:close");e!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=r.result(this,"_uiBindings");this.ui={},r.each(r.keys(e),function(t){var i=e[t];this.ui[t]=this.$(i)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(r.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),h.ItemView=h.View.extend({constructor:function(){h.View.prototype.constructor.apply(this,o(arguments))},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),i=h.Renderer.render(t,e);return this.$el.html(i),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),h.View.prototype.close.apply(this,o(arguments)),this.triggerMethod("item:closed"))}}),h.CollectionView=h.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),h.View.prototype.constructor.apply(this,o(arguments)),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment()},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.appendBuffer(this,this.elBuffer),this.initRenderBuffer(),this.isBuffering=!1},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(e,t,i){this.closeEmptyView();var n=this.getItemView(e),r=this.collection.indexOf(e);this.addItemView(e,n,r)},onShowCalled:function(){this.children.each(function(e){h.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,i){e=this.getItemView(t),this.addItemView(t,e,i)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var i=new t.Model;this.addItemView(i,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return h.getOption(this,"emptyView")},getItemView:function(e){var t=h.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var n=h.getOption(this,"itemViewOptions");r.isFunction(n)&&(n=n.call(this,e,i));var o=this.buildItemView(e,t,n);this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,i),this._isShown&&h.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o)},addChildViewEventForwarding:function(e){var t=h.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var i=o(arguments);i[0]=t+":"+i[0],i.splice(1,0,e),h.triggerMethod.apply(this,i)},this)},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){var n=r.extend({model:e},i);return new t(n)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,i){e.isBuffering?e.elBuffer.appendChild(t.el):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new i},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),h.View.prototype.close.apply(this,o(arguments)))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),h.CompositeView=h.CollectionView.extend({constructor:function(){h.CollectionView.prototype.constructor.apply(this,o(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},getItemView:function(e){var t=h.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(h.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return h.Renderer.render(t,e)},appendBuffer:function(e,t){var i=this.getItemViewContainer(e);i.append(t)},appendHtml:function(e,t,i){if(e.isBuffering)e.elBuffer.appendChild(t.el);else{var n=this.getItemViewContainer(e);n.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=h.getOption(e,"itemViewContainer");if(i){var n=r.isFunction(i)?i():i;t=e.$(n),t.length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),h.Layout=h.ItemView.extend({regionType:h.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),h.ItemView.prototype.constructor.call(this,e)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var e=Array.prototype.slice.apply(arguments),t=h.ItemView.prototype.render.apply(this,e);return t},close:function(){if(!this.isClosed){this.regionManager.close();var e=Array.prototype.slice.apply(arguments);h.ItemView.prototype.close.apply(this,e)}},addRegion:function(e,t){var i={};return i[e]=t,this._buildRegions(i)[e]},addRegions:function(e){return this.regions=r.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,i={regionType:h.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,i)},_initializeRegions:function(e){var t;this._initRegionManager(),t=r.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new h.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),h.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,o(arguments)),this.options=e||{};var i=h.getOption(this,"appRoutes"),n=this._getController();this.processAppRoutes(n,i)},appRoute:function(e,t){var i=this._getController();this._addAppRoute(i,e,t)},processAppRoutes:function(e,t){if(t){var i=r.keys(t).reverse();r.each(i,function(i){this._addAppRoute(e,i,t[i])},this)}},_getController:function(){return h.getOption(this,"controller")},_addAppRoute:function(e,t,i){var n=e[i];if(!n)throw new Error("Method '"+i+"' was not found on the controller");this.route(t,i,r.bind(n,e))}}),h.Application=function(e){this._initRegionManager(),this._initCallbacks=new h.Callbacks,this.vent=new n.EventAggregator,this.commands=new n.Commands,this.reqres=new n.RequestResponse,this.submodules={},r.extend(this,e),this.triggerMethod=h.triggerMethod},r.extend(h.Application.prototype,t.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var i=o(arguments);return i.unshift(this),h.Module.create.apply(h.Module,i)},_initRegionManager:function(){this._regionManager=new h.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),h.Application.extend=h.extend,h.Module=function(e,t){this.moduleName=e,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=h.triggerMethod},r.extend(h.Module.prototype,t.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(r.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,h.triggerMethod.call(this,"before:stop"),r.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),h.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var n=r.flatten([this,this.app,t,h,h.$,r,i]);e.apply(this,n)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new h.Callbacks,this._finalizerCallbacks=new h.Callbacks}}),r.extend(h.Module,{create:function(e,t,i){var n=e,s=o(arguments);s.splice(0,3),t=t.split(".");var h=t.length,a=[];return a[h-1]=i,r.each(t,function(t,i){var r=n;n=this._getModule(r,t,e),this._addModuleDefinition(r,n,a[i],s)},this),n},_getModule:function(e,t,i,n,r){var o=e[t];return o||(o=new h.Module(t,i),e[t]=o,e.submodules[t]=o),o},_addModuleDefinition:function(e,t,i,n){var o,s;r.isFunction(i)?(o=i,s=!0):r.isObject(i)?(o=i.define,s=i.startWithParent):s=!0,o&&t.addDefinition(o,n),t.startWithParent=t.startWithParent&&s,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),h.Wreqr=n,h.ChildViewContainer=i,h})(this,e,t)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone', location = 'jira-issue-navigator-components-module/libs/backbone.js' */
define("jira/components/libs/backbone",["require"],function(e){"use strict";var n=e("atlassian/libs/factories/backbone-1.0.0"),r=e("jira/components/libs/underscore"),i=e("jquery");return n(r,i)});
//# sourceMappingURL=backbone-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/marionette-1.4.1.js' */
define("jira/components/libs/marionette-1.4.1",["require"],function(e){"use strict";var i=e("atlassian/libs/factories/marionette-1.4.1"),n=e("jira/components/libs/backbone"),r=e("jira/components/libs/underscore");return i(r,n)});
//# sourceMappingURL=marionette-1.4.1-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Mixins.js' */
define("jira/components/libs/marionette-1.4.1/mixins",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore");return{listenAndRethrow:function(e,i){i=[].concat(i),t.each(i,function(i){this.listenTo(e,i,function(){this.trigger.apply(this,[i].concat(t.toArray(arguments)))},this)},this)},triggerPreventable:function(e,i){var n=t.defaults({},i||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});return this.trigger(e,n),n}}}),AJS.namespace("JIRA.Marionette.Mixins",null,require("jira/components/libs/marionette-1.4.1/mixins"));
//# sourceMappingURL=Mixins-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/LinkRegion.js' */
define("jira/components/libs/marionette-1.4.1/linkregion",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1");return n.Region.extend({open:function(e){this.$el.append(e.$el.children()),e.setElement(this.$el)}})}),AJS.namespace("JIRA.Marionette.LinkRegion",null,require("jira/components/libs/marionette-1.4.1/linkregion"));
//# sourceMappingURL=LinkRegion-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/ReplaceRegion.js' */
define("jira/components/libs/marionette-1.4.1/replaceregion",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1");return n.Region.extend({open:function(e){this.$el.replaceWith(e.el)}})}),AJS.namespace("JIRA.Marionette.ReplaceRegion",null,require("jira/components/libs/marionette-1.4.1/replaceregion"));
//# sourceMappingURL=ReplaceRegion-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Controller.js' */
define("jira/components/libs/marionette-1.4.1/controller",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore"),r=e("jira/components/libs/marionette-1.4.1"),o=e("jira/components/libs/marionette-1.4.1/mixins"),t=r.Controller.extend({});return n.extend(t.prototype,o),t}),AJS.namespace("JIRA.Marionette.Controller",null,require("jira/components/libs/marionette-1.4.1/controller"));
//# sourceMappingURL=Controller-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/ItemView.js' */
define("jira/components/libs/marionette-1.4.1/itemview",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1");return t.ItemView.extend({renderTemplate:function(){var e=this.serializeData();e=this.mixinTemplateHelpers(e);var i=this.getTemplate(),n=t.Renderer.render(i,e);return t.$(n)},applyToDom:function(){this.delegateEvents(),this.bindUIElements(),this.triggerMethod("applyToDom")},unwrapTemplate:function(){if(this.$el.parent().length){var e=this.$el.children();this.$el.replaceWith(e),this.setElement(e)}else this.setElement(this.$el.children())}})}),AJS.namespace("JIRA.Marionette.ItemView",null,require("jira/components/libs/marionette-1.4.1/itemview"));
//# sourceMappingURL=ItemView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/CollectionView.js' */
define("jira/components/libs/marionette-1.4.1/collectionview",["require"],function(e){"use strict";var n=e("jira/components/libs/marionette-1.4.1"),t=e("jira/components/libs/marionette-1.4.1/itemview");return n.CollectionView.extend({_appendHtmlWithIndex:function(e,n,t){var i=e.children(),o=i.length;t<=0?e.prepend(n.$el):!o||t>=o?e.append(n.$el):n.$el.insertBefore(i.eq(t))},appendHtml:function(e,n,t){this._appendHtmlWithIndex(e.$el,n,t)},unwrapTemplate:function(){t.prototype.unwrapTemplate.call(this)}})}),AJS.namespace("JIRA.Marionette.CollectionView",null,require("jira/components/libs/marionette-1.4.1/collectionview"));
//# sourceMappingURL=CollectionView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/CompositeView.js' */
define("jira/components/libs/marionette-1.4.1/compositeview",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1"),i=e("jira/components/libs/marionette-1.4.1/collectionview"),n=e("jira/components/libs/marionette-1.4.1/itemview");return t.CompositeView.extend({appendHtml:function(e,t,n){i.prototype._appendHtmlWithIndex(this.getItemViewContainer(e),t,n)},unwrapTemplate:function(){n.prototype.unwrapTemplate.call(this)}})}),AJS.namespace("JIRA.Marionette.CompositeView",null,require("jira/components/libs/marionette-1.4.1/compositeview"));
//# sourceMappingURL=CompositeView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Layout.js' */
define("jira/components/libs/marionette-1.4.1/layout",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jira/components/libs/marionette-1.4.1"),n=e("jira/components/libs/marionette-1.4.1/mixins"),o=i.Layout.extend({applyToDom:function(){this.delegateEvents(),this.bindUIElements(),this._reInitializeRegions(),this.triggerMethod("applyToDom")}});return t.extend(o.prototype,n),o}),AJS.namespace("JIRA.Marionette.Layout",null,require("jira/components/libs/marionette-1.4.1/layout"));
//# sourceMappingURL=Layout-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/Application.js' */
define("jira/components/libs/marionette-1.4.1/application",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),n=t("jira/components/libs/marionette-1.4.1");return n.Application.extend({constructor:function(t){n.Application.call(this,t)},start:function(t){t&&t.forceStop===!1||this.stop(),n.Application.prototype.start.call(this,t)},stop:function(){i.invoke(this.submodules,"stop")}})}),AJS.namespace("JIRA.Marionette.Application",null,require("jira/components/libs/marionette-1.4.1/application"));
//# sourceMappingURL=Application-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/AppModule.js' */
define("jira/components/libs/marionette-1.4.1/appmodule",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore"),t=e("jira/components/libs/marionette-1.4.1"),i=e("jira/components/libs/marionette-1.4.1/mixins"),r=function(){this.definition=this.definition.bind(this)};return r.extend=t.extend,n.extend(r.prototype,{create:function(){throw new Error("create() must be implemented by AppModules")},generateMasterRequest:!1,name:"",commands:{},requests:{},events:[],definition:function(e,t){var i=this.name,r=this;if(!i)throw new Error("'name' must be defined by AppModules");e.addInitializer(function(){function e(e){n.isFunction(e)&&(e=e(s));var t={};return n.each(e,function(e,n){e===!0&&(e=s[n].bind(s)),n=n&&i?i+":"+n:i,t[n]=e}),t}function o(e,t){n.isFunction(t)&&(t=t(s)),n.each(t,function(t){var r=i+":"+t;e.listenTo(s,t,function(){this.trigger.apply(this,[r].concat(n.toArray(arguments)))})})}var s=r.create.apply(r,n.toArray(arguments)),a=e(r.commands),u=e(r.requests);r.generateMasterRequest&&n.extend(u,e({"":function(){return s}})),t.commands.setHandlers(a),t.reqres.setHandlers(u),o(t,r.events)})}}),n.extend(r.prototype,i),r}),AJS.namespace("JIRA.Marionette.AppModule",null,require("jira/components/libs/marionette-1.4.1/appmodule"));
//# sourceMappingURL=AppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/DialogView.js' */
define("jira/components/libs/marionette-1.4.1/dialogview",["require"],function(i){"use strict";var e=i("jira/components/libs/underscore"),t=i("jira/components/libs/marionette-1.4.1"),s=i("jira/components/libs/marionette-1.4.1/itemview"),o=i("aui/message"),r=i("jira/dialog/form-dialog"),a=i("jquery"),n=i("jira/ajs/ajax/smart-ajax"),d=i("jira/dialog/dialog"),l=i("jira/components/utils/ajshelper");return s.extend({dialog:null,template:a.noop,_generateDialog:function(){var i=this.serializeData(),s=this.getTemplate(),o={id:this.id,content:function(e){e(s(i))},submitHandler:this._generateSubmissionXHR.bind(this)},a=t.getOption(this,"dialogOptions");return e.isFunction(a)&&(a=a.apply(this)),new r(e.extend(o,a))},render:function(){return this.isClosed=!1,this.triggerMethod("before:render",this),this.dialog=this._generateDialog(),this.dialog.show(),this.$el=this.dialog.get$popup(),a(this.dialog).on("Dialog.hide",function(i,e,t){t!==d.HIDE_REASON.cancel&&t!==d.HIDE_REASON.escape||this.close()}.bind(this)),this.triggerMethod("render",this),this},close:function(){if(!this.isClosed){var i=this.triggerMethod("before:close");i!==!1&&(a(this.dialog).off("Dialog.hide"),this.dialog.hide(!0),this.dialog.destroy(),this.isClosed=!0,this.triggerMethod("close"),a("#search-header-view button.save-as-new-filter").focus(),this.remove())}},_generateSubmissionXHR:function(i,s){i.preventDefault();var o=this.dialog.$form,r=t.getOption(this,"formToRequestData");e.isFunction(r)&&(r=r.call(this,o));var a=n.makeRequest({type:o.attr("method"),url:o.attr("action"),contentType:"application/json",dataType:"json",processData:!1,data:JSON.stringify(r)}).done(s).done(this._onSubmitSuccess.bind(this)).fail(this._onSubmitError.bind(this));return a},_onSubmitSuccess:function(i){this.triggerMethod("submit:success",i),this.close()},_onSubmitError:function(i){this.dialog.getButtonsContainer().find("input").removeAttr("disabled"),this.dialog.hideFooterLoadingIndicator(),this.dialog.$form.removeClass("submitting"),this._showErrorFromXHR(i),this.triggerMethod("submit:error")},_displayFieldErrors:function(i){var t=this.dialog.$popup;e.each(i,function(i,e){t.find("#"+e).after("<div class='error'>"+l.escapeHtml(i)+"</div>")})},_displayGenericErrors:function(i){var t=this.dialog.$popup.find(".aui-messages");e.each(i,function(i){var e={closeable:!0,timeout:5};e.body=l.escapeHtml(i),e.shadowed=!1,o.error(t,e)})},_displayXHRErrors:function(i){var e=this.dialog.$popup.find(".aui-messages");e.append(n.buildDialogErrorContent(i,!0))},_showErrorFromXHR:function(i){this._removeErrorMessages();var e;try{e=JSON.parse(i.responseText)}catch(t){e=null}e?(this._displayFieldErrors(e.errors),this._displayGenericErrors(e.errorMessages)):this._displayXHRErrors(i)},_removeErrorMessages:function(){this.dialog.$popup.find(".error").remove(),this.dialog.$popup.find(".aui-messages").empty()}})}),AJS.namespace("JIRA.Marionette.DialogView",null,require("jira/components/libs/marionette-1.4.1/dialogview"));
//# sourceMappingURL=DialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'jira-issue-navigator-components-module/libs/mariontte-1.4.1-mixins/InlineDialogView.js' */
define("jira/components/libs/marionette-1.4.1/inlinedialogview",["require"],function(i){"use strict";var e=i("jira/components/libs/underscore"),t=i("jira/components/libs/marionette-1.4.1"),n=i("jira/components/libs/marionette-1.4.1/itemview"),o=i("jquery"),s=i("aui/inline-dialog");return n.extend({dialog:null,template:o.noop,_getDialogOptions:function(){var i={noBind:!0},n=t.getOption(this,"dialogOptions")||{};return e.isFunction(n)&&(n=n.apply(this)),n=e.extend({},i,n),n.hideCallback=function(){this.close()}.bind(this),n},_getTrigger:function(){var i=t.getOption(this,"trigger");return e.isFunction(i)&&(i=i.apply(this)),i},_generateDialog:function(){var i=this.serializeData(),e=this.getTemplate(),t=this._getDialogOptions(),n=this._getTrigger();return new s(n,this.id,function(t,n,o){t.html(e(i)),o()},t)},render:function(){return this.isClosed=!1,this.triggerMethod("before:render",this),this.dialog=this._generateDialog(),this.$el=this.dialog,this.id=this.dialog.id,this.dialog.show(),this.triggerMethod("render",this),this},close:function(){if(!this.isClosed){var i=this.triggerMethod("before:close");i!==!1&&(this.dialog.hide(),this.isClosed=!0,this.triggerMethod("close"),this.remove())}}})}),AJS.namespace("JIRA.Marionette.InlineDialogView",null,require("jira/components/libs/marionette-1.4.1/inlinedialogview"));
//# sourceMappingURL=InlineDialogView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:lib', location = 'jira-issue-navigator-components-module/namespaces.js' */
JIRA.Components=JIRA.Components||{},JIRA.Issues=JIRA.Issues||{},JIRA.Events=JIRA.Events||{};
//# sourceMappingURL=namespaces-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:brace-2014.09.03-factory', location = 'atlassian-jslibs/factories/brace/2014.09.03/brace-2104.09.03-factory.js' */
!function(t){define("atlassian/libs/factories/brace-2014.09.03",function(){return function(e,n){var i={_:e,Backbone:n};t.call(i);var r=i.Brace.noConflict();return r.VERSION="2014.09.03",r}})}(function(){/*!
     *  Backbone Brace - 2014-06-27
     *  Copyright 2014 Atlassian Software Systems Pty Ltd
     *  Licensed under the Apache License, Version 2.0
     */
!function(t,e){var n="Brace",i=t[n],r=function(){return t[n]=i,this},o=e(t._,t.Backbone);o.noConflict=r,t[n]=o}(this,function(t,e){function n(e){return t.isArray(e)?t.reduce(e,function(t,e){return t[e]=null,t},{}):e}function i(e,n){if(!e||null==n)return n;if(e===String&&t.isString(n))return n;if(e===Number&&t.isNumber(n))return n;if(e===Boolean&&t.isBoolean(n))return n;if("string"==typeof e||e instanceof String){if(typeof n!=""+e)throw"The typeof "+n+" is "+typeof n+" but expected it to be "+e;return n}if(t.isArray(e)||e===Array){if(!o(n))throw"Array type expected, but nonnull, non-Array value provided.";return e!==Array&&e[0]?t.map(n,t.bind(i,null,e[0])):n}if("function"!=typeof e)throw"Invalid expected type "+e+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return n instanceof e?n:new e(r(e)?i([e.model],n):n)}function r(t,n){return t&&(t.__super__ instanceof(n||e.Collection)||t.__super__===(n||e.Collection).prototype||t===(n||e.Collection))}function o(n){return t.has(n,"length")&&!(n instanceof String||t.has({string:1,function:1},typeof n)||n instanceof e.Collection)}function a(e,n){var i={};return t.each(e,function(t,e){if(n[e]&&!s(t,n[e])){if(!t||s(n[e],t))return;throw e+" has conflicted type descriptors."}i[e]=t}),i}function s(t,e){return!e||e===t||!(!t||"string"==typeof t)&&(t instanceof Array?e===Array||e instanceof Array&&s(t[0],e[0]):"function"==typeof e&&(r(e)?r(t,e):t.prototype instanceof e))}function u(e){return t.isObject(e)?t.reduce(e,function(e,n,i){return n&&t.isFunction(n.toJSON)?e[i]=n.toJSON():t.isArray(n)&&(e[i]=t.map(n,function(e){return e&&t.isFunction(e.toJSON)?e.toJSON():e})),e},e):e}function c(t){return function(){var e=t.call(this);return u(e)}}function f(e){return function i(r,o){var a,s,u=t.extend({},r);return r&&r.mixins&&(s=r.mixins,delete u.mixins),a=e.call(this,u,o),this.prototype.namedEvents&&h.Mixins.applyMixin(a,{namedEvents:this.prototype.namedEvents}),this.prototype.namedAttributes&&h.Mixins.applyMixin(a,{namedAttributes:this.prototype.namedAttributes}),s&&t.each(r.mixins,function(t){h.Mixins.applyMixin(a,t)}),a.prototype.namedEvents&&h.Mixins.applyMixin(a,h.EventsMixinCreator.create(a.prototype.namedEvents)),a.prototype.namedAttributes&&(a.prototype.namedAttributes=n(a.prototype.namedAttributes),h.Mixins.applyMixin(a,h.AttributesMixinCreator.create(a.prototype.namedAttributes,a.prototype.idAttribute))),a.prototype.toJSON&&(a.prototype.toJSON=c(a.prototype.toJSON)),a.extend=i,a}}function p(e,n){var r=e.prototype,o=n.prototype,a=r.set;o.set=function(e,n,r){var o,s=this.namedAttributes;if(!s||null==e)return a.apply(this,arguments);t.isObject(e)?(o=t.clone(e),r=n):(o={},o[e]=n);for(var u in o)if(t.has(o,u)){if(!t.has(s,u))throw"Attribute '"+u+"' does not exist";o[u]=i(s[u],o[u])}return a.call(this,o,r)};var s=r.get;o.get=function(e){if(this.namedAttributes&&!t.has(this.namedAttributes,e))throw"Attribute '"+e+"' does not exist";return s.apply(this,arguments)}}function d(e,n){var i=e.prototype,r=n.prototype,o=i.parse;r.parse=function(e,n){return t.pick(o(e,n),t.keys(this.namedAttributes))}}function l(t){var e=t.extend(),n=t.extend;return e.extend=f(n),e}function y(t){var e=l(t);return p(t,e),d(t,e),e}var h={};h.Mixins={createMethodName:function(t,e){return t+e.charAt(0).toUpperCase()+e.substr(1)},applyMixin:function(e,i){t.forEach(t.keys(i),function(r){var o=e.prototype;if("initialize"===r){var s=o.initialize;return void(o.initialize=function(){s&&s.apply(this,arguments),i.initialize.apply(this,arguments)})}if("validate"===r){var u=o.validate;return void(o.validate=function(){if(u){var t=u.apply(this,arguments);if(t)return t}return i.validate.apply(this,arguments)})}if("defaults"!==r){if("namedAttributes"===r){var c=n(o.namedAttributes)||{},f=n(i[r]);return void(o.namedAttributes=t.extend(c,a(f,c)))}if("namedEvents"===r){if(!t.isArray(i[r]))throw"Expects events member on mixin to be an array";return o.namedEvents||(o.namedEvents=[]),void(o.namedEvents=t.uniq(o.namedEvents.concat(i[r])))}if(o.hasOwnProperty(r))throw"Mixin error: class already has property '"+r+"' defined";o[r]=i[r]}else{var p=o.defaults||(o.defaults={}),d=i[r];for(var l in d){if(p.hasOwnProperty(l))throw"Mixin error: class already has default '"+l+"' defined";p[l]=d[l]}}},this)}},h.AttributesMixinCreator={create:function(e,n){var i={};if(e||(e={}),t.has(e,"id")||(e.id=null),t.each(e,function(t,e){var n=h.Mixins.createMethodName("set",e);i[n]=function(t,n){return this.set(e,t,n)};var r=h.Mixins.createMethodName("get",e);i[r]=function(){return this.get(e)}}),"string"==typeof n&&"undefined"!=typeof e[n]&&"id"!==n){e.id=e[n];var r=h.Mixins.createMethodName("get",n),o=h.Mixins.createMethodName("set",n);i.getId=function(){return this[r]()},i.setId=function(t,e){return this[o](t,e)}}return i},ensureType:i},h.EventsMixinCreator={create:function(e){var n={},i=function(e){var i=h.Mixins.createMethodName("on",e);n[i]=function(){return this.on.apply(this,[e].concat(t.toArray(arguments)))};var r=h.Mixins.createMethodName("trigger",e);n[r]=function(){return this.trigger.apply(this,[e].concat(t.toArray(arguments)))}};return t.each(e,t.bind(i,this)),n}},h.Model=y(e.Model),h.Collection=l(e.Collection),h.View=l(e.View),h.Router=l(e.Router);var v=function(){this.initialize.apply(this,arguments)};return t.extend(v.prototype,e.Events,{initialize:function(){}}),v.extend=e.Model.extend,h.Evented=l(v),h})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:brace', location = 'jira-issue-navigator-components-module/libs/brace.js' */
define("jira/components/libs/brace",["require"],function(e){"use strict";var r=e("atlassian/libs/factories/brace-2014.09.03"),s=e("jira/components/libs/backbone"),n=e("jira/components/libs/underscore");return r(n,s)}),AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));
//# sourceMappingURL=brace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'jira-issue-navigator-components-module/lib/jquery.hoverIntent.min.js' */
// jshint ignore: start
/*eslint-disable*/
/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function ($) {
  $.fn.hoverIntent = function (f, g) {
    var cfg = { sensitivity: 7, interval: 100, timeout: 0 };cfg = $.extend(cfg, g ? { over: f, out: g } : f);var cX, cY, pX, pY;var track = function track(ev) {
      cX = ev.pageX;cY = ev.pageY;
    };var compare = function compare(ev, ob) {
      ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);if (Math.abs(pX - cX) + Math.abs(pY - cY) < cfg.sensitivity) {
        $(ob).unbind("mousemove", track);ob.hoverIntent_s = 1;return cfg.over.apply(ob, [ev]);
      } else {
        pX = cX;pY = cY;ob.hoverIntent_t = setTimeout(function () {
          compare(ev, ob);
        }, cfg.interval);
      }
    };var delay = function delay(ev, ob) {
      ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s = 0;return cfg.out.apply(ob, [ev]);
    };var handleHover = function handleHover(e) {
      var ev = jQuery.extend({}, e);var ob = this;if (ob.hoverIntent_t) {
        ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
      }if (e.type == "mouseenter") {
        pX = ev.pageX;pY = ev.pageY;$(ob).bind("mousemove", track);if (ob.hoverIntent_s != 1) {
          ob.hoverIntent_t = setTimeout(function () {
            compare(ev, ob);
          }, cfg.interval);
        }
      } else {
        $(ob).unbind("mousemove", track);if (ob.hoverIntent_s == 1) {
          ob.hoverIntent_t = setTimeout(function () {
            delay(ev, ob);
          }, cfg.timeout);
        }
      }
    };return this.bind('mouseenter', handleHover).bind('mouseleave', handleHover);
  };
})(jQuery);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'jira-issue-navigator-components-module/util/TipsyView.js' */
define("jira/issues/tipsy",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),n=t("jira/components/libs/brace"),s=t("jquery");s.fn.tooltip||(s.fn.tooltip=s.noop,s.fn.tipsy=s.noop);var o=n.View.extend({events:{click:"hide"},initialize:function(t){i.isFunction(t.showCondition)?this.shouldShow=t.showCondition:t.showCondition?this.shouldShow=function(){return this.$el.filter(t.showCondition).length>0}.bind(this):this.shouldShow=function(){return!0},this.tipsy=this.$el.tooltip(i.extend({trigger:"manual"},t.tipsy)),this.hoverIntent(t.intents)},hoverIntent:function(t){return this.tipsy&&this.tipsy.hoverIntent(i.extend({interval:200,over:this.show.bind(this),out:this.hide.bind(this)},t)),this},show:function(){this.shouldShow()&&this.tipsy&&this.$el.tipsy("show")},hide:function(){this.tipsy&&this.$el.tipsy("hide")},remove:function(){this.hide(),this.$el.removeData("tipsy")}});return o.revalidate=function(){return s.fn.tipsy.revalidate()},o.autoBounds=function(){return s.fn.tipsy.autoBounds.apply(s.fn.tipsy,arguments)},o});
//# sourceMappingURL=TipsyView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'jira-issue-navigator-components-module/util/namespace.js' */
AJS.namespace("JIRA.Issues.Tipsy",null,require("jira/issues/tipsy"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/CatchExceptions.js' */
!function(n){"use strict";var t=function(n){return function(){try{n.apply(this,arguments)}catch(t){}return this}};n.fn.htmlCatchExceptions=t(n.fn.html),n.fn.appendCatchExceptions=t(n.fn.append),n.fn.prependCatchExceptions=t(n.fn.prepend),n.catchExceptions=function(t){return n("<div>").htmlCatchExceptions(t).children()}}(AJS.$);
//# sourceMappingURL=CatchExceptions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/RecurringPromise.js' */
!function(){"use strict";jQuery.RecurringPromise=function(i){return this instanceof jQuery.RecurringPromise?(this._parent=i,this._doneCallbacks=new jQuery.Callbacks,this._failCallbacks=new jQuery.Callbacks,void(this._alwaysCallbacks=new jQuery.Callbacks)):new jQuery.RecurringPromise},jQuery.RecurringPromise.prototype={add:function(i){var n=new jQuery.Deferred;n.original=i;var t=this._getPending();return this._abortIfPending(t),this._setPending(n),i.done(function(){n===this._getPending()&&(n.resolveWith(this,arguments),this._doneCallbacks.fireWith(this,arguments))}.bind(this)),i.fail(function(){n===this._getPending()&&(n.rejectWith(this,arguments),this._failCallbacks.fireWith(this,arguments))}.bind(this)),i.always(function(){n===this._getPending()&&this._alwaysCallbacks.fireWith(this,arguments)}.bind(this)),n.promise()},done:function(i){return this._doneCallbacks.add(i),this},fail:function(i){return this._failCallbacks.add(i),this},always:function(i){return this._alwaysCallbacks.add(i),this},reset:function(){this._abortIfPending(this._getPending()),this._setPending(null)},sub:function(){return new jQuery.RecurringPromise(this)},_getPending:function(){return this._parent?this._parent._getPending():this._pending},_setPending:function(i){this._parent?this._parent._setPending(i):this._pending=i},_abortIfPending:function(i){i&&"pending"===i.state()&&(i.reject("abort"),jQuery.isFunction(i.original.abort)&&i.original.abort())}}}();
//# sourceMappingURL=RecurringPromise-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/ConcurrentDeferred.js' */
jQuery.ConcurrentDeferred=function(n){"use strict";var e,r=new jQuery.Deferred,t=function(n){e=n,n.done(function(){e===n&&r.resolve.apply(r,arguments)}).fail(function(){e===n&&r.reject.apply(r,arguments)})};return t(n),jQuery.extend(r,{update:function(n){if(!this.isPending())throw"Cannot update non-pending ConcurrentDeferred";var r=e;return t(n),jQuery.isFunction(r.abort)&&r.abort(),this},isPending:function(){return"pending"===this.state()}}),r};
//# sourceMappingURL=ConcurrentDeferred-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'jira-issue-navigator-components-module/util/jquery/ScrollLock.js' */
!function(e){"use strict";var l=30;e.fn.scrollLock=function(i,n){"string"!=typeof i&&(n=i,i=null),n||(n=l),this.on("DOMMouseScroll mousewheel",i,function(l){l.preventDefault();var i;l.originalEvent.wheelDelta&&(i=l.originalEvent.wheelDelta/120),l.originalEvent.detail&&(i=-l.originalEvent.detail/3),e.isNumeric(i)&&(this.scrollTop-=i*n)})}}(AJS.$);
//# sourceMappingURL=ScrollLock-min.js.map
;
;
/* module-key = 'com.atlassian.plugin.jslibs:uri-1.14.1', location = 'atlassian-jslibs/libs/uri/src/URI.js' */
!function(t){define("atlassian/libs/uri-1.14.1",function(){var e={};return t.call(e),e.URI.noConflict()})}(function(){/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.14.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
!function(t,e){"use strict";t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,r,s){"use strict";function n(t,e){return this instanceof n?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new n(t,e)}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===a(t)}function h(t,e){var r,s,n={};if(o(e))for(r=0,s=e.length;r<s;r++)n[e[r]]=!0;else n[e]=!0;for(r=0,s=t.length;r<s;r++)void 0!==n[t[r]]&&(t.splice(r,1),s--,r--);return t}function u(t,e){var r,s;if(o(e)){for(r=0,s=e.length;r<s;r++)if(!u(t,e[r]))return!1;return!0}var n=a(e);for(r=0,s=t.length;r<s;r++)if("RegExp"===n){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function p(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function c(t){return escape(t)}function l(t){return encodeURIComponent(t).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}function d(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}}function f(t,e){return function(r,s){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!s),this)}}var m=s&&s.URI;n.version="1.14.1";var _=n.prototype,g=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},n.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return n.domAttributes[e]}},n.encode=l,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=l,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},n.encodeQuery=function(t,e){var r=n.encode(t+"");return void 0===e&&(e=n.escapeQuerySpace),e?r.replace(/%20/g,"+"):r},n.decodeQuery=function(t,e){t+="",void 0===e&&(e=n.escapeQuerySpace);try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},n.recodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;r<s;r++)e[r]=n.encodePathSegment(n.decode(e[r]));return e.join("/")},n.decodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;r<s;r++)e[r]=n.decodePathSegment(e[r]);return e.join("/")};var y,v={encode:"encode",decode:"decode"},b=function(t,e){return function(r){try{return n[e](r+"").replace(n.characters[t][e].expression,function(r){return n.characters[t][e].map[r]})}catch(t){return r}}};for(y in v)n[y+"PathSegment"]=b("pathname",v[y]);n.encodeReserved=b("reserved","encode"),n.parse=function(t,e){var r;return e||(e={}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.parseAuthority(t,e)):(r=t.indexOf(":"),r>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(n.protocol_expression)?e.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=n.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0))),e.path=t,e},n.parseHost=function(t,e){var r,s,n=t.indexOf("/");return n===-1&&(n=t.length),"["===t.charAt(0)?(r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null,"/"===e.port&&(e.port=null)):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,n)||null,e.port=null):(s=t.substring(0,n).split(":"),e.hostname=s[0]||null,e.port=s[1]||null),e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.parseAuthority=function(t,e){return t=n.parseUserinfo(t,e),n.parseHost(t,e)},n.parseUserinfo=function(t,e){var r,s=t.indexOf("/"),i=t.lastIndexOf("@",s>-1?s:t.length-1);return i>-1&&(s===-1||i<s)?(r=t.substring(0,i).split(":"),e.username=r[0]?n.decode(r[0]):null,r.shift(),e.password=r[0]?n.decode(r.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},n.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var r,s,i,a={},o=t.split("&"),h=o.length,u=0;u<h;u++)r=o[u].split("="),s=n.decodeQuery(r.shift(),e),i=r.length?n.decodeQuery(r.join("="),e):null,g.call(a,s)?("string"==typeof a[s]&&(a[s]=[a[s]]),a[s].push(i)):a[s]=i;return a},n.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},n.buildHost=function(t){var e="";return t.hostname?(e+=n.ip6_expression.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},n.buildAuthority=function(t){return n.buildUserinfo(t)+n.buildHost(t)},n.buildUserinfo=function(t){var e="";return t.username&&(e+=n.encode(t.username),t.password&&(e+=":"+n.encode(t.password)),e+="@"),e},n.buildQuery=function(t,e,r){var s,i,a,h,u="";for(i in t)if(g.call(t,i)&&i)if(o(t[i]))for(s={},a=0,h=t[i].length;a<h;a++)void 0!==t[i][a]&&void 0===s[t[i][a]+""]&&(u+="&"+n.buildQueryParameter(i,t[i][a],r),e!==!0&&(s[t[i][a]+""]=!0));else void 0!==t[i]&&(u+="&"+n.buildQueryParameter(i,t[i],r));return u.substring(1)},n.buildQueryParameter=function(t,e,r){return n.encodeQuery(t,r)+(null!==e?"="+n.encodeQuery(e,r):"")},n.addQuery=function(t,e,r){if("object"==typeof e)for(var s in e)g.call(e,s)&&n.addQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),o(r)||(r=[r]),t[e]=(t[e]||[]).concat(r)}},n.removeQuery=function(t,e,r){var s,i,a;if(o(e))for(s=0,i=e.length;s<i;s++)t[e[s]]=void 0;else if("object"==typeof e)for(a in e)g.call(e,a)&&n.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?t[e]===r?t[e]=void 0:o(t[e])&&(t[e]=h(t[e],r)):t[e]=void 0}},n.hasQuery=function(t,e,r,s){if("object"==typeof e){for(var i in e)if(g.call(e,i)&&!n.hasQuery(t,i,e[i]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(r)){case"Undefined":return e in t;case"Boolean":var h=Boolean(o(t[e])?t[e].length:t[e]);return r===h;case"Function":return!!r(t[e],e,t);case"Array":if(!o(t[e]))return!1;var c=s?u:p;return c(t[e],r);case"RegExp":return o(t[e])?!!s&&u(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return o(t[e])?!!s&&u(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.commonPath=function(t,e){var r,s=Math.min(t.length,e.length);for(r=0;r<s;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return r<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},n.withinString=function(t,e,r){r||(r={});var s=r.start||n.findUri.start,i=r.end||n.findUri.end,a=r.trim||n.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var h=s.exec(t);if(!h)break;var u=h.index;if(r.ignoreHtml){var p=t.slice(Math.max(u-3,0),u);if(p&&o.test(p))continue}var c=u+t.slice(u).search(i),l=t.slice(u,c).replace(a,"");if(!r.ignore||!r.ignore.test(l)){c=u+l.length;var d=e(l,u,c,t);t=t.slice(0,u)+d+t.slice(c),s.lastIndex=u+d.length}}return s.lastIndex=0,t},n.ensureValidHostname=function(e){if(e.match(n.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(n.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},n.noConflict=function(t){if(t){var e={URI:this.noConflict()};return s.URITemplate&&"function"==typeof s.URITemplate.noConflict&&(e.URITemplate=s.URITemplate.noConflict()),s.IPv6&&"function"==typeof s.IPv6.noConflict&&(e.IPv6=s.IPv6.noConflict()),s.SecondLevelDomains&&"function"==typeof s.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=s.SecondLevelDomains.noConflict()),e}return s.URI===this&&(s.URI=m),this},_.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},_.clone=function(){return new n(this)},_.valueOf=_.toString=function(){return this.build(!1)._string},_.protocol=d("protocol"),_.username=d("username"),_.password=d("password"),_.hostname=d("hostname"),_.port=d("port"),_.query=f("query","?"),_.fragment=f("fragment","#"),_.search=function(t,e){var r=this.query(t,e);return"string"==typeof r&&r.length?"?"+r:r},_.hash=function(t,e){var r=this.fragment(t,e);return"string"==typeof r&&r.length?"#"+r:r},_.pathname=function(t,e){if(void 0===t||t===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return t?n.decodePath(r):r}return this._parts.path=t?n.recodePath(t):"/",this.build(!e),this},_.path=_.pathname,_.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=n._parts();var s=t instanceof n,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=n.getDomAttribute(t);t=t[a]||"",i=!1}if(!s&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=n.parse(String(t),this._parts);else{if(!s&&!i)throw new TypeError("invalid input");var o=s?t._parts:t;for(r in o)g.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!e),this},_.is=function(t){var e=!1,s=!1,i=!1,a=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,s=n.ip4_expression.test(this._parts.hostname),i=n.ip6_expression.test(this._parts.hostname),e=s||i,a=!e,o=a&&r&&r.has(this._parts.hostname),h=a&&n.idn_expression.test(this._parts.hostname),u=a&&n.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return a;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return i;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var Q=_.protocol,w=_.port,A=_.hostname;_.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return Q.call(this,t,e)},_.scheme=_.protocol,_.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return w.call(this,t,e)},_.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};n.parseHost(t,r),t=r.hostname}return A.call(this,t,e)},_.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildHost(this._parts):"":(n.parseHost(t,this._parts),this.build(!e),this)},_.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildAuthority(this._parts):"":(n.parseAuthority(t,this._parts),this.build(!e),this)},_.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=n.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),n.parseUserinfo(t,this._parts),this.build(!e),this},_.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=n.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},_.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var s=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,s),o=new RegExp("^"+i(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},_.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(e).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},_.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return e!==!0&&r&&r.list[n.toLowerCase()]?r.get(this._parts.hostname)||n:n}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},_.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?n.decodePath(s):s}var a=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,a),h=new RegExp("^"+i(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t),this.build(!e),this},_.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(r+1);return t?n.decodePathSegment(s):s}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var o=new RegExp(i(this.filename())+"$");return t=n.recodePath(t),this._parts.path=this._parts.path.replace(o,t),a?this.normalizePath(e):this.build(!e),this},_.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,s,a=this.filename(),o=a.lastIndexOf(".");return o===-1?"":(r=a.substring(o+1),s=/^[a-z0-9%]+$/i.test(r)?r:"",t?n.decodePathSegment(s):s)}"."===t.charAt(0)&&(t=t.substring(1));var h,u=this.suffix();if(u)h=t?new RegExp(i(u)+"$"):new RegExp(i("."+u)+"$");else{if(!t)return this;this._parts.path+="."+n.recodePath(t)}return h&&(t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t)),this.build(!e),this},_.segment=function(t,e,r){var s=this._parts.urn?":":"/",n=this.path(),i="/"===n.substring(0,1),a=n.split(s);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(i&&a.shift(),t<0&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(o(e)){a=[];for(var h=0,u=e.length;h<u;h++)(e[h].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(e[h]))}else(e||"string"==typeof e)&&(""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=e:a.splice(t,1);return i&&a.unshift(""),this.path(a.join(s),r)},_.segmentCoded=function(t,e,r){var s,i,a;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(s=this.segment(t,e,r),o(s))for(i=0,a=s.length;i<a;i++)s[i]=n.decode(s[i]);else s=void 0!==s?n.decode(s):void 0;return s}if(o(e))for(i=0,a=e.length;i<a;i++)e[i]=n.decode(e[i]);else e="string"==typeof e||e instanceof String?n.encode(e):e;return this.segment(t,e,r)};var P=_.query;return _.query=function(t,e){if(t===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=t.call(this,r);return this._parts.query=n.buildQuery(s||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=n.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):P.call(this,t,e)},_.setQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)s[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in t)g.call(t,i)&&(s[i]=t[i])}return this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},_.addQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(s,t,void 0===e?null:e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},_.removeQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(s,t,e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},_.hasQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(s,t,e,r)},_.setSearch=_.setQuery,_.addSearch=_.addQuery,_.removeSearch=_.removeQuery,_.hasSearch=_.hasQuery,_.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},_.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},_.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},_.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},_.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,r,s,i=this._parts.path,a="";for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=i.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(r=i.indexOf("/.."),r===-1)break;0!==r?(s=i.substring(0,r).lastIndexOf("/"),s===-1&&(s=r),i=i.substring(0,s)+i.substring(r+3)):i=i.substring(3)}return e&&this.is("relative")&&(i=a+i.substring(1)),i=n.recodePath(i),this._parts.path=i,this.build(!t),this},_.normalizePathname=_.normalizePath,_.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},_.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},_.normalizeSearch=_.normalizeQuery,_.normalizeHash=_.normalizeFragment,_.iso8859=function(){var t=n.encode,e=n.decode;return n.encode=escape,n.decode=decodeURIComponent,this.normalize(),n.encode=t,n.decode=e,this},_.unicode=function(){var t=n.encode,e=n.decode;return n.encode=l,n.decode=unescape,this.normalize(),n.encode=t,n.decode=e,this},_.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var s="",i=0,a=e._parts.query.split("&"),o=a.length;i<o;i++){var h=(a[i]||"").split("=");s+="&"+n.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(s+="="+n.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+s.substring(1)}return r+=n.decodeQuery(e.hash(),!0)},_.absoluteTo=function(t){var e,r,s,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),i._parts.protocol||(i._parts.protocol=t._parts.protocol),this._parts.hostname)return i;for(r=0;s=a[r];r++)i._parts[s]=t._parts[s];return i._parts.path?".."===i._parts.path.substring(-2)&&(i._parts.path+="/"):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),"/"!==i.path().charAt(0)&&(e=t.directory(),i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},_.relativeTo=function(t){var e,r,s,i,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=o._parts,r=t._parts,i=o.path(),a=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,i===a)return e.path="",o.build();if(s=n.commonPath(o.path(),t.path()),!s)return o.build();var h=r.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(s.length),o.build()},_.equals=function(t){var e,r,s,i=this.clone(),a=new n(t),h={},u={},c={};if(i.normalize(),a.normalize(),i.toString()===a.toString())return!0;if(e=i.query(),r=a.query(),i.query(""),a.query(""),i.toString()!==a.toString())return!1;if(e.length!==r.length)return!1;h=n.parseQuery(e,this._parts.escapeQuerySpace),u=n.parseQuery(r,this._parts.escapeQuerySpace);for(s in h)if(g.call(h,s)){if(o(h[s])){if(!p(h[s],u[s]))return!1}else if(h[s]!==u[s])return!1;c[s]=!0}for(s in u)if(g.call(u,s)&&!c[s])return!1;return!0},_.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},_.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},n})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:uri', location = 'jira-issue-navigator-components-module/libs/uri.js' */
define("jira/components/libs/uri",["require"],function(i){"use strict";return i("atlassian/libs/uri-1.14.1")});
//# sourceMappingURL=uri-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:scrollintoview', location = 'jira-issue-navigator-components-module/lib/scrollintoview-1.8.js' */
!function(t){var e={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},o={duration:0,direction:"y"},r=/^(?:html)$/i,l=function(e,o){o=o||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var r=!(!document.defaultView||!document.defaultView.getComputedStyle),l={top:parseFloat(r?o.borderTopWidth:t.css(e,"borderTopWidth"))||0,left:parseFloat(r?o.borderLeftWidth:t.css(e,"borderLeftWidth"))||0,bottom:parseFloat(r?o.borderBottomWidth:t.css(e,"borderBottomWidth"))||0,right:parseFloat(r?o.borderRightWidth:t.css(e,"borderRightWidth"))||0};return{top:l.top,left:l.left,bottom:l.bottom,right:l.right,vertical:l.top+l.bottom,horizontal:l.left+l.right}},i=function(e){var o=t(window),i=r.test(e[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:l(e[0]),scroll:{top:(i?o:e).scrollTop(),left:(i?o:e).scrollLeft()},scrollbar:{right:i?0:e.innerWidth()-e[0].clientWidth,bottom:i?0:e.innerHeight()-e[0].clientHeight},rect:function(){var t=e[0].getBoundingClientRect();return{top:i?0:t.top,left:i?0:t.left,bottom:i?e[0].clientHeight:t.bottom,right:i?e[0].clientWidth:t.right}}()}};t.fn.extend({scrollIntoViewForAuto:function(l){l=t.extend({},o,l),l.direction=e["string"==typeof l.direction&&l.direction.toLowerCase()]||e.both;var c="";l.direction.x===!0&&(c="horizontal"),l.direction.y===!0&&(c=c?"both":"vertical");var n=this.eq(0),s=n.closest(":scrollable("+c+")");if(s.length>0){s=s.eq(0);var d={e:i(n),s:i(s)},h={top:d.e.rect.top-(d.s.rect.top+d.s.border.top),bottom:d.s.rect.bottom-d.s.border.bottom-d.s.scrollbar.bottom-d.e.rect.bottom,left:d.e.rect.left-(d.s.rect.left+d.s.border.left),right:d.s.rect.right-d.s.border.right-d.s.scrollbar.right-d.e.rect.right},a={};l.direction.y===!0&&(h.top<0?a.scrollTop=d.s.scroll.top+h.top-30:h.top>0&&h.bottom<0&&(a.scrollTop=d.s.scroll.top+Math.min(h.top,-h.bottom)+30)),l.direction.x===!0&&(h.left<0?a.scrollLeft=d.s.scroll.left+h.left:h.left>0&&h.right<0&&(a.scrollLeft=d.s.scroll.left+Math.min(h.left,-h.right))),t.isEmptyObject(a)?t.isFunction(l.complete)&&l.complete.call(s[0]):(r.test(s[0].nodeName)&&(s=t("html,body")),s.animate(a,l.duration).eq(0).queue(function(e){t.isFunction(l.complete)&&l.complete.call(s[0]),e()}))}return this}});var c={auto:!0,scroll:!0,visible:!1,hidden:!1};t.extend(t.expr[":"],{scrollable:function(t,o,l,i){var n=e["string"==typeof l[3]&&l[3].toLowerCase()]||e.both,s=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle,d={x:c[s.overflowX.toLowerCase()]||!1,y:c[s.overflowY.toLowerCase()]||!1,isRoot:r.test(t.nodeName)};if(!d.x&&!d.y&&!d.isRoot)return!1;var h={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(d.x||d.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(d.y||d.isRoot)&&this.height.scroll>this.height.client}};return n.y&&h.scrollableY()||n.x&&h.scrollableX()}})}(jQuery);
//# sourceMappingURL=scrollintoview-1.8-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:browser', location = 'jira-issue-navigator-components-module/util/Browser.js' */
define("jira/components/util/browser",function(){"use strict";return{locationReload:function(o){window.location.reload(o)}}});
//# sourceMappingURL=Browser-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/PanelModel.js' */
define("jira/components/issueviewer/entities/panel",["require"],function(t){"use strict";var e=t("jira/components/libs/brace"),i=t("jira/util/events"),n=t("jira/components/issueviewer/eventtypes");return e.Model.extend({namedAttributes:["entity","updateLocked"],initialize:function(){i.bind(n.LOCK_PANEL_REFRESHING,function(t,e){e===this.getEntity().id&&this.set("updateLocked",!0)}.bind(this)),i.bind(n.UNLOCK_PANEL_REFRESHING,function(t,e){e===this.getEntity().id&&this.set("updateLocked",!1)}.bind(this))},update:function(t,e,i){this.getUpdateLocked()||(this.set("entity",t),this.trigger("updated",e,i))}})});
//# sourceMappingURL=PanelModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/PanelsCollection.js' */
define("jira/components/issueviewer/entities/panels",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),n=e("jira/components/libs/brace"),t=e("jira/components/issueviewer/entities/panel");return n.Collection.extend({model:t,update:function(e,n){this.each(function(n){var t=n.id,s=i.any(e,function(e){return e.id===t});s||this.remove(n)},this),i.each(e,function(e,i){var t=this.get(e.id);t?t.update(e,n.fieldsInProgress,n.fieldsSaved):this.add({id:e.id,entity:e},{at:i})},this)}})});
//# sourceMappingURL=PanelsCollection-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/PanelsGroupModel.js' */
define("jira/components/issueviewer/entities/panelsgroup",["require"],function(e){"use strict";var n=e("jira/components/libs/brace"),t=e("jira/components/issueviewer/entities/panels");return n.Model.extend({namedAttributes:["leftPanels","rightPanels","infoPanels"],defaults:function(){return{leftPanels:new t([]),rightPanels:new t([]),infoPanels:new t([])}},update:function(e,n){this.get("leftPanels").update(e.leftPanels,n),this.get("rightPanels").update(e.rightPanels,n),this.get("infoPanels").update(e.infoPanels,n)}})});
//# sourceMappingURL=PanelsGroupModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/entities/IssueModel.js' */
define("jira/components/issueviewer/entities/issue",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),s=e("jira/components/issueviewer/entities/panelsgroup");return t.Model.extend({namedEvents:["updated"],namedAttributes:["entity","id","key","panels","projectKey","projectType","projectId"],defaults:function(){return{entity:{},panels:new s}},update:function(e,t){var s=!1;e.issue&&(this.updateFromEntity(e.issue),s=!0),e.panels&&(this.getPanels().update(e.panels,t),s=!0),s&&this.trigger("updated",t)},resetToDefault:function(){this.clear(),this.set(this.defaults())},updateFromEntity:function(e){this.set({id:e.id,key:e.key,entity:e,projectKey:e.project?e.project.key:null,projectType:e.project?e.project.projectType:null,projectId:e.project?e.project.id:null})},isCurrentIssue:function(e){return this.get("id")===e},hasIssue:function(){return this.has("id")},updateIssueQuery:function(e){this.hasIssue()&&(this.getEntity().viewIssueQuery=e)},getIssueInfo:function(){return{issueId:this.getId(),issueKey:this.getKey(),projectId:this.getProjectId(),projectKey:this.getProjectKey(),projectType:this.getProjectType()}}})});
//# sourceMappingURL=IssueModel-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssuePanelView.js' */
define("jira/components/issueviewer/views/issuepanel",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/components/issueviewer/legacy/issuefieldutil"),n=e("jquery"),r=e("jira/components/libs/marionette-1.4.1/itemview"),l=e("jira/components/issueviewer/templates");return r.extend({template:l.Body.issuePanel,modelEvents:{updated:"update"},update:function(e,r){function l(){return i.any(e,function(e){return 1===o.find(t.getFieldSelector(e)).length})}function s(){var e=o.find(document.activeElement).length>0,i=!!n.browser.msie&&n.browser.version<=8;if(i){var t=o[0].nextSibling,r=o[0].parentNode;o.remove(),t?n(t).before(d):n(r).append(d)}else o.replaceWith(d);e&&u.trigger("replacedFocusedPanel"),u.setElement(d)}function a(e){var t=u.model.id,n=u.$el;u.trigger("panelRendered",t,n,o),i.each(e,function(e){u.trigger("individualPanelRendered",e)})}var d=this.renderTemplate(),o=this.$el,u=this;if(0!==o.find("iframe").length||d.text()!==o.text()){if(l()){var c=[];i.each(r,function(e){var i=o.find(t.getFieldSelector(e));if(1===i.length){var n=d.find(t.getFieldSelector(e));1===n.length?(i.replaceWith(n),c.push(n)):i.closest("li, dl").remove()}}),a(c)}else s(),a([u.$el]);this.bindUIElements()}},onRender:function(){this.setElement(this.$el.children());var e=this.model.getEntity().styleClass;e&&this.$el.addClass(e),this.trigger("individualPanelRendered",this.$el)},applyToDom:function(){this.trigger("individualPanelRendered",this.$el)},serializeData:function(){return this.model.getEntity()}})});
//# sourceMappingURL=IssuePanelView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssuePanelsView.js' */
define("jira/components/issueviewer/views/issuepanels",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/collectionview"),t=e("jira/components/issueviewer/views/issuepanel"),n=e("jira/components/issueviewer/entities/panel");e("jira/featureflags/feature-manager");return i.extend({itemView:t,_updatingFromDom:!1,appendHtml:function(e,i,t){var n=e.$el.children(),o=n.length;t<=0?e.$el.prepend(i.$el):!o||t>=o?e.$el.append(i.$el):i.$el.insertBefore(n.eq(t))},applyToDom:function(){var e=this;this._updatingFromDom=!0,this.$el.children().filter(".legacy-jira-fe-module").each(function(){var i=this.id;"addcomment"===i&&(i="addcommentmodule"),e.collection.add(new n({id:i,entity:{id:i}}))}),this._updatingFromDom=!1},renderItemView:function(e){this._updatingFromDom?e.applyToDom():i.prototype.renderItemView.apply(this,arguments)},buildItemView:function(e){var t=i.prototype.buildItemView.apply(this,arguments);return this._updatingFromDom&&t.setElement(document.getElementById(e.id)),t}})});
//# sourceMappingURL=IssuePanelsView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueBodyView.js' */
define("jira/components/issueviewer/views/issuebody",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/layout"),i=e("jira/components/libs/marionette-1.4.1/linkregion"),n=e("jira/components/issueviewer/templates");return s.extend({tagName:"div",className:"issue-body-content",regions:{leftPanels:{selector:".issue-main-column",regionType:i},rightPanels:{selector:".issue-side-column",regionType:i},infoPanels:{selector:".issue-body",regionType:i}},template:n.Body.issueBody})});
//# sourceMappingURL=IssueBodyView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueOpsbarView.js' */
define("jira/components/issueviewer/views/issueopsbar",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/itemview"),t=e("jira/components/issueviewer/templates"),n=e("jira/issues/tipsy"),s=e("jira/components/issueviewer/analytics/issueopsbar"),o=e("jira/components/issueviewer/services/optinnewissueviewservice"),r=function(){return AJS.$('meta[name="ajs-new-jira-issue-view-toggle-value"]').attr("content")};return i.extend({template:t.IssueOpsbar.simpleOpsbar,ui:{shareButton:".viewissue-share",exportButton:"#viewissue-export",loginButton:"#ops-login-lnk",commentButton:"#comment-issue",operationsMoreDropDown:"#opsbar-operations_more_drop"},serializeData:function(){return{issue:this.model.getEntity()}},onApplyToDom:function(){this.onRender()},onRender:function(){new s(this),this.ui.loginButton.hide(),this.ui.commentButton.addClass("inline-comment"),new n({el:this.ui.shareButton,showCondition:":not(.active)"}),new n({el:this.ui.exportButton,showCondition:":not(.active)",tipsy:{gravity:"ne"}});var e=r();"OFF"===e&&(this.ui.operationsMoreDropDown.append(t.IssueOpsbar.newIssueViewItem()),this.$el.find("#turn-on-new-issue-view").on("click",function(e){e.preventDefault(),o.optIn()}))}})});
//# sourceMappingURL=IssueOpsbarView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueHeaderView.js' */
define("jira/components/issueviewer/views/issueheader",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/layout"),s=e("jira/components/issueviewer/templates"),t=e("jira/components/libs/underscore"),r=e("jira/components/issueviewer/views/issueopsbar"),n=e("jira/util/data/meta"),a=e("jquery");return i.extend({className:"issue-header js-stalker",id:"stalker",tagName:"header",template:s.Header.issueHeader,modelEvents:{updated:"update"},regions:{opsbar:".command-bar",pager:"#issue-header-pager"},serializeData:function(){return{issue:this.model.getEntity(),isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}},update:function(e){if(e.initialize)this._updateWindowTitle();else{var i=t.include(e.fieldsInProgress,"summary");i?this.renderOpsBar():this.render()}this.trigger("updated")},onApplyToDom:function(){var e=new r({model:this.model});e.setElement(this.opsbar.el),this.opsbar.attachView(e),this.opsbar.currentView.applyToDom(),this._updateWindowTitle()},onBeforeRender:function(){this.previousElement=this.$el},onRender:function(){this.renderOpsBar(),this._updateWindowTitle(),this.trigger("panelRendered","header",this.$el,this.previousElement||a(""))},renderOpsBar:function(){this.opsbar.show(new r({model:this.model})),this.trigger("individualPanelRendered",this.$el)},_updateWindowTitle:function(){var e=this.model.getEntity(),i=e.key,s=e.summary,t=n.get("app-title");t&&s&&i&&(document.title="["+i+"] "+s+" - "+t)},focus:function(){this.$el.find("a").eq(0).focus()},initialFocus:function(){this.$el.focus()}})});
//# sourceMappingURL=IssueHeaderView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/issue/IssueView.js' */
define("jira/components/issueviewer/views/issue",["require"],function(e){"use strict";var t=e("jira/components/libs/marionette-1.4.1/layout"),i=e("jira/components/issueviewer/templates"),s=e("jira/components/libs/marionette-1.4.1/replaceregion"),n=e("jira/components/issueviewer/actions"),o=e("jquery");return t.extend({template:i.layout,className:"issue-container",regions:{header:{selector:".issue-header-container",regionType:s},body:{selector:".issue-body-container",regionType:s}},modelEvents:{updated:"update"},showLoading:function(){this.$el.addClass("loading")},hideLoading:function(){this.$el.removeClass("loading")},focusComment:function(e){this.$("#activitymodule .focused").removeClass("focused"),this.$("#comment-"+e).addClass("focused"),this.$(".js-stalker").trigger("refresh")},serializeData:function(){return{isNewIssueViewEnabled:JIRA.Issues.Api.isNewIssueViewEnabled()}},update:function(e){this._closeDropdowns(),e.initialize&&!e.stopRendering&&this.render(),e.reason&&e.reason.action===n.EDIT_COMMENT&&this.focusComment(e.reason.meta.commentId),this._bringViewIssueElementIntoView()},remove:function(){return this.stopListening(),this.$el.empty(),this},onRender:function(){this.$el.addClass(this.className),this.$el.attr("tabindex","-1"),this._bringViewIssueElementIntoView()},onApplyToDom:function(){this._bringViewIssueElementIntoView(),this.trigger("render")},_bringViewIssueElementIntoView:function(){var e=this.model.get("entity").viewIssueQuery;if(e){var t;e.focusedCommentId?t="#comment-"+e.focusedCommentId:(e.attachmentSortBy||e.attachmentOrder||e.attachmentViewMode)&&(t="#attachmentmodule"),t&&o(t).scrollIntoView({marginBottom:200,marginTop:200})}},_closeDropdowns:function(){this.$el.find(".aui-dropdown2-trigger.active").trigger("aui-button-invoke")}})});
//# sourceMappingURL=IssueView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/error/ErrorView.js' */
define("jira/components/issueviewer/views/error",["require"],function(e){"use strict";var s=e("jira/components/libs/marionette-1.4.1/layout");return s.extend({className:"issue-container",regions:{pager:"#issue-header-pager"},remove:function(){return this.stopListening(),this.$el.empty(),this},onRender:function(){this.$el.addClass(this.className),this.$el.attr("tabindex","-1")}})});
//# sourceMappingURL=ErrorView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/error/ErrorGenericView.js' */
define("jira/components/issueviewer/views/errorgeneric",["require"],function(e){"use strict";var r=e("jira/components/issueviewer/views/error"),i=e("jira/components/issueviewer/templates"),n=e("jira/components/util/browser");return r.extend({template:i.Error.Generic,events:{"click #issue-error-reload-button":function(){n.locationReload()}}})});
//# sourceMappingURL=ErrorGenericView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/views/error/ErrorNotFoundView.js' */
define("jira/components/issueviewer/views/errornotfound",["require"],function(r){"use strict";var e=r("jira/components/issueviewer/views/error"),i=r("jira/components/issueviewer/templates"),n=r("jira/components/libs/underscore");return e.extend({template:i.Error.DoesNotExist,initialize:function(r){r=r||{},this.showReturnToSearchOnError=r.showReturnToSearchOnError},triggers:{"click #return-to-search":"returnToSearch"},serializeData:function(){var r=this.showReturnToSearchOnError;return n.isFunction(r)&&(r=r()),{hideReturnToSearch:!r}}})});
//# sourceMappingURL=ErrorNotFoundView-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/controllers/IssueController.js' */
define("jira/components/issueviewer/controllers/issue",["require"],function(e){"use strict";var i=e("jira/issue"),s=e("jira/components/issueviewer/views/issuebody"),t=e("jira/components/issueviewer/views/issueheader"),n=e("jira/components/issueviewer/views/issuepanels"),o=e("jira/components/issueviewer/views/issue"),r=e("jira/components/libs/marionette-1.4.1/controller"),d=e("jira/components/libs/underscore"),a=e("jquery"),h=e("jira/components/issueviewer/services/breadcrumbs-project-hider"),l=i.CommentForm;return r.extend({initialize:function(e){this.model=e.model,this.shouldRenderIssueHeader="undefined"==typeof e.shouldRenderIssueHeader||e.shouldRenderIssueHeader},_createViews:function(){this.view=this._createMainView(),this.bodyView=this._createBodyView(),this.headerView=this._createHeaderView(),this.leftPanelsView=this._createPanelsView(this.model.getPanels().getLeftPanels()),this.rightPanelsView=this._createPanelsView(this.model.getPanels().getRightPanels()),this.infoPanelsView=this._createPanelsView(this.model.getPanels().getInfoPanels())},_createMainView:function(){var e=new o({model:this.model,el:this.$el});return this.listenTo(e,{render:function(){this.trigger("renderMainView",e.$el)}}),e},_createBodyView:function(){return new s({model:this.model})},_createHeaderView:function(){var e=new t({model:this.model});return this.listenAndRethrow(e,"panelRendered"),this.listenTo(e,{updated:function(){this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},this.model.getIssueInfo()),this._replaceBreadcrumbsView()},individualPanelRendered:function(e){this.trigger("individualPanelRendered",e)}}),this._replaceBreadcrumbsView(),e},_replaceBreadcrumbsView:function(){var e=function(e,i){h.bindToSidebarEvents(e,a(".issue-header-content"),i)};JIRA.API.getSidebar().done(function(i){e(i,!1)}),JIRA.API.getNavigationApi().then(function(i){e(i,!0)})},_createPanelsView:function(e){var i=new n({collection:e});return this.listenTo(i,{"itemview:replacedFocusedPanel":function(){this.trigger("replacedFocusedPanel")},"itemview:panelRendered":function(e,i,s,t){this.trigger("panelRendered",i,s,t)},"itemview:individualPanelRendered":function(e,i){this.trigger("individualPanelRendered",i)}}),i},createView:function(){this._createViews(),this.listenTo(this.view,"render",function(){var e=JIRA.Issues.Api.isNewIssueViewEnabled();this.shouldRenderIssueHeader&&(this.view.header.show(this.headerView),this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1}))),e?AJS.$("body").trigger("new-issue-body-container-for-gin-rendered"):(this.view.body.show(this.bodyView),this.bodyView.leftPanels.show(this.leftPanelsView),this.bodyView.rightPanels.show(this.rightPanelsView),this.bodyView.infoPanels.show(this.infoPanelsView))})},createViewFromDom:function(){this._createViews(),this.listenTo(this.view,"applyToDom",function(){function e(e,i,s){i.setElement(s),i.applyToDom(),e.attachView(i)}e(this.view.body,this.bodyView,this.view.$el.find(".issue-body-content")),e(this.view.body,this.headerView,this.view.$el.find("#stalker")),e(this.bodyView.leftPanels,this.leftPanelsView,this.bodyView.$el.find(this.bodyView.leftPanels.el)),e(this.bodyView.rightPanels,this.rightPanelsView,this.bodyView.$el.find(this.bodyView.rightPanels.el)),e(this.bodyView.infoPanels,this.infoPanelsView,this.bodyView.$el.find(this.bodyView.infoPanels.el)),this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!0}))})},setElement:function(e){this.$el=e,this.view&&this.view.setElement(e)},applyToDom:function(e){e.id=+e.id,this.model.updateFromEntity(e),this.createViewFromDom(),this.view.applyToDom()},show:function(){this.view?this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1})):(this.createView(),this.view.render()),this.view.hideLoading()},close:function(){this.view&&this.view.close(),this.hideLoading(),delete this.view},hideLoading:function(){this.view&&this.view.hideLoading()},showLoading:function(){this.view&&this.view.showLoading()},canDismissComment:function(){var e,i=l;if(!i.getForm().data("dismissed")&&(e=i.handleBrowseAway())){if(!confirm(e))return i.focus(),!1;i.getForm().data("dismissed",!0)}return!0},applyResponsiveDesign:function(){if(this.$el){var e=this.$el.width();this.$el.toggleClass("skinny",e<900),this.$el.toggleClass("very-skinny",e<600)}},focus:function(){this.view&&this.headerView.focus()},initialFocus:function(){this.view&&this.headerView.initialFocus()}})});
//# sourceMappingURL=IssueController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/controllers/ErrorController.js' */
define("jira/components/issueviewer/controllers/error",["require"],function(e){"use strict";var r=e("jira/components/issueviewer/views/errorgeneric"),i=e("jira/components/issueviewer/views/errornotfound"),t=e("jira/components/libs/marionette-1.4.1/controller"),o=e("jira/components/issueviewer/utils");return t.extend({initialize:function(e){this.contextPath=e.contextPath,this.showReturnToSearchOnError=e.showReturnToSearchOnError},render:function(e,t){switch(e){case"auth":this._renderErrorAuth(t);break;case"forbidden":case"notfound":this._renderErrorView(new i({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;case"generic":default:this._renderErrorView(new r)}},applyToDom:function(e,t){switch(e){case"auth":this._renderErrorAuth(t);break;case"forbidden":case"notfound":this._renderErrorViewFromDom(new i({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;case"generic":default:this._renderErrorViewFromDom(new r)}},close:function(){this.view&&(this.view.close(),delete this.view)},setElement:function(e){this._$el=e,this.view&&this.view.setElement(e)},_renderErrorAuth:function(e){var r=this.contextPath+"/login.jsp?os_destination="+encodeURIComponent("/browse/"+e);window.location.replace(r)},_renderErrorView:function(e){this.trigger("before:render"),o.hideDropdown(),this.view=e,this.view.setElement(this._$el),this.view.render(),this.listenAndRethrow(this.view,"returnToSearch"),this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!1,issueId:null})},_renderErrorViewFromDom:function(e){this.trigger("before:render"),o.hideDropdown(),this.view=e,this.view.setElement(this._$el),this.view.applyToDom(),this.listenAndRethrow(this.view,"returnToSearch"),this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!0,issueId:null})},isRendered:function(){return Boolean(this.view)}})});
//# sourceMappingURL=ErrorController-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/IssueLoaderService.js' */
define("jira/components/issueviewer/services/issueloader",["require"],function(e){"use strict";var i=e("jira/components/libs/marionette-1.4.1/controller"),t=e("jquery"),n=e("jira/components/issueviewer/legacy/issuefieldutil");return i.extend({initialize:function(){this._promiseManager=new t.RecurringPromise,this._updatingPromise=this._promiseManager.sub(),this._updatingPromise.done(this._onUpdatingDone.bind(this)).fail(this._onUpdatingError.bind(this)),this._loadingPromise=this._promiseManager.sub(),this._loadingPromise.done(this._onLoadingDone.bind(this)).fail(this._onLoadingError.bind(this))},cancel:function(){this._promiseManager.reset()},update:function(e){function i(e){return function(){return{taskKey:e,data:arguments,startIssueLoad:new Date}}}var n,r=e.issueEntity,s=e.mergeIntoCurrent,a=e.viewIssueData,o=!!e.detailView,d=new t.Deferred;return n=this._updatingPromise.add(a.get(r.key,!0,{issueEntity:r,loadingDeferred:d,mergeIntoCurrent:s,startIssueLoad:new Date,detailView:o}).pipe(i("issue"),i("issue"))),n.fail(function(){d.reject.apply(d,arguments)}),d.promise()},load:function(e){var i=e.issueEntity,n=e.viewIssueData,r=!!i.detailView;this._currentlyLoading=!0;var s=new t.Deferred;return this._loadingPromise.add(n.get(i.key,!1,{issueEntity:i,loadFields:!1,loadingDeferred:s,startIssueLoad:new Date,detailView:r})),s.promise()},isLoading:function(){return this._currentlyLoading},_onLoadingDone:function(e,i,t){var r=t.issueEntity;r.id=e.issue.id,r.key=e.issue.key,e.pager||(e.pager=r.pager),n.transformFieldHtml(e),this._currentlyLoading=!1,i.loadDuration=new Date-t.startIssueLoad,this.trigger("issueLoaded",e,i,t),t.loadingDeferred.resolve(e,i,t)},_onUpdatingDone:function(e){var i=e.data[1];i&&(i.isUpdate=!0),this._onLoadingDone.apply(this,e.data)},_onLoadingError:function(e,i,t){var n=t.issueEntity,r={issueId:n.id,issueKey:n.key,response:e};this._currentlyLoading=!1;var s;switch(e.status){case 401:s="auth";break;case 403:s="forbidden";break;case 404:s="notfound";break;default:s="generic"}this.trigger("error",s,r),t.loadingDeferred.reject()},_onUpdatingError:function(e){this._onLoadingError.apply(this,e.data)}})});
//# sourceMappingURL=IssueLoaderService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/MetadataService.js' */
define("jira/components/issueviewer/services/metadataservice",["require"],function(e){"use strict";var t=e("jira/util/data/meta"),a=e("jira/components/libs/underscore");return{removeIssueMetadata:function(e){var s=e.getEntity();s.metadata?a.each(s.metadata,function(e,a){t.set(a,null)}):t.get("issue-key")&&t.set("issue-key",null)},addIssueMetadata:function(e){var s=e.getEntity();a.each(s.metadata,function(e,a){t.set(a,e)})}}});
//# sourceMappingURL=MetadataService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/LinksCapturer.js' */
define("jira/components/issueviewer/linkscapturer",["require"],function(e){"use strict";var i=e("jira/components/libs/underscore"),t=e("jira/util/events"),n=e("jira/ajs/layer/inline-layer"),s=e("jquery"),o=e("jira/components/libs/marionette-1.4.1/controller"),a=e("jira/message"),r=e("jira/ajs/ajax/smart-ajax"),u=e("jira/components/libs/uri");return o.extend({initialize:function(){i.bindAll(this,"_onRefineViewEvents","_offRefineViewEvents","_handleReviewViewEvents")},capture:function(e){e!==this.el&&(this.el=e,this.linksToOtherIssues(),this.linksToReorderSubtasks(),this.viewOptionsForCurrentIssue())},linksToOtherIssues:function(){this._isRapidBoardPage()||s(this.el).on("simpleClick","a.issue-link[data-issue-key]",function(i){i.preventDefault();var t=s(i.target).closest("a").data("issue-key"),n=t.split("-")[0];JIRA.API.getSidebar().done(function(e){e.updateData({projectKey:n},!0)}),e("jira/navigation").then(function(e){e.setProjectRootView()}),this.trigger("linkToIssue",{issueKey:t})}.bind(this))},linksToReorderSubtasks:function(){s(this.el).on("simpleClick",".subtask-reorder a",function(e){e.target.href&&(e.preventDefault(),s.ajax({type:"GET",data:{disableRedirect:!0},url:e.target.href}).done(function(){this.trigger("reorderSubtasks")}.bind(this)).fail(function(e){a.showErrorMsg(r.buildSimpleErrorContent(e),{closeable:!0})}))}.bind(this))},_handleReviewViewEvents:function(e){var i=e.currentTarget;s(i).parents("ul").find("a.aui-checked").removeClass("aui-checked"),s(i).addClass("aui-checked");var t=new u(i.href).query(!0),n=this.triggerPreventable("refineViewer",{query:t});n.isPrevented&&e.preventDefault()},_onRefineViewEvents:function(e,i){s(i).on("simpleClick",["#attachment-sorting-options a","#attachment-sorting-order-options a","#attachment-view-mode-options a","#subtasks-show-all","#subtasks-show-open"].join(","),this._handleReviewViewEvents)},_offRefineViewEvents:function(e,i){s(i).off("simpleClick",["#attachment-sorting-options a","#attachment-sorting-order-options a","#attachment-view-mode-options a","#subtasks-show-all","#subtasks-show-open"].join(","),this._handleReviewViewEvents)},_location:function(){return window.location},_isRapidBoardPage:function(){return this._location().href.indexOf("RapidBoard.jspa")>=0},viewOptionsForCurrentIssue:function(){t.bind(n.EVENTS.show,this._onRefineViewEvents),t.bind(n.EVENTS.hide,this._offRefineViewEvents)},destroy:function(){t.unbind(n.EVENTS.show,this._onRefineViewEvents),t.unbind(n.EVENTS.hide,this._offRefineViewEvents)}})});
//# sourceMappingURL=LinksCapturer-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/BreadcrumbsProjectHider.js' */
define("jira/components/issueviewer/services/breadcrumbs-project-hider",["require"],function(e){function n(e,n){var o=n?e.isCollapsed():e.isCollapsed(!0);o?i():r()}function r(){var e=d.find(t);e.length>0&&(a=e.detach())}function i(){var e=d.find(s);a&&0===e.find(t).length&&a.prependTo(e)}var o=(e("jquery"),{}),t=".breadcrumbs-project-name",s=".aui-nav-breadcrumbs",a=null,d=null;return o.bindToSidebarEvents=function(e,o,t){if(t){if(!e.isInProjectContext())return}else if(!e.isProjectSidebar(!0))return;d=o,n(e,t),t?(e.onCollapseEnd(i),e.onExpandEnd(r)):(e.off(e.events.SIDEBAR_COLLAPSE_END,i,!0),e.on(e.events.SIDEBAR_COLLAPSE_END,i,!0),e.off(e.events.SIDEBAR_EXPAND_END,r,!0),e.on(e.events.SIDEBAR_EXPAND_END,r,!0))},o});
//# sourceMappingURL=BreadcrumbsProjectHider-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/services/OptInNewIssueViewService.js' */
define("jira/components/issueviewer/services/optinnewissueviewservice",["require"],function(e){"use strict";var t=e("jira/ajs/ajax/smart-ajax"),a=e("jira/util/users/logged-in-user"),n=e("wrm/context-path"),s=n(),r={"Content-Type":"application/json",Accept:["application/json","text/javascript","*/*"]},i=function(){var e=function(){return t.makeRequest({type:"PUT",dataType:"json",data:JSON.stringify({isEnabled:!0}),processData:!1,credentials:"same-origin",headers:r,url:s+"/rest/greenhopper/1.0/profile/labs-panel/issue-details-popup"})},n=a.accountId(),i="jira.user.issue.should.show.welcome.message",o=s+"/rest/api/latest/user/properties/"+i+"?accountId="+encodeURIComponent(n),u=function(){return t.makeRequest({type:"PUT",dataType:"json",data:"true",processData:!1,credentials:"same-origin",headers:r,url:o})};return Promise.all([e(),u()]).then(function(){})["catch"](function(){})["finally"](function(){window.location.reload()})};return{optIn:i}});
//# sourceMappingURL=OptInNewIssueViewService-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/IssueEventBus.js' */
define("jira/components/issueviewer/legacy/issueeventbus",["require"],function(e){"use strict";var s=e("jira/components/libs/brace");return s.Model.extend({namedAttributes:["issueId"],namedEvents:["save","saveSuccess","savingStarted","saveError","panelRendered","replacedFocusedPanel","fieldSubmitted","dismiss","refreshIssue","issueRefreshed","updateFromDom","updateStatusColor","quickEditKeyPressed","openFocusShifter"]})});
//# sourceMappingURL=IssueEventBus-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/AsyncData.js' */
define("jira/components/issueviewer/legacy/asyncdata",["require"],function(e){"use strict";var t=e("jira/components/libs/brace"),n=e("jira/components/libs/underscore"),i=e("jquery");return t.Evented.extend({namedEvents:["change"],initialize:function(e){this.data={},this.pendings={},this.accessIndex=0,e&&(this.disableCache=e.disableCache,this.maxCacheSize=e.maxCacheSize)},get:function(e,t,a){var r=new i.Deferred,s=this.disableCache?{}:this.data,h=function(t,i){var h=this._set(s,e,n.defaults(t,{accessIndex:this.accessIndex++}),!0,a),d=n.defaults({changed:h},i,s[e]);a&&a.mergeIntoCurrent&&(d.mergeIntoCurrent=!0),s[e]&&!s[e].error?r.resolve(s[e].value,d,a):r.reject(s[e]&&s[e].value,d,a)}.bind(this),d=function(t){var n=this.fetch(e,a);this.setPending(e,n,function(e){h({value:e,error:!1,updated:new Date},{initialLoad:t})},function(e){var n={error:!0,updated:new Date};void 0!==e&&(n.value=e),h(n,{initialLoad:t,error:!0})})}.bind(this),u=function(){h({},{fromCache:!0})},c=function(){this.pendings[e].always(n.bind(h,this,{},{initialLoad:!0}))}.bind(this);return t||this.disableCache?d(!1):this.hasCached(e)?u():this.hasPending(e)?c():d(!0),r.promise()},setPending:function(e,t,n,a){return this.hasPending(e)?this.pendings[e].update(t):this.pendings[e]=new i.ConcurrentDeferred(t),this.pendings[e].done(function(e){n(e)}).fail(function(e){a(e)})},getIdByValue:function(e){var t;for(t in this.data)if(this.data[t].value===e)return t;return null},getMeta:function(e){return this.data[e]||{}},getAllCached:function(){var e={};return n.each(this.data,function(t,n){e[n]=t.value}),e},hasCached:function(e){var t=this.getMeta(e);return void 0!==t.value||t.error===!0},hasError:function(e){var t=this.getMeta(e);return t.error===!0},hasPending:function(e){var t=this.pendings[e];return!!t&&t.isPending()},set:function(e,t){return this._set(this.data,e,{value:t,updated:new Date},!0)},remove:function(e){return!!this.data[e]&&(delete this.data[e],this.triggerChange(),!0)},setError:function(e,t){var n={error:!0,updated:new Date};return void 0!==t&&(n.value=t),this._set(this.data,e,n,!0)},setMultiple:function(e){var t=new Date,i=!1;return n.each(e,function(e,a){e=n.pick(e,"value","error"),e.updated=t,this._set(this.data,a,e,!1)&&(i=!0)}.bind(this)),i&&this.triggerChange(),i},reset:function(e){this.data={},this.pendings={},this.accessIndex=0,e?this.setMultiple(e):this.triggerChange()},_set:function(e,t,i,a,r){this.disableCache&&e===this.data&&(e={});var s=e[t]?n.clone(e[t]):{},h=this.mergeFetchedAndCached(s,i,r?r:{},e[t]);return!a||e[t]&&!h&&e[t].error===s.error||e!==this.data||this.triggerChange(),!e[t]&&this.maxCacheSize&&n.keys(e).length===this.maxCacheSize?i.accessIndex&&(this._dropItem(e),e[t]=s):e[t]=s,h},_dropItem:function(e){var t=null;for(var n in e){if(!e[n].accessIndex){t=n;break}(null===t||e[n].accessIndex<e[t].accessIndex)&&(t=n)}null!==t&&delete e[t]},fetch:function(e){var t=this.getMeta(e),n=new i.Deferred;return!this.hasCached(e)||t.error?n.reject(t.value):n.resolve(t.value),n.promise()},mergeFetchedAndCached:function(e,t,i,a){return n.extend(e,t),!a||a.value!==e.value||a.error!==e.error}})});
//# sourceMappingURL=AsyncData-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/ViewIssueData.js' */
define("jira/components/issueviewer/legacy/viewissuedata",["require"],function(e){"use strict";var s=e("jira/featureflags/feature-manager"),i=e("jira/components/libs/underscore"),n=e("jira/components/issueviewer/legacy/asyncdata"),t=e("jira/util/data/meta"),u=e("jquery"),a=window.AJS.contextPath();return n.extend({initialize:function(e){e=e||{},n.prototype.initialize.call(this,i.defaults(e||{},{disableCache:!1,maxCacheSize:t.get("viewissue-max-cache-size")}))},fetch:function(e,n){var t={issueKey:e,decorator:"none",prefetch:!!n.prefetch};if(t.shouldUpdateCurrentProject=!n.detailView,n.mergeIntoCurrent&&this.data&&this.data[e]&&this.data[e].value&&this.data[e].value.issue){t.lastReadTime=this.data[e].value.readTime,t.fields=[],i.each(this.data[e].value.fields,function(e){t.fields.push(e.id+":"+e.contentId)}),t.issue=["summary:"+this.data[e].value.issue.summaryContentId],t.links=[];var r=function h(e){i.each(e.links,function(e){t.links.push(e.id+":"+e.contentId)}),i.each(e.groups,function(e){h(e)})};i.each(this.data[e].value.issue.operations.linkGroups,function(e){r(e)}),t.panels=[];var o=this,d=function(s){i.each(o.data[e].value.panels[s],function(e){t.panels.push(e.completeKey+":"+e.contentId)})};d("leftPanels"),d("rightPanels"),d("infoPanels")}"loadFields"in n&&(t.loadFields=n.loadFields),n.issueEntity&&i.defaults(t,n.issueEntity.viewIssueQuery);var l=!!s.isFeatureEnabled("return-new-issue-view-as-default_63doa")||"true"===u('meta[name="ajs-new-jira-issue-view-gin-enabled"]').attr("content");if(l&&n.detailView){var p=u.Deferred();return p.resolve({issue:{id:void 0,key:t.issueKey,status:{name:void 0}}})}var c=u.ajax({url:a+"/secure/AjaxIssueAction!default.jspa",headers:{"X-SITEMESH-OFF":!0},data:t,type:n.mergeIntoCurrent?"POST":"GET"}),p=c.pipe(function(e){return JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireSuccessSlaEvent&&JIRA.Issues.Application.fireSuccessSlaEvent("getLegacyIssueViewData"),e},function(e){return JIRA&&JIRA.Issues&&JIRA.Issues.Application&&JIRA.Issues.Application.fireFailSlaEvent&&e.status>=500&&JIRA.Issues.Application.fireFailSlaEvent("getLegacyIssueViewData",{reason:"get-legacy-issue-view-data-failed-with-status-code",statusCode:e.status}),i.pick(e,"status","responseText","statusText")});return p.abort=function(){c.abort.apply(c,arguments)},p},mergeFetchedAndCached:function(e,s,n){if(this._skipMerging(e,s,n))return i.extend(e,s),null;i.each(i.pairs(s),function(s){"value"!==s[0]&&(e[s[0]]=s[1])});var t=s.value,u=[],a=[],r=[];i.each(t.removedContentIds,function(e,s){var n;"fields"===s?n=u:"panels"===s?n=a:"links"===s&&(n=r),n&&i.each(e,function(e){n.push(e)})});var o=t.fields,d=t.issue.operations.linkGroups,l=t.panels,p=t.issue.summary,c=t.issue.primaryActions,h=t.issue.transitions;if(this._nothingChanged(u,a,r,o,l,d,p))return null;var g={updated:{},added:{},deleted:{}},f=e.value,v=this._comparator;return(u.length>0||o.length>0)&&this._mergeFields(o,f,g,u),(a.length>0||l.leftPanels.length>0||l.rightPanels.length>0||l.infoPanels.length>0)&&this._mergePanels(l,f,g,a,v),(r.length>0||d.length>0)&&this._mergeLinks(d,f,g,r,v),p&&this._mergeSummary(t,f,g),c&&this._mergePrimaryActions(t,f,g),h&&this._mergeTransitions(t,f,g),f.issue.status=t.issue.status,g},_skipMerging:function(e,s,n){return i.isEmpty(e)||!n.mergeIntoCurrent||!e.value||!e.value.issue||s.error===!0},_nothingChanged:function(e,s,i,n,t,u,a){return 0===e.length&&0===s.length&&0===i.length&&0===n.length&&0===u.length&&0===t.leftPanels.length&&0===t.rightPanels.length&&0===t.infoPanels.length&&!a},_mergeFields:function(e,s,n,t){n.added.fields=[],n.updated.fields=[],n.deleted.fields=[],i.each(e,function(e){var t=i.find(s.fields,function(s){return s.id===e.id});t?n.updated.fields.push(e.id):n.added.fields.push(e.id)});var u=e;i.each(s.fields,function(e){i.contains(t,e.id)?n.deleted.fields.push(e.id):i.contains(n.updated.fields,e.id)||u.push(e)}),s.fields=u},_mergeSummary:function(e,s,i){i.updated.issue=["summary"],s.issue.summary=e.issue.summary,s.issue.summaryContentId=e.issue.summaryContentId},_mergePrimaryActions:function(e,s,i){i.updated.issue=["primaryActions"],s.issue.primaryActions=e.issue.primaryActions},_mergeTransitions:function(e,s,i){i.updated.issue=["transitions"],s.issue.transitions=e.issue.transitions},_mergePanels:function(e,s,n,t,u){n.added.panels={},n.updated.panels={},n.deleted.panels={};var a=function(a){n.added.panels[a]=[],n.updated.panels[a]=[],n.deleted.panels[a]=[],i.each(e[a],function(e){var t=i.find(s.panels[a],function(s){return s.id===e.id});t?n.updated.panels[a].push(e.id):n.added.panels[a].push(e.id)});var r=e[a];i.each(s.panels[a],function(e){i.contains(t,e.completeKey)?n.deleted.panels[a].push(e.id):i.contains(n.updated.panels[a],e.id)||r.push(e)}),r.sort(u),s.panels[a]=r};a("leftPanels"),a("rightPanels"),a("infoPanels")},_mergeLinks:function(e,s,i,n,t){i.added.groups={},i.updated.groups={},i.deleted.groups={};var u=[];this._mergeOperationsLinks(e,s,u,i,n,t),this._mergeToolsLinks(e,s,u,i,n,t),s.issue.operations.linkGroups=u},_mergeOperationsLinks:function(e,s,n,t,u,a){t.added.groups["view.issue.opsbar"]=[],t.updated.groups["view.issue.opsbar"]=[],t.deleted.groups["view.issue.opsbar"]=[];var r=i.find(s.issue.operations.linkGroups,function(e){return"view.issue.opsbar"===e.id}),o=i.find(e,function(e){return"view.issue.opsbar"===e.id}),d={},l={};if(o&&i.each(o.groups,function(e){var s=i.find(r.groups,function(s){return e.id===s.id});if(s?t.updated.groups["view.issue.opsbar"].push(e.id):t.added.groups["view.issue.opsbar"].push(e.id),i.each(e.links,function(s){d[s.id]=s,l[s.id]=e.id}),e.groups&&e.groups.length>0){var n=e.groups[0];i.each(n.groups,function(e){i.each(e.links,function(s){d[s.id]=s,l[s.id]=e.id})})}}),r){var p=[];o&&i.each(o.groups,function(e){i.contains(t.added.groups["view.issue.opsbar"],e.id)&&p.push(e)}),i.each(r.groups,function(e){var s=[],n=null;o&&(n=i.find(o.groups,function(s){return e.id===s.id}),n&&i.each(n.links,function(n){var t=i.find(e.links,function(e){return n.id===e.id});t||s.push(n)}));var r=!1,c=function(e,s){i.each(e.links,function(n){var t=l[n.id];t&&t!==e.id?r=!0:d[n.id]?s.push(d[n.id]):i.contains(u,n.id)?r=!0:s.push(n)})};c(e,s),s.sort(a),e.links=s;var h=null;n&&n.groups&&n.groups.length>0&&(h=n.groups[0]);var g=null;if(e.groups&&e.groups.length>0){g=e.groups[0];var f=[];h&&i.each(h.groups,function(e){var s=i.find(g.groups,function(s){return e.id===s.id});s||f.push(e)}),i.each(g.groups,function(e){var s=[];if(h){var n=i.find(h.groups,function(s){return s.id===e.id});n&&i.each(n.links,function(n){var t=i.find(e.links,function(e){return n.id===e.id});t||s.push(n)})}c(e,s),s.length>0&&(s.sort(a),e.links=s,f.push(e))}),f.length>0?(f.sort(a),g.groups=f):(g=null,r=!0)}else h&&(g=n.groups[0]);e.groups=[],g&&(e.groups[0]=g),s.length>0||g?(p.push(e),r&&!i.contains(t.updated.groups["view.issue.opsbar"],e.id)&&t.updated.groups["view.issue.opsbar"].push(e.id)):t.deleted.groups["view.issue.opsbar"].push(e.id)}),p.length>0&&(p.sort(a),r.groups=p,n.push(r))}else o&&n.push(o);t.added.groups["view.issue.opsbar"].sort(),t.deleted.groups["view.issue.opsbar"].sort(),t.updated.groups["view.issue.opsbar"].sort()},_updatedLinks:function(e,s,n,t){function u(e){return!i.contains(n,e.id)}function a(s){return!i.findWhere(e,{id:s.id})}var r=i.chain(s).filter(a).union(e).filter(u).value();return r.sort(t),r},_collectAllLinks:function(e){var s=e.links||[],n=e.groups||[];return i.chain(n).map(this._collectAllLinks.bind(this)).flatten().union(s).value()},_mergeGroupLinks:function(e,s,n,t,u){i.map(e.groups||[],this._mergeGroupLinks.bind(this));var a=[],r=null;s&&s.groups&&s.groups.length>0&&(r=i.find(s.groups,function(s){return e.id===s.id})),r&&i.each(r.links,function(s){var n=i.find(e.links,function(e){return s.id===e.id});n||a.push(s)}),i.each(e.links,function(e){n[e.id]?a.push(n[e.id]):i.contains(t,e.id)||a.push(e)}),a.length>0&&(a.sort(u),e.links=a)},_mergeToolsLinks:function(e,s,n,t,a,r){t.updated.groups["jira.issue.tools"]=!1;var o=i.find(s.issue.operations.linkGroups,function(e){return"jira.issue.tools"===e.id}),d=i.find(e,function(e){return"jira.issue.tools"===e.id}),l={};if(d&&(t.updated.groups["jira.issue.tools"]=!0,l=i.indexBy(this._collectAllLinks(d),"id")),o){var p=d&&d.links||[],c=o.links||[];o.links=this._updatedLinks(p,c,a,r),o.groups&&o.groups.length>0?i.each(o.groups,function(e){this._mergeGroupLinks(e,d,l,a,r)}.bind(this)):d.groups&&d.groups.length>0&&(o.groups=u.extend(!0,{},d.groups)),n.push(o)}else d&&n.push(d)},_comparator:function(e,s){return e.weight&&s.weight?e.weight>s.weight?1:e.weight<s.weight?-1:0:e.weight&&!s.weight?1:!e.weight&&s.weight?-1:0},updateIssue:function(e,s){var i=this.getMeta(e);i&&i.value&&(i.value.fields=s.fields||{})}})});
//# sourceMappingURL=ViewIssueData-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/legacy/IssueFieldUtil.js' */
define("jira/components/issueviewer/legacy/issuefieldutil",["require"],function(e){"use strict";var t=e("jira/components/libs/underscore"),i=e("jquery"),r={getFieldSelector:function(e){return"issuetype"===e?"#type-val":"fixVersions"===e?"#fixfor-val":"summary"===e?"#summary-val":"labels"===e?"#wrap-labels .value":"duedate"===e?"#due-date":"#"+e+"-val"},matchesFieldSelector:function(e){return 1===i(r.getFieldSelector(e)).length},transformFieldHtml:function(e){return e.fields=t.map(e.fields,function(e){var t=i("<div />").htmlCatchExceptions(e.editHtml);return 0!==t.find("input.radio,input.checkbox").length?t.find("legend").eq(0).remove():t.find("label").eq(0).remove(),{id:e.id,label:e.label,editHtml:t.html(),required:e.required,contentId:e.contentId}}),e},getAccessKeyModifier:function(){var e=i("#home_link_drop").attr("title"),t=/\(([\w\+]+)\+\w\)/i;return t.test(e)?t.exec(e)[1]:"Alt"}};return r});
//# sourceMappingURL=IssueFieldUtil-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/Utils.js' */
define("jira/components/issueviewer/utils",["require"],function(e){"use strict";var i=e("aui/inline-dialog"),r=e("jira/ajs/layer/inline-layer"),n=e("jquery");return{hideLightbox:function(){n.fancybox.close()},hideDropdown:function(){if(i.current&&"column-picker-dialog"!==i.current.id&&i.current.hide(),r.current){var e=r.current.options.offsetTarget();e instanceof n&&(e.is(":visible")||r.current.hide())}}}});
//# sourceMappingURL=Utils-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/actions.js' */
define("jira/components/issueviewer/actions",["require"],function(e){"use strict";var n=e("jira/components/libs/underscore");return n.extend(AJS.namespace("JIRA.Issues.Actions"),{EDIT_COMMENT:"editComment"})});
//# sourceMappingURL=actions-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/eventtypes.js' */
define("jira/components/issueviewer/eventtypes",["require"],function(e){"use strict";var s=e("jira/util/events/types");return s.ISSUE_REFRESHED="issueRefreshed",s.PANEL_REFRESHED="panelRefreshed",s});
//# sourceMappingURL=eventtypes-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/analytics/IssueOpsbar.js' */
define("jira/components/issueviewer/analytics/issueopsbar",["require"],function(t){"use strict";var i=t("jira/components/libs/underscore"),e=t("jquery"),n=t("jira/viewissue/analytics-utils"),r=t("jira/components/utils/ajshelper"),s=t("jira/components/analytics-tracker/tracker"),a=function(t){this.issueId=t.model.get("id"),this.$el=t.$el,this.bindEventsToOpsbar()};return a.prototype.triggerEvent=function(t){s.trackEvent("viewissue","opsbar.operation",t),r.trigger("analyticsEvent",{name:"kickass.opsbar.operation",data:t})},a.prototype._getParamsButtonMain=function(t,e,n){return i.extend(this._getParamsCommon(t),{issueId:this.issueId,id:e.attr("id"),idx:n})},a.prototype._getParamsButtonSubmenu=function(t,e,n,r,s){return i.extend(this._getParamsCommon(t),{issueId:this.issueId,id:e.attr("id"),idx:n,parentId:r.attr("id"),parentIdx:s})},a.prototype._getParamsCommon=function(){return{context:n.context()}},a.prototype.bindEventsToOpsbar=function(){var t=this.$el.find(".toolbar-analytics");t.each(function(t,i){var n=e(i),r=n.find("a.toolbar-trigger");r.click(function(i){this.triggerEvent(this._getParamsButtonMain(i,r,t))}.bind(this));var s=n.find("li.aui-list-item a");s.length>=1&&s.each(function(i,n){var s=e(n);s.click(function(e){this.triggerEvent(this._getParamsButtonSubmenu(e,s,i,r,t))}.bind(this))}.bind(this))}.bind(this))},a});
//# sourceMappingURL=IssueOpsbar-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/analytics/IssueUxMetrics.js' */
define("jira/components/issueviewer/analytics/issue-uxmetrics",["jquery","jira/components/analytics-tracker/tracker"],function(t,e){"use strict";return{trackPageMetrics:function(){var s=t("#assignee-val").text().trim().search("Unassigned")===-1,n=0!==t("#reporter-val").text().trim().length,i=t("#opsbar-opsbar-transitions .issueaction-workflow-transition").length,o=t("#description-val"),l=o.text().trim().length,a=o.height(),u=t("#details-module ul#issuedetails>li").length,r=t("#customfield-tabs ul.property-list>li.item").length,c=t("#customfield-tabs ul.property-list").length,m=t("#details-module #wrap-labels ul>li").length,d=m>0?m-1:0,h=t("#details-module ul#issuedetails>li li").length,p=t("#customfield-tabs ul.property-list>li.item li").length,g=t("ol#attachment_thumbnails>li").length,C=t(".issue-body-content .legacy-jira-fe-module.toggle-wrap"),b=C.not(":has(.ap-container)").length,y=C.has(".ap-container").length,v=t("#opsbar-operations_more_drop .aui-dropdown2-section .aui-list-item").length,f=t("#peoplemodule ul dl").length,w=t("#datesmodule ul dl").length,F={isAssigned:s,hasReporter:n,transitionsCount:i,descriptionCharacterCount:l,descriptionBlockHeight:a,customFieldTabsCount:c,systemFieldsCount:u,customFieldsCount:r,labelsCount:d,systemFieldChildItemsCount:h,customFieldChildItemsCount:p,attachmentsCount:g,nonConnectWebPanelsCount:b,connectWebPanelsCount:y,moreMenuItemCount:v,peopleModuleFieldsCount:f,datesModuleFieldsCount:w},_=t("#comment-tabpanel.active").length>0;_&&(F.visibleCommentsCount=t("#issue_actions_container .activity-comment").length,F.collapsedCommentsCount=t("#issue_actions_container .show-more-comments").attr("data-collapsed-count")||0),e.trackEvent("viewissue","uxmetrics",F)}}});
//# sourceMappingURL=IssueUxMetrics-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/IssueViewer.js' */
define("jira/components/issueviewer",["require"],function(e){"use strict";var s=e("jira/components/libs/underscore"),i=e("jira/components/issueviewer/actions"),r=e("jira/components/issueviewer/controllers/error"),t=e("jira/util/events"),o=e("jira/components/issueviewer/controllers/issue"),n=e("jira/components/issueviewer/legacy/issueeventbus"),u=e("jira/components/issueviewer/services/issueloader"),a=e("jira/components/issueviewer/entities/issue"),d=e("jquery"),l=e("jira/components/issueviewer/linkscapturer"),h=e("jira/components/libs/marionette-1.4.1/controller"),c=e("jira/util/data/meta"),m=e("jira/components/issueviewer/services/metadataservice"),g=e("jira/util/events/reasons"),p=window.JIRA,f=e("jira/components/issueviewer/eventtypes"),I=e("jira/components/issueviewer/utils"),C=e("jira/components/issueviewer/legacy/viewissuedata"),v=e("wrm/data"),w=e("jira/components/issueviewer/analytics/issue-uxmetrics"),E=(e("jira/featureflags/feature-manager"),window.AJS.contextPath()),R=function(){p.trace.apply(p,arguments)};return h.extend({namedEvents:["loadComplete","loadError","close","replacedFocusedPanel","linkToIssue"],initialize:function(e){var i=this;e=e||{},e.useJIRAEvents=e.useJIRAEvents!==!1,this.shouldRenderIssueHeader=e.shouldRenderIssueHeader,this.model=new a,this.eventBus=new n,this.viewIssueData=new C,this._buildIssueLoader(),this._buildLinksCapturer(),this._buildErrorController({showReturnToSearchOnError:e.showReturnToSearchOnError}),this._buildIssueController(),t.bind(f.REFRESH_ISSUE_PAGE,function(e,s,i){this.model.isCurrentIssue(s)&&this.refreshIssue(i)}.bind(this)),this.memoizedUxMetricsTracker=s.memoize(w.trackPageMetrics,function(){return i.model.getId()})},_buildIssueLoader:function(){this.issueLoader=new u,this.listenTo(this.issueLoader,"error",function(e,s){this.trigger("loadError",s),this.errorController.render(e,s.issueKey),this.removeIssueMetadata(),R("jira.issue.refreshed",{id:s.issueId}),this.options.useJIRAEvents&&t.trigger(f.ISSUE_REFRESHED,[s.issueId])}),this.listenTo(this.issueLoader,"issueLoaded",this._onIssueLoaded)},_buildLinksCapturer:function(){this.linksCapturer=new l,this.listenTo(this.linksCapturer,{linkToIssue:function(e){this.trigger("linkToIssue",e)},refineViewer:function(e){this.trigger("refineViewer",e)},reorderSubtasks:function(){this.issueController.showLoading(),this.refreshIssue({reason:i.UPDATE}).always(function(){this.issueController.hideLoading()}.bind(this))}})},_buildErrorController:function(e){e=e||{},this.errorController=new r({contextPath:E,showReturnToSearchOnError:e.showReturnToSearchOnError}),this.listenTo(this.errorController,"before:render",function(){this.issueController.close()}),this.listenTo(this.errorController,"returnToSearch",function(){this.trigger("close")}),this.listenAndRethrow(this.errorController,"render")},_buildIssueController:function(){this.issueController=new o({shouldRenderIssueHeader:this.shouldRenderIssueHeader,model:this.model}),this.listenAndRethrow(this.issueController,"replacedFocusedPanel"),this.listenTo(this.issueController,{render:function(e,s){I.hideDropdown(),this.errorController.close(),this.trigger("render",e,s),R("jira.psycho.issue.refreshed",{id:this.model.getId()}),this.memoizedUxMetricsTracker()},renderMainView:function(e){this.options.useJIRAEvents&&(t.trigger(f.NEW_CONTENT_ADDED,[e,g.pageLoad]),t.trigger(f.REFRESH_TOGGLE_BLOCKS,[this.model.getId()])),this.trigger("renderMainView",e,this.model.getId())},panelRendered:function(e,s,i){this.eventBus.triggerPanelRendered(e,s),this.options.useJIRAEvents&&t.trigger(f.PANEL_REFRESHED,[e,s,i]),this.trigger("panelRendered",e,s,i)},close:function(){I.hideDropdown()},individualPanelRendered:function(e){this.options.useJIRAEvents&&t.trigger(f.NEW_CONTENT_ADDED,[e,g.panelRefreshed]),this.trigger("individualPanelRendered",e)}})},_updateModel:function(e,s){this.model.update(e,s)},_onIssueLoaded:function(e,s,i){var r=i.issueEntity,o=!s.mergeIntoCurrent&&i.initialize!==!1,n=!this.model.isCurrentIssue(r.id),u=!!r.detailView,a=!JIRA.Issues.Api.isNewIssueViewEnabled();s.isUpdate&&!o||(this.model.resetToDefault(),this.errorController.close()),this._updateModel(e,{initialize:o,changed:s.changed,mergeIntoCurrent:s.mergeIntoCurrent,stopRendering:a}),s.isUpdate&&!o||this.issueController.close(),this.issueController.show(),s.fromCache&&this.refreshIssue(r,{fromCache:!0,mergeIntoCurrent:!s.error,detailView:u}),m.addIssueMetadata(this.model),r.bringToFocus&&r.bringToFocus(),this._triggerLoadComplete(n,s,r);var d={id:r.id};s.fromCache?R("jira.issue.loadFromCache",d):R("jira.issue.loadFromServer",d),R("jira.issue.refreshed",d),this.options.useJIRAEvents&&t.trigger(f.ISSUE_REFRESHED,[r.id])},_triggerLoadComplete:function(e,s,i){this.trigger("loadComplete",this.model,{isNewIssue:e,issueId:i.id,issueKey:i.key,duration:s.loadDuration,loadReason:s.fromCache?"issues-cache-refresh":void 0,fromCache:s.fromCache,issueRefreshedEvent:!!this.options.useJIRAEvents})},abortPending:function(){this.issueLoader.cancel()},canDismissComment:function(){return this.issueController.canDismissComment()},beforeHide:function(){I.hideLightbox(),I.hideDropdown(),this.abortPending(),this.removeIssueMetadata()},beforeShow:function(){m.addIssueMetadata(this.model)},getIssueId:function(){return this.model.getEntity().id||null},getIssueKey:function(){return this.model.getEntity().key||null},getProjectKey:function(){return this.model.get("projectKey")||null},getProjectType:function(){return this.model.get("projectType")||null},getProjectId:function(){return this.model.get("projectId")||null},_loadIssueFromDom:function(e){e.id&&e.id!==-1?this.issueController.applyToDom(s.extend({id:-1},e)):(this.errorController.applyToDom("notfound",e.key),this.trigger("loadError")),c.set("serverRenderedViewIssue",null);var i={id:this.getIssueId()};R("jira.issue.refreshed",i)},loadIssue:function(e){var s=c.get("serverRenderedViewIssue");return s?(e.project={id:v.claim("projectId"),key:v.claim("projectKey"),projectType:v.claim("projectType")},this.loadIssueRenderedByTheServer(e)):this.canDismissComment()&&e.key?(this.issueController.showLoading(),this.issueLoader.load({issueEntity:e,viewIssueData:this.viewIssueData})):(new d.Deferred).reject()},loadIssueRenderedByTheServer:function(e){var s=d("#key-val"),i=d("#summary-val");return e.id=s.attr("rel")||-1,e.summary=i.text(),this._loadIssueFromDom(e),this.trigger("loadComplete",this.model,{isNewIssue:!1,issueId:e.id,issueKey:e.key,duration:0,loadReason:void 0,fromCache:!1}),(new d.Deferred).resolve().promise()},refreshIssue:function(e){var i;return e=s.defaults({},e,{mergeIntoCurrent:!0}),this.model.hasIssue()?(i=this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:e.mergeIntoCurrent,detailView:e.detailView}),e.complete&&(i=i.done(e.complete).fail(e.complete)),this.issueController.showLoading()):i=(new d.Deferred).resolve().promise(),i},removeIssueMetadata:function(){m.removeIssueMetadata(this.model)},setContainer:function(e){this.linksCapturer.capture(e),this.errorController.setElement(e),this.issueController.setElement(e)},isCurrentlyLoading:function(){return this.issueLoader.isLoading()},updateIssueWithQuery:function(e){this.model.updateIssueQuery(e),this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:!0})},dismiss:function(){this.model.resetToDefault(),this.errorController.close(),this.issueController.close(),this.linksCapturer.destroy()},close:function(){this.canDismissComment()&&(this.dismiss(),this.trigger("close"))},applyResponsiveDesign:function(){this.issueController.applyResponsiveDesign()},isShowingError:function(){return this.errorController.isRendered()},focus:function(){this.issueController.focus()},initialFocus:function(){this.issueController.initialFocus()}})});
//# sourceMappingURL=IssueViewer-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/IssueViewerAppModule.js' */
define("jira/components/issueviewer/appmodule",["require"],function(e){"use strict";var r=e("jira/components/libs/underscore"),n=e("jira/components/issueviewer"),s=e("jira/components/libs/marionette-1.4.1/appmodule");return s.extend({name:"issueViewer",generateMasterRequest:!0,create:function(e){return e=r.defaults({},e,{showReturnToSearchOnError:function(){return!1}}),new n({showReturnToSearchOnError:e.showReturnToSearchOnError})},commands:function(){return{abortPending:!0,beforeHide:!0,beforeShow:!0,removeIssueMetadata:!0,updateIssueWithQuery:!0,close:!0,setContainer:!0,dismiss:!0}},requests:function(){return{loadIssue:!0,canDismissComment:!0,getIssueId:!0,getIssueKey:!0,refreshIssue:!0,isCurrentlyLoading:!0}},events:function(){return["loadComplete","loadError","close","render","replacedFocusedPanel","linkToIssue","refineViewer"]}})});
//# sourceMappingURL=IssueViewerAppModule-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/Issue.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),JIRA.Components.IssueViewer.Templates.layout=function(e,s){return'<div id="issue-content" class="issue-edit-form">'+(e.serverRenderedViewIssue?'<header id="stalker" class="issue-header js-stalker" tabindex="-1">'+JIRA.Components.IssueViewer.Templates.Header.issueHeader(e)+'</header><div class="issue-body-content">'+JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels(e)+"</div>":'<div class="issue-header-container"></div>'+(e.isNewIssueViewEnabled?'<div id="new-issue-body-container"></div>':'<div class="issue-body-container" id="legacy-issue-body-container"></div>'))+"</div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueHeader.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.Header&&(JIRA.Components.IssueViewer.Templates.Header={}),JIRA.Components.IssueViewer.Templates.Header.issueHeader=function(e,s){return'<div class="issue-header-content">'+aui.page.pageHeader({content:""+(e.issue.project?aui.page.pageHeaderImage({content:""+JIRA.Templates.Headers.projectAvatar({id:""+soy.$$escapeHtml(e.issue.project.id),projectKey:""+soy.$$escapeHtml(e.issue.project.key),projectName:""+soy.$$escapeHtml(e.issue.project.name),avatarUrl:""+soy.$$escapeHtml(e.issue.project.avatarUrls["48x48"]),avatarAlt:""+soy.$$escapeHtml(e.issue.project.name),isSystemAvatar:e.issue.project.systemAvatar})})+(e.isNewIssueViewEnabled?aui.page.pageHeaderMain({content:'<div id="key-val" rel="'+soy.$$escapeHtml(e.issue.id)+'" class="hidden">'+soy.$$escapeHtml(e.issue.key)+"</div>"}):aui.page.pageHeaderMain({content:'<ol class="aui-nav aui-nav-breadcrumbs"><li class="breadcrumbs-project-name"><a id="project-name-val" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issue.project.key)+'">'+soy.$$escapeHtml(e.issue.project.name)+"</a></li>"+(e.issue.parent&&e.issue.parent.id?'<li><a class="issue-link" data-issue-key="'+soy.$$escapeHtml(e.issue.parent.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issue.parent.key)+'" id="parent_issue_summary" title="'+soy.$$escapeHtml(e.issue.parent.summary)+'">'+soy.$$escapeHtml(e.issue.parent.key)+" "+soy.$$escapeHtml(e.issue.parent.summary)+"</a></li>":"")+'<li><a class="issue-link" data-issue-key="'+soy.$$escapeHtml(e.issue.key)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issue.key)+'" id="key-val" rel="'+soy.$$escapeHtml(e.issue.id)+'">'+soy.$$escapeHtml(e.issue.key)+'</a></li></ol><h1 id="summary-val">'+soy.$$escapeHtml(e.issue.summary)+"</h1>"})):"")+aui.page.pageHeaderActions({content:'<div id="issue-header-pager">'+(e.pager?JIRA.Components.IssueViewer.Templates.Header.pager(e.pager):"")+"</div>"})})+(e.isNewIssueViewEnabled?"":'<div class="command-bar">'+(e.serverRenderedViewIssue?JIRA.Components.IssueViewer.Templates.IssueOpsbar.simpleOpsbar(e):"")+"</div>")+"</div>"},JIRA.Components.IssueViewer.Templates.Header.titleAttr=function(e,s){return""+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':e.label&&e.label.length&&e.label.length>25?'title="'+soy.$$escapeHtml(e.label)+'"':"")};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueBody.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.Body&&(JIRA.Components.IssueViewer.Templates.Body={}),JIRA.Components.IssueViewer.Templates.Body.issueBody=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels({panels:!1,serverRenderedViewIssue:!1})},JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels=function(e,s){var i='<div class="aui-group issue-body"><div class="aui-item issue-main-column">';if(e.serverRenderedViewIssue)for(var a=e.panels.leftPanels,l=a.length,o=0;o<l;o++){var n=a[o];i+=JIRA.Components.IssueViewer.Templates.Body.issuePanel(n)}if(i+='</div><div id="viewissuesidebar" class="aui-item issue-side-column">',e.serverRenderedViewIssue)for(var t=e.panels.rightPanels,r=t.length,d=0;d<r;d++){var u=t[d];i+=JIRA.Components.IssueViewer.Templates.Body.issuePanel(u)}return i+="</div></div>"},JIRA.Components.IssueViewer.Templates.Body.issuePanel=function(e,s){var i="";if(e.renderHeader){i+="<div id="+soy.$$escapeHtml(e.id)+' class="legacy-jira-fe-module toggle-wrap"><div id="'+soy.$$escapeHtml(e.id)+'_heading" class="mod-header"><ul class="ops">';for(var a=e.headerLinks.links,l=a.length,o=0;o<l;o++){var n=a[o];i+="<li>"+JIRA.Components.IssueViewer.Templates.Body.simpleLink({link:n})+"</li>"}if(e.headerLinks.groups.length>0){i+='<li class="drop"><div class="aui-dd-parent"><a href="#" class="more-menu aui-button aui-button-subtle aui-icon aui-icon-small aui-iconfont-more js-default-dropdown" title="'+soy.$$escapeHtml("Options")+'"><span>'+soy.$$escapeHtml("Options")+'</span></a><div class="aui-dropdown-content aui-list">';for(var t=e.headerLinks.groups,r=t.length,d=0;d<r;d++){var u=t[d];i+=(u.header&&u.header.label?"<h5>"+soy.$$escapeHtml(u.header.label)+"</h5>":"")+"<ul "+(u.header&&u.header.id?'id="'+soy.$$escapeHtml(u.header.id)+'"':"")+'class="aui-list-section'+(u.header&&u.header.styleClass?" "+soy.$$escapeHtml(u.header.styleClass):"")+(0==d?" aui-first":"")+(d==r-1?" aui-last":"")+'">';for(var m=u.links,p=m.length,c=0;c<p;c++){var f=m[c];i+='<li class="aui-list-item">'+JIRA.Components.IssueViewer.Templates.Body.simpleLink({link:f,additionalStyleClass:"aui-list-item-link"})+"</li>"}i+="</ul>"}i+="</div></div></li>"}if(i+="</ul>",e.subpanelHtmls.length>0){i+='<div class="mod-header-panels">';for(var y=e.subpanelHtmls,v=y.length,I=0;I<v;I++){var h=y[I];i+='<div class="mod-header-panel">'+soy.$$filterNoAutoescape(h)+"</div>"}i+="</div>"}i+='<h2 class="toggle-title">'+soy.$$escapeHtml(e.label)+'</h2></div><div class="mod-content">'+soy.$$filterNoAutoescape(e.html)+"</div></div>"}else i+=soy.$$filterNoAutoescape(e.html);return i},JIRA.Components.IssueViewer.Templates.Body.errorsLoading=function(e,s){e=e||{};var i=""+(e.isTimeout?soy.$$escapeHtml("The Jira server could not be contacted. This may be a temporary glitch or the server may be down."):soy.$$escapeHtml("There were errors loading the issue."));if(e.errorMessages){i+="<ul>";for(var a=e.errorMessages,l=a.length,o=0;o<l;o++){var n=a[o];i+="<li>"+soy.$$escapeHtml(n)+"</li>"}i+="</ul>"}return i},JIRA.Components.IssueViewer.Templates.Body.focusShifter=function(e,s){return'<div class="aui-message closeable" id="focus-shifter"><label><span>'+soy.$$escapeHtml("viewissue.focusshifter")+'</span><div id="focus-shifter-content"></div></label><span class="aui-icon icon-close"></span></div>'},JIRA.Components.IssueViewer.Templates.Body.simpleLink=function(e,s){return"<a "+(e.link.id?' id="'+soy.$$escapeHtml(e.link.id)+'"':"")+'href="'+(e.link.href?soy.$$escapeHtml(e.link.href):"#")+'"'+(e.link.styleClass||e.additionalStyleClass?'class="'+soy.$$escapeHtml(e.link.styleClass)+(e.additionalStyleClass?" "+soy.$$escapeHtml(e.additionalStyleClass):"")+'"':"")+(e.link.title?'title="'+soy.$$escapeHtml(e.link.title)+'"':"")+"><span>"+soy.$$escapeHtml(e.link.label)+"</span></a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueError.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.Error&&(JIRA.Components.IssueViewer.Templates.Error={}),JIRA.Components.IssueViewer.Templates.Error.NoPermission=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.Generic(null)},JIRA.Components.IssueViewer.Templates.Error.DoesNotExist=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title:"This issue can\'t be viewed",body:"The issue you\'re trying to view can\'t be displayed.",bodyAfter:"It may have been deleted or you don\'t have permission to view it right now.",error:"canNotBeViewed",showReloadButton:!1})},JIRA.Components.IssueViewer.Templates.Error.Generic=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title:"This issue can\'t be displayed right now",body:"It could be for a variety of reasons, like a network or application error.",bodyAfter:"Try reloading the page.",error:"genericError",showReloadButton:!0})},JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header:'<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>',body:'<div class="issue-error"><span class="error-image error-image-'+soy.$$escapeHtml(e.error)+'"></span><h1>'+soy.$$escapeHtml(e.title)+"</h1><p>"+soy.$$escapeHtml(e.body)+"<br />"+soy.$$escapeHtml(e.bodyAfter)+"</p>"+(e.showReloadButton?'<p><button id="issue-error-reload-button" class="aui-button aui-button-primary">Reload</button></p>':"")+"</div>"})},JIRA.Components.IssueViewer.Templates.Error.viewIssueError=function(e,s){return""+JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header:'<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h1>'+soy.$$escapeHtml(e.title)+'</h1></div><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>',body:'<div class="aui-message '+soy.$$escapeHtml(e.error)+'"><span class="aui-icon icon-'+soy.$$escapeHtml(e.error)+'"></span><p>'+soy.$$escapeHtml(e.body)+"</p><p>"+soy.$$escapeHtml("If you think this message is wrong, please contact your")+' <a href="'+soy.$$escapeHtml(AJS.contextPath())+'/secure/ContactAdministrators!default.jspa">'+soy.$$escapeHtml("Jira administrators")+"</a>.</p>"+(e.returnToSearch?'<p><a id="return-to-search" class="push-state" href="'+soy.$$escapeHtml(AJS.contextPath())+'/issues/" title="'+soy.$$escapeHtml("Return to search")+'">'+soy.$$escapeHtml("Return to search")+"</a></p>":"")+"</div>"})},JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError=function(e,s){return'<div id="issue-content"><header class="issue-header issue-error-header"><div class="issue-header-content">'+soy.$$filterNoAutoescape(e.header)+'</div></header><div class="issue-body-content issue-error-content">'+soy.$$filterNoAutoescape(e.body)+"</div></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueOpsbar.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.IssueOpsbar&&(JIRA.Components.IssueViewer.Templates.IssueOpsbar={}),JIRA.Components.IssueViewer.Templates.IssueOpsbar.opsbar=function(e,s){var o='<div class="ops-cont"><div class="ops-menus aui-toolbar">';if(e.issue.operations)for(var a=e.issue.operations.linkGroups,l=a.length,r=0;r<l;r++){var t=a[r];if(t.id&&"view.issue.opsbar"==t.id){o+='<div class="toolbar-split toolbar-split-left">';for(var i=t.groups,n=i.length,p=0;p<n;p++){var u=i[p];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:u,parentGroup:t})}o+="</div>"}else t.id&&"jira.issue.tools"==t.id&&(o+='<div class="toolbar-split toolbar-split-right">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:t})+"</div>")}return o+="</div></div>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.simpleOpsbar=function(e,s){var o='<div class="ops-cont"><div class="ops-menus aui-toolbar">';if(e.issue.operations)for(var a=e.issue.operations.linkGroups,l=a.length,r=0;r<l;r++){var t=a[r];if(t.id&&"view.issue.opsbar"==t.id){o+='<div class="toolbar-split toolbar-split-left">';for(var i=t.groups,n=i.length,p=0;p<n;p++){var u=i[p];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:u,parentGroup:t})}o+="</div>"}else t.id&&"jira.issue.tools"==t.id&&(o+='<div class="toolbar-split toolbar-split-right">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.separatedLinks({group:t})+"</div>")}return o+="</div></div>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup=function(e,s){var o="";if(e.group.header&&(e.group.links.length>0||e.group.groups.length>0))o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownLink(e.group);else{o+="<ul "+(e.group.id?'id="opsbar-'+soy.$$escapeHtml(e.group.id)+'" ':"")+'class="toolbar-group pluggable-ops">';for(var a=e.group.links,l=a.length,r=0;r<l;r++){var t=a[r];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem({link:t})}if(1==e.group.groups.length&&0==e.group.groups[0].links.length&&1==e.group.groups[0].groups.length&&1==e.group.groups[0].groups[0].links.length)o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem({link:e.group.groups[0].groups[0].links[0]});else for(var i=e.group.groups,n=i.length,p=0;p<n;p++){var u=i[p];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.linkGroup({group:u})}o+="</ul>"}return o},JIRA.Components.IssueViewer.Templates.IssueOpsbar.separatedLinks=function(e,s){for(var o="",a=e.group.links,l=a.length,r=0;r<l;r++){var t=a[r];o+='<ul class="toolbar-group pluggable-ops">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem({link:t})+"</ul>"}for(var i=e.group.groups,n=i.length,p=0;p<n;p++){var u=i[p];o+=u.groups.length>0||u.links.length>0?'<ul class="toolbar-group pluggable-ops">'+JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownLink(soy.$$augmentMap(u,{shouldHideLabel:!0}))+"</ul>":""}return o},JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownLink=function(e,s){var o='<li class="toolbar-item toolbar-analytics"><div><a href="#"'+(e.header.id?'id="'+soy.$$escapeHtml(e.header.id)+'"':"")+'aria-owns="'+(e.header.id?soy.$$escapeHtml(e.header.id)+"_drop":"")+'" aria-haspopup="true"'+JIRA.Components.IssueViewer.Templates.Header.titleAttr({title:e.header.title,label:e.header.label})+'class="toolbar-trigger aui-button aui-style-default'+(e.links.length>0||e.groups.length>0?" aui-dropdown2-trigger":"")+(e.header.styleClass?" "+soy.$$escapeHtml(e.header.styleClass):"")+'">'+(e.header.iconClass?'<span class="icon '+soy.$$escapeHtml(e.header.iconClass)+'"></span> ':"")+'<span class="dropdown-text">'+(!e.shouldHideLabel&&e.header.label?soy.$$truncate(soy.$$escapeHtml(e.header.label),25,!0):"")+"</span></a><div "+(e.header.id?'id="'+soy.$$escapeHtml(e.header.id)+'_drop"':"")+' class="aui-style-default aui-dropdown2">';if(e.links.length>0){o+="<ul>";for(var a=e.links,l=a.length,r=0;r<l;r++){var t=a[r];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownItem(t)}o+="</ul>"}for(var i=e.groups,n=i.length,p=0;p<n;p++){var u=i[p];if(u.links.length>0){o+='<div class="aui-dropdown2-section"><ul>';for(var d=u.links,m=d.length,I=0;I<m;I++){var g=d[I];o+=JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownItem(g)}o+="</ul></div>"}}return o+="</div></div></li>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.dropdownItem=function(e,s){return'<li class="aui-list-item"><a  href="'+(e.href?soy.$$escapeHtml(e.href):"#")+'"'+(e.styleClass?'class="'+soy.$$escapeHtml(e.styleClass)+'"':"")+JIRA.Components.IssueViewer.Templates.Header.titleAttr(e)+(e.id?'id="'+soy.$$escapeHtml(e.id)+'"':"")+'><span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(e.label),25,!0)+"</span></a></li>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.toolbarItem=function(e,s){return'<li class="toolbar-item toolbar-analytics"><a id="'+soy.$$escapeHtml(e.link.id)+'"'+JIRA.Components.IssueViewer.Templates.Header.titleAttr({title:e.link.title,label:e.link.label})+'class="toolbar-trigger'+(e.link.styleClass?" "+soy.$$escapeHtml(e.link.styleClass):"")+'" href="'+(e.link.href?soy.$$escapeHtml(e.link.href):"#")+'">'+(e.link.iconClass?'<span class="icon '+soy.$$escapeHtml(e.link.iconClass)+'"></span> <span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(e.link.label),25,!0)+"</span>":'<span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(e.link.label),25,!0)+"</span>")+"</a></li>"},JIRA.Components.IssueViewer.Templates.IssueOpsbar.newIssueViewItem=function(e,s){return'<div class="aui-dropdown2-section" id="opsbar-more-new-issue-view-items"><ul><li class="aui-list-item"><span class="group-title">'+soy.$$escapeHtml("New Jira issue view")+'</span></li><li class="aui-list-item"><a href="https://support.atlassian.com/jira-core-cloud/docs/what-is-the-new-jira-issue-view/" target="_blank">'+soy.$$escapeHtml("Learn more")+'</a></li><li class="aui-list-item"><a href="#" id="turn-on-new-issue-view">'+soy.$$escapeHtml("Turn on the new issue view")+"</a></li></ul></div>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/IssueActionsBar.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Components&&(JIRA.Components={}),"undefined"==typeof JIRA.Components.IssueViewer&&(JIRA.Components.IssueViewer={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates&&(JIRA.Components.IssueViewer.Templates={}),"undefined"==typeof JIRA.Components.IssueViewer.Templates.IssueActionsBar&&(JIRA.Components.IssueViewer.Templates.IssueActionsBar={}),JIRA.Components.IssueViewer.Templates.IssueActionsBar.container=function(s,e){for(var t='<div class="actions-bar"><div class="ops-menus">'+(s.issue.transitions.length?JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusDropdown({workflowName:s.issue.workflowName,status:s.issue.status,transitions:s.issue.transitions}):""),n=s.issue.primaryActions,a=n.length,o=0;o<a;o++)for(var i=n[o],r=i.links,l=r.length,u=0;u<l;u++){var p=r[u];t+=JIRA.Components.IssueViewer.Templates.IssueActionsBar.topLevelLink({link:p})}return t+="</div></div>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusDropdown=function(s,e){for(var t='<button class="actions-bar-status-trigger aui-button aui-dropdown2-trigger aui-dropdown2-trigger-arrowless status-lozenge-'+soy.$$escapeHtml(s.status.statusColor)+'" aria-owns="actions-bar-status-dropdown">'+soy.$$escapeHtml(s.status.name)+'<span class="aui-icon aui-icon-small aui-iconfont-expanded"></span></button><div id="actions-bar-status-dropdown" class="aui-style-default aui-dropdown2"><div class="aui-dropdown2-section"><div class="actions-bar-status-list">',n=s.transitions,a=n.length,o=0;o<a;o++){var i=n[o];t+=JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusItem({transitionName:i.transitionName,statusName:i.destinationStatusName,statusColor:i.destinationStatusColor,link:i.url})}return t+='</div></div><div class="aui-dropdown2-section"><ul><li><a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/admin/workflows/ViewWorkflowSteps.jspa?workflowMode=live&workflowName="+soy.$$escapeHtml(s.workflowName)+'" class="issueaction-viewworkflow jira-workflow-designer-link new-workflow-designer">'+soy.$$escapeHtml("View workflow")+"</a></li></ul></div></div>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusItem=function(s,e){return'<a href="'+(s.link.href?soy.$$escapeHtml(s.link.href):"#")+'" class="actions-bar-status-item issueaction-workflow-transition"><span>'+soy.$$escapeHtml(s.transitionName)+'</span><span><span class="aui-icon aui-icon-small aui-iconfont-up">→</span></span><span>'+JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusLozenge({name:s.statusName,color:null!=s.statusColor?s.statusColor:"medium-gray"})+"</span></a>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.statusLozenge=function(s,e){return'<span class="jira-issue-status-lozenge aui-lozenge status-lozenge-'+soy.$$escapeHtml(s.color)+'">'+soy.$$escapeHtml(s.name)+"</span>"},JIRA.Components.IssueViewer.Templates.IssueActionsBar.topLevelLink=function(s,e){return'<a id="'+soy.$$escapeHtml(s.link.id)+'"'+JIRA.Components.IssueViewer.Templates.Header.titleAttr({title:s.link.title,label:s.link.label})+'class="aui-button '+soy.$$escapeHtml(s.link.styleClass)+'" href="'+(s.link.href?soy.$$escapeHtml(s.link.href):"#")+'" ><span class="trigger-label">'+soy.$$truncate(soy.$$escapeHtml(s.link.label),25,!0)+"</span></a>"};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/templates/amd-wrapper.js' */
define("jira/components/issueviewer/templates",function(){"use strict";return JIRA.Components.IssueViewer.Templates}),AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
//# sourceMappingURL=amd-wrapper-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'jira-issue-navigator-components-module/issueviewer/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueViewer",null,require("jira/components/issueviewer")),AJS.namespace("JIRA.Components.IssueViewer.AppModule",null,require("jira/components/issueviewer/appmodule")),AJS.namespace("JIRA.Components.IssueViewer.Utils",null,require("jira/components/issueviewer/utils")),AJS.namespace("JIRA.Components.IssueViewer.Controllers.Error",null,require("jira/components/issueviewer/controllers/error")),AJS.namespace("JIRA.Components.IssueViewer.Controllers.Issue",null,require("jira/components/issueviewer/controllers/issue")),AJS.namespace("JIRA.Components.IssueViewer.Models.Issue",null,require("jira/components/issueviewer/entities/issue")),AJS.namespace("JIRA.Components.IssueViewer.Models.Panel",null,require("jira/components/issueviewer/entities/panel")),AJS.namespace("JIRA.Components.IssueViewer.Collections.Panels",null,require("jira/components/issueviewer/entities/panels")),AJS.namespace("JIRA.Components.IssueViewer.Models.PanelsGroup",null,require("jira/components/issueviewer/entities/panelsgroup")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.AsyncData",null,require("jira/components/issueviewer/legacy/asyncdata")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueEventBus",null,require("jira/components/issueviewer/legacy/issueeventbus")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueFieldUtil",null,require("jira/components/issueviewer/legacy/issuefieldutil")),AJS.namespace("JIRA.Components.IssueViewer.Legacy.ViewIssueData",null,require("jira/components/issueviewer/legacy/viewissuedata")),AJS.namespace("JIRA.Components.IssueViewer.Services.IssueLoader",null,require("jira/components/issueviewer/services/issueloader")),AJS.namespace("JIRA.Components.IssueViewer.Services.Metadata",null,require("jira/components/issueviewer/services/metadataservice")),AJS.namespace("JIRA.Components.IssueViewer.Services.OptInNewIssueView",null,require("jira/components/issueviewer/services/optinnewissueviewservice")),AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorGeneric",null,require("jira/components/issueviewer/views/errorgeneric")),AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorNotFound",null,require("jira/components/issueviewer/views/errornotfound")),AJS.namespace("JIRA.Components.IssueViewer.Views.Error",null,require("jira/components/issueviewer/views/error")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssueBody",null,require("jira/components/issueviewer/views/issuebody")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssueHeader",null,require("jira/components/issueviewer/views/issueheader")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssueOpsbar",null,require("jira/components/issueviewer/views/issueopsbar")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanels",null,require("jira/components/issueviewer/views/issuepanels")),AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanel",null,require("jira/components/issueviewer/views/issuepanel")),AJS.namespace("JIRA.Components.IssueViewer.Views.Issue",null,require("jira/components/issueviewer/views/issue")),AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
//# sourceMappingURL=namespace-min.js.map
;
;
/* module-key = 'com.atlassian.jira.jira-attachment-plugin:integrate-attachment-upload', location = 'jira-attachment-module/jira-attachments.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i),a=n(80),s=r(a),u=n(81),c=r(u),l=n(86),f=r(l),d=n(88),p=r(d),h=n(89),v=r(h),m=n(92),y=r(m),g=n(59),b=r(g),_=n(93),w=r(_),x=n(64),k=r(x);b.default.areAttachmentsEnabled()&&((0,w.default)(),k.default.install(),p.default.registerAttachmentMenuHandlerFactory(c.default),p.default.registerBrowseLinkHandlerFactory(c.default),p.default.registerAttachmentsZoneCreator(o.default),p.default.registerTemporaryAttachmentCreatorFactory(f.default),p.default.registerTemporaryAttachmentZoneCreator(s.default),p.default.registerTemporaryBinaryUploadHandler(v.default),p.default.registerConnectedTemporaryBinaryUploadHandler(y.default))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(71),a=r(o),s=n(65),u=r(s),c=n(74),l=r(c);t.default=function(e){var t="view-issue/drop-zone",n=(0,i.dropzone)(e).then(function(e){return e.on("drop",function(){a.default.triggerAttachRequested("viewIssueDropZone")}),e}),r=!1;return{activate:function(){return n.then(function(e){r||(r=!0,e.activate(),u.default.publish("upload/switch-context",{name:t}))})},deactivate:function(){return n.then(function(e){r&&(e.deactivate(),r=!1)})},drop:function(){return n.catch(function(e){a.default.triggerInitialisationException((0,l.default)(e)),u.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.connectedTemporaryBinary=t.binary=t.dropzone=t.popup=t.browser=t.temporaryAttachmentDropzone=t.temporaryAttachmentPopup=t.temporaryAttachmentBrowser=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=n(56),s=n(57),u=r(s),c=n(58),l=r(c),f=n(71),d=r(f),p=n(72),h=r(p),v=n(74),m=r(v),y=n(79),g=n(73),b=r(g),_="user_token_fetch_fail",w=3e4,x="mediapicker-patch-with-sha256",k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.getApiUrl,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.authProvider,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.getUploadParameters,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.connectToIssueChanges;return n().then(function(t){b.default.mark("attachments.media.components."+e+".credentials.received");var n=i({},{apiUrl:t},{authProvider:r});return n}).then(function(n){var r=u.default.isFeatureEnabled(x)?o.MediaPicker:a.MediaPicker;return r(e,n,t)}).then(function(t){return b.default.mark("attachments.media.components."+e+".component.created"),t}).then(y.connect).then(c).then(function(e){return s().then(function(t){return e.setUploadParams(t)}),e})}},P=function(e){return new Promise(function(t,n){var r=h.default.schedule(function(){d.default.triggerInitializationTimeout(),n({message:"Initialisation Timeout",logged:!0})},w);e.on("ready",function(){b.default.mark("attachments.media.components.popup.ready"),h.default.cancel(r),d.default.triggerPopupInitialized(),d.default.triggerPopupMetrics(),t(e)}),e.on("upload-error",function(t){var i=t.error;i.logged=!0,i.name===_?(d.default.triggerUserNotLoggedIn(),b.default.mark("attachments.media.components.popup.user.not.logged"),h.default.cancel(r),e.teardown(),n(i)):d.default.triggerPopupError((0,m.default)(i))})})},A=k("browser",{multiple:!0}),S=function(e){return k("popup",{userAuthProvider:e})().then(P)},O=function(e){return k("dropzone",{headless:!0,container:e})()},I=(t.temporaryAttachmentBrowser=function(e){return function(){return A(l.default.getApiUrl,l.default.temporaryAuthProvider,l.default.getTemporaryAttachmentUploadParameters.bind(null,e),y.connectToProjectChanges)}},t.temporaryAttachmentPopup=function(e){return function(t){return k("popup",{userAuthProvider:t})(l.default.getApiUrl,l.default.temporaryAuthProvider,l.default.getTemporaryAttachmentUploadParameters.bind(null,e),y.connectToProjectChanges).then(P)}},t.temporaryAttachmentDropzone=function(e,t){return k("dropzone",{headless:!0,container:t})(l.default.getApiUrl,l.default.temporaryAuthProvider,l.default.getTemporaryAttachmentUploadParameters.bind(null,e),y.connectToProjectChanges)},function(e){return l.default.getApiUrl().then(function(t){var n=i({},{apiUrl:t},{authProvider:function(){return l.default.temporaryAuthProviderGetter(e)}});return n}).then(function(e){var t=u.default.isFeatureEnabled(x)?o.MediaPicker:a.MediaPicker;return t("binary",e)}).then(function(t){return l.default.getTemporaryAttachmentUploadParameters(e).then(function(e){return t.setUploadParams(e),t})})}),E=function(e){return k("binary")(l.default.getApiUrl,l.default.temporaryAuthProvider,l.default.getTemporaryAttachmentUploadParameters.bind(null,e),y.connectToProjectChanges)};t.browser=A,t.popup=S,t.dropzone=O,t.binary=I,t.connectedTemporaryBinary=E},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="lib/",t(t.s=152)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(162),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(5),i=n(1),o=n(14),a=n(15),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),g=y.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&b&&void 0!==b[u])&&u in y||(l=c?b[u]:n[u],y[u]=d&&"function"!=typeof b[u]?n[u]:v&&c?o(l,r):m&&b[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&g&&!g[u]&&a(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(61)("wks"),i=n(43),o=n(5).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){(function(t,r){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.1.1
	 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function o(e){V=e}function a(e){J=e}function s(){return void 0!==$?function(){$(c)}:u()}function u(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<q;e+=2)(0,X[e])(X[e+1]),X[e]=void 0,X[e+1]=void 0;q=0}function l(e,t){var n=arguments,r=this,i=new this.constructor(d);void 0===i[ee]&&T(i);var o=r._state;return o?function(){var e=n[o-1];J(function(){return I(o,i,e,r._result)})}():P(r,i,e,t),i}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return _(n,e),n}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(e){return ie.error=e,ie}}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function y(e,t,n){J(function(e){var r=!1,i=m(n,t,function(n){r||(r=!0,t!==n?_(e,n):x(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function g(e,t){t._state===ne?x(e,t._result):t._state===re?k(e,t._result):P(t,void 0,function(t){return _(e,t)},function(t){return k(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===f?g(e,t):n===ie?(k(e,ie.error),ie.error=null):void 0===n?x(e,t):i(n)?y(e,t,n):x(e,t)}function _(t,n){t===n?k(t,p()):e(n)?b(t,n,v(n)):x(t,n)}function w(e){e._onerror&&e._onerror(e._result),A(e)}function x(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&J(A,e))}function k(e,t){e._state===te&&(e._state=re,e._result=t,J(w,e))}function P(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=n,i[o+re]=r,0===o&&e._state&&J(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?I(n,r,i,o):i(o);e._subscribers.length=0}}function S(){this.error=null}function O(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function I(e,t,n,r){var o=i(n),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if(a=O(n,r),a===oe?(c=!0,s=a.error,a.error=null):u=!0,t===a)return void k(t,h())}else a=r,u=!0;t._state!==te||(o&&u?_(t,a):c?k(t,s):e===ne?x(t,a):e===re&&k(t,a))}function E(e,t){try{t(function(t){_(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function j(){return ae++}function T(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[ee]||T(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):k(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function C(e){return new M(this,e).promise}function L(e){var t=this;return new t(H(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function F(e){var t=this,n=new t(d);return k(n,e),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[ee]=j(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&R(),this instanceof z?E(this,e):N())}function D(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=z}var B=void 0;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=B,q=0,$=void 0,V=void 0,J=function(e,t){X[q]=e,X[q+1]=t,2===(q+=2)&&(V?V(c):Z())},W="undefined"!=typeof window?window:void 0,G=W||{},K=G.MutationObserver||G.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Z=void 0;Z=Y?function(){return function(){return t.nextTick(c)}}():K?function(){var e=0,t=new K(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():Q?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===W?function(){try{var e=n(209);return $=e.runOnLoop||e.runOnContext,s()}catch(e){return u()}}():u();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new S,oe=new S,ae=0;return M.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},M.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===f){var i=v(e);if(i===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===z){var o=new n(d);b(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},M.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?k(r,n):this._result[t]=n),0===this._remaining&&x(r,this._result)},M.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},z.all=C,z.race=L,z.resolve=f,z.reject=F,z._setScheduler=o,z._setAsap=a,z._asap=J,z.prototype={constructor:z,then:l,catch:function(e){return this.then(null,e)}},z.polyfill=D,z.Promise=z,z})}).call(t,n(79),n(77))},function(e,t,n){"use strict";function r(e){return"[object Array]"===k.call(e)}function i(e){return"[object ArrayBuffer]"===k.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===k.call(e)}function d(e){return"[object File]"===k.call(e)}function p(e){return"[object Blob]"===k.call(e)}function h(e){return"[object Function]"===k.call(e)}function v(e){return l(e)&&h(e.pipe)}function m(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function _(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=_(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)b(arguments[n],e);return t}function w(e,t,n){return b(t,function(t,r){e[r]=n&&"function"==typeof t?x(t,n):t}),e}var x=n(120),k=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:d,isBlob:p,isFunction:h,isStream:v,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:b,merge:_,extend:w,trim:y}},function(e,t,n){var r=n(10),i=n(93),o=n(63),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(143)("wks"),i=n(144),o=n(13).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(31);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8),i=n(32);e.exports=n(12)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(190),__esModule:!0}},function(e,t,n){e.exports={default:n(159),__esModule:!0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(94),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(181),o=r(i),a=n(185),s=r(a),u=n(94),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(113),i=n(26);t.handleError=function(e,t){var n=Error().stack||"",o=t||"",a=e+": "+o+" \n "+n;(new r.UserTracker).track()(new i.ErrorException(e,n,t)),console.error(a)}},function(e,t,n){"use strict";var r=n(167)(!0);n(65)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports={}},function(e,t,n){var r=n(66),i=n(59);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(17),o=r(i),a=n(20),s=r(a),u=n(21),c=r(u),l=n(0),f=r(l),d=n(2),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(t,n){(0,f.default)(this,e),this.prefix="files.mediapicker-web.",this.name=this.prefix+t,this.properties=n}return(0,p.default)(e,[{key:"toJSON",value:function(){return{name:this.name,properties:this.properties}}}]),e}();t.UserEvent=h;var v=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"library.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MediaPickerLoaded=v;var m=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"browser.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPBrowserLoaded=m;var y=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"dropzone.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPDropzoneLoaded=y;var g=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"cliboard.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPClipboardLoaded=g;var b=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPPopupLoaded=b;var _=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.shown",{}))}return(0,c.default)(t,e),t}(h);t.MPPopupShown=_;var w=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.hidden",{}))}return(0,c.default)(t,e),t}(h);t.MPPopupHidden=w;var x=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.upload.ended",{}))}return(0,c.default)(t,e),t}(h);t.MPFileUploadEnded=x;var k=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.upload.started",{}))}return(0,c.default)(t,e),t}(h);t.MPFileUploadStarted=k;var P=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.processing.started",{}))}return(0,c.default)(t,e),t}(h);t.MPFileProcessingStarted=P;var A=function(e){function t(e,n,r){(0,f.default)(this,t);var i={alias:e,description:r,stacktrace:n};return(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"files.mediapicker-web.library.exception.fired",i))}return(0,c.default)(t,e),t}(h);t.ErrorException=A},function(e,t){e.exports=n(4)},function(e,t,n){var r=n(55),i=n(141);e.exports=n(39)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(56);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(59);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(8).f,i=n(18),o=n(4)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(172);for(var r=n(5),i=n(15),o=n(24),a=n(4)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){var r=n(14),i=n(103),o=n(104),a=n(10),s=n(47),u=n(74),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((m=t?g(a(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(81),o=n(125),a=n(115),s=function(e,t){return o.checkWebpSupport().then(function(t){return e.accept=t?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8",e})},u=function(t,n,i,o){var u=r.__assign({},n,{"Content-Type":"application/json"});return i||(a.isAsapBasedAuth(t)?u["X-Issuer"]=t.asapIssuer:a.isClientBasedAuth(t)&&(u["X-Client-Id"]=t.clientId),u.Authorization="Bearer "+t.token),"image"===o?s(u):e.resolve(u)},c=function(t,n,i,o){var s={};return i&&(s.token=t.token,a.isClientBasedAuth(t)?s.client=t.clientId:a.isAsapBasedAuth(t)&&(s.issuer=t.asapIssuer)),e.resolve(r.__assign({collection:o},n,s))},l=function(e){return e=e||"json",{image:"blob",json:"json"}[e]};t.default=function(t){var n=t.preventPreflight,r=t.collectionName,o=t.config,a=o.authProvider,s=o.serviceHost;return function(t){var o=t.url,f=t.headers,d=t.params,p=t.responseType,h=t.method,v=t.data,m=a({collectionName:r}),y=function(t){return e.all([u(t,f,n,p),c(t,d,n,r)])},g=function(e){var t=e[0],n=e[1];return i.default({method:h||"get",url:o,baseURL:s,headers:t,params:n,data:v,responseType:l(p)})};return m.then(y).then(g).then(function(e){return e.data})}}}).call(t,n(6))},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(140)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports={}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function i(e,t){var n=v(),r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,r,i;if(t.singleton){var u=y++;n=m||(m=a(t)),r=c.bind(null,n,u,!1),i=c.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=f.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=l.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function l(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,g=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=d[s.id];u.refs--,o.push(u)}e&&n(r(e),t);for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!0},function(e,t,n){var r=n(10),i=n(169),o=n(67),a=n(60)("IE_PROTO"),s=function(){},u=function(){var e,t=n(62)("iframe"),r=o.length;for(t.style.display="none",n(97).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(96),i=n(67);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(64),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(17),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u),l=n(20),f=r(l),d=n(21),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(188),v=n(135),m=n(275),y=function(e){function t(e,n){var r=n.apiUrl,i=n.authProvider,a=n.uploadParams;(0,s.default)(this,t);var u=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return u.onFilesAdded=function(e){var t=e.files;u.emitUploadsStart(t)},u.onFileAdded=function(e){var t=e.file;u.emitUploadStart(t),t.raw&&t.type.match(/^image\//)&&m.default(t.raw).then(function(e){u.emitUploadPreviewUpdate(t,e)})},u.onFileUploading=function(e){var t=e.file,n=e.progress;u.emitUploadProgress(t,n)},u.onFileFinalizeReady=function(e){var t=e.file,n=e.finalize;u.emitUploadFinalizeReady(t,n)},u.onFileConverting=function(e){var t=e.file;u.emitUploadProcessing(t)},u.onFileConverted=function(e){var t=e.file,n=e.progress,r=e.metadata;u.emitUploadProgress(t,n),u.emitUploadEnd(t,r)},u.onUploadError=function(e){var t=e.file,n=e.error;u.emitUploadError(t,n)},u.uploadService=new h.UploadService(r,i,a||{}),u.uploadService.on("files-added",u.onFilesAdded),u.uploadService.on("file-added",u.onFileAdded),u.uploadService.on("file-uploading",u.onFileUploading),u.uploadService.on("file-finalize-ready",u.onFileFinalizeReady),u.uploadService.on("file-converting",u.onFileConverting),u.uploadService.on("file-converted",u.onFileConverted),u.uploadService.on("file-upload-error",u.onUploadError),u}return(0,p.default)(t,e),(0,c.default)(t,[{key:"cancel",value:function(e){this.uploadService.cancel(e)}},{key:"setUploadParams",value:function(e){this.uploadService.setUploadParams(e)}}]),t}(v.MPComponent);t.MediaLocalUpload=y},function(e,t,n){var r=n(33),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){e.exports={default:n(203),__esModule:!0}},function(e,t,n){var r=n(207),i=n(208),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function v(t,n,r){function i(t){f[t]&&(l[t]=function(n){return new e(function(e,r){d.push([t,n,e,r])>1||o(t,n)})})}function o(e,t){try{a(f[e](t))}catch(e){c(d[0][3],e)}}function a(t){t.value instanceof h?e.resolve(t.value.v).then(s,u):c(d[0][2],t)}function s(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),d.shift(),d.length&&o(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,f=r.apply(t,n||[]),d=[];return l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l}function m(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:h(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof f?f(e):e[Symbol.iterator]()}t.__extends=r,n.d(t,"__assign",function(){return b}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=c,t.__exportStar=l,t.__values=f,t.__read=d,t.__spread=p,t.__await=h,t.__asyncGenerator=v,t.__asyncDelegator=m,t.__asyncValues=y;/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}}.call(t,n(6))},function(e,t,n){var r=n(87);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(29),i=n(280),o=n(281),a=Object.defineProperty;t.f=n(39)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(61)("keys"),i=n(43);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(5),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(11),i=n(5).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(44),i=n(3),o=n(95),a=n(15),s=n(18),u=n(24),c=n(168),l=n(34),f=n(92),d=n(4)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,y,g){c(n,t,v);var b,_,w,x=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",P="values"==m,A=!1,S=e.prototype,O=S[d]||S["@@iterator"]||m&&S[m],I=O||x(m),E=m?P?x("entries"):I:void 0,j="Array"==t?S.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&w.next&&(l(w,k,!0),r||s(w,d)||a(w,d,h)),P&&O&&"values"!==O.name&&(A=!0,I=function(){return O.call(this)}),r&&!g||!p&&!A&&S[d]||a(S,d,I),u[t]=I,u[k]=h,m)if(b={values:P?I:x("values"),keys:y?I:x("keys"),entries:E},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||A),t,b);return b}},function(e,t,n){var r=n(33);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(4)},function(e,t,n){var r=n(43)("meta"),i=n(11),o=n(18),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(19)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(5),i=n(1),o=n(44),a=n(68),s=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(50),i=n(4)("iterator"),o=n(24);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(31);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(15);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";(function(t){e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(t,n(77))},function(e,t,n){(function(r,i){var o;!function(a){function s(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==a?e.maxListeners:h,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=h}function c(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,u.call(this,e)}function f(e,t,n,r){if(!n)return[];var i,o,a,s,u,c,l,d=[],p=t.length,h=t[r],v=t[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(f(e,t,n[a],r+1)));return d}if("**"===h){l=r+1===p||r+2===p&&"*"===v,l&&n._listeners&&(d=d.concat(f(e,t,n,p)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!l&&(d=d.concat(f(e,t,n[a],p))),d=d.concat(f(e,t,n[a],r))):d=a===v?d.concat(f(e,t,n[a],r+2)):d.concat(f(e,t,n[a],r)));return d}d=d.concat(f(e,t,n[h],r+1))}if(s=n["*"],s&&f(e,t,s,r+1),u=n["**"])if(r<p){u._listeners&&f(e,t,u,p);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?f(e,t,u[a],r+2):a===h?f(e,t,u[a],r+1):(c={},c[a]=u[a],f(e,t,{"**":c},r+1)))}else u._listeners?f(e,t,u,p):u["*"]&&u["*"]._listeners&&f(e,t,u["*"],p);return d}function d(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o!==a;){if(i[o]||(i[o]={}),i=i[o],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,c.call(this,i._listeners.length,o))):i._listeners=t,!0;o=e.shift()}return!0}var p=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=10;l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){e!==a&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,r){function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return i._origin=n,this._on(e,i,r),o},l.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,o,u,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return i.resolve([!1]);var t,n,r,o,a,u=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),o=1;o<c;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,c){case 1:u.push(this._all[r].call(this,e));break;case 2:u.push(this._all[r].call(this,e,arguments[1]));break;case 3:u.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:u.push(this._all[r].apply(this,t))}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,a,l,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,c){case 1:u.push(a.call(this));break;case 2:u.push(a.call(this,arguments[1]));break;case 3:u.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];u.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),c>3)for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];for(r=0,n=a.length;r<n;r++)switch(this.event=e,c){case 1:u.push(a[r].call(this));break;case 2:u.push(a[r].call(this,arguments[1]));break;case 3:u.push(a[r].call(this,arguments[1],arguments[2]));break;default:u.push(a[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?i.reject(arguments[1]):i.reject("Uncaught, unspecified 'error' event.");return i.all(u)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){function n(e){if(e!==a){var t=Object.keys(e);for(var r in t){var i=t[r],o=e[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&n(e[i]),0===Object.keys(o).length&&delete e[i])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=f.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var u=i[s];if(r=u._listeners,p(r)){for(var c=-1,l=0,d=r.length;l<d;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?u._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete u._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=f.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return f.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),p(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},(o=function(){return l}.call(t,n,t,e))!==a&&(e.exports=o)}()}).call(t,n(79),n(6))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=n(19)},function(e,t,n){e.exports=n(220)},function(e,t,n){"use strict";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(7),o=n(222),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(121):void 0!==t&&(e=n(121)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(a,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){u.headers[e]={}}),i.forEach(["post","put","patch"],function(e){u.headers[e]=i.merge(s)}),e.exports=u}).call(t,n(79))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.referenceCountById={},this.referencesById={}}return e.prototype.acquire=function(e,t){return this.referenceCountById[e]||(this.referencesById[e]=t(),this.referenceCountById[e]=0),this.referenceCountById[e]=this.referenceCountById[e]+1,this.referencesById[e]},e.prototype.release=function(e){this.referenceCountById[e]>0&&(this.referenceCountById[e]=this.referenceCountById[e]-1),this.referenceCountById[e]||delete this.referencesById[e]},e}();t.Pool=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u),l=n(51),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(81),p=n(114);t.isTokenError=function(e){if(e&&e.error){var t=e.error.code;return"JwtAuthoriser:TokenExpiredError"===t||"JwtAuthoriser:AuthenticationError"===t}return!1},t.addAuthToHeaders=function(e,t){var n=e.headers||{};return(0,f.default)({},e,{headers:(0,f.default)({},n,p.mapAuthToAuthHeaders(t))})},t.addAuthToQueryParameters=function(e,t){return(0,f.default)({},e,{parameters:(0,f.default)({},e.parameters,p.mapAuthToQueryParameters(t))})};var h=function(){function e(t,n,r){(0,s.default)(this,e),this.apiUrl=t,this.authProvider=n,this.collection=r}return(0,c.default)(e,[{key:"refreshAuth",value:function(){var e=this;return this.authProvider({collectionName:this.collection}).then(function(t){return e.auth=t,t})}},{key:"call",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.addAuthToHeaders;return this.makeCall(e,r).catch(function(i){if(!(i&&i.response&&t.isTokenError(i.response.data)))throw i;return n.makeCall(e,r,!0)})}},{key:"makeCall",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getAuth(r).then(function(r){return n.makeCallWithToken(e,t,r)})}},{key:"getAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.auth&&!e?o.default.resolve(this.auth):this.refreshAuth()}},{key:"makeCallWithToken",value:function(e,t,n){var r=t(e,n),i=this.getAxiosRequestConfig(r);return d.default.request(i).then(function(e){return e.data})}},{key:"getAxiosRequestConfig",value:function(e){var t=e.httpMethod,n=e.mediaApiMethod,r=e.parameters,i=e.headers,o=e.data;return{url:this.apiUrl+"/"+n,method:t,headers:(0,f.default)({},i,o?{"Content-Type":"application/json; charset=utf-8"}:{}),params:r,data:o}}},{key:"storedAuth",get:function(){return this.auth}}]),e}();t.MediaClient=h},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(56),i=n(13).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(288),i=n(86);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(143)("keys"),i=n(144);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(55).f,i=n(57),o=n(9)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(18),i=n(30),o=n(60)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){e.exports=!n(12)&&!n(19)(function(){return 7!=Object.defineProperty(n(62)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(165),o=r(i),a=n(174),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){var r=n(18),i=n(25),o=n(170)(!1),a=n(60)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(5).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(33);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(96),i=n(67).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(48),i=n(32),o=n(25),a=n(63),s=n(18),u=n(93),c=Object.getOwnPropertyDescriptor;t.f=n(12)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(189),__esModule:!0}},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(24),i=n(4)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(10),i=n(31),o=n(4)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(14),s=n(192),u=n(97),c=n(62),l=n(5),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(33)(f)?r=function(e){f.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(10),i=n(11),o=n(75);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(5),i=n(1),o=n(8),a=n(12),s=n(4)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(4)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(77))},function(e,t){function n(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(51),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(210),f=function(){function e(){(0,s.default)(this,e),this.defaults={storage_key:"media-picker.herment.storage",product:"media-picker",subproduct:"library",version:"1.0"},this.queue=[],this.queueProcessor=l.default((0,o.default)({},this.defaults,{queue:this.queue})),this.queueProcessor&&this.queueProcessor.start(),this.defaultProperties={}}return(0,c.default)(e,[{key:"track",value:function(){var e=this;return function(t){var n=t.toJSON();n.properties=(0,o.default)({},e.defaultProperties,n.properties),e.queue.push(n)}}}]),e}();t.UserTracker=f},function(e,t,n){"use strict";function r(e){return o.isClientBasedAuth(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}function i(e){return o.isClientBasedAuth(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(212);t.mapAuthToAuthHeaders=r,t.mapAuthToQueryParameters=i},function(e,t,n){"use strict";function r(e){return!!e.clientId}function i(e){return!!e.asapIssuer}Object.defineProperty(t,"__esModule",{value:!0}),t.isClientBasedAuth=r,t.isAsapBasedAuth=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(117);t.RemoteMediaCollectionProvider=r.RemoteMediaCollectionProvider;var i=n(119);t.FileProvider=i.FileProvider;var o=n(126);t.LinkProvider=o.LinkProvider;var a=n(239);t.MediaItemProvider=a.MediaItemProvider;var s=n(240);t.MediaUrlPreviewProvider=s.MediaUrlPreviewProvider;var u=n(129);t.UrlPreviewProvider=u.UrlPreviewProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118);n(80);var i=function(){function e(e,t,n,i){this.collectionService=e,this.collectionName=t,this.pageSize=n,this.sortDirection=i,this.subject=new r.Subject,this.connectableObservable=this.subject.publishReplay(1),this.items=[],this.nextInclusiveStartKey=void 0,this.isLoading=!1,this.connectableObservable.connect(),this.loadNextPage()}return e.prototype.observable=function(){return this.connectableObservable},e.prototype.loadNextPageUntil=function(e){var t=this;if(!this.items.some(e))var n=this.connectableObservable.subscribe({next:function(r){!t.nextInclusiveStartKey||r.items.some(e)?n.unsubscribe():t.loadNextPage()},complete:function(){return n.unsubscribe()},error:function(e){return n.unsubscribe()}})},e.prototype.loadNextPage=function(){var e=this;this.isLoading||(this.isLoading=!0,this.collectionService.getCollectionItems(this.collectionName,this.pageSize,this.nextInclusiveStartKey,this.sortDirection,"full").then(function(t){e.isLoading=!1,(r=e.items).push.apply(r,t.items);var n={id:e.collectionName,items:e.items};e.nextInclusiveStartKey=t.nextInclusiveStartKey,e.subject.next(n);var r},function(t){e.isLoading=!1,e.subject.error(t)}))},e.prototype.refresh=function(){var e=this;if(!this.isLoading){this.isLoading=!0;var t,n=this.items[0]&&this.items[0].details,r=n&&n.id,i=n&&n.occurrenceKey,o=[],a=function(){e.collectionService.getCollectionItems(e.collectionName,e.pageSize,t,e.sortDirection,"full").then(function(n){for(var s=!1,u=0,c=n.items;u<c.length;u++){var l=c[u],f=l.details,d=f.id,p=f.occurrenceKey;if(d===r&&p===i){s=!0;break}o.push(l)}s?(e.isLoading=!1,e.items=o.concat(e.items),e.subject.next({id:e.collectionName,items:e.items})):n.nextInclusiveStartKey&&(t=n.nextInclusiveStartKey,a())},function(t){e.isLoading=!1,e.subject.error(t)})};a()}},e}();t.RemoteMediaCollectionProvider=i},function(e,t){e.exports=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219),i=n(27);n(80),t.FILE_PROVIDER_RETRY_INTERVAL=2e3;var o=function(){function e(){}return e.fromMediaApi=function(t,n,i,o,a){return e.fromFileService(new r.MediaFileService(t,n),i,o,a)},e.fromFileService=function(e,t,n,r){return{observable:function(){var o=new i.Observable(function(i){var o,a=r||1e3,s=function(){e.getFileItem(t,n).then(function(e){"pending"!==e.details.processingStatus?(i.next(e),i.complete()):(i.next(e),o=setTimeout(function(){return s()},a))},function(e){i.error(e)})};return s(),function(){null!==o&&clearTimeout(o)}}).publishReplay(1);return o.connect(),o}}},e}();t.FileProvider=o},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";(function(t){var r=n(7),i=n(223),o=n(225),a=n(226),s=n(227),u=n(122),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(228);e.exports=function(e){return new t(function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+c(m+":"+y)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,o),p=null}},p.onerror=function(){l(u("Network Error",e)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},r.isStandardBrowserEnv()){var g=n(229),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===f&&(f=null),p.send(f)})}}).call(t,n(6))},function(e,t,n){"use strict";var r=n(224);e.exports=function(e,t,n,i){var o=new Error(e);return r(o,t,n,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__);
}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(237)),r(n(238))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),i=n(27);n(80);var o=function(){function e(){}return e.fromMediaApi=function(t,n,i){return e.fromLinkService(new r.MediaLinkService(t),n,i)},e.fromLinkService=function(e,t,n){return{observable:function(){var r=new i.Observable(function(r){return e.getLinkItem(t,n).then(function(e){r.next(e),r.complete()},function(e){r.error(e)}),function(){}}).publishReplay(1);return r.connect(),r}}},e}();t.LinkProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=function(){function e(e){this.config=e}return e.prototype.getLinkItem=function(e,t){return r.default({config:this.config,collectionName:t,preventPreflight:!0})({url:"/link/"+e}).then(function(e){return e.data}).then(function(e){return{type:"link",details:{id:e.id,url:e.url,type:e.metadata.type,title:e.metadata.title,description:e.metadata.description,site:e.metadata.site,author:e.metadata.author,date:e.metadata.date,resources:e.metadata.resources}}})},e.prototype.addLinkItem=function(e,t,n){return r.default({config:this.config,collectionName:t})({method:"post",url:"/link",data:{url:e,metadata:n}}).then(function(e){return e.data.id})},e}();t.MediaLinkService=i},function(e,t,n){"use strict";function r(e,t,n){return new i.Observable(function(r){var i=e.acquire(t,n),o=i.subscribe(r);return function(){o.unsubscribe(),e.release(t)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27);t.observableFromObservablePool=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(241),i=n(27),o=function(){function e(){}return e.fromMediaApi=function(t,n){return e.fromUrlPreviewService(new r.MediaUrlPreviewService(t),n)},e.fromUrlPreviewService=function(e,t){return{observable:function(){return new i.Observable(function(n){return e.getUrlPreview(t).then(function(e){n.next(e),n.complete()},function(e){n.error(e)}),function(){}})}}},e}();t.UrlPreviewProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(37);t.DEFAULT_COLLECTION_PAGE_SIZE=10;var o=function(){function e(e){this.config=e}return e.prototype.mapToMediaCollectionItem=function(e){var t=e.id,n=e.type,i=e.occurrenceKey,o=e.details;if("file"===n){var a=o;return{type:"file",details:r.__assign({id:t,occurrenceKey:i},a)}}var s=o;return{type:"link",details:r.__assign({id:t,type:"link",occurrenceKey:i,title:s.title||""},s)}},e.prototype.getCollectionItems=function(e,n,r,o,a){var s=this;return void 0===n&&(n=t.DEFAULT_COLLECTION_PAGE_SIZE),i.default({config:this.config,preventPreflight:!0,collectionName:e})({url:"/collection/"+e+"/items",params:{limit:n,inclusiveStartKey:r,sortDirection:o,details:a}}).then(function(e){return{items:e.data.contents.map(s.mapToMediaCollectionItem),nextInclusiveStartKey:e.data.nextInclusiveStartKey}})},e}();t.MediaCollectionService=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(2),s=r(a);Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_NAMES={OBJ_CREATE_FAIL:"object_create_fail",METADATA_FETCH_FAIL:"metadata_fetch_fail",TOKEN_FETCH_FAIL:"token_fetch_fail",TOKEN_UPDATE_FAIL:"token_update_fail",TOKEN_SOURCE_EMPTY:"token_source_empty",UPLOAD_FAIL:"upload_fail",USER_TOKEN_FETCH_FAIL:"user_token_fetch_fail"};var u=function(){function e(t,n,r){(0,o.default)(this,e),this.fileId=t,this.name=n,this.description=r}return(0,s.default)(e,[{key:"toJSON",value:function(){return{fileId:this.fileId,name:this.name,description:this.description}}}]),e}();t.MediaError=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(246),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(22),f=function(){function e(t,n,r,i,o,a,u){(0,s.default)(this,e),e.isValidFileId(t)||l.handleError("wrong_file_id","Passed fileId is incorrect."),e.isValidName(n)||l.handleError("wrong_file_name","Passed file name is incorrect."),e.isValidSize(r)||l.handleError("wrong_file_size","Passed file size is incorrect."),e.isValidCreationDate(i)||l.handleError("wrong_file_date","Passed file creation date is incorrect."),e.isValidType(o)||l.handleError("wrong_file_type","Passed file type is incorrect."),this.id=t,this.name=n,this.size=r,this.creationDate=i,this.type=o,this.publicId=a,this.resumableFile=u}return(0,c.default)(e,[{key:"toJSON",value:function(){return{id:this.id,name:this.name,size:this.size,creationDate:this.creationDate,type:this.type,publicId:this.publicId,chunks:this.chunks,toPureJSON:this.toPureJSON.bind(this)}}},{key:"toPureJSON",value:function(){return{id:this.id,name:this.name,size:this.size,creationDate:this.creationDate,type:this.type,publicId:this.publicId}}},{key:"_isImage",value:function(){return new o.default(["image/png","image/jpeg","image/jpg","image/gif"]).has(this.type)}},{key:"chunks",get:function(){return this.resumableFile?this.resumableFile.chunks:void 0}},{key:"raw",get:function(){return this.resumableFile?this.resumableFile.file:void 0}},{key:"preview",get:function(){return this._isImage()?this.raw:void 0}}],[{key:"isValidFileId",value:function(e){return"string"==typeof e&&e.length>0}},{key:"isValidName",value:function(e){return"string"==typeof e}},{key:"isValidType",value:function(e){return"string"==typeof e}},{key:"isValidSize",value:function(e){return"number"==typeof e&&e>=0}},{key:"isValidCreationDate",value:function(e){return"number"==typeof e&&e>0}}]),e}();t.MediaFile=f},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUploadParams={collection:void 0,fetchMetadata:!0,autoFinalize:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(2),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(274),c=n(78),l=n(22),f=n(26),d=function(){function e(t){(0,o.default)(this,e),this.context=t,this.emitter=new c.EventEmitter2({wildcard:!0})}return(0,s.default)(e,[{key:"once",value:function(e,t){this.emitter.once(e,t)}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"onAny",value:function(e){this.emitter.onAny(e)}},{key:"addListener",value:function(e,t){this.emitter.addListener(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"removeListener",value:function(e,t){this.emitter.removeListener(e,t)}},{key:"removeAllListeners",value:function(e){this.emitter.removeAllListeners(e)}},{key:"emit",value:function(e,t){return this.emitter.emit(e,t)}},{key:"emitUploadsStart",value:function(e){this.emit("uploads-start",{files:e.map(function(e){return e.toJSON()})})}},{key:"emitUploadStart",value:function(e){this.emit("upload-start",{file:e.toJSON()}),this.context.trackEvent(new f.MPFileUploadStarted)}},{key:"emitUploadProgress",value:function(e,t){this.emit("upload-status-update",{file:e.toJSON(),progress:t})}},{key:"emitUploadFinalizeReady",value:function(e,t){this.emit("upload-finalize-ready",{file:e.toJSON(),finalize:t})}},{key:"emitUploadPreviewUpdate",value:function(e,t){this.emit("upload-preview-update",{file:e.toJSON(),preview:t})}},{key:"emitUploadProcessing",value:function(e){this.emit("upload-processing",{file:e.toJSON()}),this.context.trackEvent(new f.MPFileProcessingStarted)}},{key:"emitUploadEnd",value:function(e,t){this.emit("upload-end",{file:e.toJSON(),public:t}),this.context.trackEvent(new f.MPFileUploadEnded)}},{key:"emitUploadError",value:function(e,t){this.emit("upload-error",{file:e.toJSON(),error:t.toJSON()})}},{key:"getStaticAssetUrl",value:function(e){return void 0===u.html[e]&&l.handleError("wrong_static_asset","The passet static asset does not exist"),!0===u.usingVersions?u.baseUrl+"/"+u.version+"/"+u.html[e]:u.baseUrl+"/"+u.html[e]}}]),e}();t.MPComponent=d},function(e,t,n){e.exports={default:n(276),__esModule:!0}},function(e,t,n){"use strict";var r=n(138),i=n(139),o=n(282),a=n(28),s=n(57),u=n(40),c=n(283),l=n(91),f=n(291),d=n(9)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,y,g){c(n,t,v);var b,_,w,x=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",P="values"==m,A=!1,S=e.prototype,O=S[d]||S["@@iterator"]||m&&S[m],I=O||x(m),E=m?P?x("entries"):I:void 0,j="Array"==t?S.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&(l(w,k,!0),r||s(w,d)||a(w,d,h)),P&&O&&"values"!==O.name&&(A=!0,I=function(){return O.call(this)}),r&&!g||!p&&!A&&S[d]||a(S,d,I),u[t]=I,u[k]=h,m)if(b={values:P?I:x("values"),keys:y?I:x("keys"),entries:E},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||A),t,b);return b}},function(e,t){e.exports=!0},function(e,t,n){var r=n(13),i=n(38),o=n(54),a=n(28),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),g=y.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&b&&void 0!==b[u])&&u in y||(l=c?b[u]:n[u],y[u]=d&&"function"!=typeof b[u]?n[u]:v&&c?o(l,r):m&&b[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&g&&!g[u]&&a(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(85),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(13),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){e.exports=n(13).document&&document.documentElement},function(e,t,n){var r=n(58),i=n(9)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r,i,o,a=n(54),s=n(304),u=n(146),c=n(88),l=n(13),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},g=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete m[e]},"process"==n(58)(f)?r=function(e){f.nextTick(a(y,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(311);"string"==typeof r&&(r=[[e.i,r,""]]),n(42)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(t,n){e.exports=n()}(0,function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHTML=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]}},function(e,t,n){e.exports=n(153)},function(e,t,n){"use strict";function r(e,t,n){if(!t)return{binary:i.BinaryUploader,browser:o.Browser,clipboard:a.Clipboard,dropzone:s.Dropzone,popup:u.Popup}[e];var r={trackEvent:f};switch(e){case"binary":return new i.BinaryUploader(r,t);case"browser":return new o.Browser(r,t,n);case"clipboard":return new a.Clipboard(r,t);case"dropzone":return new s.Dropzone(r,t,n);case"popup":return new u.Popup(r,t,n);default:var c="The component "+e+" does not exist";throw l.handleError("wrong_component",c),new Error(c)}}Object.defineProperty(t,"__esModule",{value:!0}),n(154),n(156);var i=n(158);t.BinaryUploader=i.BinaryUploader;var o=n(310);t.Browser=o.Browser;var a=n(312);t.Clipboard=a.Clipboard;var s=n(313);t.Dropzone=s.Dropzone;var u=n(317);t.Popup=u.Popup;var c=n(113),l=n(22),f=(new c.UserTracker).track();t.MediaPicker=r},function(e,t,n){var r=n(155);"string"==typeof r&&(r=[[e.i,r,""]]),n(42)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.i,'.mpAUI{color:#333;font-family:Arial,sans-serif;font-size:14px;line-height:1.42857143}.mpAUI h2{color:#333;font-size:24px;font-weight:400;line-height:1.25;text-transform:none;margin:30px 0 0}.mpAUI .aui-dialog2-header-close img{width:16px!important;height:16px!important;position:relative;top:2px;opacity:.5}.mpAUI .aui-dialog2-header-close:hover img{opacity:1}.mpAUI .aui-dialog2{box-sizing:border-box;position:relative;left:0;right:0;visibility:hidden}.mpAUI .aui-dialog2-xlarge{width:980px;min-height:431px}.mpAUI .aui-dialog2-small .aui-dialog2-content{min-height:80px}.mpAUI .aui-dialog2-medium .aui-dialog2-content{min-height:180px}.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:380px}@media (max-height:700px){.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:180px}.mpAUI .aui-dialog2-large,.mpAUI .aui-dialog2-xlarge{min-height:131px;height:-120%}}@media (max-height:500px){.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-medium .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:80px}.mpAUI .aui-dialog2-medium{min-height:131px;height:-120%}}@media (max-width:1000px){.mpAUI .aui-dialog2-xlarge{width:100%;height:-20%}.mpAUI .aui-dialog2-xlarge.aui-layer{top:69px}.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{height:100%}}@media (max-width:820px){.mpAUI .aui-dialog2-large{width:100%;height:-20%}.mpAUI .aui-dialog2-large.aui-layer{top:69px}.mpAUI .aui-dialog2-large .aui-dialog2-content{height:100%}}@media (max-width:620px){.mpAUI .aui-dialog2-medium{width:100%;height:-20%}.mpAUI .aui-dialog2-medium.aui-layer{top:69px}.mpAUI .aui-dialog2-medium .aui-dialog2-content{height:100%}}@media (max-width:420px){.mpAUI .aui-dialog2-small{width:100%;height:-20%}.mpAUI .aui-dialog2-small.aui-layer{top:69px}.mpAUI .aui-dialog2-small .aui-dialog2-content{height:100%}}.mpAUI .aui-dialog2-footer,.mpAUI .aui-dialog2-header{background:#f5f5f5;visibility:visible}.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-content,.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-footer,.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-header{opacity:0;transition:opacity .2s,visibility .2s;transition-delay:0s;visibility:hidden}.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-content,.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-footer,.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-header{opacity:1;transition:opacity .2s;transition-delay:0s;visibility:visible}.mpAUI .aui-dialog2 .aui-dialog2-content{max-height:100%}.mpAUI .aui-dialog2-content{border-radius:3px;background-color:#fff;box-sizing:border-box;overflow:auto;padding:20px;visibility:visible}.mpAUI .aui-dialog2 .aui-dialog2-header{margin-top:-69px}.mpAUI .aui-dialog2-header{border-bottom:1px solid #ccc;border-radius:5px 5px 0 0;box-sizing:border-box;color:#333;font-weight:400;height:69px;padding:0 20px;width:100%;display:table}.mpAUI .aui-dialog2-header-actions{width:100%}.mpAUI .aui-dialog2-header-actions,.mpAUI .aui-dialog2-header-close,.mpAUI .aui-dialog2-header-main,.mpAUI .aui-dialog2-header-secondary{display:table-cell;vertical-align:middle}.mpAUI .aui-dialog2[data-aui-modal=true] .aui-dialog2-header-close{display:none}.mpAUI .aui-dialog2-footer-hint{color:#707070;line-height:31px}.mpAUI .aui-dialog2-footer-hint,.mpAUI .aui-dialog2-header-main{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:10px}.mpAUI .aui-dialog2-header-main{max-width:400px}.mpAUI .aui-dialog2-footer-actions,.mpAUI .aui-dialog2-header-close,.mpAUI .aui-dialog2-header-secondary{text-align:right}.mpAUI .aui-dialog2-footer-actions{float:right}.mpAUI .aui-dialog2-header-close{width:20px;height:20px;padding-left:5px;text-align:right;vertical-align:middle;line-height:100%;cursor:pointer;color:#707070}.mpAUI .aui-iconfont-close-dialog:before{content:"\\F11B"}.mpAUI .aui-dialog2-warning .aui-dialog2-header{background-color:#d04437;border-bottom-color:#d04437;color:#fff}.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-actions a,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-close,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-main,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-secondary a{color:inherit}.mpAUI .aui-dialog2-header-close .aui-icon{vertical-align:middle}.mpAUI .aui-dialog2-footer{border-top:1px solid #ccc;box-sizing:border-box;height:51px;overflow:hidden;padding:10px 20px;width:100%;border-radius:0 0 5px 5px}.mpAUI .aui-dialog2-footer:empty{height:5px;padding:0}.mpAUI .aui-button,.mpAUI .aui-button:visited,.mpAUI a.aui-button{box-sizing:border-box;background:#f5f5f5;border:1px solid #ccc;border-radius:3.01px;color:#333;cursor:pointer;display:inline-block;font-family:inherit;font-size:14px;font-variant:normal;font-weight:400;height:2.14285714em;line-height:1.42857143;margin:0;padding:4px 10px;text-decoration:none;vertical-align:baseline;white-space:nowrap}.mpAUI .aui-button.aui-button-light,.mpAUI .aui-button:visited.aui-button-light,.mpAUI a.aui-button.aui-button-light{background:#fff}.mpAUI .aui-button~.aui-button{margin-left:10px}.mpAUI a.aui-button:active,.mpAUI a.aui-button:focus,.mpAUI a.aui-button:hover{text-decoration:none}.mpAUI .aui-button:focus,.mpAUI form.aui .button:focus,.mpAUI form.aui .cancel:focus{outline:1px dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:1px}.mpAUI .aui-button::-moz-focus-inner{border:0;padding:0}.mpAUI .aui-button-subtle.aui-button:focus,.mpAUI .aui-button-subtle.aui-button:hover,.mpAUI .aui-button:focus,.mpAUI .aui-button:hover{background:#e9e9e9;border-color:#999;color:#000;text-decoration:none}.mpAUI .aui-button.aui-button-subtle.active,.mpAUI .aui-button.aui-button-subtle:active{border-color:#999}.mpAUI .aui-button-subtle.aui-button.active,.mpAUI .aui-button-subtle.aui-button:active,.mpAUI .aui-button.active,.mpAUI .aui-button:active,.mpAUI .aui-header .aui-button-split-more.active{box-shadow:inset 0 3px 6px 0 rgba(0,0,0,.1);background-image:none;background:#f5f5f5;text-decoration:none}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(:active){border-right-color:transparent}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:active:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:focus:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:hover:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):active+.aui-button-split-more:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):focus+.aui-button-split-more:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):hover+.aui-button-split-more:before{visibility:hidden}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):hover+.aui-button-split-more{border-left:1px solid #999;margin-left:-2px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more{margin-left:-1px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more:focus,.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more:hover{margin-left:-2px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more.aui-dropdown2-trigger:before{content:"";border-left:1px solid #ccc;bottom:4px;display:block;left:-1px;position:absolute;top:4px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more.aui-dropdown2-trigger.aui-button-primary:before{border-color:#fff}.mpAUI .aui-button.aui-button-primary,.mpAUI .aui-button.aui-button-primary:visited{background:#3572b0;border-color:transparent;color:#fff;font-weight:700;-webkit-font-smoothing:antialiased}.mpAUI .aui-button.aui-button-primary:focus,.mpAUI .aui-button.aui-button-primary:hover{background:#2a67a5;border-color:transparent;color:#fff}.mpAUI .aui-button.aui-button-primary:active{box-shadow:inset 0 3px 6px 0 rgba(0,0,0,.1);background-image:none;background:#3572b0;text-decoration:none}.mpAUI .aui-button.aui-button-link,.mpAUI .aui-button.aui-button-link:visited,.mpAUI .aui-button.aui-button-text,.mpAUI .aui-button.aui-button-text:visited{background:transparent;border-color:transparent;color:#3572b0;padding:4px 0;text-decoration:none;box-shadow:none}.mpAUI .aui-button.aui-button-link:active,.mpAUI .aui-button.aui-button-link:focus,.mpAUI .aui-button.aui-button-link:hover,.mpAUI .aui-button.aui-button-text:active,.mpAUI .aui-button.aui-button-text:focus,.mpAUI .aui-button.aui-button-text:hover,.mpAUI .aui-buttons .aui-button.aui-button-link:active,.mpAUI .aui-buttons .aui-button.aui-button-link:focus,.mpAUI .aui-buttons .aui-button.aui-button-link:hover,.mpAUI .aui-buttons .aui-button.aui-button-link[aria-pressed=true],.mpAUI .aui-buttons .aui-button.aui-button-text:active,.mpAUI .aui-buttons .aui-button.aui-button-text:focus,.mpAUI .aui-buttons .aui-button.aui-button-text:hover,.mpAUI .aui-buttons .aui-button.aui-button-text[aria-pressed=true]{background:transparent;border-color:transparent;box-shadow:none;text-decoration:underline}.mpAUI .aui-button.aui-button-text,.mpAUI .aui-button.aui-button-text:visited{border:none;font-size:inherit;height:inherit;line-height:normal;padding:0}.mpAUI .aui-button.aui-button-subtle{background:transparent;border-color:transparent;color:#707070}.mpAUI .aui-buttons .aui-button.aui-button-subtle{border-radius:3.01px}.mpAUI .aui-button.aui-button-subtle .aui-icon{margin-right:1px}.mpAUI .aui-button>.aui-icon+.aui-button-label{margin-left:4px}',""])},function(e,t,n){var r=n(157);"string"==typeof r&&(r=[[e.i,r,""]]),n(42)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.i,".mediaPickerPopup .aui-dialog2-large{width:845px;height:530px;position:fixed;left:calc(50% - 845px/2);top:calc(50% - 530px/2);margin:0;overflow:visible}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(17),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u),l=n(20),f=r(l),d=n(21),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(49),v=function(e){function t(e,n){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"upload",value:function(e,t){var n=t||"file",r=this._urltoFile(e,n);this.uploadService.addFile(r)}},{key:"_urltoFile",value:function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/);if(!r||r.length<2)throw new Error("Failed to retrieve file from data URL");for(var i=r[1],o=atob(n[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var u=new Blob([s],{type:i});return u.name=t,u}}]),t}(h.MediaLocalUpload);t.BinaryUploader=v},function(e,t,n){n(160),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){var r=n(30),i=n(92);n(161)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(3),i=n(1),o=n(19);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){e.exports={default:n(163),__esModule:!0}},function(e,t,n){n(164);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(3);r(r.S+r.F*!n(12),"Object",{defineProperty:n(8).f})},function(e,t,n){e.exports={default:n(166),__esModule:!0}},function(e,t,n){n(23),n(35),e.exports=n(68).f("iterator")},function(e,t,n){var r=n(64),i=n(59);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(45),i=n(32),o=n(34),a={};n(15)(a,n(4)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(8),i=n(10),o=n(46);e.exports=n(12)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(25),i=n(47),o=n(171);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(64),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(173),i=n(98),o=n(24),a=n(25);e.exports=n(65)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){e.exports={default:n(175),__esModule:!0}},function(e,t,n){n(176),n(72),n(179),n(180),e.exports=n(1).Symbol},function(e,t,n){"use strict";var r=n(5),i=n(18),o=n(12),a=n(3),s=n(95),u=n(69).KEY,c=n(19),l=n(61),f=n(34),d=n(43),p=n(4),h=n(68),v=n(70),m=n(177),y=n(99),g=n(10),b=n(25),_=n(63),w=n(32),x=n(45),k=n(178),P=n(101),A=n(8),S=n(46),O=P.f,I=A.f,E=k.f,j=r.Symbol,T=r.JSON,M=T&&T.stringify,U=p("_hidden"),C=p("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),R=l("symbols"),N=l("op-symbols"),z=Object.prototype,D="function"==typeof j,B=r.QObject,H=!B||!B.prototype||!B.prototype.findChild,q=o&&c(function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(z,t);r&&delete z[t],I(e,t,n),r&&e!==z&&I(z,t,r)}:I,$=function(e){var t=R[e]=x(j.prototype);return t._k=e,t},V=D&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},J=function(e,t,n){return e===z&&J(N,t,n),g(e),t=_(t,!0),g(n),i(R,t)?(n.enumerable?(i(e,U)&&e[U][t]&&(e[U][t]=!1),n=x(n,{enumerable:w(0,!1)})):(i(e,U)||I(e,U,w(1,{})),e[U][t]=!0),q(e,t,n)):I(e,t,n)},W=function(e,t){g(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)J(e,n=r[i++],t[n]);return e},G=function(e,t){return void 0===t?x(e):W(x(e),t)},K=function(e){var t=L.call(this,e=_(e,!0));return!(this===z&&i(R,e)&&!i(N,e))&&(!(t||!i(this,e)||!i(R,e)||i(this,U)&&this[U][e])||t)},Y=function(e,t){if(e=b(e),t=_(t,!0),e!==z||!i(R,t)||i(N,t)){var n=O(e,t);return!n||!i(R,t)||i(e,U)&&e[U][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=E(b(e)),r=[],o=0;n.length>o;)i(R,t=n[o++])||t==U||t==u||r.push(t);return r},X=function(e){for(var t,n=e===z,r=E(n?N:b(e)),o=[],a=0;r.length>a;)!i(R,t=r[a++])||n&&!i(z,t)||o.push(R[t]);return o};D||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(N,n),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),q(this,e,w(1,n))};return o&&H&&q(z,e,{configurable:!0,set:t}),$(e)},s(j.prototype,"toString",function(){return this._k}),P.f=Y,A.f=J,n(100).f=k.f=Q,n(48).f=K,n(71).f=X,o&&!n(44)&&s(z,"propertyIsEnumerable",K,!0),h.f=function(e){return $(p(e))}),a(a.G+a.W+a.F*!D,{Symbol:j});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=S(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!D,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=j(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!D,"Object",{create:G,defineProperty:J,defineProperties:W,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),T&&a(a.S+a.F*(!D||c(function(){var e=j();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,M.apply(T,r)}}}),j.prototype[C]||n(15)(j.prototype,C,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(46),i=n(71),o=n(48);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(25),i=n(100).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(70)("asyncIterator")},function(e,t,n){n(70)("observable")},function(e,t,n){e.exports={default:n(182),__esModule:!0}},function(e,t,n){n(183),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(184).set})},function(e,t,n){var r=n(11),i=n(10),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(14)(Function.call,n(101).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(186),__esModule:!0}},function(e,t,n){n(187);var r=n(1).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(3);r(r.S,"Object",{create:n(45)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(102),o=r(i),a=n(16),s=r(a),u=n(196),c=r(u),l=n(51),f=r(l),d=n(0),p=r(d),h=n(2),v=r(h);Object.defineProperty(t,"__esModule",{value:!0});var m=n(206),y=n(52),g=n(78),b=n(22),_=n(211),w=n(114),x=n(131),k=n(132),P=n(261),A=n(134),S=n(262),O=n(84),I=n(271),E=n(272),j=function(){function e(t,n,r){var i=this;(0,p.default)(this,e),this.uploads={},this.retry=0,this.emit=function(e,t){i.emitter.emit(e,t)},this.getQueryParameters=function(e,t){var n=i.getMediaClient(e),r=n.storedAuth;if(r)return(0,f.default)({hash:t.hash},w.mapAuthToQueryParameters(r),{partNumber:t.offset+1,uploadId:i.uploads[e.uniqueIdentifier].uploadId,uploadChunkUrl:i.uploadChunkUrl});throw new Error("auth required")},this.generateTarget=function(e){var t=e.map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,c.default)(t,2),r=n[0],i=n[1];return e[r]=i,e},{}),n=t.hash,r=t.resumableCurrentChunkSize,o=t.client,a=t.issuer,s=t.token,u=t.partNumber,l=t.uploadId,f=void 0;return f=a?"issuer="+a+"&token="+s:"client="+o+"&token="+s,i.uploadChunkUrl+"/"+n+"-"+r+"?"+f+"&uploadId="+l+"&partNumber="+u},this.onFilesAdded=function(e){if(0!==e.length){var t=i.uploadParams;e.forEach(function(e){i.uploads[e.uniqueIdentifier]={creationDate:Date.now(),uploadParams:t}});var n=t.collection,r=i.mediaClientPool.getMediaClient(n);r.refreshAuth().then(function(){i.api.createUpload(r,e.length).then(function(t){e.forEach(function(e,n){i.uploads[e.uniqueIdentifier].uploadId=t[n].id}),i.retry=0;var n=e.map(function(e){return i.mapResumableFileToMediaFile(e)});i.emit("files-added",{files:n}),n.forEach(function(e){return i.emit("file-added",{file:e})}),i.resumable.upload()})},function(){e.forEach(function(e){return i.onError(e,x.ERROR_NAMES.TOKEN_FETCH_FAIL)}),e.forEach(function(e){return e.cancel()}),e.forEach(i.cleanupResumableFile)})}},this.onChunkingComplete=function(e){e.chunks.forEach(function(t){var n=t.callback;t.callback=function(t,r){return"error"===t?(i.retry++,e.abort(),e.pause(!0),void i.resumable.fire("fileError",e,r||"")):("success"===t&&(i.retry=0),void n(t,r))}})},this.onFileProgress=function(e){var t=e.progress(),n=i.mapResumableFileToMediaFile(e);if(t>0&&t<1){var r=new P.MediaProgress(n.size,n.size*t,n.creationDate,Date.now());i.emit("file-uploading",{file:n,progress:r})}},this.onFileSuccess=function(e){return i.getResumableFileUploadParams(e).autoFinalize?void i.finalizeFile(e):void i.emit("file-finalize-ready",{file:i.mapResumableFileToMediaFile(e),finalize:function(){i.finalizeFile(e)}})},this.onFileError=function(e,t){var n=i.getMediaClient(e);i.onUploadError(e,x.ERROR_NAMES.UPLOAD_FAIL,t,n).then(function(){e._prevProgress=0,e.pause(!1),e.chunks.forEach(function(e){"error"===e.status()&&(e.preprocessState=0,e.send()),"pending"===e.status()&&2===e.preprocessState&&(e.preprocessState=0)})}).catch(function(){e.cancel()})},this.onDrop=function(e){e.preventDefault(),e.stopPropagation(),i.emit("file-dropped",e)},this.mapResumableFileToMediaFile=function(e,t){return new k.MediaFile(e.uniqueIdentifier,e.file.name,e.file.size,i.getResumableFileCreationDate(e),e.file.type,t,e)},this.getResumableFileCreationDate=function(e){return i.uploads[e.uniqueIdentifier].creationDate},this.getResumableFileUploadParams=function(e){return i.uploads[e.uniqueIdentifier].uploadParams},this.cleanupResumableFile=function(e){delete i.uploads[e.uniqueIdentifier]},this.emitter=new g.EventEmitter2,this.uploadChunkUrl=t+"/chunk",this.mediaClientPool=new I.MediaClientPool(t,n),this.api=new E.MediaApi,this.setUploadParams(r),this.resumable=new m({target:this.generateTarget,uploadMethod:"PUT",testMethod:"HEAD",chunkSize:4194304,chunkRetryInterval:2500,maxChunkRetries:5,simultaneousUploads:3,forceChunkSize:!0,permanentErrors:[400,403,404,415,500,501],method:"octet",minFileSize:0,query:this.getQueryParameters,preprocess:function(t){return e.hasher.hash(t)},generateUniqueIdentifier:function(){return y.v4()}}),this.resumable.on("filesAdded",this.onFilesAdded),this.resumable.on("chunkingComplete",this.onChunkingComplete),this.resumable.on("fileProgress",this.onFileProgress),this.resumable.on("fileSuccess",this.onFileSuccess),this.resumable.on("fileError",this.onFileError)}return(0,v.default)(e,[{key:"setUploadParams",value:function(e){this.uploadParams=(0,f.default)({},A.defaultUploadParams,e)}},{key:"getUploadParams",value:function(){return this.uploadParams}},{key:"addBrowse",value:function(e){this.resumable.assignBrowse(e)}},{key:"addDropzone",value:function(e){this.dropzoneElement||(this.dropzoneElement=e,this.dropzoneElement.addEventListener("drop",this.onDrop),this.resumable.assignDrop(this.dropzoneElement))}},{key:"removeDropzone",value:function(){this.dropzoneElement&&(this.dropzoneElement.removeEventListener("drop",this.onDrop),this.resumable.unAssignDrop(this.dropzoneElement),this.dropzoneElement=void 0)}},{key:"addFile",value:function(e){this.resumable.addFile(e)}},{key:"cancel",value:function(e){if(e){var t=this.resumable.getFromUniqueIdentifier(e);t&&t.cancel()}else this.resumable.cancel()}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"getMediaClient",value:function(e){var t=this.getResumableFileUploadParams(e),n=t.collection;return this.mediaClientPool.getMediaClient(n)}},{key:"finalizeFile",value:function(e){var t=this,n=e.fileName,r=e.file,i=this.getResumableFileUploadParams(e),o=i.collection,a=e.chunks.map(function(e){return e.hash+"-"+(e.endByte-e.startByte)}),s=this.getMediaClient(e),u=this.uploads[e.uniqueIdentifier].uploadId;this.appendChunksToUpload(s,u,a,1e3).then(function(e){return t.api.createFileFromUpload(s,n,r.type,e,o)}).then(function(n){return t.processFile(s,n,e)}).catch(function(n){t.onError(e,x.ERROR_NAMES.OBJ_CREATE_FAIL,n)})}},{key:"appendChunksToUpload",value:function(e,t,n,r){var i=this;return _.sliceByChunks(n,r).map(function(n,o){var a=o*r;return function(){return i.api.appendChunksToUpload(e,t,n,a)}}).reduce(function(e,t){return e.then(t)},s.default.resolve()).then(function(){return t})}},{key:"processFile",value:function(e,t,n){var r=this;return this.fetchFileMetadata(e,t,n).then(function(e){var t=r.mapResumableFileToMediaFile(n,e.id),i=new P.MediaProgress(t.size,t.size,t.creationDate,Date.now());r.emit("file-converted",{file:t,progress:i,metadata:e})}).catch(function(e){r.onError(n,x.ERROR_NAMES.METADATA_FETCH_FAIL,e)})}},{key:"fetchFileMetadata",value:function(e,t,n){var r=this.getResumableFileUploadParams(n),i=r.collection;return r.fetchMetadata?(this.emit("file-converting",{file:this.mapResumableFileToMediaFile(n,t)}),this.api.pollForFileMetadata(e,t,i)):s.default.resolve({id:t})}},{key:"onUploadError",value:function(e,t,n,r){var i=this;return new s.default(function(o,a){var s=e.uniqueIdentifier,u=void 0;try{u=JSON.parse(n)}catch(e){}return O.isTokenError(u)&&i.retry<=1?void r.refreshAuth().then(function(){return o()}).catch(function(){i.emit("file-upload-error",{file:i.mapResumableFileToMediaFile(e),error:new x.MediaError(s,x.ERROR_NAMES.TOKEN_UPDATE_FAIL,n)}),b.handleError(t,n),a()}):(u&&u.error&&u.error.title&&(n=u.error.title),i.emit("file-upload-error",{file:i.mapResumableFileToMediaFile(e),error:new x.MediaError(s,t,n)}),b.handleError(t,n),a(),void 0)})}},{key:"onError",value:function(e,t,n){var r=void 0;r=n&&n.error&&n.error.title?n.error.title:(0,o.default)(n||{}),this.emit("file-upload-error",{file:this.mapResumableFileToMediaFile(e),error:new x.MediaError(e.uniqueIdentifier,t,r)}),b.handleError(t,r)}}]),e}();j.hasher=S.createHasher(),t.UploadService=j},function(e,t,n){var r=n(1),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(72),n(23),n(35),n(191),n(194),n(195),e.exports=n(1).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(44),u=n(5),c=n(14),l=n(50),f=n(3),d=n(11),p=n(31),h=n(73),v=n(36),m=n(105),y=n(106).set,g=n(193)(),b=n(75),_=n(107),w=n(108),x=u.TypeError,k=u.process,P=u.Promise,A="process"==l(k),S=function(){},O=i=b.f,I=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(4)("species")]=function(e){e(S,S)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),E=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&U(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(x("Promise-chain cycle")):(o=E(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){y.call(u,function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=_(function(){A?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},M=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!M(t.promise))return!1;return!0},U=function(e){y.call(u,function(){var t;A?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},C=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=E(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(L,r,1),c(C,r,1))}catch(e){C.call(r,e)}}):(n._v=e,n._s=1,j(n,!1))}catch(e){C.call({_w:n,_d:!1},e)}}};I||(P=function(e){h(this,P,"Promise","_h"),p(e),r.call(this);try{e(c(L,this,1),c(C,this,1))}catch(e){C.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(76)(P.prototype,{then:function(e,t){var n=O(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(L,e,1),this.reject=c(C,e,1)},b.f=O=function(e){return e===P||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!I,{Promise:P}),n(34)(P,"Promise"),n(109)("Promise"),a=n(1).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(e){return w(s&&this===a?P:this,e)}}),f(f.S+f.F*!(I&&n(110)(function(e){P.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(5),i=n(106).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(33)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(5),a=n(105),s=n(108);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(3),i=n(75),o=n(107);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(197),o=r(i),a=n(200),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n;
}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(198),__esModule:!0}},function(e,t,n){n(35),n(23),e.exports=n(199)},function(e,t,n){var r=n(50),i=n(4)("iterator"),o=n(24);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(201),__esModule:!0}},function(e,t,n){n(35),n(23),e.exports=n(202)},function(e,t,n){var r=n(10),i=n(74);e.exports=n(1).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(204),e.exports=n(1).Object.assign},function(e,t,n){var r=n(3);r(r.S+r.F,"Object",{assign:n(205)})},function(e,t,n){"use strict";var r=n(46),i=n(71),o=n(48),a=n(30),s=n(66),u=Object.assign;e.exports=!u||n(19)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t,n){!function(){"use strict";var t=function(e){function n(e,t,n){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.webkitRelativePath||t.relativePath||i.fileName,i.uniqueIdentifier=n,i._pause=!1,i.container="";var a=void 0!==n,s=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;o.each(i.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],o.each(e,function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())}),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",function(){e||i.resumableObj.upload(),e=!0})},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t="fileSizeExceedsLimit",n={MB:1048576,GB:1073741824,TB:1099511627776},o=2*n.TB,u=function(e){if(e>o)throw new Error(t);return e<=5*n.GB?5*n.MB:e>5*n.GB&&e<=50*n.GB?50*n.MB:e>50*n.GB&&e<=.95*n.TB?100*n.MB:210*n.MB}(i.file.size),c=Math.max(e(i.file.size/u),1),l=0;l<c;l++)!function(e){window.setTimeout(function(){i.chunks.push(new r(i.resumableObj,i,e,s,u)),i.resumableObj.fire("chunkingProgress",i,e/c)},0)}(l);window.setTimeout(function(){i.resumableObj.fire("chunkingComplete",i)},0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return o.each(i.chunks,function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return o.each(i.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},i.isComplete=function(){var e=!1;return o.each(i.chunks,function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1}),!e},i.pause=function(e){i._pause=void 0===e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function r(e,t,n,r,i){var a=this;return a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=n,a.callback=r,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0,a.skipped=!1,a.loaded=0,a.startByte=a.offset*i,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*i),a.fileObjSize-a.endByte<i&&!a.getOpt("forceChunkSize")&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){var e=a.getOpt("query");"function"==typeof e&&(e=e(a.fileObj,a));var t=a.endByte-a.startByte,n=e.hash+"-"+t,r=[n],i=a.getOpt("headers");"function"==typeof i&&(i=i(a.fileObj,a)),i.Authorization||(i.Authorization="Bearer "+e.token),i["X-Client-Id"]?e.issuer&&(i["X-Client-Id"]=e.issuer):i["X-Client-Id"]=e.client;var o={Accept:"application/json","Content-Type":"application/json"};for(var s in i)o[s]=i[s];var u={chunks:r},c=e.uploadChunkUrl+"/probe?uploadId="+e.uploadId,l={method:"POST",headers:o,body:JSON.stringify(u)};fetch(c,l).then(function(e){return e.json()}).then(function(e){a.tested=!0,e.data.results[n]&&e.data.results[n].exists?(a.skipped=!0,a.callback("success",a.message()),a.resumableObj.uploadNextChunk()):a.send()}).catch(function(){a.tested=!0,a.send()})},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt("preprocess");if("function"==typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return}if(a.getOpt("testChunks")&&!a.tested)return void a.test();a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener("progress",function(e){new Date-a.lastProgressCallback>1e3*a.getOpt("throttleProgressCallbacks")&&(a.callback("progress"),a.lastProgressCallback=new Date),a.loaded=e.loaded||0},!1),a.loaded=0,a.pendingRetry=!1,a.callback("progress");var t=function(e){var t=a.status();if("success"==t||"error"==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback("retry",a.message()),a.abort(),a.retries++;var n=a.getOpt("chunkRetryInterval");void 0!==n?(a.pendingRetry=!0,setTimeout(a.send,n)):a.send()}};a.xhr.addEventListener("load",t,!1),a.xhr.addEventListener("error",t,!1),a.xhr.addEventListener("timeout",t,!1);var n={resumableChunkNumber:a.offset+1,resumableChunkSize:i,resumableCurrentChunkSize:a.endByte-a.startByte,resumableTotalSize:a.fileObjSize,resumableType:a.fileObjType,resumableIdentifier:a.fileObj.uniqueIdentifier,resumableFilename:a.fileObj.fileName,resumableRelativePath:a.fileObj.relativePath,resumableTotalChunks:a.fileObj.chunks.length},r=a.getOpt("query");"function"==typeof r&&(r=r(a.fileObj,a)),o.each(r,function(e,t){n[e]=t});var s=a.fileObj.file.slice?"slice":a.fileObj.file.mozSlice?"mozSlice":a.fileObj.file.webkitSlice?"webkitSlice":"slice",u=a.fileObj.file[s](a.startByte,a.endByte),c=null,l=a.getOpt("target"),f=a.getOpt("parameterNamespace");if("octet"===a.getOpt("method")){c=u;var d=[];o.each(n,function(e,t){d.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))}),l=o.getTarget(d)}else c=new FormData,o.each(n,function(e,t){c.append(f+e,t)}),c.append(f+a.getOpt("fileParameterName"),u);var p=a.getOpt("uploadMethod");a.xhr.open(p,l),"octet"===a.getOpt("method")&&a.xhr.setRequestHeader("Content-Type","binary/octet-stream"),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var h=a.getOpt("headers");"function"==typeof h&&(h=h(a.fileObj,a)),o.each(h,function(e,t){a.xhr.setRequestHeader(e,t)}),a.xhr.send(c)},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?"uploading":a.skipped?"success":a.xhr?a.xhr.readyState<4?"uploading":200==a.xhr.status||201==a.xhr.status?"success":o.contains(a.getOpt("permanentErrors"),a.xhr.status)||a.retries>=a.getOpt("maxChunkRetries")?"error":(a.abort(),"pending"):"pending"},a.message=function(){return a.xhr?a.xhr.responseText:""},a.progress=function(e){void 0===e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;switch(a.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var i=this;i.files=[],i.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:void 0,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,maxFilesErrorCallback:function(e,t){var n=i.getOpt("maxFiles");alert("Please upload no more than "+n+" file"+(1===n?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+o.formatSize(i.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+o.formatSize(i.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+i.getOpt("fileType")+".")}},i.opts=e||{},i.getOpt=function(e){var i=this;if(e instanceof Array){var a={};return o.each(e,function(e){a[e]=i.getOpt(e)}),a}if(i instanceof r){if(void 0!==i.opts[e])return i.opts[e];i=i.fileObj}if(i instanceof n){if(void 0!==i.opts[e])return i.opts[e];i=i.resumableObj}if(i instanceof t)return void 0!==i.opts[e]?i.opts[e]:i.defaults[e]},i.events=[],i.on=function(e,t){i.events.push(e.toLowerCase(),t)},i.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);for(var n=e[0].toLowerCase(),t=0;t<=i.events.length;t+=2)i.events[t]==n&&i.events[t+1].apply(i,e.slice(1)),"catchall"==i.events[t]&&i.events[t+1].apply(null,e);"fileerror"==n&&i.fire("error",e[2],e[1]),"fileprogress"==n&&i.fire("progress")};var o={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e){var t=i.getOpt("generateUniqueIdentifier");if("function"==typeof t)return t(e);var n=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return o.each(e,function(e){return e!=t||(n=!0,!1)}),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e){var t=i.getOpt("target");return"function"==typeof t?t(e):(t+=t.indexOf("?")<0?"?":"&",t+e.join("&"))}},a=function(e){o.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?u(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&u(e.dataTransfer.files,e)},s=function(e){e.preventDefault()},u=function(e,t,n,r){n||(n={total:0,files:[],event:t}),c(e.length,n);for(var i=0;i<e.length;i++){var o,a,s=e[i];if(s.isFile||s.isDirectory)o=s;else if(s.getAsEntry)o=s.getAsEntry();else{if(!s.webkitGetAsEntry){if("function"==typeof s.getAsFile){l(s.getAsFile(),n,r);continue}if(File&&s instanceof File){l(s,n,r);continue}c(-1,n);continue}o=s.webkitGetAsEntry()}if(o){if(o.isFile)o.file(function(e){l(e,n,r)},function(e){console.warn(e)});else if(o.isDirectory){a=o.createReader();var f=[],d=function(e){a.readEntries(function(r){if(r.length>0){for(var i=0;i<r.length;i++)f.push(r[i]);d(o.fullPath)}else u(f,t,n,e),c(-1,n)},function(e){c(-1,n),console.warn(e)})};d(o.fullPath)}}else c(-1,n)}},c=function(e,t){t.total+=e,t.files.length===t.total&&f(t.files,t.event)},l=function(e,t,n){n&&(e.relativePath=n+"/"+e.name),t.files.push(e),t.files.length===t.total&&f(t.files,t.event)},f=function(e,t){var r=0,a=i.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==a.maxFiles&&a.maxFiles<e.length+i.files.length){if(1!==a.maxFiles||1!==i.files.length||1!==e.length)return a.maxFilesErrorCallback(e,r++),!1;i.removeFile(i.files[0])}var s=[];o.each(e,function(e){function u(r){i.getFromUniqueIdentifier(r)||function(){e.uniqueIdentifier=r;var o=new n(i,e,r);i.files.push(o),s.push(o),o.container=void 0!==t?t.srcElement:null,window.setTimeout(function(){i.fire("fileAdded",o,t)},0)}()}var c=e.name;if(a.fileType.length>0){var l=!1;for(var f in a.fileType){var d="."+a.fileType[f];if(-1!==c.indexOf(d,c.length-d.length)){l=!0;break}}if(!l)return a.fileTypeErrorCallback(e,r++),!1}if(void 0!==a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,r++),!1;if(void 0!==a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,r++),!1;var p=o.generateUniqueIdentifier(e);p&&"function"==typeof p.done&&"function"==typeof p.fail?p.done(function(e){u(e)}).fail(function(){u()}):u(p)}),window.setTimeout(function(){i.fire("filesAdded",s)},0)};return i.uploadNextChunk=function(){var e=!1;if(i.getOpt("prioritizeFirstAndLastChunk")&&(o.each(i.files,function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(o.each(i.files,function(t){if(!1===t.isPaused()&&o.each(t.chunks,function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return o.each(i.files,function(e){if(!e.isComplete())return t=!0,!1}),t||i.fire("complete"),!1},i.assignBrowse=function(e,t){void 0===e.length&&(e=[e]),o.each(e,function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:(n=document.createElement("input"),n.setAttribute("type","file"),n.style.display="none",e.addEventListener("click",function(){n.style.opacity=0,n.style.display="block",n.focus(),n.click(),n.style.display="none"},!1),e.appendChild(n));var r=i.getOpt("maxFiles");void 0===r||1!=r?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),t?n.setAttribute("webkitdirectory","webkitdirectory"):n.removeAttribute("webkitdirectory"),n.addEventListener("change",function(e){f(e.target.files,e),e.target.value=""},!1)})},i.assignDrop=function(e){void 0===e.length&&(e=[e]),o.each(e,function(e){e.addEventListener("dragover",s,!1),e.addEventListener("dragenter",s,!1),e.addEventListener("drop",a,!1)})},i.unAssignDrop=function(e){void 0===e.length&&(e=[e]),o.each(e,function(e){e.removeEventListener("dragover",s),e.removeEventListener("dragenter",s),e.removeEventListener("drop",a)})},i.isUploading=function(){var e=!1;return o.each(i.files,function(t){if(t.isUploading())return e=!0,!1}),e},i.upload=function(){if(!i.isUploading()){i.fire("uploadStart");for(var e=1;e<=i.getOpt("simultaneousUploads");e++)i.uploadNextChunk()}},i.pause=function(){o.each(i.files,function(e){e.abort()}),i.fire("pause")},i.cancel=function(){for(var e=i.files.length-1;e>=0;e--)i.files[e].cancel();i.fire("cancel")},i.progress=function(){var e=0,t=0;return o.each(i.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},i.addFile=function(e,t){f([e],t)},i.removeFile=function(e){for(var t=i.files.length-1;t>=0;t--)i.files[t]===e&&i.files.splice(t,1)},i.getFromUniqueIdentifier=function(e){var t=!1;return o.each(i.files,function(n){n.uniqueIdentifier==e&&(t=n)}),t},i.getSize=function(){var e=0;return o.each(i.files,function(t){e+=t.size}),e},this};e.exports=t}()},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:u,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,p=f-c+(d-l)/1e4;if(p<0&&void 0===e.clockseq&&(a=a+1&16383),(p<0||f>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=d,u=a,f+=122192928e5;var h=(1e4*(268435455&f)+d)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var v=f/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var m=e.node||s,y=0;y<6;++y)i[r+y]=m[y];return t||o(i)}var i=n(111),o=n(112),a=i(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],u=16383&(a[6]<<8|a[7]),c=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}var i=n(111),o=n(112);e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(102),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l={internalStorage:{storage:{},getItem:function(e){return this.storage[e]},setItem:function(e,t){this.storage[e]=t},clear:function(){this.storage={}}},getLocalStorage:function(){return window.localStorage},getSessionStorage:function(){return window.sessionStorage},getInternalStorage:function(){return this.internalStorage},getStorage:function(){try{var e=this.getLocalStorage();if(e)return e;var t=this.getSessionStorage();if(t)return t}catch(e){return this.getInternalStorage()}},isCORSRequest:function(e){var t=document.createElement("a");return t.href=e,t.host!==window.location.host},getCookieValue:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}},f=function(){function e(t){var n=this;(0,s.default)(this,e),this.STORAGE_KEY_PREAMBLE="herment",this.MAXEVENTS=100,this.PUBLISH_INTERVAL=5e3,this.SAVE_INTERVAL=1e3,this.isStarted=!1,this.config=this.parseConfig(t),this.storage=l.getStorage(),window.addEventListener("unload",function(){return n.moveQueueToStorage()})}return(0,c.default)(e,[{key:"getAtlPath",value:function(){return l.getCookieValue("__atl_path")}},{key:"getServerName",value:function(){return document.location.hostname}},{key:"getProductNameFromServerName",value:function(e){return void 0!==e?e.replace(".com","").replace(".net","").replace(".org","").replace(".au","").replace(".io",""):"-"}},{key:"getSubdomain",value:function(e){if(e.match(/^([a-z0-9\.]*)[\-\.]{1}([a-z0-9]+)+\.([a-z]{2,6})$/i)){var t=e.split(".");if(t=2===t[t.length-1].length?t.slice(0,t.length-3):t.slice(0,t.length-2),0!==t.length)return t.join(".")}return"-"}},{key:"generateRandomStorageKey",value:function(){var e=(Math.random()+"").slice(2,12),t=(Math.random()+"").slice(2,12);return e.concat(t)}},{key:"ajaxPost",value:function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Accept","application/json, text/javascript, */*;"),n.send(t)}},{key:"parseConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window,n=t.AJS?t.AJS.EventQueue:[],r=e.queue||n,i=e.analyticsscheme||"https",o=e.analyticsserver||"analytics.atlassian.com",a=e.analyticsurl||"/analytics/events",s=e.server||this.getServerName();return{queue:r,gasScheme:i,gasServer:o,gasUrl:a,serverName:s,productName:e.product||this.getProductNameFromServerName(s),subProductName:e.subproduct||this.getSubdomain(s)||"-",version:e.version,session:e.session,sen:e.sen,sourceIP:e.sourceIP,atlPath:e.atlpath||this.getAtlPath(),post:e.ajax||this.ajaxPost,maxevents:e.maxevents||this.MAXEVENTS,storageKey:e.storage_key||this.STORAGE_KEY_PREAMBLE+this.generateRandomStorageKey()+this.generateRandomStorageKey(),user:e.user||"default",publishInterval:e.publish_interval||this.PUBLISH_INTERVAL,saveInterval:e.save_interval||this.SAVE_INTERVAL}}},{key:"pushToServer",value:function(e,t){var n=this.config,r=n.gasScheme,i=n.gasServer,a=n.gasUrl;(t||this.config.post)(r+"://"+i+a,(0,o.default)({events:e}))}},{key:"addEventsToArray",value:function(e,t,n){if(n&&n.server&&n.product&&n.subproduct&&n.user)for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(t.length>=this.config.maxevents)return;if(i.name&&i.properties){var o={name:i.name,properties:i.properties,serverTime:i.time||(new Date).getTime(),server:n.server,user:n.user,product:n.product,subproduct:n.subproduct,version:n.version,session:n.session,sen:n.sen,sourceIP:n.sourceIP,atlPath:n.atlPath};t.push(o)}}}},{key:"publishFromQueueAndStorage",value:function(e){try{var t=e||this.pushToServer.bind(this),n=[];if(this.config.queue.length<1&&(void 0===this.storage||this.storage.length<1))return;var r={server:this.config.serverName,user:this.config.user,product:this.config.productName,subproduct:this.config.subProductName,version:this.config.version,session:this.config.session,sen:this.config.sen,sourceIP:this.config.sourceIP,atlPath:this.config.atlPath};this.addEventsToArray(this.config.queue,n,r);var i=this.popEventsFromStorage();this.addEventsToArray(i,n,r),this.config.queue.length=0,n&&n.length&&t(n)}catch(e){}}},{key:"serialiseEventsToString",value:function(e){return(0,o.default)(e)}},{key:"deserialiseEvents",value:function(e){return JSON.parse(e)}},{key:"storeEvents",value:function(e){if(this.storage)try{if(this.storage[this.config.storageKey]){var t=this.deserialiseEvents(this.storage[this.config.storageKey])||[];t.length<this.config.maxevents&&t.push.apply(t,e),e=t}this.storage.setItem(this.config.storageKey,this.serialiseEventsToString(e))}catch(e){}}},{key:"popEventsFromStorage",value:function(){if(!this.storage)return[];try{if(this.storage[this.config.storageKey]){var e=this.deserialiseEvents(this.storage[this.config.storageKey]);return this.storage[this.config.storageKey]=this.serialiseEventsToString([]),e}}catch(e){}return[]}},{key:"moveQueueToStorage",value:function(){0!==this.config.queue.length&&this.storage&&(this.storeEvents(this.config.queue),this.config.queue.length=0)}},{key:"start",value:function(){var e=this;this.isStarted=!0;var t=Array.prototype.push;this.config.queue.push=function(n){n.time=(new Date).getTime(),t.call(e.config.queue,n)},this.initialSaveTimeout=setTimeout(this.publishFromQueueAndStorage.bind(this),this.config.saveInterval),this.publishInterval=setInterval(this.publishFromQueueAndStorage.bind(this),this.config.publishInterval),this.saveInterval=setInterval(this.moveQueueToStorage.bind(this),this.config.saveInterval)}},{key:"stop",value:function(){this.isStarted=!1,this.publishFromQueueAndStorage(),clearTimeout(this.initialSaveTimeout),clearInterval(this.saveInterval),clearInterval(this.publishInterval)}},{key:"destroy",value:function(){this.stop()}}]),e}(),d=void 0,p=function(){return function(e){return d?(d.stop(),void(d.config=d.parseConfig(e))):d=new f(e)}}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceByChunks=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(213)),r(n(115)),r(n(214)),r(n(216)),r(n(116)),r(n(125))},function(e,t,n){"use strict";function r(e,t){return{type:"FETCHING_COLLECTION_SUCCEEDED",collection:e,hasNextPage:t}}function i(e){return{type:"FETCHING_COLLECTION_FAILED",error:e}}Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e[e.click=0]="click",e[e.delete=1]="delete",e[e.download=2]="download",e[e.retry=3]="retry",e[e.custom=4]="custom"}(o=t.CardActionType||(t.CardActionType={})),t.CardClick=function(e){return{type:o.click,handler:e}},t.CardDelete=function(e){return{label:"Delete",type:o.delete,handler:e}},t.ListCardClick=function(e){return{type:o.click,handler:e}},t.ListCardDelete=function(e){return{label:"Delete",type:o.delete,handler:e}},t.CollectionCardClick=function(e){return{type:o.click,handler:e}},t.fetchingCollectionSucceeded=r,t.fetchingCollectionFailed=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(215);t.DefaultMediaStateManager=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=function(){function e(){this.subscribers={},this.state=new Map}return e.prototype.getState=function(e){return this.state.get(e)},e.prototype.updateState=function(e,t){var n=this.subscribers[e],i=r.__assign({},this.state.get(e)||{},t);this.state.set(e,i),void 0!==n&&Array.from(n).forEach(function(e){return e.call(e,i)})},e.prototype.subscribe=function(e,t){var n=this.subscribers,r=n[e];void 0===r&&(r=[],n[e]=r),r.indexOf(t)>-1||r.push(t)},e.prototype.unsubscribe=function(e,t){var n=this.subscribers[e];if(void 0!==n){var r=n.indexOf(t);r>-1&&n.splice(r,1)}},e.prototype.destroy=function(){this.subscribers={}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);n(217),n(218);var i=n(116),o=n(242),a=n(244),s=n(127),u=n(245),c=n(130),l=200,f=function(){function e(){}return e.create=function(e){return new d(e)},e}();t.ContextFactory=f;var d=function(){function e(e){this.config=e,this.collectionPool=o.RemoteMediaCollectionProviderFactory.createPool(),this.itemPool=i.MediaItemProvider.createPool(),this.urlPreviewPool=i.MediaUrlPreviewProvider.createPool(),this.fileItemCache=new u.LRUCache(e.cacheSize||l)}return e.prototype.getMediaItemProvider=function(e,t,n,o){var a=o&&"link"===o.type,s=o&&"file"===o.type&&"pending"!==o.details.processingStatus;if(o&&(a||s))return{observable:function(){return r.Observable.of(o)}};var u=i.MediaItemProvider.fromPool(this.itemPool,this.apiConfig,this.fileItemCache,t,e,n);return o?{observable:function(){return u.observable().startWith(o)}}:u},e.prototype.getMediaCollectionProvider=function(e,t){return void 0===t&&(t=c.DEFAULT_COLLECTION_PAGE_SIZE),o.RemoteMediaCollectionProviderFactory.fromPool(this.collectionPool,this.apiConfig,e,t)},e.prototype.getDataUriService=function(e){return new a.MediaDataUriService(this.config.authProvider,this.config.serviceHost,e)},e.prototype.getUrlPreviewProvider=function(e){return i.MediaUrlPreviewProvider.fromPool(this.urlPreviewPool,this.apiConfig,e)},e.prototype.addLinkItem=function(e,t,n){return new s.MediaLinkService(this.apiConfig).addLinkItem(e,t,n)},e.prototype.refreshCollection=function(e,t){this.getMediaCollectionProvider(e,t).refresh()},Object.defineProperty(e.prototype,"apiConfig",{get:function(){return{serviceHost:this.config.serviceHost,authProvider:this.config.authProvider}},enumerable:!0,configurable:!0}),e}()},function(e,t){e.exports=n(36)},function(e,t){e.exports=n(42)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=function(){function t(e,t){this.config=e,this.fileItemCache=t}return t.prototype.getFileItem=function(t,n){var i=this,o=[t,"file"].join("-"),a=this.fileItemCache.get(o);return a?e.resolve(a):r.default({config:this.config,collectionName:n,preventPreflight:!0})({url:"/file/"+t}).then(function(e){return e.data}).then(function(e){var t={type:"file",details:{id:e.id,mediaType:e.mediaType,mimeType:e.mimeType,name:e.name,processingStatus:e.processingStatus,size:e.size,artifacts:e.artifacts}};return"succeeded"===e.processingStatus&&i.fileItemCache.set(o,t),t})},t}();t.MediaFileService=i}).call(t,n(6))},function(e,t,n){"use strict";(function(t){function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(7),o=n(120),a=n(221),s=n(82),u=r(s);u.Axios=a,u.create=function(e){return r(i.merge(s,e))},u.Cancel=n(124),u.CancelToken=n(235),u.isCancel=n(123),u.all=function(e){return t.all(e)},u.spread=n(236),e.exports=u,e.exports.default=u}).call(t,n(6))},function(e,t,n){"use strict";(function(t){function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(82),o=n(7),a=n(230),s=n(231),u=n(233),c=n(234);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url));var n=[s,void 0],r=t.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},o.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r}).call(t,n(6))},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(122);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(7);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o}},function(e,t,n){"use strict";var r=n(7);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=i},function(e,t,n){"use strict";var r=n(7);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(7);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){
i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";(function(t){function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(7),o=n(232),a=n(123),s=n(82);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(n){return a(n)||(r(e),n&&n.response&&(n.response.data=o(n.response.data,n.response.headers,e.transformResponse))),t.reject(n)})}}).call(t,n(6))},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";(function(t){function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new t(function(e){n=e});var r=this;e(function(e){r.reason||(r.reason=new i(e),n(r.reason))})}var i=n(124);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r}).call(t,n(6))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageRemote=function(e,t){if(void 0===t&&(t=window.location.origin),URL&&URL.prototype){var n=new URL(e);return!!n.host&&n.origin!==t}return!0}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n;t.checkWebpSupport=function(){return void 0!==n?e.resolve(n):new e(function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){n=2===t.height,e(n)}})}}).call(t,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(119),i=n(126),o=n(83),a=n(128),s=function(){function e(){}return e.fromMediaApi=function(e,t,n,o,a){switch(n){case"file":return r.FileProvider.fromMediaApi(e,t,o,a,r.FILE_PROVIDER_RETRY_INTERVAL);case"link":return i.LinkProvider.fromMediaApi(e,o,a);default:throw new Error("invalid media type "+n)}},e.fromPool=function(t,n,r,i,o,s){return{observable:function(){var u=[i,o,s].join("-");return a.observableFromObservablePool(t,u,function(){return e.fromMediaApi(n,r,i,o,s).observable()})}}},e.createPool=function(){return new o.Pool},e}();t.MediaItemProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(129),o=n(83),a=n(128),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromMediaApi=function(e,t){return i.UrlPreviewProvider.fromMediaApi(e,t)},t.fromPool=function(e,n,r){return{observable:function(){return a.observableFromObservablePool(e,r,function(){return t.fromMediaApi(n,r).observable()})}}},t.createPool=function(){return new o.Pool},t}(i.UrlPreviewProvider);t.MediaUrlPreviewProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=function(){function e(e){this.config=e}return e.prototype.getUrlPreview=function(e){return r.default({config:this.config})({url:"/link/preview",params:{url:e}}).then(function(e){var t=e.data,n=t.preview,r=t.previewError;if(r)throw new Error(r.code+": "+r.name);return n})},e}();t.MediaUrlPreviewService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(117),i=n(130),o=n(243),a=n(83),s=function(){function e(){}return e.fromCollectionService=function(e,t,n,i){return void 0===i&&(i="desc"),new r.RemoteMediaCollectionProvider(e,t,n,i)},e.fromMediaAPI=function(t,n,r,o){return void 0===o&&(o="desc"),e.fromCollectionService(new i.MediaCollectionService(t),n,r,o)},e.fromPool=function(e,t,n,a,s){void 0===s&&(s="desc");var u=[n,a,s].join("-"),c=function(){var e=new i.MediaCollectionService(t);return new r.RemoteMediaCollectionProvider(e,n,a,s)};return o.mediaCollectionProviderFromPool(e,u,c)},e.createPool=function(){return new a.Pool},e}();t.RemoteMediaCollectionProviderFactory=s},function(e,t,n){"use strict";function r(e,t,n){return e.acquire(t,function(){var r=n(),o=r.observable;return r.observable=function(){return new i.Observable(function(n){var i=o.bind(r)(),a=i.subscribe(n);return function(){a.unsubscribe(),e.release(t)}})},r})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27);t.mediaCollectionProviderFromPool=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=function(){function t(e,t,n){this.authProvider=e,this.serviceHost=t,this.collectionName=n,this.request=r.default({config:{serviceHost:this.serviceHost,authProvider:this.authProvider},collectionName:this.collectionName})}return t.prototype.fetchOriginalDataUri=function(e){return this.fetchSomeDataUri("/file/"+e.details.id+"/binary",{"max-age":3600,collection:this.collectionName})},t.prototype.fetchImageDataUri=function(e,t,n,r){return void 0===r&&(r="crop"),this.fetchSomeDataUri("/file/"+e.details.id+"/image",{width:t,height:n,mode:r,"max-age":3600,collection:this.collectionName})},t.prototype.fetchSomeDataUri=function(e,t){return this.request({url:e,params:t,responseType:"image"}).then(this.readBlob)},t.prototype.readBlob=function(t){return new e(function(e,n){var r=new FileReader;r.addEventListener("load",function(){return e(r.result)}),r.addEventListener("error",function(){return n(r.error)}),r.readAsDataURL(t)})},t}();t.MediaDataUriService=i}).call(t,n(6))},function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var r;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(r=this.newest;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.oldest;r;)e.call(t,r.key,r.value,this),r=r.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},function(e,t,n){e.exports={default:n(247),__esModule:!0}},function(e,t,n){n(72),n(23),n(35),n(248),n(254),n(257),n(259),e.exports=n(1).Set},function(e,t,n){"use strict";var r=n(249),i=n(133);e.exports=n(250)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(8).f,i=n(45),o=n(76),a=n(14),s=n(73),u=n(36),c=n(65),l=n(98),f=n(109),d=n(12),p=n(69).fastKey,h=n(133),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(69),a=n(19),s=n(15),u=n(76),c=n(36),l=n(73),f=n(11),d=n(34),p=n(8).f,h=n(251)(0),v=n(12);e.exports=function(e,t,n,m,y,g){var b=r[e],_=b,w=y?"set":"add",x=_&&_.prototype,k={};return v&&"function"==typeof _&&(g||x.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){l(t,_,e,"_c"),t._c=new b,void 0!=n&&c(n,y,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!g||"clear"!=e)&&s(_.prototype,e,function(n,r){if(l(this,_,e),!t&&g&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),g||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,y,w),u(_.prototype,n),o.NEED=!0),d(_,e),k[e]=_,i(i.G+i.W+i.F,k),g||m.setStrong(_,e,y),_}},function(e,t,n){var r=n(14),i=n(66),o=n(30),a=n(47),s=n(252);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,y=o(t),g=i(y),b=r(s,h,3),_=a(g.length),w=0,x=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],m=b(v,w,y),e))if(n)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(l)return!1;return f?-1:c||l?l:x}}},function(e,t,n){var r=n(253);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(11),i=n(99),o=n(4)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(3);r(r.P+r.R,"Set",{toJSON:n(255)("Set")})},function(e,t,n){var r=n(50),i=n(256);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(36);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(258)("Set")},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(260)("Set")},function(e,t,n){"use strict";var r=n(3),i=n(31),o=n(14),a=n(36);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(2),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(22),c=function(){function e(t,n,r,i){return(0,o.default)(this,e),this.size=t,this.progress=n,this.startTime=r,this.measureTime=i,e.isValidSize(t)?e.isValidProgress(t,n)?e.isValidStartTime(r)?e.isValidMeasureTime(r,i)?(this.size=t,this.progress=n,this.startTime=r,void(this.measureTime=i)):void u.handleError("wrong_measure_time","The progress measure time has incorrect format."):void u.handleError("wrong_start_time","The progress start time has incorrect format."):void u.handleError("wrong_progress","The progress format is incorrect."):void u.handleError("wrong_file_size","Passed file size is incorrect.")}return(0,s.default)(e,[{key:"toJSON",value:function(){return{absolute:this.absolute,portion:this.portion,max:this.max,overallTime:this.overallTime,expectedFinishTime:this.expectedFinishTime,timeLeft:this.timeLeft}}},{key:"absolute",get:function(){return this.progress}},{key:"portion",get:function(){return this.progress/this.size}},{key:"max",get:function(){return this.size}},{key:"overallTime",get:function(){return(this.measureTime-this.startTime)/this.portion}},{key:"expectedFinishTime",get:function(){return this.startTime+this.overallTime}},{key:"timeLeft",get:function(){return this.expectedFinishTime-this.measureTime}}],[{key:"isValidSize",value:function(e){return"number"==typeof e&&e>0}},{key:"isValidProgress",value:function(t,n){return e.isValidSize(t)&&"number"==typeof n&&n>=0&&n<=t}},{key:"isValidStartTime",value:function(e){return"number"==typeof e&&e>0}},{key:"isValidMeasureTime",value:function(t,n){return e.isValidStartTime(t)&&"number"==typeof n&&n>=t}}]),e}();t.MediaProgress=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263);t.createHasher=function(){return new r.SimpleHasher}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(264),o=r(i),a=n(267),s=r(a),u=n(0),c=r(u),l=n(2),f=r(l),d=n(16),p=r(d),h=function(e,t,n,r){return new(n||(n=p.default))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(){(0,c.default)(this,e)}return(0,f.default)(e,[{key:"hash",value:function(e){return h(this,void 0,void 0,o.default.mark(function t(){var n,r,i,a=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.fileObj.file,r=n.slice(e.startByte,e.endByte),i=new FileReader,i.onload=function(t){return h(a,void 0,void 0,o.default.mark(function n(){var r,i,a,u;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.target.result,n.next=3,crypto.subtle.digest("SHA-256",r);case 3:i=n.sent,a=(0,s.default)(new Uint8Array(i)),u=a.map(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}).join(""),e.hash="sha256-"+u,e.preprocessFinished();case 8:case"end":return n.stop()}},n,this)}))},i.readAsArrayBuffer(r);case 5:case"end":return t.stop()}},t,this)}))}}]),e}();t.SimpleHasher=v},function(e,t,n){e.exports=n(265)},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(266),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t,n){(function(t){!function(n){"use strict";function r(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),s=new h(r||[]);return a._invoke=l(e,n,s),a}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function a(){}function s(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function n(r,o,a,s){var u=i(e[r],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&b.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(l).then(function(e){c.value=e,a(c)},s)}s(u.arg)}function r(e,r){function i(){return new t(function(t,i){n(e,r,t,i)})}return o=o?o.then(i,i):i()}var o;this._invoke=r}function l(e,t,n){var r=S;return function(o,a){if(r===I)throw new Error("Generator is already running");if(r===E){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=f(s,n);if(u){if(u===j)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=E,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=I;var c=i(e,t,n);if("normal"===c.type){if(r=n.done?E:O,c.arg===j)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=E,n.method="throw",n.arg=c.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,f(e,t),"throw"===t.method))return j;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,j;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,j):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,j)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function v(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var y,g=Object.prototype,b=g.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",k=_.toStringTag||"@@toStringTag",P="object"==typeof e,A=n.regeneratorRuntime;if(A)return void(P&&(e.exports=A));A=n.regeneratorRuntime=P?e.exports:{},A.wrap=r;var S="suspendedStart",O="suspendedYield",I="executing",E="completed",j={},T={};T[w]=function(){return this};var M=Object.getPrototypeOf,U=M&&M(M(v([])));U&&U!==g&&b.call(U,w)&&(T=U);var C=s.prototype=o.prototype=Object.create(T);a.prototype=C.constructor=s,s.constructor=a,s[k]=a.displayName="GeneratorFunction",A.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},A.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(C),e},A.awrap=function(e){return{__await:e}},u(c.prototype),c.prototype[x]=function(){return this},A.AsyncIterator=c,A.async=function(e,t,n,i){var o=new c(r(e,t,n,i));return A.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},u(C),C[k]="Generator",C[w]=function(){return this},C.toString=function(){return"[object Generator]"},A.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},A.values=v,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=b.call(i,"catchLoc"),s=b.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,j):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),j},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),j}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:v(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),j}}}(function(){return this}()||Function("return this")())}).call(t,n(6))},function(e,t,n){e.exports={default:n(268),__esModule:!0}},function(e,t,n){n(23),n(269),e.exports=n(1).Array.from},function(e,t,n){"use strict";var r=n(14),i=n(3),o=n(30),a=n(103),s=n(104),u=n(47),c=n(270),l=n(74);i(i.S+i.F*!n(110)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(d);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(t=u(d.length),n=new p(t);t>y;y++)c(n,y,m?v(d[y],y):d[y]);else for(f=g.call(d),n=new p;!(i=f.next()).done;y++)c(n,y,m?a(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(8),i=n(32);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(84),a=function e(t,n){var r=this;(0,i.default)(this,e),this.apiUrl=t,this.authProvider=n,this.clients={},this.getMediaClient=function(e){return r.getStoredClient(e)||r.createNewClient(e)},this.createNewClient=function(e){var t=new o.MediaClient(r.apiUrl,r.authProvider,e);return r.setClient(t,e),t},this.getStoredClient=function(e){return void 0===e?r.clientForAbsentCollection:r.clients[e]},this.setClient=function(e,t){return void 0===t?void(r.clientForAbsentCollection=e):void(r.clients[t]=e)}};t.MediaClientPool=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(2),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(52),c=n(84),l=n(273),f=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"createUpload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={httpMethod:"POST",mediaApiMethod:"upload",parameters:{createUpTo:t,safariCacheBuster:u.v4(),hashAlgorithm:"sha256"}};return l.retryTask(function(){return e.call(n,c.addAuthToQueryParameters).then(function(e){var t=e.data;if(0===t.length)throw new Error("No uploads were created");return t})},5,1e3,2)}},{key:"appendChunksToUpload",value:function(e,t,n,r){var i={httpMethod:"PUT",mediaApiMethod:"upload/"+t+"/chunks",data:{chunks:n,offset:r}};return e.call(i)}},{key:"createFileFromUpload",value:function(e,t,n,r,i){var o={httpMethod:"POST",mediaApiMethod:"file/upload",parameters:i?{collection:i}:{},data:{name:t,mimeType:n,uploadId:r}};return e.call(o).then(function(e){return e.data.id})}},{key:"pollForFileMetadata",value:function(e,t,n){var r={httpMethod:"GET",mediaApiMethod:"file/"+t,parameters:n?{collection:n}:{}};return l.retryTask(function(){return e.call(r,c.addAuthToQueryParameters).then(function(e){var t=e.data;if("succeeded"===t.processingStatus||"failed"===t.processingStatus)return t;throw new Error("Processing not finished")})},10,1e3,2)}}]),e}();t.MediaApi=f},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new o.default(function(i,o){!function t(n,a){n>0?e().then(i).catch(function(e){setTimeout(function(){t(n-1,a*r)},a)}):e().then(i).catch(o)}(t,n)})}var i=n(16),o=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(t,"__esModule",{value:!0}),t.retryTask=r},function(e,t){e.exports={baseUrl:"http://localhost:8081",usingVersions:!1,html:{popup:"./html/popup.html",popupInject:"./html/popup/popup.html",dropzone:"./html/dropzone.html",redirectUrl:"./html/link-account-handler/handler.html",userMethodsHelperUrl:"./html/user-methods-helper/helper.html"},version:"11.1.11"}},function(e,t,n){"use strict";var r=n(136),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(309);t.default=function(e){return new i.default(function(t,n){o.fileToBase64(e).then(function(e){var r=new Image;r.src=e,r.onload=function(){return t({src:r.src,width:r.width,height:r.height})},r.onerror=n})})}},function(e,t,n){n(277),n(278),n(293),n(297),e.exports=n(38).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(279)(!0);n(137)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(85),i=n(86);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){e.exports=!n(39)&&!n(140)(function(){return 7!=Object.defineProperty(n(88)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(56);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(28)},function(e,t,n){"use strict";var r=n(284),i=n(141),o=n(91),a={};n(28)(a,n(9)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(29),i=n(285),o=n(145),a=n(90)("IE_PROTO"),s=function(){},u=function(){var e,t=n(88)("iframe"),r=o.length;for(t.style.display="none",n(146).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(55),i=n(29),o=n(286);e.exports=n(39)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(287),i=n(145);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(57),i=n(89),o=n(289)(!1),a=n(90)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(58);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(89),i=n(142),o=n(290);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(85),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(57),i=n(292),o=n(90)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(86);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(294);for(var r=n(13),i=n(28),o=n(40),a=n(9)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(295),i=n(296),o=n(40),a=n(89);e.exports=n(137)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a=n(138),s=n(13),u=n(54),c=n(147),l=n(139),f=n(56),d=n(87),p=n(298),h=n(299),v=n(303),m=n(148).set,y=n(305)(),g=s.TypeError,b=s.process,_=s.Promise,b=s.process,w="process"==c(b),x=function(){},k=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(9)("species")]=function(e){e(x,x)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t}catch(e){}}(),P=function(e,t){return e===t||e===_&&t===o},A=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},S=function(e){return P(_,e)?new O(e):new i(e)},O=i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw g("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},I=function(e){try{e()}catch(e){return{error:e}}},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&M(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(g("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){m.call(s,function(){var t,n,r,i=e._v;if(T(e)&&(t=I(function(){w?b.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=w||T(e)?2:1),e._a=void 0,t)throw t.error})},T=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!T(t.promise))return!1;return!0},M=function(e){m.call(s,function(){var t;w?b.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},C=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw g("Promise can't be resolved itself");
(t=A(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(C,r,1),u(U,r,1))}catch(e){U.call(r,e)}}):(n._v=e,n._s=1,E(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};k||(_=function(e){p(this,_,"Promise","_h"),d(e),r.call(this);try{e(u(C,this,1),u(U,this,1))}catch(e){U.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(306)(_.prototype,{then:function(e,t){var n=S(v(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),O=function(){var e=new r;this.promise=e,this.resolve=u(C,e,1),this.reject=u(U,e,1)}),l(l.G+l.W+l.F*!k,{Promise:_}),n(91)(_,"Promise"),n(307)("Promise"),o=n(38).Promise,l(l.S+l.F*!k,"Promise",{reject:function(e){var t=S(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(e){if(e instanceof _&&P(e.constructor,this))return e;var t=S(this);return(0,t.resolve)(e),t.promise}}),l(l.S+l.F*!(k&&n(308)(function(e){_.all(e).catch(x)})),"Promise",{all:function(e){var t=this,n=S(t),r=n.resolve,i=n.reject,o=I(function(){var n=[],o=0,a=1;h(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,i=I(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(54),i=n(300),o=n(301),a=n(29),s=n(142),u=n(302),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((m=t?g(a(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(29);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(40),i=n(9)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(147),i=n(9)("iterator"),o=n(40);e.exports=n(38).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(29),i=n(87),o=n(9)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(13),i=n(148).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(58)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(28);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(13),i=n(38),o=n(55),a=n(39),s=n(9)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(136),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.fileToBase64=function(e){return new i.default(function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onabort=function(){return n("abort")},r.onerror=n,r.readAsDataURL(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(17),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u),l=n(20),f=r(l),d=n(21),p=r(d);Object.defineProperty(t,"__esModule",{value:!0}),n(149);var h=n(49),v=n(26),m=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return i.browseElem=document.createElement("INPUT"),i.browseElem.setAttribute("type","file"),i.browseElem.style.display="none",r.multiple&&i.browseElem.setAttribute("multiple",""),r.fileExtensions&&i.browseElem.setAttribute("accept",r.fileExtensions.join(",")),document.body.appendChild(i.browseElem),i.uploadService.addBrowse(i.browseElem),i.context.trackEvent(new v.MPBrowserLoaded),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"browse",value:function(){this.browseElem.click()}},{key:"teardown",value:function(){var e=this.browseElem.parentNode;e&&e.removeChild(this.browseElem)}}]),t}(h.MediaLocalUpload);t.Browser=m},function(e,t,n){t=e.exports=n(41)(),t.push([e.i,".mediaPickerPopup{display:none;position:fixed;z-index:2147483647;left:0;top:0;width:100%;height:100%;background-color:rgba(9,30,66,.44);transition:opacity .2s;transition-delay:.1s}.mediaPickerPopup .aui-dialog2-header{height:50px!important}.mediaPickerPopup .aui-dialog2-content{padding:0!important;height:100%;position:relative!important;overflow:hidden!important}.mediaPickerPopup .aui-dialog2-content iframe{width:100%;height:100%;border-width:0;position:absolute}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(17),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u),l=n(20),f=r(l),d=n(21),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(49),v=n(26),m=n(150),y=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.pasteHandler=function(e){for(var t=e.clipboardData.files,n=0;n<t.length;++n){var i=t[n];r.uploadService.addFile(i)}},r.context.trackEvent(new v.MPClipboardLoaded),r}return(0,p.default)(t,e),(0,c.default)(t,[{key:"activate",value:function(){var e=this;m(function(){e.deactivate(),document.addEventListener("paste",e.pasteHandler,!1)})}},{key:"deactivate",value:function(){document.removeEventListener("paste",this.pasteHandler)}}]),t}(h.MediaLocalUpload);t.Clipboard=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(17),s=r(a),u=n(0),c=r(u),l=n(2),f=r(l),d=n(20),p=r(d),h=n(21),v=r(h);Object.defineProperty(t,"__esModule",{value:!0}),n(314);var m=n(81),y=n(49),g=n(22),b=n(26),_=n(151),w=n(316),x=function(e){return[].slice.call(e,0)},k=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n));i.onDragOver=function(e){if(e.preventDefault(),i.instance&&t.dragContainsFiles(e)){var n=e.dataTransfer,r=void 0;try{r=n.effectAllowed}catch(e){}n.dropEffect="move"===r||"linkMove"===r?"move":"copy",i.instance.classList.add("active");var o=i.getDraggedItemsLength(n);i.emitDragOver({length:o})}},i.onDragLeave=function(e){i.instance&&(e.preventDefault(),i.instance.classList.remove("active"),i.emitDragLeave())},i.onDrop=function(e){var n=i.instance;n&&t.dragContainsFiles(e)&&(n.classList.remove("active"),i.emit("drop",void 0),i.emitDragLeave())};var o=r;return i.container=o.container||document.body,i.headless=o.headless||!1,i.uiActive=!1,i.context.trackEvent(new b.MPDropzoneLoaded),i}return(0,v.default)(t,e),(0,f.default)(t,[{key:"activate",value:function(){var e=this;return w.whenDomReady.then(function(){if(e.container=e.container||document.body,!e.instance)return e.createInstance()}).then(function(){e.deactivate(),e.container.addEventListener("dragover",e.onDragOver,!1),e.container.addEventListener("dragleave",e.onDragLeave,!1),e.uploadService.addDropzone(e.container)})}},{key:"deactivate",value:function(){this.container.removeEventListener("dragover",this.onDragOver,!1),this.container.removeEventListener("dragleave",this.onDragLeave,!1),this.uploadService.removeDropzone()}},{key:"getDraggedItemsLength",value:function(e){return e.items?x(e.items).filter(function(e){return"file"===e.kind}).length:e.files.length}},{key:"createInstance",value:function(){var e=this;return this.getDropzoneUI().then(function(t){e.instance=t,e.container.appendChild(e.instance),e.uploadService.on("file-dropped",e.onDrop)})}},{key:"getDropzoneUI",value:function(){var e=this;return this.headless?o.default.resolve(document.createElement("DIV")):new o.default(function(t,n){return m.default.get(e.getStaticAssetUrl("dropzone")).then(function(e){t(_.parseHTML(e.data))},function(e){g.handleError("dropzone_load_fail",e),n(e)})})}},{key:"emitDragOver",value:function(e){this.uiActive||(this.uiActive=!0,this.emit("drag-enter",e))}},{key:"emitDragLeave",value:function(){var e=this;this.uiActive&&(this.uiActive=!1,window.setTimeout(function(){e.uiActive||e.emit("drag-leave",void 0)},50))}}],[{key:"dragContainsFiles",value:function(e){var t=e.dataTransfer.types;return x(t).indexOf("Files")>-1}}]),t}(y.MediaLocalUpload);t.Dropzone=k},function(e,t,n){var r=n(315);"string"==typeof r&&(r=[[e.i,r,""]]),n(42)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.i,".mediaPickerDropzone{position:fixed;left:0;top:0;width:100%;height:0;overflow:hidden;margin:auto;font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;pointer-events:none}@keyframes atlassian-doc{0%{transform:rotate(0deg)}to{transform:rotate(-18deg)}}@keyframes spreadsheet{0%{transform:rotate(0deg)}to{transform:rotate(20deg)}}.mediaPickerDropzone .mp-content{width:100vw;height:100vh}.mediaPickerDropzone .mp-content .mp-circle{transition:width .2s ease,height .2s ease,top .2s ease,left .2s ease;width:0;height:0;transform:scale(1);background-color:#0052cc;border-radius:50%;margin:auto;position:absolute;overflow:hidden;color:#fff;top:50%;left:50%}.mediaPickerDropzone .mp-content .mp-circle .mp-title{font-weight:500;font-size:40px;margin-bottom:20px}.mediaPickerDropzone .mp-content .mp-circle .mp-description{font-size:16px;font-weight:500}.mediaPickerDropzone .mp-content .mp-circle .mp-text{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;left:0;right:0;top:130px;position:absolute;text-align:center}.mediaPickerDropzone .mp-content .mp-circle .mp-text span{display:block}.mediaPickerDropzone .mp-content .mp-circle .mp-fileIcon{width:auto;height:200px;position:absolute;bottom:0;margin:auto;transform-origin:bottom;left:150px}.mediaPickerDropzone.active{height:100%;background-color:hsla(0,0%,100%,.7);position:fixed;z-index:500}.mediaPickerDropzone.active .mp-circle{width:500px;height:500px;top:calc(50% - 250px);left:calc(50% - 250px)}.mediaPickerDropzone.active .mp-circle .mp-iconAtlassianDoc{left:100px;width:183px;height:212px;bottom:-15px;animation:atlassian-doc .75s .2s forwards}.mediaPickerDropzone.active .mp-circle .mp-iconOtherDoc{left:170px;z-index:1;width:173px;height:224px}.mediaPickerDropzone.active .mp-circle .mp-iconPageSpreadsheet{left:250px;animation:spreadsheet .75s .2s forwards}",""])},function(e,t,n){"use strict";var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.whenDomReady=function(){return"complete"===document.readyState?i.default.resolve():new i.default(function(e){window.addEventListener("load",e)})}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.id,n=e.name,r=e.size,i=e.creationDate,o=e.type,a=e.publicId;return new A.MediaFile(t,n,r,i,o,a)}var o=n(16),a=r(o),s=n(51),u=r(s),c=n(17),l=r(c),f=n(0),d=r(f),p=n(2),h=r(p),v=n(20),m=r(v),y=n(21),g=r(y);Object.defineProperty(t,"__esModule",{value:!0}),n(149);var b=n(52),_=n(135),w=n(318),x=n(22),k=n(319),P=n(26),A=n(132),S=n(131),O=n(134),I=n(150),E=n(151),j=n(320);t.USER_RECENTS_COLLECTION="recents";var T=function(e){function t(e,n,r){var i=r.userAuthProvider,o=r.container;(0,d.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.config=n,a.context.trackEvent(new P.MPPopupLoaded),a.uploadParams=(0,u.default)({},O.defaultUploadParams,n.uploadParams),a.userAuthProvider=i,a.container=o||document.body,I(function(){a.init()}),a}return(0,g.default)(t,e),(0,h.default)(t,[{key:"init",value:function(){this.popupReady=!1;var e=b.v4(),t={channelName:e,apiUrl:this.config.apiUrl,redirectUrl:this.getStaticAssetUrl("redirectUrl")};this.instance=this._createInstance(t),this.container.appendChild(this.instance),this.popupIframe=this._createInteractionLayer(e)}},{key:"show",value:function(){var e=this;return this.instance||this.init(),this.config.authProvider({collectionName:this.uploadParams.collection}).then(function(t){return e.popupIframe.setTenant({auth:t,uploadParams:e.uploadParams}),e.popupIframe.resetView(),e._show(),a.default.resolve()})}},{key:"cancel",value:function(e){this.popupIframe.cancelUpload(e)}},{key:"teardown",value:function(){this.instance&&(this.instance.parentNode&&this.instance.parentNode.removeChild(this.instance),delete this.instance),this.localFileBrowser&&this.localFileBrowser.teardown()}},{key:"hide",value:function(){this.instance&&(this.instance.style.display="none"),this.emit("closed",void 0),this.context.trackEvent(new P.MPPopupHidden)}},{key:"setUploadParams",value:function(e){this.uploadParams=(0,u.default)({},O.defaultUploadParams,e)}},{key:"_show",value:function(){this.popupReady&&(this.instance.style.display="block",this.context.trackEvent(new P.MPPopupShown))}},{key:"_createInstance",value:function(e){var t=e.apiUrl,n=e.channelName,r=e.redirectUrl,i="?channelName="+encodeURIComponent(n)+"&apiUrl="+encodeURIComponent(t)+"&redirectUrl="+encodeURIComponent(r);return E.parseHTML('<div class="mediaPickerPopup mpAUI">\n        <section role="dialog" id="demo-dialog" class="aui-layer aui-dialog2 aui-dialog2-large" aria-hidden="false">\n            <div class="aui-dialog2-content">\n                <iframe class="mpApp" src="'+this.getStaticAssetUrl("popupInject")+i+'"></iframe>\n            </div>\n        </section>\n      </div>')}},{key:"_createInteractionLayer",value:function(e){var t=this,n=this.instance.querySelector(".mpApp"),r=n.contentWindow,o=w({window:r,scope:e});this.messageService=new j.PostisMessageService(o),this.messageService.handle("uploadFinalizeReady",function(e){return new a.default(function(n){t.emitUploadFinalizeReady(i(e),function(){return n()})})}),this.messageService.handle("getUserAuth",function(e){return t.userAuthProvider(e)});var s=new k.InteractionLayer(this,o);return s.on("uploadEvent",function(e){switch(e.name){case"upload-start":t.emitUploadStart(i(e.data.file));break;case"upload-status-update":t.emitUploadProgress(i(e.data.file),e.data.progress);break;case"upload-preview-update":var n=e.data,r=n.file,o=n.preview;t.emitUploadPreviewUpdate(i(r),o);break;case"upload-processing":t.emitUploadProcessing(i(e.data.file));break;case"upload-end":t.emitUploadEnd(i(e.data.file),e.data.public);break;case"upload-error":var a=e.data,s=a.file,u=a.error;t.emitUploadError(i(s),new S.MediaError(u.fileId,u.name,u.description)),x.handleError(u.name,u.description)}}),s.on("ready",function(){t.emit("ready",void 0),t.popupReady=!0}),s.initProtocol(),s}}]),t}(_.MPComponent);t.Popup=T},function(e,t){function n(e){var t,n=e.scope,r=e.window,i=e.windowForEventListening||window,o={},a=[],s={},u=!1,c=function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}if(t.postis&&t.scope===n){var r=o[t.method];if(r)for(var i=0;i<r.length;i++)r[i].call(null,t.params);else s[t.method]=s[t.method]||[],s[t.method].push(t.params)}};i.addEventListener("message",c,!1);var l={listen:function(e,t){o[e]=o[e]||[],o[e].push(t);var n=s[e];if(n)for(var r=o[e],i=0;i<r.length;i++)for(var a=0;a<n.length;a++)r[i].call(null,n[a]);delete s[e]},send:function(e){var t=e.method;(u||"__ready__"===e.method)&&r&&"function"==typeof r.postMessage?r.postMessage(JSON.stringify({postis:!0,scope:n,method:t,params:e.params}),"*"):a.push(e)},ready:function(e){u?e():setTimeout(function(){l.ready(e)},50)},destroy:function(e){clearInterval(t),u=!1,i&&"function"==typeof i.removeEventListener&&i.removeEventListener("message",c),e&&e()}},f=+new Date+Math.random()+"";return t=setInterval(function(){l.send({method:"__ready__",params:f})},50),l.listen("__ready__",function(e){if(e===f){clearInterval(t),u=!0;for(var n=0;n<a.length;n++)l.send(a[n]);a=[]}else l.send({method:"__ready__",params:e})}),l}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(2),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(78),c=function(){function e(t,n){(0,o.default)(this,e),this.popup=t,this.channel=n,this.sanitizeUploadParams=function(e){return{collection:e.collection,fetchMetadata:e.fetchMetadata,autoFinalize:e.autoFinalize}},this.emitter=new u.EventEmitter2}return(0,s.default)(e,[{key:"initProtocol",value:function(){var e=this;this.channel.ready(function(){e.channel.listen("hidePopup",function(){e.popup.hide()}),e.channel.listen("showPopup",function(){e.popup.show()}),e.channel.listen("ready",function(){e.emit("ready",void 0)}),e.channel.listen("uploadEvent",function(t){e.emit("uploadEvent",t.event)})})}},{key:"resetView",value:function(){this.channel.send({method:"resetView"})}},{key:"cancelUpload",value:function(e){this.channel.send({method:"cancelUpload",params:{uploadId:e}})}},{key:"setTenant",value:function(e){var t=e.auth,n=e.uploadParams;this.channel.send({method:"setTenant",params:{auth:t,uploadParams:this.sanitizeUploadParams(n)}})}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"emit",value:function(e,t){this.emitter.emit(e,t)}}]),e}();t.InteractionLayer=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(2),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(118);n(321),n(322);var f=n(52),d=function(){function e(t){(0,s.default)(this,e),this.channel=t,this.requests=this.observeChannelRequests(t),this.responses=this.observeChannelResponses(t)}return(0,c.default)(e,[{key:"post",value:function(e){var t=this;return new o.default(function(n,r){var i=f.v4(),o=t.responses.filter(function(e){return e.traceId===i}).subscribe({next:function(e){var t=e.response,i=e.error;i?r(i):n(t),o.unsubscribe()}});t.channel.send({method:"REQUEST",params:{traceId:i,message:e}})})}},{key:"handle",value:function(e,t){var n=this;this.requests.filter(function(t){return t.message.type===e}).subscribe({next:function(e){var r=e.traceId,i=e.message;t(i.payload).then(function(e){n.channel.send({method:"RESPONSE",params:{traceId:r,response:e}})}).catch(function(e){n.channel.send({method:"RESPONSE",params:{traceId:r,error:e}})})}})}},{key:"observeChannelRequests",value:function(e){var t=new l.Subject;return e.ready(function(){e.listen("REQUEST",function(e){t.next(e)})}),t}},{key:"observeChannelResponses",value:function(e){var t=new l.Subject;return e.ready(function(){e.listen("RESPONSE",function(e){t.next(e)})}),t}}]),e}();t.PostisMessageService=d},function(e,t){e.exports=n(52)},function(e,t){e.exports=n(54)}]))},function(e,t,n){"use strict";var r=n(5),i=n(7),o=n(18),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?r.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.create=function(t){return new e(t)},e}();t.Observable=a},function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof e&&e,o=n||i||r;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n(6))},function(e,t,n){(function(t){"use strict";e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(t,n(6))},function(e,t,n){"use strict";function r(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(a.empty)}var i=n(8),o=n(17),a=n(16);t.toSubscriber=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(9),o=n(10),a=n(16),s=n(17),u=function(e){function t(n,r,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof t?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,n=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=n,this},t}(o.Subscription);t.Subscriber=u;var c=function(e){function t(t,n,r,o){e.call(this),this._parentSubscriber=t;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t){"use strict";function n(e){return"function"==typeof e}t.isFunction=n},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}var i=n(11),o=n(12),a=n(9),s=n(13),u=n(14),c=n(15),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,l=n._parent,f=n._parents,d=n._unsubscribe,p=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,v=f?f.length:0;l;)l.remove(this),l=++h<v&&f[h]||null;if(a.isFunction(d)){var m=s.tryCatch(d).call(this);m===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(p))for(h=-1,v=p.length;++h<v;){var y=p[h];if(o.isObject(y)){var m=s.tryCatch(y.unsubscribe).call(y);if(m===u.errorObject){t=!0,e=e||[];var g=u.errorObject.e;g instanceof c.UnsubscriptionError?e=e.concat(r(g.errors)):e.push(g)}}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this,n=t._parent,r=t._parents;n&&n!==e?r?r.indexOf(e)===-1&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();t.Subscription=l},function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function n(e){return null!=e&&"object"==typeof e}t.isObject=n},function(e,t,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function i(e){return o=e,r}var o,a=n(14);t.tryCatch=i},function(e,t){"use strict";t.errorObject={e:{}}},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return n(t,e),t}(Error);t.UnsubscriptionError=r},function(e,t){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=n(5),i=r.root.Symbol;t.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var i=n(5);t.getSymbolObservable=r,t.observable=r(i.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=n(4),i=n(20);r.Observable.prototype.publishReplay=i.publishReplay},function(e,t,n){"use strict";function r(e,t,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(e,t,n))}var i=n(21),o=n(34);t.publishReplay=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(22),o=n(25),a=n(10),s=n(32),u=n(23),c=n(24),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=r,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return r(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new f(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?t=a.Subscription.EMPTY:this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new c.SubjectSubscription(this,e)),r&&e.add(e=new s.ObserveOnSubscriber(e,r));for(var i=n.length,o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.Subject);t.ReplaySubject=l;var f=function(){function e(e,t){this.time=e,this.value=t}return e}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),o=n(8),a=n(10),s=n(23),u=n(24),c=n(17),l=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(o.Subscriber);t.SubjectSubscriber=l;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[c.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){
if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.Observable);t.Subject=f;var d=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);t.AnonymousSubject=d},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);t.ObjectUnsubscribedError=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(10),o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);n!==-1&&t.splice(n,1)}}},t}(i.Subscription);t.SubjectSubscription=o},function(e,t,n){"use strict";var r=n(26),i=n(29);t.queue=new i.QueueScheduler(r.QueueAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(27),o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(i.AsyncAction);t.QueueAction=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),o=n(28),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&this.pending===!1?t:i.root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);return n?n:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,r!==-1&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(o.Action);t.AsyncAction=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(10),o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i.Subscription);t.Action=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(30),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(i.AsyncScheduler);t.QueueScheduler=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(31),o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var n;this.active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}},t}(i.Scheduler);t.AsyncScheduler=o},function(e,t){"use strict";var n=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=n},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),this.lift(new s(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(8),a=n(33);t.observeOn=r;var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var u=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return i(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=u;var c=function(){function e(e,t){this.notification=e,this.destination=t}return e}();t.ObserveOnMessage=c},function(e,t,n){"use strict";var r=n(4),i=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){var r=this.kind;switch(r){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",(void 0),t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",(void 0)),e}();t.Notification=i},function(e,t,n){"use strict";function r(e,t){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return this.lift(new o(n,t));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(35);t.multicast=r;var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}();t.MulticastOperator=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(22),o=n(4),a=n(8),s=n(10),u=function(e){function t(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.Subscription,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed?(this._connection=null,e=s.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return this.lift(new f(this))},t}(o.Observable);t.ConnectableObservable=u;var c=u.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var l=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber),f=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new d(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),d=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},t}(a.Subscriber)},function(e,t,n){"use strict";var r=n(4),i=n(37);r.Observable.of=i.of},function(e,t,n){"use strict";var r=n(38);t.of=r.ArrayObservable.of},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),o=n(39),a=n(40),s=n(41),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,i=e.subscriber;return n>=r?void i.complete():(i.next(t[n]),void(i.closed||(e.index=n+1,this.schedule(e))))},t.prototype._subscribe=function(e){var n=0,r=this.array,i=r.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:r,index:n,count:i,subscriber:e});for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);e.complete()},t}(i.Observable);t.ArrayObservable=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;return t?void r.complete():(r.next(n),void(r.closed||(e.done=!0,this.schedule(e))))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;return r?r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e}):(e.next(n),void(e.closed||e.complete()))},t}(i.Observable);t.ScalarObservable=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;t.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;return n?n.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(i.Observable);t.EmptyObservable=o},function(e,t){"use strict";function n(e){return e&&"function"==typeof e.schedule}t.isScheduler=n},function(e,t,n){"use strict";var r=n(4),i=n(43);r.Observable.prototype.startWith=i.startWith},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];u.isScheduler(n)?e.pop():n=null;var r=e.length;return 1===r?s.concatStatic(new o.ScalarObservable(e[0],n),this):r>1?s.concatStatic(new i.ArrayObservable(e,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var i=n(38),o=n(39),a=n(40),s=n(44),u=n(41);t.startWith=r},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null,r=e;return a.isScheduler(r[e.length-1])&&(n=r.pop()),null===n&&1===e.length&&e[0]instanceof o.Observable?e[0]:new s.ArrayObservable(e,n).lift(new u.MergeAllOperator(1))}var o=n(4),a=n(41),s=n(38),u=n(45);t.concat=r,t.concatStatic=i},function(e,t,n){"use strict";function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new s(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(46),a=n(47);t.mergeAll=r;var s=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.concurrent))},e}();t.MergeAllOperator=s;var u=function(e){function t(t,n){e.call(this,t),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeAllSubscriber=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(8),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.Subscriber);t.OuterSubscriber=o},function(e,t,n){"use strict";function r(e,t,n,r){var d=new l.InnerSubscriber(e,n,r);if(d.closed)return null;if(t instanceof u.Observable)return t._isScalar?(d.next(t.value),d.complete(),null):t.subscribe(d);if(o.isArrayLike(t)){for(var p=0,h=t.length;p<h&&!d.closed;p++)d.next(t[p]);d.closed||d.complete()}else{if(a.isPromise(t))return t.then(function(e){d.closed||(d.next(e),d.complete())},function(e){return d.error(e)}).then(null,function(e){i.root.setTimeout(function(){throw e})}),d;if(t&&"function"==typeof t[c.iterator])for(var v=t[c.iterator]();;){var m=v.next();if(m.done){d.complete();break}if(d.next(m.value),d.closed)break}else if(t&&"function"==typeof t[f.observable]){var y=t[f.observable]();if("function"==typeof y.subscribe)return y.subscribe(new l.InnerSubscriber(e,n,r));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=s.isObject(t)?"an invalid object":"'"+t+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(b))}}return null}var i=n(5),o=n(48),a=n(49),s=n(12),u=n(4),c=n(50),l=n(51),f=n(18);t.subscribeToResult=r},function(e,t){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function n(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=n},function(e,t,n){"use strict";function r(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(5);t.symbolIteratorPonyfill=r,t.iterator=r(i.root),t.$$iterator=t.iterator},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(8),o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.Subscriber);t.InnerSubscriber=o},function(e,t,n){"use strict";var r=n(4),i=n(53);r.Observable.prototype.filter=i.filter},function(e,t,n){"use strict";function r(e,t){return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(8);t.filter=r;var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.thisArg=r,this.count=0}return i(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},function(e,t,n){"use strict";var r=n(4),i=n(55);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(8);t.map=r;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=a;var s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="lib/",t(t.s=149)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(159),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(61)("wks"),i=n(42),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(4),i=n(2),o=n(14),a=n(15),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),g=y.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&b&&void 0!==b[u])&&u in y||(l=c?b[u]:n[u],y[u]=d&&"function"!=typeof b[u]?n[u]:v&&c?o(l,r):m&&b[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&g&&!g[u]&&a(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){"use strict";function r(e){return"[object Array]"===k.call(e)}function i(e){return"[object ArrayBuffer]"===k.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===k.call(e)}function d(e){return"[object File]"===k.call(e)}function p(e){return"[object Blob]"===k.call(e)}function h(e){return"[object Function]"===k.call(e)}function v(e){return l(e)&&h(e.pipe)}function m(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function _(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=_(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)b(arguments[n],e);return t}function w(e,t,n){return b(t,function(t,r){e[r]=n&&"function"==typeof t?x(t,n):t}),e}var x=n(117),k=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:d,isBlob:p,isFunction:h,isStream:v,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:b,merge:_,extend:w,trim:y}},function(e,t,n){(function(t,r){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.1.1
	 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function o(e){V=e}function a(e){J=e}function s(){return void 0!==$?function(){$(c)}:u()}function u(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<q;e+=2)(0,X[e])(X[e+1]),X[e]=void 0,X[e+1]=void 0;q=0}function l(e,t){var n=arguments,r=this,i=new this.constructor(d);void 0===i[ee]&&T(i);var o=r._state;return o?function(){var e=n[o-1];J(function(){return I(o,i,e,r._result)})}():P(r,i,e,t),i}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return _(n,e),n}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(e){return ie.error=e,ie}}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function y(e,t,n){J(function(e){var r=!1,i=m(n,t,function(n){r||(r=!0,t!==n?_(e,n):x(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function g(e,t){t._state===ne?x(e,t._result):t._state===re?k(e,t._result):P(t,void 0,function(t){return _(e,t)},function(t){return k(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===f?g(e,t):n===ie?(k(e,ie.error),ie.error=null):void 0===n?x(e,t):i(n)?y(e,t,n):x(e,t)}function _(t,n){t===n?k(t,p()):e(n)?b(t,n,v(n)):x(t,n)}function w(e){e._onerror&&e._onerror(e._result),A(e)}function x(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&J(A,e))}function k(e,t){e._state===te&&(e._state=re,e._result=t,J(w,e))}function P(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=n,i[o+re]=r,0===o&&e._state&&J(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?I(n,r,i,o):i(o);e._subscribers.length=0}}function S(){this.error=null}function O(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function I(e,t,n,r){var o=i(n),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if(a=O(n,r),a===oe?(c=!0,s=a.error,a.error=null):u=!0,t===a)return void k(t,h())}else a=r,u=!0;t._state!==te||(o&&u?_(t,a):c?k(t,s):e===ne?x(t,a):e===re&&k(t,a))}function E(e,t){try{t(function(t){_(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function j(){return ae++}function T(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[ee]||T(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):k(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function C(e){return new M(this,e).promise}function L(e){var t=this;return new t(H(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function F(e){var t=this,n=new t(d);return k(n,e),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[ee]=j(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&R(),this instanceof z?E(this,e):N())}function D(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=z}var B=void 0;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=B,q=0,$=void 0,V=void 0,J=function(e,t){X[q]=e,X[q+1]=t,2===(q+=2)&&(V?V(c):Z())},W="undefined"!=typeof window?window:void 0,G=W||{},K=G.MutationObserver||G.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Z=void 0;Z=Y?function(){return function(){return t.nextTick(c)}}():K?function(){var e=0,t=new K(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():Q?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===W?function(){try{var e=n(209);return $=e.runOnLoop||e.runOnContext,s()}catch(e){return u()}}():u();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new S,oe=new S,ae=0;return M.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},M.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===f){var i=v(e);if(i===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===z){var o=new n(d);b(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},M.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?k(r,n):this._result[t]=n),0===this._remaining&&x(r,this._result)},M.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},z.all=C,z.race=L,z.resolve=f,z.reject=F,z._setScheduler=o,z._setAsap=a,z._asap=J,z.prototype={constructor:z,then:l,catch:function(e){return this.then(null,e)}},z.polyfill=D,z.Promise=z,z})}).call(t,n(78),n(52))},function(e,t,n){var r=n(140)("wks"),i=n(141),o=n(13).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(10),i=n(92),o=n(63),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(29);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(9),i=n(43);e.exports=n(12)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(156),__esModule:!0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(93),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(178),o=r(i),a=n(182),s=r(a),u=n(93),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(187),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(110),i=n(25);t.handleError=function(e,t){var n=Error().stack||"",o=t||"",a=e+": "+o+" \n "+n;(new r.UserTracker).track()(new i.ErrorException(e,n,t)),console.error(a)}},function(e,t){e.exports={}},function(e,t,n){var r=n(66),i=n(59);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(19),s=r(a),u=n(20),c=r(u),l=n(0),f=r(l),d=n(1),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(t,n){(0,f.default)(this,e),this.prefix="files.mediapicker-web.",this.name=this.prefix+t,this.properties=n}return(0,p.default)(e,[{key:"toJSON",value:function(){return{name:this.name,properties:this.properties}}}]),e}();t.UserEvent=h;var v=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"library.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MediaPickerLoaded=v;var m=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"browser.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPBrowserLoaded=m;var y=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"dropzone.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPDropzoneLoaded=y;var g=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"cliboard.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPClipboardLoaded=g;var b=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.loaded",{}))}return(0,c.default)(t,e),t}(h);t.MPPopupLoaded=b;var _=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.shown",{}))}return(0,c.default)(t,e),t}(h);t.MPPopupShown=_;var w=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"popup.hidden",{}))}return(0,c.default)(t,e),t}(h);t.MPPopupHidden=w;var x=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.upload.ended",{}))}return(0,c.default)(t,e),t}(h);t.MPFileUploadEnded=x;var k=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.upload.started",{}))}return(0,c.default)(t,e),t}(h);t.MPFileUploadStarted=k;var P=function(e){function t(){return(0,f.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"file.processing.started",{}))}return(0,c.default)(t,e),t}(h);t.MPFileProcessingStarted=P;var A=function(e){function t(e,n,r){(0,f.default)(this,t);var i={alias:e,description:r,stacktrace:n};return(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,"files.mediapicker-web.library.exception.fired",i))}return(0,c.default)(t,e),t}(h);t.ErrorException=A},function(e,t){e.exports=n(4)},function(e,t,n){var r=n(55),i=n(138);e.exports=n(37)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(56);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(164)(!0);n(65)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(9).f,i=n(17),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(169);for(var r=n(4),i=n(15),o=n(23),a=n(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){var r=n(14),i=n(189),o=n(190),a=n(10),s=n(67),u=n(102),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((m=t?g(a(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(80),o=n(122),a=n(112),s=function(e,t){return o.checkWebpSupport().then(function(t){return e.accept=t?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8",e})},u=function(t,n,i,o){var u=r.__assign({},n,{"Content-Type":"application/json"});return i||(a.isAsapBasedAuth(t)?u["X-Issuer"]=t.asapIssuer:a.isClientBasedAuth(t)&&(u["X-Client-Id"]=t.clientId),u.Authorization="Bearer "+t.token),"image"===o?s(u):e.resolve(u)},c=function(t,n,i,o){var s={};return i&&(s.token=t.token,a.isClientBasedAuth(t)?s.client=t.clientId:a.isAsapBasedAuth(t)&&(s.issuer=t.asapIssuer)),e.resolve(r.__assign({collection:o},n,s))},l=function(e){return e=e||"json",{image:"blob",json:"json"}[e]};t.default=function(t){var n=t.preventPreflight,r=t.collectionName,o=t.config,a=o.authProvider,s=o.serviceHost;return function(t){var o=t.url,f=t.headers,d=t.params,p=t.responseType,h=t.method,v=t.data,m=a({collectionName:r}),y=function(t){return e.all([u(t,f,n,p),c(t,d,n,r)])},g=function(e){var t=e[0],n=e[1];return i.default({method:h||"get",url:o,baseURL:s,headers:t,params:n,data:v,responseType:l(p)})};return m.then(y).then(g).then(function(e){return e.data})}}}).call(t,n(7))},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(137)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports={}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function i(e,t){var n=v(),r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var n,r,i;if(t.singleton){var u=y++;n=m||(m=a(t)),r=c.bind(null,n,u,!1),i=c.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=f.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=l.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function l(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,g=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=d[s.id];u.refs--,o.push(u)}e&&n(r(e),t);for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(59);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!0},function(e,t,n){var r=n(10),i=n(166),o=n(68),a=n(60)("IE_PROTO"),s=function(){},u=function(){var e,t=n(62)("iframe"),r=o.length;for(t.style.display="none",n(96).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(95),i=n(68);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(185),v=n(132),m=n(271),y=function(e){function t(e,n){var r=n.apiUrl,i=n.authProvider,a=n.uploadParams;(0,s.default)(this,t);var u=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return u.onFilesAdded=function(e){var t=e.files;u.emitUploadsStart(t)},u.onFileAdded=function(e){var t=e.file;u.emitUploadStart(t),t.raw&&t.type.match(/^image\//)&&m.default(t.raw).then(function(e){u.emitUploadPreviewUpdate(t,e)})},u.onFileUploading=function(e){var t=e.file,n=e.progress;u.emitUploadProgress(t,n)},u.onFileFinalizeReady=function(e){var t=e.file,n=e.finalize;u.emitUploadFinalizeReady(t,n)},u.onFileConverting=function(e){var t=e.file;u.emitUploadProcessing(t)},u.onFileConverted=function(e){var t=e.file,n=e.progress,r=e.metadata;u.emitUploadProgress(t,n),u.emitUploadEnd(t,r)},u.onUploadError=function(e){var t=e.file,n=e.error;u.emitUploadError(t,n)},u.uploadService=new h.UploadService(r,i,a||{}),u.uploadService.on("files-added",u.onFilesAdded),u.uploadService.on("file-added",u.onFileAdded),u.uploadService.on("file-uploading",u.onFileUploading),u.uploadService.on("file-finalize-ready",u.onFileFinalizeReady),u.uploadService.on("file-converting",u.onFileConverting),u.uploadService.on("file-converted",u.onFileConverted),u.uploadService.on("file-upload-error",u.onUploadError),u}return(0,p.default)(t,e),(0,c.default)(t,[{key:"cancel",value:function(e){this.uploadService.cancel(e)}},{key:"setUploadParams",value:function(e){this.uploadService.setUploadParams(e)}}]),t}(v.MPComponent);t.MediaLocalUpload=y},function(e,t,n){var r=n(31),i=n(3)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){e.exports={default:n(203),__esModule:!0}},function(e,t,n){var r=n(207),i=n(208),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";(function(t){e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(t,n(52))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(t,n,r,i){return new(r||(r=e))(function(e,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,n||[])).next())})}function c(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function l(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function v(t,n,r){function i(t){f[t]&&(l[t]=function(n){return new e(function(e,r){d.push([t,n,e,r])>1||o(t,n)})})}function o(e,t){try{a(f[e](t))}catch(e){c(d[0][3],e)}}function a(t){t.value instanceof h?e.resolve(t.value.v).then(s,u):c(d[0][2],t)}function s(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),d.shift(),d.length&&o(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,f=r.apply(t,n||[]),d=[];return l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l}function m(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:h(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof f?f(e):e[Symbol.iterator]()}t.__extends=r,n.d(t,"__assign",function(){return b}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=c,t.__exportStar=l,t.__values=f,t.__read=d,t.__spread=p,t.__await=h,t.__asyncGenerator=v,t.__asyncDelegator=m,t.__asyncValues=y;/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}}.call(t,n(7))},function(e,t,n){var r=n(86);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(28),i=n(276),o=n(277),a=Object.defineProperty;t.f=n(37)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(61)("keys"),i=n(42);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(4),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(11),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(44),i=n(5),o=n(94),a=n(15),s=n(17),u=n(23),c=n(165),l=n(32),f=n(91),d=n(3)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,y,g){c(n,t,v);var b,_,w,x=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",P="values"==m,A=!1,S=e.prototype,O=S[d]||S["@@iterator"]||m&&S[m],I=O||x(m),E=m?P?x("entries"):I:void 0,j="Array"==t?S.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&w.next&&(l(w,k,!0),r||s(w,d)||a(w,d,h)),P&&O&&"values"!==O.name&&(A=!0,I=function(){return O.call(this)}),r&&!g||!p&&!A&&S[d]||a(S,d,I),u[t]=I,u[k]=h,m)if(b={values:P?I:x("values"),keys:y?I:x("keys"),entries:E},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||A),t,b);return b}},function(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(64),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(3)},function(e,t,n){var r=n(42)("meta"),i=n(11),o=n(17),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(18)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(4),i=n(2),o=n(44),a=n(69),s=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(29);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(15);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){(function(r,i){var o;!function(a){function s(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==a?e.maxListeners:h,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=h}function c(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,u.call(this,e)}function f(e,t,n,r){if(!n)return[];var i,o,a,s,u,c,l,d=[],p=t.length,h=t[r],v=t[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(f(e,t,n[a],r+1)));return d}if("**"===h){l=r+1===p||r+2===p&&"*"===v,l&&n._listeners&&(d=d.concat(f(e,t,n,p)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!l&&(d=d.concat(f(e,t,n[a],p))),d=d.concat(f(e,t,n[a],r))):d=a===v?d.concat(f(e,t,n[a],r+2)):d.concat(f(e,t,n[a],r)));return d}d=d.concat(f(e,t,n[h],r+1))}if(s=n["*"],s&&f(e,t,s,r+1),u=n["**"])if(r<p){u._listeners&&f(e,t,u,p);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===v?f(e,t,u[a],r+2):a===h?f(e,t,u[a],r+1):(c={},c[a]=u[a],f(e,t,{"**":c},r+1)))}else u._listeners?f(e,t,u,p):u["*"]&&u["*"]._listeners&&f(e,t,u["*"],p);return d}function d(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o!==a;){if(i[o]||(i[o]={}),i=i[o],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,c.call(this,i._listeners.length,o))):i._listeners=t,!0;o=e.shift()}return!0}var p=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=10;l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){e!==a&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,r){function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return i._origin=n,this._on(e,i,r),o},l.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,o,u,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return i.resolve([!1]);var t,n,r,o,a,u=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),o=1;o<c;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,c){case 1:u.push(this._all[r].call(this,e));break;case 2:u.push(this._all[r].call(this,e,arguments[1]));break;case 3:u.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:u.push(this._all[r].apply(this,t))}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();f.call(this,a,l,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,c){case 1:u.push(a.call(this));break;case 2:u.push(a.call(this,arguments[1]));break;case 3:u.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];u.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),c>3)for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];for(r=0,n=a.length;r<n;r++)switch(this.event=e,c){case 1:u.push(a[r].call(this));break;case 2:u.push(a[r].call(this,arguments[1]));break;case 3:u.push(a[r].call(this,arguments[1],arguments[2]));break;default:u.push(a[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?i.reject(arguments[1]):i.reject("Uncaught, unspecified 'error' event.");return i.all(u)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){function n(e){if(e!==a){var t=Object.keys(e);for(var r in t){var i=t[r],o=e[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&n(e[i]),0===Object.keys(o).length&&delete e[i])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();i=f.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;s<i.length;s++){var u=i[s];if(r=u._listeners,p(r)){for(var c=-1,l=0,d=r.length;l<d;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){c=l;break}if(c<0)continue;return this.wildcard?u._listeners.splice(c,1):this._events[e].splice(c,1),0===r.length&&(this.wildcard?delete u._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete u._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=f.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return f.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),p(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},(o=function(){return l}.call(t,n,t,e))!==a&&(e.exports=o)}()}).call(t,n(78),n(7))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=n(19)},function(e,t,n){e.exports=n(220)},function(e,t,n){"use strict";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(6),o=n(222),a=/^\)\]\}',?\n/,s={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(118):void 0!==t&&(e=n(118)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(a,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){u.headers[e]={}}),i.forEach(["post","put","patch"],function(e){u.headers[e]=i.merge(s)}),e.exports=u}).call(t,n(78))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.referenceCountById={},this.referencesById={}}return e.prototype.acquire=function(e,t){return this.referenceCountById[e]||(this.referencesById[e]=t(),this.referenceCountById[e]=0),this.referenceCountById[e]=this.referenceCountById[e]+1,this.referencesById[e]},e.prototype.release=function(e){this.referenceCountById[e]>0&&(this.referenceCountById[e]=this.referenceCountById[e]-1),this.referenceCountById[e]||delete this.referencesById[e]},e}();t.Pool=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(50),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(80),p=n(111);t.isTokenError=function(e){if(e&&e.error){var t=e.error.code;return"JwtAuthoriser:TokenExpiredError"===t||"JwtAuthoriser:AuthenticationError"===t}return!1},t.addAuthToHeaders=function(e,t){var n=e.headers||{};return(0,f.default)({},e,{headers:(0,f.default)({},n,p.mapAuthToAuthHeaders(t))})},t.addAuthToQueryParameters=function(e,t){return(0,f.default)({},e,{parameters:(0,f.default)({},e.parameters,p.mapAuthToQueryParameters(t))})};var h=function(){function e(t,n,r){(0,s.default)(this,e),this.apiUrl=t,this.authProvider=n,this.collection=r}return(0,c.default)(e,[{key:"refreshAuth",value:function(){var e=this;return this.authProvider({collectionName:this.collection}).then(function(t){return e.auth=t,t})}},{key:"call",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.addAuthToHeaders;return this.makeCall(e,r).catch(function(i){if(!(i&&i.response&&t.isTokenError(i.response.data)))throw i;return n.makeCall(e,r,!0)})}},{key:"makeCall",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getAuth(r).then(function(r){return n.makeCallWithToken(e,t,r)})}},{key:"getAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.auth&&!e?o.default.resolve(this.auth):this.refreshAuth()}},{key:"makeCallWithToken",value:function(e,t,n){var r=t(e,n),i=this.getAxiosRequestConfig(r);return d.default.request(i).then(function(e){return e.data})}},{key:"getAxiosRequestConfig",value:function(e){var t=e.httpMethod,n=e.mediaApiMethod,r=e.parameters,i=e.headers,o=e.data;return{url:this.apiUrl+"/"+n,method:t,headers:(0,f.default)({},i,o?{"Content-Type":"application/json; charset=utf-8"}:{}),params:r,data:o}}},{key:"storedAuth",get:function(){return this.auth}}]),e}();t.MediaClient=h},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(56),i=n(13).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(284),i=n(85);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(140)("keys"),i=n(141);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(55).f,i=n(57),o=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(17),i=n(41),o=n(60)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){e.exports=!n(12)&&!n(18)(function(){return 7!=Object.defineProperty(n(62)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(162),o=r(i),a=n(171),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(o.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){var r=n(17),i=n(24),o=n(167)(!1),a=n(60)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(95),i=n(68).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(47),i=n(43),o=n(24),a=n(63),s=n(17),u=n(92),c=Object.getOwnPropertyDescriptor;t.f=n(12)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(186),__esModule:!0}},function(e,t,n){var r=n(49),i=n(3)("iterator"),o=n(23);e.exports=n(2).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(10),i=n(29),o=n(3)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(14),s=n(191),u=n(96),c=n(62),l=n(4),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(31)(f)?r=function(e){f.nextTick(a(g,e,1))}:v&&v.now?r=function(e){v.now(a(g,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(10),i=n(11),o=n(75);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(9),a=n(12),s=n(3)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,n(52))},function(e,t){function n(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(50),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(210),f=function(){function e(){(0,s.default)(this,e),this.defaults={storage_key:"media-picker.herment.storage",product:"media-picker",subproduct:"library",version:"1.0"},this.queue=[],this.queueProcessor=l.default((0,o.default)({},this.defaults,{queue:this.queue})),this.queueProcessor&&this.queueProcessor.start(),this.defaultProperties={}}return(0,c.default)(e,[{key:"track",value:function(){var e=this;return function(t){var n=t.toJSON();n.properties=(0,o.default)({},e.defaultProperties,n.properties),e.queue.push(n)}}}]),e}();t.UserTracker=f},function(e,t,n){"use strict";function r(e){return o.isClientBasedAuth(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer "+e.token}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer "+e.token}}function i(e){return o.isClientBasedAuth(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(212);t.mapAuthToAuthHeaders=r,t.mapAuthToQueryParameters=i},function(e,t,n){"use strict";function r(e){return!!e.clientId}function i(e){return!!e.asapIssuer}Object.defineProperty(t,"__esModule",{value:!0}),t.isClientBasedAuth=r,t.isAsapBasedAuth=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114);t.RemoteMediaCollectionProvider=r.RemoteMediaCollectionProvider;var i=n(116);t.FileProvider=i.FileProvider;var o=n(123);t.LinkProvider=o.LinkProvider;var a=n(239);t.MediaItemProvider=a.MediaItemProvider;var s=n(240);t.MediaUrlPreviewProvider=s.MediaUrlPreviewProvider;var u=n(126);t.UrlPreviewProvider=u.UrlPreviewProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(115);n(79);var i=function(){function e(e,t,n,i){this.collectionService=e,this.collectionName=t,this.pageSize=n,this.sortDirection=i,this.subject=new r.Subject,this.connectableObservable=this.subject.publishReplay(1),this.items=[],this.nextInclusiveStartKey=void 0,this.isLoading=!1,this.connectableObservable.connect(),this.loadNextPage()}return e.prototype.observable=function(){return this.connectableObservable},e.prototype.loadNextPageUntil=function(e){var t=this;if(!this.items.some(e))var n=this.connectableObservable.subscribe({next:function(r){!t.nextInclusiveStartKey||r.items.some(e)?n.unsubscribe():t.loadNextPage()},complete:function(){return n.unsubscribe()},error:function(e){return n.unsubscribe()}})},e.prototype.loadNextPage=function(){var e=this;this.isLoading||(this.isLoading=!0,this.collectionService.getCollectionItems(this.collectionName,this.pageSize,this.nextInclusiveStartKey,this.sortDirection,"full").then(function(t){e.isLoading=!1,(r=e.items).push.apply(r,t.items);var n={id:e.collectionName,items:e.items};e.nextInclusiveStartKey=t.nextInclusiveStartKey,e.subject.next(n);var r},function(t){e.isLoading=!1,e.subject.error(t)}))},e.prototype.refresh=function(){var e=this;if(!this.isLoading){this.isLoading=!0;var t,n=this.items[0]&&this.items[0].details,r=n&&n.id,i=n&&n.occurrenceKey,o=[],a=function(){e.collectionService.getCollectionItems(e.collectionName,e.pageSize,t,e.sortDirection,"full").then(function(n){for(var s=!1,u=0,c=n.items;u<c.length;u++){var l=c[u],f=l.details,d=f.id,p=f.occurrenceKey;if(d===r&&p===i){s=!0;break}o.push(l)}s?(e.isLoading=!1,e.items=o.concat(e.items),e.subject.next({id:e.collectionName,items:e.items})):n.nextInclusiveStartKey&&(t=n.nextInclusiveStartKey,a())},function(t){e.isLoading=!1,e.subject.error(t)})};a()}},e}();t.RemoteMediaCollectionProvider=i},function(e,t){e.exports=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219),i=n(26);n(79),t.FILE_PROVIDER_RETRY_INTERVAL=2e3;var o=function(){function e(){}return e.fromMediaApi=function(t,n,i,o,a){return e.fromFileService(new r.MediaFileService(t,n),i,o,a)},e.fromFileService=function(e,t,n,r){return{observable:function(){var o=new i.Observable(function(i){var o,a=r||1e3,s=function(){e.getFileItem(t,n).then(function(e){"pending"!==e.details.processingStatus?(i.next(e),i.complete()):(i.next(e),o=setTimeout(function(){return s()},a))},function(e){i.error(e)})};return s(),function(){null!==o&&clearTimeout(o)}}).publishReplay(1);return o.connect(),o}}},e}();t.FileProvider=o},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";(function(t){var r=n(6),i=n(223),o=n(225),a=n(226),s=n(227),u=n(119),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(228);e.exports=function(e){return new t(function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+c(m+":"+y)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,o),p=null}},p.onerror=function(){l(u("Network Error",e)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},r.isStandardBrowserEnv()){var g=n(229),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===f&&(f=null),p.send(f)})}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(224);e.exports=function(e,t,n,i){var o=new Error(e);return r(o,t,n,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(237)),r(n(238))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(124),i=n(26);n(79);var o=function(){function e(){}return e.fromMediaApi=function(t,n,i){return e.fromLinkService(new r.MediaLinkService(t),n,i)},e.fromLinkService=function(e,t,n){return{observable:function(){
var r=new i.Observable(function(r){return e.getLinkItem(t,n).then(function(e){r.next(e),r.complete()},function(e){r.error(e)}),function(){}}).publishReplay(1);return r.connect(),r}}},e}();t.LinkProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function e(e){this.config=e}return e.prototype.getLinkItem=function(e,t){return r.default({config:this.config,collectionName:t,preventPreflight:!0})({url:"/link/"+e}).then(function(e){return e.data}).then(function(e){return{type:"link",details:{id:e.id,url:e.url,type:e.metadata.type,title:e.metadata.title,description:e.metadata.description,site:e.metadata.site,author:e.metadata.author,date:e.metadata.date,resources:e.metadata.resources}}})},e.prototype.addLinkItem=function(e,t,n){return r.default({config:this.config,collectionName:t})({method:"post",url:"/link",data:{url:e,metadata:n}}).then(function(e){return e.data.id})},e}();t.MediaLinkService=i},function(e,t,n){"use strict";function r(e,t,n){return new i.Observable(function(r){var i=e.acquire(t,n),o=i.subscribe(r);return function(){o.unsubscribe(),e.release(t)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(26);t.observableFromObservablePool=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(241),i=n(26),o=function(){function e(){}return e.fromMediaApi=function(t,n){return e.fromUrlPreviewService(new r.MediaUrlPreviewService(t),n)},e.fromUrlPreviewService=function(e,t){return{observable:function(){return new i.Observable(function(n){return e.getUrlPreview(t).then(function(e){n.next(e),n.complete()},function(e){n.error(e)}),function(){}})}}},e}();t.UrlPreviewProvider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(35);t.DEFAULT_COLLECTION_PAGE_SIZE=10;var o=function(){function e(e){this.config=e}return e.prototype.mapToMediaCollectionItem=function(e){var t=e.id,n=e.type,i=e.occurrenceKey,o=e.details;if("file"===n){var a=o;return{type:"file",details:r.__assign({id:t,occurrenceKey:i},a)}}var s=o;return{type:"link",details:r.__assign({id:t,type:"link",occurrenceKey:i,title:s.title||""},s)}},e.prototype.getCollectionItems=function(e,n,r,o,a){var s=this;return void 0===n&&(n=t.DEFAULT_COLLECTION_PAGE_SIZE),i.default({config:this.config,preventPreflight:!0,collectionName:e})({url:"/collection/"+e+"/items",params:{limit:n,inclusiveStartKey:r,sortDirection:o,details:a}}).then(function(e){return{items:e.data.contents.map(s.mapToMediaCollectionItem),nextInclusiveStartKey:e.data.nextInclusiveStartKey}})},e}();t.MediaCollectionService=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_NAMES={OBJ_CREATE_FAIL:"object_create_fail",METADATA_FETCH_FAIL:"metadata_fetch_fail",TOKEN_FETCH_FAIL:"token_fetch_fail",TOKEN_UPDATE_FAIL:"token_update_fail",TOKEN_SOURCE_EMPTY:"token_source_empty",UPLOAD_FAIL:"upload_fail",USER_TOKEN_FETCH_FAIL:"user_token_fetch_fail"};var u=function(){function e(t,n,r){(0,o.default)(this,e),this.fileId=t,this.name=n,this.description=r}return(0,s.default)(e,[{key:"toJSON",value:function(){return{fileId:this.fileId,name:this.name,description:this.description}}}]),e}();t.MediaError=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(246),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(22),f=function(){function e(t,n,r,i,o,a,u){(0,s.default)(this,e),e.isValidFileId(t)||l.handleError("wrong_file_id","Passed fileId is incorrect."),e.isValidName(n)||l.handleError("wrong_file_name","Passed file name is incorrect."),e.isValidSize(r)||l.handleError("wrong_file_size","Passed file size is incorrect."),e.isValidCreationDate(i)||l.handleError("wrong_file_date","Passed file creation date is incorrect."),e.isValidType(o)||l.handleError("wrong_file_type","Passed file type is incorrect."),this.id=t,this.name=n,this.size=r,this.creationDate=i,this.type=o,this.publicId=a,this.resumableFile=u}return(0,c.default)(e,[{key:"toJSON",value:function(){return{id:this.id,name:this.name,size:this.size,creationDate:this.creationDate,type:this.type,publicId:this.publicId,chunks:this.chunks,toPureJSON:this.toPureJSON.bind(this)}}},{key:"toPureJSON",value:function(){return{id:this.id,name:this.name,size:this.size,creationDate:this.creationDate,type:this.type,publicId:this.publicId}}},{key:"_isImage",value:function(){return new o.default(["image/png","image/jpeg","image/jpg","image/gif"]).has(this.type)}},{key:"chunks",get:function(){return this.resumableFile?this.resumableFile.chunks:void 0}},{key:"raw",get:function(){return this.resumableFile?this.resumableFile.file:void 0}},{key:"preview",get:function(){return this._isImage()?this.raw:void 0}}],[{key:"isValidFileId",value:function(e){return"string"==typeof e&&e.length>0}},{key:"isValidName",value:function(e){return"string"==typeof e}},{key:"isValidType",value:function(e){return"string"==typeof e}},{key:"isValidSize",value:function(e){return"number"==typeof e&&e>=0}},{key:"isValidCreationDate",value:function(e){return"number"==typeof e&&e>0}}]),e}();t.MediaFile=f},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUploadParams={collection:void 0,fetchMetadata:!0,autoFinalize:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(270),c=n(77),l=n(22),f=n(25),d=function(){function e(t){(0,o.default)(this,e),this.context=t,this.emitter=new c.EventEmitter2({wildcard:!0})}return(0,s.default)(e,[{key:"once",value:function(e,t){this.emitter.once(e,t)}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"onAny",value:function(e){this.emitter.onAny(e)}},{key:"addListener",value:function(e,t){this.emitter.addListener(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"removeListener",value:function(e,t){this.emitter.removeListener(e,t)}},{key:"removeAllListeners",value:function(e){this.emitter.removeAllListeners(e)}},{key:"emit",value:function(e,t){return this.emitter.emit(e,t)}},{key:"emitUploadsStart",value:function(e){this.emit("uploads-start",{files:e.map(function(e){return e.toJSON()})})}},{key:"emitUploadStart",value:function(e){this.emit("upload-start",{file:e.toJSON()}),this.context.trackEvent(new f.MPFileUploadStarted)}},{key:"emitUploadProgress",value:function(e,t){this.emit("upload-status-update",{file:e.toJSON(),progress:t})}},{key:"emitUploadFinalizeReady",value:function(e,t){this.emit("upload-finalize-ready",{file:e.toJSON(),finalize:t})}},{key:"emitUploadPreviewUpdate",value:function(e,t){this.emit("upload-preview-update",{file:e.toJSON(),preview:t})}},{key:"emitUploadProcessing",value:function(e){this.emit("upload-processing",{file:e.toJSON()}),this.context.trackEvent(new f.MPFileProcessingStarted)}},{key:"emitUploadEnd",value:function(e,t){this.emit("upload-end",{file:e.toJSON(),public:t}),this.context.trackEvent(new f.MPFileUploadEnded)}},{key:"emitUploadError",value:function(e,t){this.emit("upload-error",{file:e.toJSON(),error:t.toJSON()})}},{key:"getStaticAssetUrl",value:function(e){return void 0===u.html[e]&&l.handleError("wrong_static_asset","The passet static asset does not exist"),!0===u.usingVersions?u.baseUrl+"/"+u.version+"/"+u.html[e]:u.baseUrl+"/"+u.html[e]}}]),e}();t.MPComponent=d},function(e,t,n){e.exports={default:n(272),__esModule:!0}},function(e,t,n){"use strict";var r=n(135),i=n(136),o=n(278),a=n(27),s=n(57),u=n(38),c=n(279),l=n(90),f=n(287),d=n(8)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,y,g){c(n,t,v);var b,_,w,x=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",P="values"==m,A=!1,S=e.prototype,O=S[d]||S["@@iterator"]||m&&S[m],I=O||x(m),E=m?P?x("entries"):I:void 0,j="Array"==t?S.entries||O:O;if(j&&(w=f(j.call(new e)))!==Object.prototype&&(l(w,k,!0),r||s(w,d)||a(w,d,h)),P&&O&&"values"!==O.name&&(A=!0,I=function(){return O.call(this)}),r&&!g||!p&&!A&&S[d]||a(S,d,I),u[t]=I,u[k]=h,m)if(b={values:P?I:x("values"),keys:y?I:x("keys"),entries:E},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||A),t,b);return b}},function(e,t){e.exports=!0},function(e,t,n){var r=n(13),i=n(36),o=n(54),a=n(27),s=function(e,t,n){var u,c,l,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),g=y.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;d&&(n=t);for(u in n)(c=!f&&b&&void 0!==b[u])&&u in y||(l=c?b[u]:n[u],y[u]=d&&"function"!=typeof b[u]?n[u]:v&&c?o(l,r):m&&b[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&g&&!g[u]&&a(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(84),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(13),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){e.exports=n(13).document&&document.documentElement},function(e,t,n){var r=n(58),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r,i,o,a=n(54),s=n(300),u=n(143),c=n(87),l=n(13),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},g=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete m[e]},"process"==n(58)(f)?r=function(e){f.nextTick(a(y,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(307);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(t,n){e.exports=n()}(0,function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHTML=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]}},function(e,t,n){e.exports=n(150)},function(e,t,n){"use strict";function r(e,t,n){if(!t)return{binary:i.BinaryUploader,browser:o.Browser,clipboard:a.Clipboard,dropzone:s.Dropzone,popup:u.Popup}[e];var r={trackEvent:f};switch(e){case"binary":return new i.BinaryUploader(r,t);case"browser":return new o.Browser(r,t,n);case"clipboard":return new a.Clipboard(r,t);case"dropzone":return new s.Dropzone(r,t,n);case"popup":return new u.Popup(r,t,n);default:var c="The component "+e+" does not exist";throw l.handleError("wrong_component",c),new Error(c)}}Object.defineProperty(t,"__esModule",{value:!0}),n(151),n(153);var i=n(155);t.BinaryUploader=i.BinaryUploader;var o=n(306);t.Browser=o.Browser;var a=n(308);t.Clipboard=a.Clipboard;var s=n(309);t.Dropzone=s.Dropzone;var u=n(313);t.Popup=u.Popup;var c=n(110),l=n(22),f=(new c.UserTracker).track();t.MediaPicker=r},function(e,t,n){var r=n(152);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,'.mpAUI{color:#333;font-family:Arial,sans-serif;font-size:14px;line-height:1.42857143}.mpAUI h2{color:#333;font-size:24px;font-weight:400;line-height:1.25;text-transform:none;margin:30px 0 0}.mpAUI .aui-dialog2-header-close img{width:16px!important;height:16px!important;position:relative;top:2px;opacity:.5}.mpAUI .aui-dialog2-header-close:hover img{opacity:1}.mpAUI .aui-dialog2{box-sizing:border-box;position:relative;left:0;right:0;visibility:hidden}.mpAUI .aui-dialog2-xlarge{width:980px;min-height:431px}.mpAUI .aui-dialog2-small .aui-dialog2-content{min-height:80px}.mpAUI .aui-dialog2-medium .aui-dialog2-content{min-height:180px}.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:380px}@media (max-height:700px){.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:180px}.mpAUI .aui-dialog2-large,.mpAUI .aui-dialog2-xlarge{min-height:131px;height:-120%}}@media (max-height:500px){.mpAUI .aui-dialog2-large .aui-dialog2-content,.mpAUI .aui-dialog2-medium .aui-dialog2-content,.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{min-height:80px}.mpAUI .aui-dialog2-medium{min-height:131px;height:-120%}}@media (max-width:1000px){.mpAUI .aui-dialog2-xlarge{width:100%;height:-20%}.mpAUI .aui-dialog2-xlarge.aui-layer{top:69px}.mpAUI .aui-dialog2-xlarge .aui-dialog2-content{height:100%}}@media (max-width:820px){.mpAUI .aui-dialog2-large{width:100%;height:-20%}.mpAUI .aui-dialog2-large.aui-layer{top:69px}.mpAUI .aui-dialog2-large .aui-dialog2-content{height:100%}}@media (max-width:620px){.mpAUI .aui-dialog2-medium{width:100%;height:-20%}.mpAUI .aui-dialog2-medium.aui-layer{top:69px}.mpAUI .aui-dialog2-medium .aui-dialog2-content{height:100%}}@media (max-width:420px){.mpAUI .aui-dialog2-small{width:100%;height:-20%}.mpAUI .aui-dialog2-small.aui-layer{top:69px}.mpAUI .aui-dialog2-small .aui-dialog2-content{height:100%}}.mpAUI .aui-dialog2-footer,.mpAUI .aui-dialog2-header{background:#f5f5f5;visibility:visible}.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-content,.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-footer,.mpAUI .aui-dialog2.aui-layer[aria-hidden=true] .aui-dialog2-header{opacity:0;transition:opacity .2s,visibility .2s;transition-delay:0s;visibility:hidden}.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-content,.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-footer,.mpAUI .aui-dialog2.aui-layer[aria-hidden=false] .aui-dialog2-header{opacity:1;transition:opacity .2s;transition-delay:0s;visibility:visible}.mpAUI .aui-dialog2 .aui-dialog2-content{max-height:100%}.mpAUI .aui-dialog2-content{border-radius:3px;background-color:#fff;box-sizing:border-box;overflow:auto;padding:20px;visibility:visible}.mpAUI .aui-dialog2 .aui-dialog2-header{margin-top:-69px}.mpAUI .aui-dialog2-header{border-bottom:1px solid #ccc;border-radius:5px 5px 0 0;box-sizing:border-box;color:#333;font-weight:400;height:69px;padding:0 20px;width:100%;display:table}.mpAUI .aui-dialog2-header-actions{width:100%}.mpAUI .aui-dialog2-header-actions,.mpAUI .aui-dialog2-header-close,.mpAUI .aui-dialog2-header-main,.mpAUI .aui-dialog2-header-secondary{display:table-cell;vertical-align:middle}.mpAUI .aui-dialog2[data-aui-modal=true] .aui-dialog2-header-close{display:none}.mpAUI .aui-dialog2-footer-hint{color:#707070;line-height:31px}.mpAUI .aui-dialog2-footer-hint,.mpAUI .aui-dialog2-header-main{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:10px}.mpAUI .aui-dialog2-header-main{max-width:400px}.mpAUI .aui-dialog2-footer-actions,.mpAUI .aui-dialog2-header-close,.mpAUI .aui-dialog2-header-secondary{text-align:right}.mpAUI .aui-dialog2-footer-actions{float:right}.mpAUI .aui-dialog2-header-close{width:20px;height:20px;padding-left:5px;text-align:right;vertical-align:middle;line-height:100%;cursor:pointer;color:#707070}.mpAUI .aui-iconfont-close-dialog:before{content:"\\F11B"}.mpAUI .aui-dialog2-warning .aui-dialog2-header{background-color:#d04437;border-bottom-color:#d04437;color:#fff}.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-actions a,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-close,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-main,.mpAUI .aui-dialog2-warning .aui-dialog2-header .aui-dialog2-header-secondary a{color:inherit}.mpAUI .aui-dialog2-header-close .aui-icon{vertical-align:middle}.mpAUI .aui-dialog2-footer{border-top:1px solid #ccc;box-sizing:border-box;height:51px;overflow:hidden;padding:10px 20px;width:100%;border-radius:0 0 5px 5px}.mpAUI .aui-dialog2-footer:empty{height:5px;padding:0}.mpAUI .aui-button,.mpAUI .aui-button:visited,.mpAUI a.aui-button{box-sizing:border-box;background:#f5f5f5;border:1px solid #ccc;border-radius:3.01px;color:#333;cursor:pointer;display:inline-block;font-family:inherit;font-size:14px;font-variant:normal;font-weight:400;height:2.14285714em;line-height:1.42857143;margin:0;padding:4px 10px;text-decoration:none;vertical-align:baseline;white-space:nowrap}.mpAUI .aui-button.aui-button-light,.mpAUI .aui-button:visited.aui-button-light,.mpAUI a.aui-button.aui-button-light{background:#fff}.mpAUI .aui-button~.aui-button{margin-left:10px}.mpAUI a.aui-button:active,.mpAUI a.aui-button:focus,.mpAUI a.aui-button:hover{text-decoration:none}.mpAUI .aui-button:focus,.mpAUI form.aui .button:focus,.mpAUI form.aui .cancel:focus{outline:1px dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:1px}.mpAUI .aui-button::-moz-focus-inner{border:0;padding:0}.mpAUI .aui-button-subtle.aui-button:focus,.mpAUI .aui-button-subtle.aui-button:hover,.mpAUI .aui-button:focus,.mpAUI .aui-button:hover{background:#e9e9e9;border-color:#999;color:#000;text-decoration:none}.mpAUI .aui-button.aui-button-subtle.active,.mpAUI .aui-button.aui-button-subtle:active{border-color:#999}.mpAUI .aui-button-subtle.aui-button.active,.mpAUI .aui-button-subtle.aui-button:active,.mpAUI .aui-button.active,.mpAUI .aui-button:active,.mpAUI .aui-header .aui-button-split-more.active{box-shadow:inset 0 3px 6px 0 rgba(0,0,0,.1);background-image:none;background:#f5f5f5;text-decoration:none}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(:active){border-right-color:transparent}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:active:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:focus:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary)+.aui-button-split-more:hover:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):active+.aui-button-split-more:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):focus+.aui-button-split-more:before,.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):hover+.aui-button-split-more:before{visibility:hidden}.mpAUI .aui-buttons .aui-button.aui-button-split-main:not(.aui-button-primary):hover+.aui-button-split-more{border-left:1px solid #999;margin-left:-2px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more{margin-left:-1px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more:focus,.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more:hover{margin-left:-2px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more.aui-dropdown2-trigger:before{content:"";border-left:1px solid #ccc;bottom:4px;display:block;left:-1px;position:absolute;top:4px}.mpAUI .aui-buttons .aui-button.aui-button-split-main+.aui-button-split-more.aui-dropdown2-trigger.aui-button-primary:before{border-color:#fff}.mpAUI .aui-button.aui-button-primary,.mpAUI .aui-button.aui-button-primary:visited{background:#3572b0;border-color:transparent;color:#fff;font-weight:700;-webkit-font-smoothing:antialiased}.mpAUI .aui-button.aui-button-primary:focus,.mpAUI .aui-button.aui-button-primary:hover{background:#2a67a5;border-color:transparent;color:#fff}.mpAUI .aui-button.aui-button-primary:active{box-shadow:inset 0 3px 6px 0 rgba(0,0,0,.1);background-image:none;background:#3572b0;text-decoration:none}.mpAUI .aui-button.aui-button-link,.mpAUI .aui-button.aui-button-link:visited,.mpAUI .aui-button.aui-button-text,.mpAUI .aui-button.aui-button-text:visited{background:transparent;border-color:transparent;color:#3572b0;padding:4px 0;text-decoration:none;box-shadow:none}.mpAUI .aui-button.aui-button-link:active,.mpAUI .aui-button.aui-button-link:focus,.mpAUI .aui-button.aui-button-link:hover,.mpAUI .aui-button.aui-button-text:active,.mpAUI .aui-button.aui-button-text:focus,.mpAUI .aui-button.aui-button-text:hover,.mpAUI .aui-buttons .aui-button.aui-button-link:active,.mpAUI .aui-buttons .aui-button.aui-button-link:focus,.mpAUI .aui-buttons .aui-button.aui-button-link:hover,.mpAUI .aui-buttons .aui-button.aui-button-link[aria-pressed=true],.mpAUI .aui-buttons .aui-button.aui-button-text:active,.mpAUI .aui-buttons .aui-button.aui-button-text:focus,.mpAUI .aui-buttons .aui-button.aui-button-text:hover,.mpAUI .aui-buttons .aui-button.aui-button-text[aria-pressed=true]{background:transparent;border-color:transparent;box-shadow:none;text-decoration:underline}.mpAUI .aui-button.aui-button-text,.mpAUI .aui-button.aui-button-text:visited{border:none;font-size:inherit;height:inherit;line-height:normal;padding:0}.mpAUI .aui-button.aui-button-subtle{background:transparent;border-color:transparent;color:#707070}.mpAUI .aui-buttons .aui-button.aui-button-subtle{border-radius:3.01px}.mpAUI .aui-button.aui-button-subtle .aui-icon{margin-right:1px}.mpAUI .aui-button>.aui-icon+.aui-button-label{margin-left:4px}',""])},function(e,t,n){var r=n(154);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,".mediaPickerPopup .aui-dialog2-large{width:845px;height:530px;position:fixed;left:calc(50% - 845px/2);top:calc(50% - 530px/2);margin:0;overflow:visible}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(48),v=function(e){function t(e,n){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"upload",value:function(e,t){var n=t||"file",r=this._urltoFile(e,n);this.uploadService.addFile(r)}},{key:"_urltoFile",value:function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/);if(!r||r.length<2)throw new Error("Failed to retrieve file from data URL");for(var i=r[1],o=atob(n[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var u=new Blob([s],{type:i});return u.name=t,u}}]),t}(h.MediaLocalUpload);t.BinaryUploader=v},function(e,t,n){n(157),e.exports=n(2).Object.getPrototypeOf},function(e,t,n){var r=n(41),i=n(91);n(158)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(5),i=n(2),o=n(18);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){e.exports={default:n(160),__esModule:!0}},function(e,t,n){n(161);var r=n(2).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(5);r(r.S+r.F*!n(12),"Object",{defineProperty:n(9).f})},function(e,t,n){e.exports={default:n(163),__esModule:!0}},function(e,t,n){n(30),n(33),e.exports=n(69).f("iterator")},function(e,t,n){var r=n(64),i=n(59);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(45),i=n(43),o=n(32),a={};n(15)(a,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(9),i=n(10),o=n(46);e.exports=n(12)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(24),i=n(67),o=n(168);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(64),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(170),i=n(97),o=n(23),a=n(24);e.exports=n(65)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){e.exports={default:n(172),__esModule:!0}},function(e,t,n){n(173),n(73),n(176),n(177),e.exports=n(2).Symbol},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(12),a=n(5),s=n(94),u=n(70).KEY,c=n(18),l=n(61),f=n(32),d=n(42),p=n(3),h=n(69),v=n(71),m=n(174),y=n(98),g=n(10),b=n(24),_=n(63),w=n(43),x=n(45),k=n(175),P=n(100),A=n(9),S=n(46),O=P.f,I=A.f,E=k.f,j=r.Symbol,T=r.JSON,M=T&&T.stringify,U=p("_hidden"),C=p("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),R=l("symbols"),N=l("op-symbols"),z=Object.prototype,D="function"==typeof j,B=r.QObject,H=!B||!B.prototype||!B.prototype.findChild,q=o&&c(function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(z,t);r&&delete z[t],I(e,t,n),r&&e!==z&&I(z,t,r)}:I,$=function(e){var t=R[e]=x(j.prototype);return t._k=e,t},V=D&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},J=function(e,t,n){return e===z&&J(N,t,n),g(e),t=_(t,!0),g(n),i(R,t)?(n.enumerable?(i(e,U)&&e[U][t]&&(e[U][t]=!1),n=x(n,{enumerable:w(0,!1)})):(i(e,U)||I(e,U,w(1,{})),e[U][t]=!0),q(e,t,n)):I(e,t,n)},W=function(e,t){g(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)J(e,n=r[i++],t[n]);return e},G=function(e,t){return void 0===t?x(e):W(x(e),t)},K=function(e){var t=L.call(this,e=_(e,!0));return!(this===z&&i(R,e)&&!i(N,e))&&(!(t||!i(this,e)||!i(R,e)||i(this,U)&&this[U][e])||t)},Y=function(e,t){if(e=b(e),t=_(t,!0),e!==z||!i(R,t)||i(N,t)){var n=O(e,t);return!n||!i(R,t)||i(e,U)&&e[U][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=E(b(e)),r=[],o=0;n.length>o;)i(R,t=n[o++])||t==U||t==u||r.push(t);return r},X=function(e){for(var t,n=e===z,r=E(n?N:b(e)),o=[],a=0;r.length>a;)!i(R,t=r[a++])||n&&!i(z,t)||o.push(R[t]);return o};D||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(N,n),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),q(this,e,w(1,n))};return o&&H&&q(z,e,{configurable:!0,set:t}),$(e)},s(j.prototype,"toString",function(){return this._k}),P.f=Y,A.f=J,n(99).f=k.f=Q,n(47).f=K,n(72).f=X,o&&!n(44)&&s(z,"propertyIsEnumerable",K,!0),h.f=function(e){return $(p(e))}),a(a.G+a.W+a.F*!D,{Symbol:j});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=S(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!D,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=j(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!D,"Object",{create:G,defineProperty:J,defineProperties:W,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),T&&a(a.S+a.F*(!D||c(function(){var e=j();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,M.apply(T,r)}}}),j.prototype[C]||n(15)(j.prototype,C,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(46),i=n(72),o=n(47);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(24),i=n(99).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(71)("asyncIterator")},function(e,t,n){n(71)("observable")},function(e,t,n){e.exports={default:n(179),__esModule:!0}},function(e,t,n){n(180),e.exports=n(2).Object.setPrototypeOf},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(181).set})},function(e,t,n){var r=n(11),i=n(10),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(14)(Function.call,n(100).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(183),__esModule:!0}},function(e,t,n){n(184);var r=n(2).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(5);r(r.S,"Object",{create:n(45)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(101),o=r(i),a=n(21),s=r(a),u=n(196),c=r(u),l=n(50),f=r(l),d=n(0),p=r(d),h=n(1),v=r(h);Object.defineProperty(t,"__esModule",{value:!0});var m=n(206),y=n(51),g=n(77),b=n(22),_=n(211),w=n(111),x=n(128),k=n(129),P=n(261),A=n(131),S=n(262),O=n(83),I=n(267),E=n(268),j=function(){function e(t,n,r){var i=this;(0,p.default)(this,e),this.uploads={},this.retry=0,this.emit=function(e,t){i.emitter.emit(e,t)},this.getQueryParameters=function(e,t){var n=i.getMediaClient(e),r=n.storedAuth;if(r)return(0,f.default)({hash:t.hash},w.mapAuthToQueryParameters(r),{partNumber:t.offset+1,uploadId:i.uploads[e.uniqueIdentifier].uploadId,uploadChunkUrl:i.uploadChunkUrl});throw new Error("auth required")},this.generateTarget=function(e){var t=e.map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,c.default)(t,2),r=n[0],i=n[1];return e[r]=i,e},{}),n=t.hash,r=t.resumableCurrentChunkSize,o=t.client,a=t.issuer,s=t.token,u=t.partNumber,l=t.uploadId,f=void 0;return f=a?"issuer="+a+"&token="+s:"client="+o+"&token="+s,i.uploadChunkUrl+"/"+n+"-"+r+"?"+f+"&uploadId="+l+"&partNumber="+u},this.onFilesAdded=function(e){if(0!==e.length){var t=i.uploadParams;e.forEach(function(e){i.uploads[e.uniqueIdentifier]={creationDate:Date.now(),uploadParams:t}});var n=t.collection,r=i.mediaClientPool.getMediaClient(n);r.refreshAuth().then(function(){i.api.createUpload(r,e.length).then(function(t){e.forEach(function(e,n){i.uploads[e.uniqueIdentifier].uploadId=t[n].id}),i.retry=0;var n=e.map(function(e){return i.mapResumableFileToMediaFile(e)});i.emit("files-added",{files:n}),n.forEach(function(e){return i.emit("file-added",{file:e})}),i.resumable.upload()})},function(){e.forEach(function(e){return i.onError(e,x.ERROR_NAMES.TOKEN_FETCH_FAIL)}),e.forEach(function(e){return e.cancel()}),e.forEach(i.cleanupResumableFile)})}},this.onChunkingComplete=function(e){e.chunks.forEach(function(t){var n=t.callback;t.callback=function(t,r){return"error"===t?(i.retry++,e.abort(),e.pause(!0),void i.resumable.fire("fileError",e,r||"")):("success"===t&&(i.retry=0),void n(t,r))}})},this.onFileProgress=function(e){var t=e.progress(),n=i.mapResumableFileToMediaFile(e);if(t>0&&t<1){var r=new P.MediaProgress(n.size,n.size*t,n.creationDate,Date.now());i.emit("file-uploading",{file:n,progress:r})}},this.onFileSuccess=function(e){return i.getResumableFileUploadParams(e).autoFinalize?void i.finalizeFile(e):void i.emit("file-finalize-ready",{file:i.mapResumableFileToMediaFile(e),finalize:function(){i.finalizeFile(e)}})},this.onFileError=function(e,t){var n=i.getMediaClient(e);i.onUploadError(e,x.ERROR_NAMES.UPLOAD_FAIL,t,n).then(function(){e._prevProgress=0,e.pause(!1),e.chunks.forEach(function(e){"error"===e.status()&&(e.preprocessState=0,e.send()),"pending"===e.status()&&2===e.preprocessState&&(e.preprocessState=0)})}).catch(function(){e.cancel()})},this.onDrop=function(e){e.preventDefault(),e.stopPropagation(),i.emit("file-dropped",e)},this.mapResumableFileToMediaFile=function(e,t){return new k.MediaFile(e.uniqueIdentifier,e.file.name,e.file.size,i.getResumableFileCreationDate(e),e.file.type,t,e)},this.getResumableFileCreationDate=function(e){return i.uploads[e.uniqueIdentifier].creationDate},this.getResumableFileUploadParams=function(e){return i.uploads[e.uniqueIdentifier].uploadParams},this.cleanupResumableFile=function(e){delete i.uploads[e.uniqueIdentifier]},this.emitter=new g.EventEmitter2,this.uploadChunkUrl=t+"/chunk",this.mediaClientPool=new I.MediaClientPool(t,n),this.api=new E.MediaApi,this.setUploadParams(r),this.resumable=new m({target:this.generateTarget,uploadMethod:"PUT",testMethod:"HEAD",chunkSize:4194304,chunkRetryInterval:2500,maxChunkRetries:5,simultaneousUploads:3,forceChunkSize:!0,permanentErrors:[400,403,404,415,500,501],method:"octet",minFileSize:0,query:this.getQueryParameters,preprocess:function(t){return e.hasher.hash(t)},generateUniqueIdentifier:function(){return y.v4()}}),this.resumable.on("filesAdded",this.onFilesAdded),this.resumable.on("chunkingComplete",this.onChunkingComplete),this.resumable.on("fileProgress",this.onFileProgress),this.resumable.on("fileSuccess",this.onFileSuccess),this.resumable.on("fileError",this.onFileError)}return(0,v.default)(e,[{key:"setUploadParams",value:function(e){this.uploadParams=(0,f.default)({},A.defaultUploadParams,e)}},{key:"getUploadParams",value:function(){return this.uploadParams}},{key:"addBrowse",value:function(e){this.resumable.assignBrowse(e)}},{key:"addDropzone",value:function(e){this.dropzoneElement||(this.dropzoneElement=e,this.dropzoneElement.addEventListener("drop",this.onDrop),this.resumable.assignDrop(this.dropzoneElement))}},{key:"removeDropzone",value:function(){this.dropzoneElement&&(this.dropzoneElement.removeEventListener("drop",this.onDrop),this.resumable.unAssignDrop(this.dropzoneElement),this.dropzoneElement=void 0)}},{key:"addFile",value:function(e){this.resumable.addFile(e)}},{key:"cancel",value:function(e){if(e){var t=this.resumable.getFromUniqueIdentifier(e);t&&t.cancel()}else this.resumable.cancel()}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"getMediaClient",value:function(e){var t=this.getResumableFileUploadParams(e),n=t.collection;return this.mediaClientPool.getMediaClient(n)}},{key:"finalizeFile",value:function(e){var t=this,n=e.fileName,r=e.file,i=this.getResumableFileUploadParams(e),o=i.collection,a=e.chunks.map(function(e){return e.hash+"-"+(e.endByte-e.startByte)}),s=this.getMediaClient(e),u=this.uploads[e.uniqueIdentifier].uploadId;this.appendChunksToUpload(s,u,a,1e3).then(function(e){return t.api.createFileFromUpload(s,n,r.type,e,o)}).then(function(n){return t.processFile(s,n,e)}).catch(function(n){t.onError(e,x.ERROR_NAMES.OBJ_CREATE_FAIL,n)})}},{key:"appendChunksToUpload",value:function(e,t,n,r){var i=this;return _.sliceByChunks(n,r).map(function(n,o){var a=o*r;return function(){return i.api.appendChunksToUpload(e,t,n,a)}}).reduce(function(e,t){return e.then(t)},s.default.resolve()).then(function(){return t})}},{key:"processFile",value:function(e,t,n){var r=this;return this.fetchFileMetadata(e,t,n).then(function(e){var t=r.mapResumableFileToMediaFile(n,e.id),i=new P.MediaProgress(t.size,t.size,t.creationDate,Date.now());r.emit("file-converted",{file:t,progress:i,metadata:e})}).catch(function(e){r.onError(n,x.ERROR_NAMES.METADATA_FETCH_FAIL,e)})}},{key:"fetchFileMetadata",value:function(e,t,n){var r=this.getResumableFileUploadParams(n),i=r.collection;return r.fetchMetadata?(this.emit("file-converting",{file:this.mapResumableFileToMediaFile(n,t)}),this.api.pollForFileMetadata(e,t,i)):s.default.resolve({id:t})}},{key:"onUploadError",value:function(e,t,n,r){var i=this;return new s.default(function(o,a){var s=e.uniqueIdentifier,u=void 0;try{u=JSON.parse(n)}catch(e){}return O.isTokenError(u)&&i.retry<=1?void r.refreshAuth().then(function(){return o()}).catch(function(){i.emit("file-upload-error",{file:i.mapResumableFileToMediaFile(e),error:new x.MediaError(s,x.ERROR_NAMES.TOKEN_UPDATE_FAIL,n)}),b.handleError(t,n),a()}):(u&&u.error&&u.error.title&&(n=u.error.title),i.emit("file-upload-error",{file:i.mapResumableFileToMediaFile(e),error:new x.MediaError(s,t,n)}),b.handleError(t,n),a(),void 0)})}},{key:"onError",value:function(e,t,n){var r=void 0;r=n&&n.error&&n.error.title?n.error.title:(0,o.default)(n||{}),this.emit("file-upload-error",{file:this.mapResumableFileToMediaFile(e),error:new x.MediaError(e.uniqueIdentifier,t,r)}),b.handleError(t,r)}}]),e}();j.hasher=S.createHasher(),t.UploadService=j},function(e,t,n){var r=n(2),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(73),n(30),n(33),n(188),n(194),n(195),e.exports=n(2).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(44),u=n(4),c=n(14),l=n(49),f=n(5),d=n(11),p=n(29),h=n(74),v=n(34),m=n(103),y=n(104).set,g=n(192)(),b=n(75),_=n(105),w=n(106),x=u.TypeError,k=u.process,P=u.Promise,A="process"==l(k),S=function(){},O=i=b.f,I=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(S,S)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),E=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&U(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(x("Promise-chain cycle")):(o=E(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){y.call(u,function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=_(function(){A?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},M=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!M(t.promise))return!1;return!0},U=function(e){y.call(u,function(){var t;A?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},C=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=E(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(L,r,1),c(C,r,1))}catch(e){C.call(r,e)}}):(n._v=e,n._s=1,j(n,!1))}catch(e){C.call({_w:n,_d:!1},e)}}};I||(P=function(e){h(this,P,"Promise","_h"),p(e),r.call(this);try{e(c(L,this,1),c(C,this,1))}catch(e){C.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(76)(P.prototype,{then:function(e,t){var n=O(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(L,e,1),this.reject=c(C,e,1)},b.f=O=function(e){return e===P||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!I,{Promise:P}),n(32)(P,"Promise"),n(107)("Promise"),a=n(2).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(e){return w(s&&this===a?P:this,e)}}),f(f.S+f.F*!(I&&n(193)(function(e){P.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(23),i=n(3)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(4),i=n(104).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(31)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(3)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(5),i=n(2),o=n(4),a=n(103),s=n(106);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){
throw n})}:e)}})},function(e,t,n){"use strict";var r=n(5),i=n(75),o=n(105);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(197),o=r(i),a=n(200),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(198),__esModule:!0}},function(e,t,n){n(33),n(30),e.exports=n(199)},function(e,t,n){var r=n(49),i=n(3)("iterator"),o=n(23);e.exports=n(2).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(201),__esModule:!0}},function(e,t,n){n(33),n(30),e.exports=n(202)},function(e,t,n){var r=n(10),i=n(102);e.exports=n(2).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(204),e.exports=n(2).Object.assign},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(205)})},function(e,t,n){"use strict";var r=n(46),i=n(72),o=n(47),a=n(41),s=n(66),u=Object.assign;e.exports=!u||n(18)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t,n){!function(){"use strict";var t=function(e){function n(e,t,n){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.webkitRelativePath||t.relativePath||i.fileName,i.uniqueIdentifier=n,i._pause=!1,i.container="";var a=void 0!==n,s=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;o.each(i.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],o.each(e,function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())}),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",function(){e||i.resumableObj.upload(),e=!0})},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t="fileSizeExceedsLimit",n={MB:1048576,GB:1073741824,TB:1099511627776},o=2*n.TB,u=function(e){if(e>o)throw new Error(t);return e<=5*n.GB?5*n.MB:e>5*n.GB&&e<=50*n.GB?50*n.MB:e>50*n.GB&&e<=.95*n.TB?100*n.MB:210*n.MB}(i.file.size),c=Math.max(e(i.file.size/u),1),l=0;l<c;l++)!function(e){window.setTimeout(function(){i.chunks.push(new r(i.resumableObj,i,e,s,u)),i.resumableObj.fire("chunkingProgress",i,e/c)},0)}(l);window.setTimeout(function(){i.resumableObj.fire("chunkingComplete",i)},0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return o.each(i.chunks,function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return o.each(i.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},i.isComplete=function(){var e=!1;return o.each(i.chunks,function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1}),!e},i.pause=function(e){i._pause=void 0===e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function r(e,t,n,r,i){var a=this;return a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=n,a.callback=r,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0,a.skipped=!1,a.loaded=0,a.startByte=a.offset*i,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*i),a.fileObjSize-a.endByte<i&&!a.getOpt("forceChunkSize")&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){var e=a.getOpt("query");"function"==typeof e&&(e=e(a.fileObj,a));var t=a.endByte-a.startByte,n=e.hash+"-"+t,r=[n],i=a.getOpt("headers");"function"==typeof i&&(i=i(a.fileObj,a)),i.Authorization||(i.Authorization="Bearer "+e.token),e.client?i["X-Client-Id"]=e.client:i["X-Issuer"]=e.issuer;var o={Accept:"application/json","Content-Type":"application/json"};for(var s in i)o[s]=i[s];var u={chunks:r},c=e.uploadChunkUrl+"/probe?uploadId="+e.uploadId,l={method:"POST",headers:o,body:JSON.stringify(u)};fetch(c,l).then(function(e){return e.json()}).then(function(e){a.tested=!0,e.data.results[n]&&e.data.results[n].exists?(a.skipped=!0,a.callback("success",a.message()),a.resumableObj.uploadNextChunk()):a.send()}).catch(function(){a.tested=!0,a.send()})},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt("preprocess");if("function"==typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return}if(a.getOpt("testChunks")&&!a.tested)return void a.test();a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener("progress",function(e){new Date-a.lastProgressCallback>1e3*a.getOpt("throttleProgressCallbacks")&&(a.callback("progress"),a.lastProgressCallback=new Date),a.loaded=e.loaded||0},!1),a.loaded=0,a.pendingRetry=!1,a.callback("progress");var t=function(e){var t=a.status();if("success"==t||"error"==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback("retry",a.message()),a.abort(),a.retries++;var n=a.getOpt("chunkRetryInterval");void 0!==n?(a.pendingRetry=!0,setTimeout(a.send,n)):a.send()}};a.xhr.addEventListener("load",t,!1),a.xhr.addEventListener("error",t,!1),a.xhr.addEventListener("timeout",t,!1);var n={resumableChunkNumber:a.offset+1,resumableChunkSize:i,resumableCurrentChunkSize:a.endByte-a.startByte,resumableTotalSize:a.fileObjSize,resumableType:a.fileObjType,resumableIdentifier:a.fileObj.uniqueIdentifier,resumableFilename:a.fileObj.fileName,resumableRelativePath:a.fileObj.relativePath,resumableTotalChunks:a.fileObj.chunks.length},r=a.getOpt("query");"function"==typeof r&&(r=r(a.fileObj,a)),o.each(r,function(e,t){n[e]=t});var s=a.fileObj.file.slice?"slice":a.fileObj.file.mozSlice?"mozSlice":a.fileObj.file.webkitSlice?"webkitSlice":"slice",u=a.fileObj.file[s](a.startByte,a.endByte),c=null,l=a.getOpt("target"),f=a.getOpt("parameterNamespace");if("octet"===a.getOpt("method")){c=u;var d=[];o.each(n,function(e,t){d.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))}),l=o.getTarget(d)}else c=new FormData,o.each(n,function(e,t){c.append(f+e,t)}),c.append(f+a.getOpt("fileParameterName"),u);var p=a.getOpt("uploadMethod");a.xhr.open(p,l),"octet"===a.getOpt("method")&&a.xhr.setRequestHeader("Content-Type","binary/octet-stream"),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var h=a.getOpt("headers");"function"==typeof h&&(h=h(a.fileObj,a)),o.each(h,function(e,t){a.xhr.setRequestHeader(e,t)}),a.xhr.send(c)},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?"uploading":a.skipped?"success":a.xhr?a.xhr.readyState<4?"uploading":200==a.xhr.status||201==a.xhr.status?"success":o.contains(a.getOpt("permanentErrors"),a.xhr.status)||a.retries>=a.getOpt("maxChunkRetries")?"error":(a.abort(),"pending"):"pending"},a.message=function(){return a.xhr?a.xhr.responseText:""},a.progress=function(e){void 0===e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;switch(a.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var i=this;i.files=[],i.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:void 0,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,maxFilesErrorCallback:function(e,t){var n=i.getOpt("maxFiles");alert("Please upload no more than "+n+" file"+(1===n?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+o.formatSize(i.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+o.formatSize(i.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+i.getOpt("fileType")+".")}},i.opts=e||{},i.getOpt=function(e){var i=this;if(e instanceof Array){var a={};return o.each(e,function(e){a[e]=i.getOpt(e)}),a}if(i instanceof r){if(void 0!==i.opts[e])return i.opts[e];i=i.fileObj}if(i instanceof n){if(void 0!==i.opts[e])return i.opts[e];i=i.resumableObj}if(i instanceof t)return void 0!==i.opts[e]?i.opts[e]:i.defaults[e]},i.events=[],i.on=function(e,t){i.events.push(e.toLowerCase(),t)},i.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);for(var n=e[0].toLowerCase(),t=0;t<=i.events.length;t+=2)i.events[t]==n&&i.events[t+1].apply(i,e.slice(1)),"catchall"==i.events[t]&&i.events[t+1].apply(null,e);"fileerror"==n&&i.fire("error",e[2],e[1]),"fileprogress"==n&&i.fire("progress")};var o={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e){var t=i.getOpt("generateUniqueIdentifier");if("function"==typeof t)return t(e);var n=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return o.each(e,function(e){return e!=t||(n=!0,!1)}),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e){var t=i.getOpt("target");return"function"==typeof t?t(e):(t+=t.indexOf("?")<0?"?":"&",t+e.join("&"))}},a=function(e){o.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?u(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&u(e.dataTransfer.files,e)},s=function(e){e.preventDefault()},u=function(e,t,n,r){n||(n={total:0,files:[],event:t}),c(e.length,n);for(var i=0;i<e.length;i++){var o,a,s=e[i];if(s.isFile||s.isDirectory)o=s;else if(s.getAsEntry)o=s.getAsEntry();else{if(!s.webkitGetAsEntry){if("function"==typeof s.getAsFile){l(s.getAsFile(),n,r);continue}if(File&&s instanceof File){l(s,n,r);continue}c(-1,n);continue}o=s.webkitGetAsEntry()}if(o){if(o.isFile)o.file(function(e){l(e,n,r)},function(e){console.warn(e)});else if(o.isDirectory){a=o.createReader();var f=[],d=function(e){a.readEntries(function(r){if(r.length>0){for(var i=0;i<r.length;i++)f.push(r[i]);d(o.fullPath)}else u(f,t,n,e),c(-1,n)},function(e){c(-1,n),console.warn(e)})};d(o.fullPath)}}else c(-1,n)}},c=function(e,t){t.total+=e,t.files.length===t.total&&f(t.files,t.event)},l=function(e,t,n){n&&(e.relativePath=n+"/"+e.name),t.files.push(e),t.files.length===t.total&&f(t.files,t.event)},f=function(e,t){var r=0,a=i.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==a.maxFiles&&a.maxFiles<e.length+i.files.length){if(1!==a.maxFiles||1!==i.files.length||1!==e.length)return a.maxFilesErrorCallback(e,r++),!1;i.removeFile(i.files[0])}var s=[];o.each(e,function(e){function u(r){i.getFromUniqueIdentifier(r)||function(){e.uniqueIdentifier=r;var o=new n(i,e,r);i.files.push(o),s.push(o),o.container=void 0!==t?t.srcElement:null,window.setTimeout(function(){i.fire("fileAdded",o,t)},0)}()}var c=e.name;if(a.fileType.length>0){var l=!1;for(var f in a.fileType){var d="."+a.fileType[f];if(-1!==c.indexOf(d,c.length-d.length)){l=!0;break}}if(!l)return a.fileTypeErrorCallback(e,r++),!1}if(void 0!==a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,r++),!1;if(void 0!==a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,r++),!1;var p=o.generateUniqueIdentifier(e);p&&"function"==typeof p.done&&"function"==typeof p.fail?p.done(function(e){u(e)}).fail(function(){u()}):u(p)}),window.setTimeout(function(){i.fire("filesAdded",s)},0)};return i.uploadNextChunk=function(){var e=!1;if(i.getOpt("prioritizeFirstAndLastChunk")&&(o.each(i.files,function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(o.each(i.files,function(t){if(!1===t.isPaused()&&o.each(t.chunks,function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return o.each(i.files,function(e){if(!e.isComplete())return t=!0,!1}),t||i.fire("complete"),!1},i.assignBrowse=function(e,t){void 0===e.length&&(e=[e]),o.each(e,function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:(n=document.createElement("input"),n.setAttribute("type","file"),n.style.display="none",e.addEventListener("click",function(){n.style.opacity=0,n.style.display="block",n.focus(),n.click(),n.style.display="none"},!1),e.appendChild(n));var r=i.getOpt("maxFiles");void 0===r||1!=r?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),t?n.setAttribute("webkitdirectory","webkitdirectory"):n.removeAttribute("webkitdirectory"),n.addEventListener("change",function(e){f(e.target.files,e),e.target.value=""},!1)})},i.assignDrop=function(e){void 0===e.length&&(e=[e]),o.each(e,function(e){e.addEventListener("dragover",s,!1),e.addEventListener("dragenter",s,!1),e.addEventListener("drop",a,!1)})},i.unAssignDrop=function(e){void 0===e.length&&(e=[e]),o.each(e,function(e){e.removeEventListener("dragover",s),e.removeEventListener("dragenter",s),e.removeEventListener("drop",a)})},i.isUploading=function(){var e=!1;return o.each(i.files,function(t){if(t.isUploading())return e=!0,!1}),e},i.upload=function(){if(!i.isUploading()){i.fire("uploadStart");for(var e=1;e<=i.getOpt("simultaneousUploads");e++)i.uploadNextChunk()}},i.pause=function(){o.each(i.files,function(e){e.abort()}),i.fire("pause")},i.cancel=function(){for(var e=i.files.length-1;e>=0;e--)i.files[e].cancel();i.fire("cancel")},i.progress=function(){var e=0,t=0;return o.each(i.files,function(n){e+=n.progress()*n.size,t+=n.size}),t>0?e/t:0},i.addFile=function(e,t){f([e],t)},i.removeFile=function(e){for(var t=i.files.length-1;t>=0;t--)i.files[t]===e&&i.files.splice(t,1)},i.getFromUniqueIdentifier=function(e){var t=!1;return o.each(i.files,function(n){n.uniqueIdentifier==e&&(t=n)}),t},i.getSize=function(){var e=0;return o.each(i.files,function(t){e+=t.size}),e},this};e.exports=t}()},function(e,t,n){function r(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:u,f=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,p=f-c+(d-l)/1e4;if(p<0&&void 0===e.clockseq&&(a=a+1&16383),(p<0||f>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=d,u=a,f+=122192928e5;var h=(1e4*(268435455&f)+d)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var v=f/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var m=e.node||s,y=0;y<6;++y)i[r+y]=m[y];return t||o(i)}var i=n(108),o=n(109),a=i(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],u=16383&(a[6]<<8|a[7]),c=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}var i=n(108),o=n(109);e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(101),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l={internalStorage:{storage:{},getItem:function(e){return this.storage[e]},setItem:function(e,t){this.storage[e]=t},clear:function(){this.storage={}}},getLocalStorage:function(){return window.localStorage},getSessionStorage:function(){return window.sessionStorage},getInternalStorage:function(){return this.internalStorage},getStorage:function(){try{var e=this.getLocalStorage();if(e)return e;var t=this.getSessionStorage();if(t)return t}catch(e){return this.getInternalStorage()}},isCORSRequest:function(e){var t=document.createElement("a");return t.href=e,t.host!==window.location.host},getCookieValue:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}},f=function(){function e(t){var n=this;(0,s.default)(this,e),this.STORAGE_KEY_PREAMBLE="herment",this.MAXEVENTS=100,this.PUBLISH_INTERVAL=5e3,this.SAVE_INTERVAL=1e3,this.isStarted=!1,this.config=this.parseConfig(t),this.storage=l.getStorage(),window.addEventListener("unload",function(){return n.moveQueueToStorage()})}return(0,c.default)(e,[{key:"getAtlPath",value:function(){return l.getCookieValue("__atl_path")}},{key:"getServerName",value:function(){return document.location.hostname}},{key:"getProductNameFromServerName",value:function(e){return void 0!==e?e.replace(".com","").replace(".net","").replace(".org","").replace(".au","").replace(".io",""):"-"}},{key:"getSubdomain",value:function(e){if(e.match(/^([a-z0-9\.]*)[\-\.]{1}([a-z0-9]+)+\.([a-z]{2,6})$/i)){var t=e.split(".");if(t=2===t[t.length-1].length?t.slice(0,t.length-3):t.slice(0,t.length-2),0!==t.length)return t.join(".")}return"-"}},{key:"generateRandomStorageKey",value:function(){var e=(Math.random()+"").slice(2,12),t=(Math.random()+"").slice(2,12);return e.concat(t)}},{key:"ajaxPost",value:function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Accept","application/json, text/javascript, */*;"),n.send(t)}},{key:"parseConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window,n=t.AJS?t.AJS.EventQueue:[],r=e.queue||n,i=e.analyticsscheme||"https",o=e.analyticsserver||"analytics.atlassian.com",a=e.analyticsurl||"/analytics/events",s=e.server||this.getServerName();return{queue:r,gasScheme:i,gasServer:o,gasUrl:a,serverName:s,productName:e.product||this.getProductNameFromServerName(s),subProductName:e.subproduct||this.getSubdomain(s)||"-",version:e.version,session:e.session,sen:e.sen,sourceIP:e.sourceIP,atlPath:e.atlpath||this.getAtlPath(),post:e.ajax||this.ajaxPost,maxevents:e.maxevents||this.MAXEVENTS,storageKey:e.storage_key||this.STORAGE_KEY_PREAMBLE+this.generateRandomStorageKey()+this.generateRandomStorageKey(),user:e.user||"default",publishInterval:e.publish_interval||this.PUBLISH_INTERVAL,saveInterval:e.save_interval||this.SAVE_INTERVAL}}},{key:"pushToServer",value:function(e,t){var n=this.config,r=n.gasScheme,i=n.gasServer,a=n.gasUrl;(t||this.config.post)(r+"://"+i+a,(0,o.default)({events:e}))}},{key:"addEventsToArray",value:function(e,t,n){if(n&&n.server&&n.product&&n.subproduct&&n.user)for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(t.length>=this.config.maxevents)return;if(i.name&&i.properties){var o={name:i.name,properties:i.properties,serverTime:i.time||(new Date).getTime(),server:n.server,user:n.user,product:n.product,subproduct:n.subproduct,version:n.version,session:n.session,sen:n.sen,sourceIP:n.sourceIP,atlPath:n.atlPath};t.push(o)}}}},{key:"publishFromQueueAndStorage",value:function(e){try{var t=e||this.pushToServer.bind(this),n=[];if(this.config.queue.length<1&&(void 0===this.storage||this.storage.length<1))return;var r={server:this.config.serverName,user:this.config.user,product:this.config.productName,subproduct:this.config.subProductName,version:this.config.version,session:this.config.session,sen:this.config.sen,sourceIP:this.config.sourceIP,atlPath:this.config.atlPath};this.addEventsToArray(this.config.queue,n,r);var i=this.popEventsFromStorage();this.addEventsToArray(i,n,r),this.config.queue.length=0,n&&n.length&&t(n)}catch(e){}}},{key:"serialiseEventsToString",value:function(e){return(0,o.default)(e)}},{key:"deserialiseEvents",value:function(e){return JSON.parse(e)}},{key:"storeEvents",value:function(e){if(this.storage)try{if(this.storage[this.config.storageKey]){var t=this.deserialiseEvents(this.storage[this.config.storageKey])||[];t.length<this.config.maxevents&&t.push.apply(t,e),e=t}this.storage.setItem(this.config.storageKey,this.serialiseEventsToString(e))}catch(e){}}},{key:"popEventsFromStorage",value:function(){if(!this.storage)return[];try{if(this.storage[this.config.storageKey]){var e=this.deserialiseEvents(this.storage[this.config.storageKey]);return this.storage[this.config.storageKey]=this.serialiseEventsToString([]),e}}catch(e){}return[]}},{key:"moveQueueToStorage",value:function(){0!==this.config.queue.length&&this.storage&&(this.storeEvents(this.config.queue),this.config.queue.length=0)}},{key:"start",value:function(){var e=this;this.isStarted=!0;var t=Array.prototype.push;this.config.queue.push=function(n){n.time=(new Date).getTime(),t.call(e.config.queue,n)},this.initialSaveTimeout=setTimeout(this.publishFromQueueAndStorage.bind(this),this.config.saveInterval),this.publishInterval=setInterval(this.publishFromQueueAndStorage.bind(this),this.config.publishInterval),this.saveInterval=setInterval(this.moveQueueToStorage.bind(this),this.config.saveInterval)}},{key:"stop",value:function(){this.isStarted=!1,this.publishFromQueueAndStorage(),clearTimeout(this.initialSaveTimeout),clearInterval(this.saveInterval),clearInterval(this.publishInterval)}},{key:"destroy",value:function(){this.stop()}}]),e}(),d=void 0,p=function(){return function(e){return d?(d.stop(),void(d.config=d.parseConfig(e))):d=new f(e)}}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceByChunks=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(213)),r(n(112)),r(n(214)),r(n(216)),r(n(113)),r(n(122))},function(e,t,n){"use strict";function r(e,t){return{type:"FETCHING_COLLECTION_SUCCEEDED",collection:e,hasNextPage:t}}function i(e){return{type:"FETCHING_COLLECTION_FAILED",error:e}}Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e[e.click=0]="click",e[e.delete=1]="delete",e[e.download=2]="download",e[e.retry=3]="retry",e[e.custom=4]="custom"}(o=t.CardActionType||(t.CardActionType={})),t.CardClick=function(e){return{type:o.click,handler:e}},t.CardDelete=function(e){return{label:"Delete",type:o.delete,handler:e}},t.ListCardClick=function(e){return{type:o.click,handler:e}},t.ListCardDelete=function(e){return{label:"Delete",type:o.delete,handler:e}},t.CollectionCardClick=function(e){return{type:o.click,handler:e}},t.fetchingCollectionSucceeded=r,t.fetchingCollectionFailed=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(215);t.DefaultMediaStateManager=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=function(){function e(){this.subscribers={},this.state=new Map}return e.prototype.getState=function(e){return this.state.get(e)},e.prototype.updateState=function(e,t){var n=this.subscribers[e],i=r.__assign({},this.state.get(e)||{},t);this.state.set(e,i),void 0!==n&&Array.from(n).forEach(function(e){return e.call(e,i)})},e.prototype.subscribe=function(e,t){var n=this.subscribers,r=n[e];void 0===r&&(r=[],n[e]=r),r.indexOf(t)>-1||r.push(t)},e.prototype.unsubscribe=function(e,t){var n=this.subscribers[e];if(void 0!==n){var r=n.indexOf(t);r>-1&&n.splice(r,1)}},e.prototype.destroy=function(){this.subscribers={}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);n(217),n(218);var i=n(113),o=n(242),a=n(244),s=n(124),u=n(245),c=n(127),l=200,f=function(){function e(){}return e.create=function(e){return new d(e)},e}();t.ContextFactory=f;var d=function(){function e(e){this.config=e,this.collectionPool=o.RemoteMediaCollectionProviderFactory.createPool(),this.itemPool=i.MediaItemProvider.createPool(),this.urlPreviewPool=i.MediaUrlPreviewProvider.createPool(),this.fileItemCache=new u.LRUCache(e.cacheSize||l)}return e.prototype.getMediaItemProvider=function(e,t,n,o){var a=o&&"link"===o.type,s=o&&"file"===o.type&&"pending"!==o.details.processingStatus;if(o&&(a||s))return{observable:function(){return r.Observable.of(o)}};var u=i.MediaItemProvider.fromPool(this.itemPool,this.apiConfig,this.fileItemCache,t,e,n);return o?{observable:function(){return u.observable().startWith(o)}}:u},e.prototype.getMediaCollectionProvider=function(e,t){return void 0===t&&(t=c.DEFAULT_COLLECTION_PAGE_SIZE),o.RemoteMediaCollectionProviderFactory.fromPool(this.collectionPool,this.apiConfig,e,t)},e.prototype.getDataUriService=function(e){return new a.MediaDataUriService(this.config.authProvider,this.config.serviceHost,e)},e.prototype.getUrlPreviewProvider=function(e){return i.MediaUrlPreviewProvider.fromPool(this.urlPreviewPool,this.apiConfig,e)},e.prototype.addLinkItem=function(e,t,n){return new s.MediaLinkService(this.apiConfig).addLinkItem(e,t,n)},e.prototype.refreshCollection=function(e,t){this.getMediaCollectionProvider(e,t).refresh()},Object.defineProperty(e.prototype,"apiConfig",{get:function(){return{serviceHost:this.config.serviceHost,authProvider:this.config.authProvider}},enumerable:!0,configurable:!0}),e}()},function(e,t){e.exports=n(36)},function(e,t){e.exports=n(42)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function t(e,t){this.config=e,this.fileItemCache=t}return t.prototype.getFileItem=function(t,n){var i=this,o=[t,"file"].join("-"),a=this.fileItemCache.get(o);return a?e.resolve(a):r.default({config:this.config,collectionName:n,preventPreflight:!0})({url:"/file/"+t}).then(function(e){return e.data}).then(function(e){var t={type:"file",details:{id:e.id,mediaType:e.mediaType,mimeType:e.mimeType,name:e.name,processingStatus:e.processingStatus,size:e.size,artifacts:e.artifacts}};return"succeeded"===e.processingStatus&&i.fileItemCache.set(o,t),t})},t}();t.MediaFileService=i}).call(t,n(7))},function(e,t,n){"use strict";(function(t){function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(6),o=n(117),a=n(221),s=n(81),u=r(s);u.Axios=a,u.create=function(e){return r(i.merge(s,e))},u.Cancel=n(121),u.CancelToken=n(235),u.isCancel=n(120),u.all=function(e){return t.all(e)},u.spread=n(236),e.exports=u,e.exports.default=u}).call(t,n(7))},function(e,t,n){"use strict";(function(t){function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(81),o=n(6),a=n(230),s=n(231),u=n(233),c=n(234);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url));var n=[s,void 0],r=t.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},o.forEach(["delete","get","head"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r}).call(t,n(7))},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(119);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return e.config=t,n&&(e.code=n),e.response=r,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(6);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=i},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){
var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(6);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";(function(t){function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(6),o=n(232),a=n(120),s=n(81);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(n){return a(n)||(r(e),n&&n.response&&(n.response.data=o(n.response.data,n.response.headers,e.transformResponse))),t.reject(n)})}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";(function(t){function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new t(function(e){n=e});var r=this;e(function(e){r.reason||(r.reason=new i(e),n(r.reason))})}var i=n(121);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r}).call(t,n(7))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageRemote=function(e,t){if(void 0===t&&(t=window.location.origin),URL&&URL.prototype){var n=new URL(e);return!!n.host&&n.origin!==t}return!0}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n;t.checkWebpSupport=function(){return void 0!==n?e.resolve(n):new e(function(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){n=2===t.height,e(n)}})}}).call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=n(123),o=n(82),a=n(125),s=function(){function e(){}return e.fromMediaApi=function(e,t,n,o,a){switch(n){case"file":return r.FileProvider.fromMediaApi(e,t,o,a,r.FILE_PROVIDER_RETRY_INTERVAL);case"link":return i.LinkProvider.fromMediaApi(e,o,a);default:throw new Error("invalid media type "+n)}},e.fromPool=function(t,n,r,i,o,s){return{observable:function(){var u=[i,o,s].join("-");return a.observableFromObservablePool(t,u,function(){return e.fromMediaApi(n,r,i,o,s).observable()})}}},e.createPool=function(){return new o.Pool},e}();t.MediaItemProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(126),o=n(82),a=n(125),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromMediaApi=function(e,t){return i.UrlPreviewProvider.fromMediaApi(e,t)},t.fromPool=function(e,n,r){return{observable:function(){return a.observableFromObservablePool(e,r,function(){return t.fromMediaApi(n,r).observable()})}}},t.createPool=function(){return new o.Pool},t}(i.UrlPreviewProvider);t.MediaUrlPreviewProvider=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function e(e){this.config=e}return e.prototype.getUrlPreview=function(e){return r.default({config:this.config})({url:"/link/preview",params:{url:e}}).then(function(e){var t=e.data,n=t.preview,r=t.previewError;if(r)throw new Error(r.code+": "+r.name);return n})},e}();t.MediaUrlPreviewService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114),i=n(127),o=n(243),a=n(82),s=function(){function e(){}return e.fromCollectionService=function(e,t,n,i){return void 0===i&&(i="desc"),new r.RemoteMediaCollectionProvider(e,t,n,i)},e.fromMediaAPI=function(t,n,r,o){return void 0===o&&(o="desc"),e.fromCollectionService(new i.MediaCollectionService(t),n,r,o)},e.fromPool=function(e,t,n,a,s){void 0===s&&(s="desc");var u=[n,a,s].join("-"),c=function(){var e=new i.MediaCollectionService(t);return new r.RemoteMediaCollectionProvider(e,n,a,s)};return o.mediaCollectionProviderFromPool(e,u,c)},e.createPool=function(){return new a.Pool},e}();t.RemoteMediaCollectionProviderFactory=s},function(e,t,n){"use strict";function r(e,t,n){return e.acquire(t,function(){var r=n(),o=r.observable;return r.observable=function(){return new i.Observable(function(n){var i=o.bind(r)(),a=i.subscribe(n);return function(){a.unsubscribe(),e.release(t)}})},r})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(26);t.mediaCollectionProviderFromPool=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=function(){function t(e,t,n){this.authProvider=e,this.serviceHost=t,this.collectionName=n,this.request=r.default({config:{serviceHost:this.serviceHost,authProvider:this.authProvider},collectionName:this.collectionName})}return t.prototype.fetchOriginalDataUri=function(e){return this.fetchSomeDataUri("/file/"+e.details.id+"/binary",{"max-age":3600,collection:this.collectionName})},t.prototype.fetchImageDataUri=function(e,t,n,r){return void 0===r&&(r="crop"),this.fetchSomeDataUri("/file/"+e.details.id+"/image",{width:t,height:n,mode:r,"max-age":3600,collection:this.collectionName})},t.prototype.fetchSomeDataUri=function(e,t){return this.request({url:e,params:t,responseType:"image"}).then(this.readBlob)},t.prototype.readBlob=function(t){return new e(function(e,n){var r=new FileReader;r.addEventListener("load",function(){return e(r.result)}),r.addEventListener("error",function(){return n(r.error)}),r.readAsDataURL(t)})},t}();t.MediaDataUriService=i}).call(t,n(7))},function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var r;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(r=this.newest;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.oldest;r;)e.call(t,r.key,r.value,this),r=r.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},function(e,t,n){e.exports={default:n(247),__esModule:!0}},function(e,t,n){n(73),n(30),n(33),n(248),n(254),n(257),n(259),e.exports=n(2).Set},function(e,t,n){"use strict";var r=n(249),i=n(130);e.exports=n(250)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(9).f,i=n(45),o=n(76),a=n(14),s=n(74),u=n(34),c=n(65),l=n(97),f=n(107),d=n(12),p=n(70).fastKey,h=n(130),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(70),a=n(18),s=n(15),u=n(76),c=n(34),l=n(74),f=n(11),d=n(32),p=n(9).f,h=n(251)(0),v=n(12);e.exports=function(e,t,n,m,y,g){var b=r[e],_=b,w=y?"set":"add",x=_&&_.prototype,k={};return v&&"function"==typeof _&&(g||x.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){l(t,_,e,"_c"),t._c=new b,void 0!=n&&c(n,y,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!g||"clear"!=e)&&s(_.prototype,e,function(n,r){if(l(this,_,e),!t&&g&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),g||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,y,w),u(_.prototype,n),o.NEED=!0),d(_,e),k[e]=_,i(i.G+i.W+i.F,k),g||m.setStrong(_,e,y),_}},function(e,t,n){var r=n(14),i=n(66),o=n(41),a=n(67),s=n(252);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,y=o(t),g=i(y),b=r(s,h,3),_=a(g.length),w=0,x=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],m=b(v,w,y),e))if(n)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(l)return!1;return f?-1:c||l?l:x}}},function(e,t,n){var r=n(253);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(11),i=n(98),o=n(3)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);r(r.P+r.R,"Set",{toJSON:n(255)("Set")})},function(e,t,n){var r=n(49),i=n(256);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(34);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(258)("Set")},function(e,t,n){"use strict";var r=n(5);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(260)("Set")},function(e,t,n){"use strict";var r=n(5),i=n(29),o=n(14),a=n(34);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(22),c=function(){function e(t,n,r,i){return(0,o.default)(this,e),this.size=t,this.progress=n,this.startTime=r,this.measureTime=i,e.isValidSize(t)?e.isValidProgress(t,n)?e.isValidStartTime(r)?e.isValidMeasureTime(r,i)?(this.size=t,this.progress=n,this.startTime=r,void(this.measureTime=i)):void u.handleError("wrong_measure_time","The progress measure time has incorrect format."):void u.handleError("wrong_start_time","The progress start time has incorrect format."):void u.handleError("wrong_progress","The progress format is incorrect."):void u.handleError("wrong_file_size","Passed file size is incorrect.")}return(0,s.default)(e,[{key:"toJSON",value:function(){return{absolute:this.absolute,portion:this.portion,max:this.max,overallTime:this.overallTime,expectedFinishTime:this.expectedFinishTime,timeLeft:this.timeLeft}}},{key:"absolute",get:function(){return this.progress}},{key:"portion",get:function(){return this.progress/this.size}},{key:"max",get:function(){return this.size}},{key:"overallTime",get:function(){return(this.measureTime-this.startTime)/this.portion}},{key:"expectedFinishTime",get:function(){return this.startTime+this.overallTime}},{key:"timeLeft",get:function(){return this.expectedFinishTime-this.measureTime}}],[{key:"isValidSize",value:function(e){return"number"==typeof e&&e>0}},{key:"isValidProgress",value:function(t,n){return e.isValidSize(t)&&"number"==typeof n&&n>=0&&n<=t}},{key:"isValidStartTime",value:function(e){return"number"==typeof e&&e>0}},{key:"isValidMeasureTime",value:function(t,n){return e.isValidStartTime(t)&&"number"==typeof n&&n>=t}}]),e}();t.MediaProgress=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(263),i=n(265);t.createHasher=function(){var e=void 0;try{e=new i.WorkerHasher(3)}catch(t){e=new r.SimpleHasher}return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(264),c=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"hash",value:function(e){var t=e.fileObj.file,n=t.slice(e.startByte,e.endByte),r=new FileReader;r.onload=function(t){var n=t.target.result;e.hash=new u(4194304).digestFromArrayBuffer(n),e.preprocessFinished()},r.readAsArrayBuffer(n)}}]),e}();t.SimpleHasher=c},function(e,t,n){(function(t){!function(){function n(e){"use strict";for(var t={fill:0},o=function(e){for(e+=9;e%64>0;e+=1);return e},a=function(e,t){var n=new Uint8Array(e.buffer),r=t%4,i=t-r;switch(r){case 0:n[i+3]=0;case 1:n[i+2]=0;case 2:n[i+1]=0;case 3:n[i+0]=0}for(var o=1+(t>>2);o<e.length;o++)e[o]=0},s=function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[14+(2+(t>>2)&-16)]=n/(1<<29)|0,e[15+(2+(t>>2)&-16)]=n<<3},u=function(e,t,n,r,i){var o,a=this,s=i%4,u=(r+s)%4,c=r-u;switch(s){case 0:e[i]=a.charCodeAt(n+3);case 1:e[i+1-(s<<1)|0]=a.charCodeAt(n+2);case 2:e[i+2-(s<<1)|0]=a.charCodeAt(n+1);case 3:e[i+3-(s<<1)|0]=a.charCodeAt(n)}if(!(r<u+s)){for(o=4-s;o<c;o=o+4|0)t[i+o>>2]=a.charCodeAt(n+o)<<24|a.charCodeAt(n+o+1)<<16|a.charCodeAt(n+o+2)<<8|a.charCodeAt(n+o+3);switch(u){case 3:e[i+c+1|0]=a.charCodeAt(n+c+2);case 2:e[i+c+2|0]=a.charCodeAt(n+c+1);case 1:e[i+c+3|0]=a.charCodeAt(n+c)}}},c=function(e,t,n,r,i){var o,a=this,s=i%4,u=(r+s)%4,c=r-u;switch(s){case 0:e[i]=a[n+3];case 1:e[i+1-(s<<1)|0]=a[n+2];case 2:e[i+2-(s<<1)|0]=a[n+1];case 3:e[i+3-(s<<1)|0]=a[n]}if(!(r<u+s)){for(o=4-s;o<c;o=o+4|0)t[i+o>>2|0]=a[n+o]<<24|a[n+o+1]<<16|a[n+o+2]<<8|a[n+o+3];switch(u){case 3:e[i+c+1|0]=a[n+c+2];case 2:e[i+c+2|0]=a[n+c+1];case 1:e[i+c+3|0]=a[n+c]}}},l=function(e,t,n,r,o){var a,s=this,u=o%4,c=(r+u)%4,l=r-c,f=new Uint8Array(i.readAsArrayBuffer(s.slice(n,n+r)));switch(u){case 0:e[o]=f[3];case 1:e[o+1-(u<<1)|0]=f[2];case 2:e[o+2-(u<<1)|0]=f[1];case 3:e[o+3-(u<<1)|0]=f[0]}if(!(r<c+u)){for(a=4-u;a<l;a=a+4|0)t[o+a>>2|0]=f[a]<<24|f[a+1]<<16|f[a+2]<<8|f[a+3];switch(c){case 3:e[o+l+1|0]=f[l+2];case 2:e[o+l+2|0]=f[l+1];case 1:e[o+l+3|0]=f[l]}}},f=function(e){switch(r.getDataType(e)){case"string":return u.bind(e);case"array":case"buffer":return c.bind(e);case"arraybuffer":return c.bind(new Uint8Array(e));case"view":return c.bind(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));case"blob":return l.bind(e)}},d=new Array(256),p=0;p<256;p++)d[p]=(p<16?"0":"")+p.toString(16);var h=function(e){for(var t=new Uint8Array(e),n=new Array(e.byteLength),r=0;r<n.length;r++)n[r]=d[t[r]];return n.join("")},v=function(e){var t;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t};!function(e){if(e%64>0)throw new Error("Chunk size must be a multiple of 128 bit");t.offset=0,t.maxChunkLen=e,t.padMaxChunkLen=o(e),t.heap=new ArrayBuffer(v(t.padMaxChunkLen+320+20)),t.h32=new Int32Array(t.heap),t.h8=new Int8Array(t.heap),t.core=new n._core({Int32Array:Int32Array,DataView:DataView},{},t.heap),t.buffer=null}(e||65536);var m=function(e,n){t.offset=0;var r=new Int32Array(e,n+320,5);r[0]=1732584193,r[1]=-271733879,r[2]=-1732584194,r[3]=271733878,r[4]=-1009589776},y=function(e,n){var r=o(e),i=new Int32Array(t.heap,0,r>>2);return a(i,e),s(i,e,n),r},g=function(e,n,r,i){f(e)(t.h8,t.h32,n,r,i||0)},b=function(e,n,r,i,o){var a=r;g(e,n,r),o&&(a=y(r,i)),t.core.hash(a,t.padMaxChunkLen)},_=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),i=new DataView(r.buffer);return i.setInt32(0,n[0],!1),i.setInt32(4,n[1],!1),i.setInt32(8,n[2],!1),i.setInt32(12,n[3],!1),i.setInt32(16,n[4],!1),r},w=this.rawDigest=function(e){var n=e.byteLength||e.length||e.size||0;m(t.heap,t.padMaxChunkLen);var r=0,i=t.maxChunkLen;for(r=0;n>r+i;r+=i)b(e,r,i,n,!1);return b(e,r,n-r,n,!0),_(t.heap,t.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(e){return h(w(e).buffer)},this.resetState=function(){return m(t.heap,t.padMaxChunkLen),this},this.append=function(e){var n,r=0,i=e.byteLength||e.length||e.size||0,o=t.offset%t.maxChunkLen;for(t.offset+=i;r<i;)n=Math.min(i-r,t.maxChunkLen-o),g(e,r,n,o),o+=n,r+=n,o===t.maxChunkLen&&(t.core.hash(t.maxChunkLen,t.padMaxChunkLen),o=0);return this},this.getState=function(){var e,n=t.offset%t.maxChunkLen;if(n)e=t.heap.slice(0);else{var r=new Int32Array(t.heap,t.padMaxChunkLen+320,5);e=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}return{offset:t.offset,heap:e}},this.setState=function(e){return t.offset=e.offset,20===e.heap.byteLength?new Int32Array(t.heap,t.padMaxChunkLen+320,5).set(new Int32Array(e.heap)):t.h32.set(new Int32Array(e.heap)),this};var x=this.rawEnd=function(){var e=t.offset,n=e%t.maxChunkLen,r=y(n,e);t.core.hash(r,t.padMaxChunkLen);var i=_(t.heap,t.padMaxChunkLen);return m(t.heap,t.padMaxChunkLen),i};this.end=function(){return h(x().buffer)}}var r={getDataType:function(e){if("string"==typeof e)return"string";if(e instanceof Array)return"array";if(void 0!==t&&t.Buffer&&t.Buffer.isBuffer(e))return"buffer";if(e instanceof ArrayBuffer)return"arraybuffer";if(e.buffer instanceof ArrayBuffer)return"view";if(e instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};if(n._core=function(e,t,n){"use asm";var r=new e.Int32Array(n);function i(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=0,d=0,p=0,h=0,v=0,m=0;o=r[t+320>>2]|0;s=r[t+324>>2]|0;c=r[t+328>>2]|0;f=r[t+332>>2]|0;p=r[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){a=o;u=s;l=c;d=f;h=p;for(i=0;(i|0)<64;i=i+4|0){m=r[n+i>>2]|0;v=((o<<5|o>>>27)+(s&c|~s&f)|0)+((m+p|0)+1518500249|0)|0;p=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[e+i>>2]=m}for(i=e+64|0;(i|0)<(e+80|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s&c|~s&f)|0)+((m+p|0)+1518500249|0)|0;p=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}for(i=e+80|0;(i|0)<(e+160|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s^c^f)|0)+((m+p|0)+1859775393|0)|0;p=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}for(i=e+160|0;(i|0)<(e+240|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s&c|s&f|c&f)|0)+((m+p|0)-1894007588|0)|0;p=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}for(i=e+240|0;(i|0)<(e+320|0);i=i+4|0){m=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;v=((o<<5|o>>>27)+(s^c^f)|0)+((m+p|0)-899497514|0)|0;p=f;f=c;c=s<<30|s>>>2;s=o;o=v;r[i>>2]=m}o=o+a|0;s=s+u|0;c=c+l|0;f=f+d|0;p=p+h|0}r[t+320>>2]=o;r[t+324>>2]=s;r[t+328>>2]=c;r[t+332>>2]=f;r[t+336>>2]=p}return{hash:i}},e.exports=n,"undefined"!=typeof FileReaderSync){var i=new FileReaderSync,o=function(e,t,n){try{return n(null,e.digest(t))}catch(e){return n(e)}},a=function(e,t,n,r,i){var o=new self.FileReader;o.onloadend=function(){var s=o.result;t+=o.result.byteLength;try{e.append(s)}catch(e){return void i(e)}t<r.size?a(e,t,n,r,i):i(null,e.end())},o.readAsArrayBuffer(r.slice(t,t+n))};self.onmessage=function(e){var t=e.data.data,r=e.data.file,i=e.data.id;if(void 0!==i&&(r||t)){var s=e.data.blockSize||4194304,u=new n(s);u.resetState();var c=function(e,t){e?self.postMessage({id:i,error:e.name}):self.postMessage({id:i,hash:t})};t&&o(u,t,c),r&&a(u,0,s,r,c)}}}}()}).call(t,n(52))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(266),c=function(){function e(t){(0,o.default)(this,e),this.workers=[],this.jobs={};for(var n=0;n<t;++n)this.workers.push(this.createWorker())}return(0,s.default)(e,[{key:"hash",value:function(e){this.calculateHashInWorker(e)}},{key:"createWorker",value:function(){var e=this,t=new Blob([u]),n=URL.createObjectURL(t),r=new Worker(n),i={worker:r,activeJobs:0};return r.addEventListener("message",function(t){e.handleWorkerMessage(t,i)}),i}},{key:"handleWorkerMessage",value:function(e,t){var n=e.data.id,r=this.jobs[n];r&&(delete this.jobs[n],t.activeJobs--,e.data.error?this.calculateHashInWorker(r):(r.hash=e.data.hash,r.preprocessFinished()))}},{key:"calculateHashInWorker",value:function(e){var t=e.fileObj.file,n=t.slice(e.startByte,e.endByte),r=e.fileObj.fileName+e.fileObjSize+e.startByte;this.jobs[r]=e;var i=this.getWorker();this.dispatch(r,i,n)}},{key:"dispatch",value:function(e,t,n){t.activeJobs++;var r=t.worker;if(navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")){var i=new FileReader;return i.onload=function(){r.postMessage({id:e,data:i.result})},void i.readAsBinaryString(n)}r.postMessage({id:e,data:n})}},{key:"getWorker",value:function(){return this.workers.reduce(function(e,t){return t.activeJobs<e.activeJobs?t:e},this.workers[0])}}]),e}();t.WorkerHasher=c},function(e,t){e.exports="(function () {\n    var /*\n * Rusha, a JavaScript implementation of the Secure Hash Algorithm, SHA-1,\n * as defined in FIPS PUB 180-1, tuned for high performance with large inputs.\n * (http://github.com/srijs/rusha)\n *\n * Inspired by Paul Johnstons implementation (http://pajhome.org.uk/crypt/md5).\n *\n * Copyright (c) 2013 Sam Rijs (http://awesam.de).\n * Released under the terms of the MIT license as follows:\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n    util = {\n        getDataType: function (data) {\n            if (typeof data === 'string') {\n                return 'string';\n            }\n            if (data instanceof Array) {\n                return 'array';\n            }\n            if (typeof global !== 'undefined' && global.Buffer && global.Buffer.isBuffer(data)) {\n                return 'buffer';\n            }\n            if (data instanceof ArrayBuffer) {\n                return 'arraybuffer';\n            }\n            if (data.buffer instanceof ArrayBuffer) {\n                return 'view';\n            }\n            if (data instanceof Blob) {\n                return 'blob';\n            }\n            throw new Error('Unsupported data type.');\n        }\n    };\n    function Rusha(chunkSize) {\n        'use strict';\n        var // Private object structure.\n        self$2 = { fill: 0 };\n        var // Calculate the length of buffer that the sha1 routine uses\n        // including the padding.\n        padlen = function (len) {\n            for (len += 9; len % 64 > 0; len += 1);\n            return len;\n        };\n        var padZeroes = function (bin, len) {\n            var h8 = new Uint8Array(bin.buffer);\n            var om = len % 4, align = len - om;\n            switch (om) {\n            case 0:\n                h8[align + 3] = 0;\n            case 1:\n                h8[align + 2] = 0;\n            case 2:\n                h8[align + 1] = 0;\n            case 3:\n                h8[align + 0] = 0;\n            }\n            for (var i$2 = (len >> 2) + 1; i$2 < bin.length; i$2++)\n                bin[i$2] = 0;\n        };\n        var padData = function (bin, chunkLen, msgLen) {\n            bin[chunkLen >> 2] |= 128 << 24 - (chunkLen % 4 << 3);\n            // To support msgLen >= 2 GiB, use a float division when computing the\n            // high 32-bits of the big-endian message length in bits.\n            bin[((chunkLen >> 2) + 2 & ~15) + 14] = msgLen / (1 << 29) | 0;\n            bin[((chunkLen >> 2) + 2 & ~15) + 15] = msgLen << 3;\n        };\n        var // Convert a binary string and write it to the heap.\n        // A binary string is expected to only contain char codes < 256.\n        convStr = function (H8, H32, start, len, off) {\n            var str = this, i$2, om = off % 4, lm = (len + om) % 4, j = len - lm;\n            switch (om) {\n            case 0:\n                H8[off] = str.charCodeAt(start + 3);\n            case 1:\n                H8[off + 1 - (om << 1) | 0] = str.charCodeAt(start + 2);\n            case 2:\n                H8[off + 2 - (om << 1) | 0] = str.charCodeAt(start + 1);\n            case 3:\n                H8[off + 3 - (om << 1) | 0] = str.charCodeAt(start);\n            }\n            if (len < lm + om) {\n                return;\n            }\n            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 + 4 | 0) {\n                H32[off + i$2 >> 2] = str.charCodeAt(start + i$2) << 24 | str.charCodeAt(start + i$2 + 1) << 16 | str.charCodeAt(start + i$2 + 2) << 8 | str.charCodeAt(start + i$2 + 3);\n            }\n            switch (lm) {\n            case 3:\n                H8[off + j + 1 | 0] = str.charCodeAt(start + j + 2);\n            case 2:\n                H8[off + j + 2 | 0] = str.charCodeAt(start + j + 1);\n            case 1:\n                H8[off + j + 3 | 0] = str.charCodeAt(start + j);\n            }\n        };\n        var // Convert a buffer or array and write it to the heap.\n        // The buffer or array is expected to only contain elements < 256.\n        convBuf = function (H8, H32, start, len, off) {\n            var buf = this, i$2, om = off % 4, lm = (len + om) % 4, j = len - lm;\n            switch (om) {\n            case 0:\n                H8[off] = buf[start + 3];\n            case 1:\n                H8[off + 1 - (om << 1) | 0] = buf[start + 2];\n            case 2:\n                H8[off + 2 - (om << 1) | 0] = buf[start + 1];\n            case 3:\n                H8[off + 3 - (om << 1) | 0] = buf[start];\n            }\n            if (len < lm + om) {\n                return;\n            }\n            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 + 4 | 0) {\n                H32[off + i$2 >> 2 | 0] = buf[start + i$2] << 24 | buf[start + i$2 + 1] << 16 | buf[start + i$2 + 2] << 8 | buf[start + i$2 + 3];\n            }\n            switch (lm) {\n            case 3:\n                H8[off + j + 1 | 0] = buf[start + j + 2];\n            case 2:\n                H8[off + j + 2 | 0] = buf[start + j + 1];\n            case 1:\n                H8[off + j + 3 | 0] = buf[start + j];\n            }\n        };\n        var convBlob = function (H8, H32, start, len, off) {\n            var blob = this, i$2, om = off % 4, lm = (len + om) % 4, j = len - lm;\n            var buf = new Uint8Array(reader.readAsArrayBuffer(blob.slice(start, start + len)));\n            switch (om) {\n            case 0:\n                H8[off] = buf[3];\n            case 1:\n                H8[off + 1 - (om << 1) | 0] = buf[2];\n            case 2:\n                H8[off + 2 - (om << 1) | 0] = buf[1];\n            case 3:\n                H8[off + 3 - (om << 1) | 0] = buf[0];\n            }\n            if (len < lm + om) {\n                return;\n            }\n            for (i$2 = 4 - om; i$2 < j; i$2 = i$2 + 4 | 0) {\n                H32[off + i$2 >> 2 | 0] = buf[i$2] << 24 | buf[i$2 + 1] << 16 | buf[i$2 + 2] << 8 | buf[i$2 + 3];\n            }\n            switch (lm) {\n            case 3:\n                H8[off + j + 1 | 0] = buf[j + 2];\n            case 2:\n                H8[off + j + 2 | 0] = buf[j + 1];\n            case 1:\n                H8[off + j + 3 | 0] = buf[j];\n            }\n        };\n        var convFn = function (data) {\n            switch (util.getDataType(data)) {\n            case 'string':\n                return convStr.bind(data);\n            case 'array':\n                return convBuf.bind(data);\n            case 'buffer':\n                return convBuf.bind(data);\n            case 'arraybuffer':\n                return convBuf.bind(new Uint8Array(data));\n            case 'view':\n                return convBuf.bind(new Uint8Array(data.buffer, data.byteOffset, data.byteLength));\n            case 'blob':\n                return convBlob.bind(data);\n            }\n        };\n        var slice = function (data, offset) {\n            switch (util.getDataType(data)) {\n            case 'string':\n                return data.slice(offset);\n            case 'array':\n                return data.slice(offset);\n            case 'buffer':\n                return data.slice(offset);\n            case 'arraybuffer':\n                return data.slice(offset);\n            case 'view':\n                return data.buffer.slice(offset);\n            }\n        };\n        var // Precompute 00 - ff strings\n        precomputedHex = new Array(256);\n        for (var i = 0; i < 256; i++) {\n            precomputedHex[i] = (i < 16 ? '0' : '') + i.toString(16);\n        }\n        var // Convert an ArrayBuffer into its hexadecimal string representation.\n        hex = function (arrayBuffer) {\n            var binarray = new Uint8Array(arrayBuffer);\n            var res = new Array(arrayBuffer.byteLength);\n            for (var i$2 = 0; i$2 < res.length; i$2++) {\n                res[i$2] = precomputedHex[binarray[i$2]];\n            }\n            return res.join('');\n        };\n        var ceilHeapSize = function (v) {\n            // The asm.js spec says:\n            // The heap object's byteLength must be either\n            // 2^n for n in [12, 24) or 2^24 * n for n ≥ 1.\n            // Also, byteLengths smaller than 2^16 are deprecated.\n            var p;\n            if (// If v is smaller than 2^16, the smallest possible solution\n                // is 2^16.\n                v <= 65536)\n                return 65536;\n            if (// If v < 2^24, we round up to 2^n,\n                // otherwise we round up to 2^24 * n.\n                v < 16777216) {\n                for (p = 1; p < v; p = p << 1);\n            } else {\n                for (p = 16777216; p < v; p += 16777216);\n            }\n            return p;\n        };\n        var // Initialize the internal data structures to a new capacity.\n        init = function (size) {\n            if (size % 64 > 0) {\n                throw new Error('Chunk size must be a multiple of 128 bit');\n            }\n            self$2.offset = 0;\n            self$2.maxChunkLen = size;\n            self$2.padMaxChunkLen = padlen(size);\n            // The size of the heap is the sum of:\n            // 1. The padded input message size\n            // 2. The extended space the algorithm needs (320 byte)\n            // 3. The 160 bit state the algoritm uses\n            self$2.heap = new ArrayBuffer(ceilHeapSize(self$2.padMaxChunkLen + 320 + 20));\n            self$2.h32 = new Int32Array(self$2.heap);\n            self$2.h8 = new Int8Array(self$2.heap);\n            self$2.core = new Rusha._core({\n                Int32Array: Int32Array,\n                DataView: DataView\n            }, {}, self$2.heap);\n            self$2.buffer = null;\n        };\n        // Iinitializethe datastructures according\n        // to a chunk siyze.\n        init(chunkSize || 64 * 1024);\n        var initState = function (heap, padMsgLen) {\n            self$2.offset = 0;\n            var io = new Int32Array(heap, padMsgLen + 320, 5);\n            io[0] = 1732584193;\n            io[1] = -271733879;\n            io[2] = -1732584194;\n            io[3] = 271733878;\n            io[4] = -1009589776;\n        };\n        var padChunk = function (chunkLen, msgLen) {\n            var padChunkLen = padlen(chunkLen);\n            var view = new Int32Array(self$2.heap, 0, padChunkLen >> 2);\n            padZeroes(view, chunkLen);\n            padData(view, chunkLen, msgLen);\n            return padChunkLen;\n        };\n        var // Write data to the heap.\n        write = function (data, chunkOffset, chunkLen, off) {\n            convFn(data)(self$2.h8, self$2.h32, chunkOffset, chunkLen, off || 0);\n        };\n        var // Initialize and call the RushaCore,\n        // assuming an input buffer of length len * 4.\n        coreCall = function (data, chunkOffset, chunkLen, msgLen, finalize) {\n            var padChunkLen = chunkLen;\n            write(data, chunkOffset, chunkLen);\n            if (finalize) {\n                padChunkLen = padChunk(chunkLen, msgLen);\n            }\n            self$2.core.hash(padChunkLen, self$2.padMaxChunkLen);\n        };\n        var getRawDigest = function (heap, padMaxChunkLen) {\n            var io = new Int32Array(heap, padMaxChunkLen + 320, 5);\n            var out = new Int32Array(5);\n            var arr = new DataView(out.buffer);\n            arr.setInt32(0, io[0], false);\n            arr.setInt32(4, io[1], false);\n            arr.setInt32(8, io[2], false);\n            arr.setInt32(12, io[3], false);\n            arr.setInt32(16, io[4], false);\n            return out;\n        };\n        var // Calculate the hash digest as an array of 5 32bit integers.\n        rawDigest = this.rawDigest = function (str) {\n            var msgLen = str.byteLength || str.length || str.size || 0;\n            initState(self$2.heap, self$2.padMaxChunkLen);\n            var chunkOffset = 0, chunkLen = self$2.maxChunkLen;\n            for (chunkOffset = 0; msgLen > chunkOffset + chunkLen; chunkOffset += chunkLen) {\n                coreCall(str, chunkOffset, chunkLen, msgLen, false);\n            }\n            coreCall(str, chunkOffset, msgLen - chunkOffset, msgLen, true);\n            return getRawDigest(self$2.heap, self$2.padMaxChunkLen);\n        };\n        // The digest and digestFrom* interface returns the hash digest\n        // as a hex string.\n        this.digest = this.digestFromString = this.digestFromBuffer = this.digestFromArrayBuffer = function (str) {\n            return hex(rawDigest(str).buffer);\n        };\n        this.resetState = function () {\n            initState(self$2.heap, self$2.padMaxChunkLen);\n            return this;\n        };\n        this.append = function (chunk) {\n            var chunkOffset = 0;\n            var chunkLen = chunk.byteLength || chunk.length || chunk.size || 0;\n            var turnOffset = self$2.offset % self$2.maxChunkLen;\n            var inputLen;\n            self$2.offset += chunkLen;\n            while (chunkOffset < chunkLen) {\n                inputLen = Math.min(chunkLen - chunkOffset, self$2.maxChunkLen - turnOffset);\n                write(chunk, chunkOffset, inputLen, turnOffset);\n                turnOffset += inputLen;\n                chunkOffset += inputLen;\n                if (turnOffset === self$2.maxChunkLen) {\n                    self$2.core.hash(self$2.maxChunkLen, self$2.padMaxChunkLen);\n                    turnOffset = 0;\n                }\n            }\n            return this;\n        };\n        this.getState = function () {\n            var turnOffset = self$2.offset % self$2.maxChunkLen;\n            var heap;\n            if (!turnOffset) {\n                var io = new Int32Array(self$2.heap, self$2.padMaxChunkLen + 320, 5);\n                heap = io.buffer.slice(io.byteOffset, io.byteOffset + io.byteLength);\n            } else {\n                heap = self$2.heap.slice(0);\n            }\n            return {\n                offset: self$2.offset,\n                heap: heap\n            };\n        };\n        this.setState = function (state) {\n            self$2.offset = state.offset;\n            if (state.heap.byteLength === 20) {\n                var io = new Int32Array(self$2.heap, self$2.padMaxChunkLen + 320, 5);\n                io.set(new Int32Array(state.heap));\n            } else {\n                self$2.h32.set(new Int32Array(state.heap));\n            }\n            return this;\n        };\n        var rawEnd = this.rawEnd = function () {\n            var msgLen = self$2.offset;\n            var chunkLen = msgLen % self$2.maxChunkLen;\n            var padChunkLen = padChunk(chunkLen, msgLen);\n            self$2.core.hash(padChunkLen, self$2.padMaxChunkLen);\n            var result = getRawDigest(self$2.heap, self$2.padMaxChunkLen);\n            initState(self$2.heap, self$2.padMaxChunkLen);\n            return result;\n        };\n        this.end = function () {\n            return hex(rawEnd().buffer);\n        };\n    }\n    ;\n    // The low-level RushCore module provides the heart of Rusha,\n    // a high-speed sha1 implementation working on an Int32Array heap.\n    // At first glance, the implementation seems complicated, however\n    // with the SHA1 spec at hand, it is obvious this almost a textbook\n    // implementation that has a few functions hand-inlined and a few loops\n    // hand-unrolled.\n    Rusha._core = function RushaCore(stdlib, foreign, heap) {\n        'use asm';\n        var H = new stdlib.Int32Array(heap);\n        function hash(k, x) {\n            // k in bytes\n            k = k | 0;\n            x = x | 0;\n            var i = 0, j = 0, y0 = 0, z0 = 0, y1 = 0, z1 = 0, y2 = 0, z2 = 0, y3 = 0, z3 = 0, y4 = 0, z4 = 0, t0 = 0, t1 = 0;\n            y0 = H[x + 320 >> 2] | 0;\n            y1 = H[x + 324 >> 2] | 0;\n            y2 = H[x + 328 >> 2] | 0;\n            y3 = H[x + 332 >> 2] | 0;\n            y4 = H[x + 336 >> 2] | 0;\n            for (i = 0; (i | 0) < (k | 0); i = i + 64 | 0) {\n                z0 = y0;\n                z1 = y1;\n                z2 = y2;\n                z3 = y3;\n                z4 = y4;\n                for (j = 0; (j | 0) < 64; j = j + 4 | 0) {\n                    t1 = H[i + j >> 2] | 0;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | ~y1 & y3) | 0) + ((t1 + y4 | 0) + 1518500249 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[k + j >> 2] = t1;\n                }\n                for (j = k + 64 | 0; (j | 0) < (k + 80 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | ~y1 & y3) | 0) + ((t1 + y4 | 0) + 1518500249 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                for (j = k + 80 | 0; (j | 0) < (k + 160 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 ^ y2 ^ y3) | 0) + ((t1 + y4 | 0) + 1859775393 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                for (j = k + 160 | 0; (j | 0) < (k + 240 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 & y2 | y1 & y3 | y2 & y3) | 0) + ((t1 + y4 | 0) - 1894007588 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                for (j = k + 240 | 0; (j | 0) < (k + 320 | 0); j = j + 4 | 0) {\n                    t1 = (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) << 1 | (H[j - 12 >> 2] ^ H[j - 32 >> 2] ^ H[j - 56 >> 2] ^ H[j - 64 >> 2]) >>> 31;\n                    t0 = ((y0 << 5 | y0 >>> 27) + (y1 ^ y2 ^ y3) | 0) + ((t1 + y4 | 0) - 899497514 | 0) | 0;\n                    y4 = y3;\n                    y3 = y2;\n                    y2 = y1 << 30 | y1 >>> 2;\n                    y1 = y0;\n                    y0 = t0;\n                    H[j >> 2] = t1;\n                }\n                y0 = y0 + z0 | 0;\n                y1 = y1 + z1 | 0;\n                y2 = y2 + z2 | 0;\n                y3 = y3 + z3 | 0;\n                y4 = y4 + z4 | 0;\n            }\n            H[x + 320 >> 2] = y0;\n            H[x + 324 >> 2] = y1;\n            H[x + 328 >> 2] = y2;\n            H[x + 332 >> 2] = y3;\n            H[x + 336 >> 2] = y4;\n        }\n        return { hash: hash };\n    };\n    if (// If we'e running in Node.JS, export a module.\n        typeof module !== 'undefined') {\n        module.exports = Rusha;\n    } else if (// If we're running in a DOM context, export\n        // the Rusha object to toplevel.\n        typeof window !== 'undefined') {\n        window.Rusha = Rusha;\n    }\n    if (// If we're running in a webworker, accept\n        // messages containing a jobid and a buffer\n        // or blob object, and return the hash result.\n        typeof FileReaderSync !== 'undefined') {\n        var reader = new FileReaderSync();\n        var hashData = function hash(hasher, data, cb) {\n            try {\n                return cb(null, hasher.digest(data));\n            } catch (e) {\n                return cb(e);\n            }\n        };\n        var hashFile = function hashArrayBuffer(hasher, readTotal, blockSize, file, cb) {\n            var reader$2 = new self.FileReader();\n            reader$2.onloadend = function onloadend() {\n                var buffer = reader$2.result;\n                readTotal += reader$2.result.byteLength;\n                try {\n                    hasher.append(buffer);\n                } catch (e) {\n                    cb(e);\n                    return;\n                }\n                if (readTotal < file.size) {\n                    hashFile(hasher, readTotal, blockSize, file, cb);\n                } else {\n                    cb(null, hasher.end());\n                }\n            };\n            reader$2.readAsArrayBuffer(file.slice(readTotal, readTotal + blockSize));\n        };\n        self.onmessage = function onMessage(event) {\n            var data = event.data.data, file = event.data.file, id = event.data.id;\n            if (typeof id === 'undefined')\n                return;\n            if (!file && !data)\n                return;\n            var blockSize = event.data.blockSize || 4 * 1024 * 1024;\n            var hasher = new Rusha(blockSize);\n            hasher.resetState();\n            var done = function done$2(err, hash) {\n                if (!err) {\n                    self.postMessage({\n                        id: id,\n                        hash: hash\n                    });\n                } else {\n                    self.postMessage({\n                        id: id,\n                        error: err.name\n                    });\n                }\n            };\n            if (data)\n                hashData(hasher, data, done);\n            if (file)\n                hashFile(hasher, 0, blockSize, file, done);\n        };\n    }\n}());";
},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=function e(t,n){var r=this;(0,i.default)(this,e),this.apiUrl=t,this.authProvider=n,this.clients={},this.getMediaClient=function(e){return r.getStoredClient(e)||r.createNewClient(e)},this.createNewClient=function(e){var t=new o.MediaClient(r.apiUrl,r.authProvider,e);return r.setClient(t,e),t},this.getStoredClient=function(e){return void 0===e?r.clientForAbsentCollection:r.clients[e]},this.setClient=function(e,t){return void 0===t?void(r.clientForAbsentCollection=e):void(r.clients[t]=e)}};t.MediaClientPool=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(51),c=n(83),l=n(269),f=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"createUpload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={httpMethod:"POST",mediaApiMethod:"upload",parameters:{createUpTo:t,safariCacheBuster:u.v4()}};return l.retryTask(function(){return e.call(n,c.addAuthToQueryParameters).then(function(e){var t=e.data;if(0===t.length)throw new Error("No uploads were created");return t})},5,1e3,2)}},{key:"appendChunksToUpload",value:function(e,t,n,r){var i={httpMethod:"PUT",mediaApiMethod:"upload/"+t+"/chunks",data:{chunks:n,offset:r}};return e.call(i)}},{key:"createFileFromUpload",value:function(e,t,n,r,i){var o={httpMethod:"POST",mediaApiMethod:"file/upload",parameters:i?{collection:i}:{},data:{name:t,mimeType:n,uploadId:r}};return e.call(o).then(function(e){return e.data.id})}},{key:"pollForFileMetadata",value:function(e,t,n){var r={httpMethod:"GET",mediaApiMethod:"file/"+t,parameters:n?{collection:n}:{}};return l.retryTask(function(){return e.call(r,c.addAuthToQueryParameters).then(function(e){var t=e.data;if("succeeded"===t.processingStatus||"failed"===t.processingStatus)return t;throw new Error("Processing not finished")})},10,1e3,2)}}]),e}();t.MediaApi=f},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new o.default(function(i,o){!function t(n,a){n>0?e().then(i).catch(function(e){setTimeout(function(){t(n-1,a*r)},a)}):e().then(i).catch(o)}(t,n)})}var i=n(21),o=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(t,"__esModule",{value:!0}),t.retryTask=r},function(e,t){e.exports={baseUrl:"http://localhost:8081",usingVersions:!1,html:{popup:"./html/popup.html",popupInject:"./html/popup/popup.html",dropzone:"./html/dropzone.html",redirectUrl:"./html/link-account-handler/handler.html",userMethodsHelperUrl:"./html/user-methods-helper/helper.html"},version:"11.1.11"}},function(e,t,n){"use strict";var r=n(133),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var o=n(305);t.default=function(e){return new i.default(function(t,n){o.fileToBase64(e).then(function(e){var r=new Image;r.src=e,r.onload=function(){return t({src:r.src,width:r.width,height:r.height})},r.onerror=n})})}},function(e,t,n){n(273),n(274),n(289),n(293),e.exports=n(36).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(275)(!0);n(134)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(84),i=n(85);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){e.exports=!n(37)&&!n(137)(function(){return 7!=Object.defineProperty(n(87)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(56);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(27)},function(e,t,n){"use strict";var r=n(280),i=n(138),o=n(90),a={};n(27)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(28),i=n(281),o=n(142),a=n(89)("IE_PROTO"),s=function(){},u=function(){var e,t=n(87)("iframe"),r=o.length;for(t.style.display="none",n(143).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(55),i=n(28),o=n(282);e.exports=n(37)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(283),i=n(142);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(57),i=n(88),o=n(285)(!1),a=n(89)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(58);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(88),i=n(139),o=n(286);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(84),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(57),i=n(288),o=n(89)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(85);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(290);for(var r=n(13),i=n(27),o=n(38),a=n(8)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(291),i=n(292),o=n(38),a=n(88);e.exports=n(134)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a=n(135),s=n(13),u=n(54),c=n(144),l=n(136),f=n(56),d=n(86),p=n(294),h=n(295),v=n(299),m=n(145).set,y=n(301)(),g=s.TypeError,b=s.process,_=s.Promise,b=s.process,w="process"==c(b),x=function(){},k=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(x,x)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t}catch(e){}}(),P=function(e,t){return e===t||e===_&&t===o},A=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},S=function(e){return P(_,e)?new O(e):new i(e)},O=i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw g("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},I=function(e){try{e()}catch(e){return{error:e}}},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&M(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(g("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){m.call(s,function(){var t,n,r,i=e._v;if(T(e)&&(t=I(function(){w?b.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=w||T(e)?2:1),e._a=void 0,t)throw t.error})},T=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!T(t.promise))return!1;return!0},M=function(e){m.call(s,function(){var t;w?b.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},C=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw g("Promise can't be resolved itself");(t=A(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(C,r,1),u(U,r,1))}catch(e){U.call(r,e)}}):(n._v=e,n._s=1,E(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};k||(_=function(e){p(this,_,"Promise","_h"),d(e),r.call(this);try{e(u(C,this,1),u(U,this,1))}catch(e){U.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(302)(_.prototype,{then:function(e,t){var n=S(v(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),O=function(){var e=new r;this.promise=e,this.resolve=u(C,e,1),this.reject=u(U,e,1)}),l(l.G+l.W+l.F*!k,{Promise:_}),n(90)(_,"Promise"),n(303)("Promise"),o=n(36).Promise,l(l.S+l.F*!k,"Promise",{reject:function(e){var t=S(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(e){if(e instanceof _&&P(e.constructor,this))return e;var t=S(this);return(0,t.resolve)(e),t.promise}}),l(l.S+l.F*!(k&&n(304)(function(e){_.all(e).catch(x)})),"Promise",{all:function(e){var t=this,n=S(t),r=n.resolve,i=n.reject,o=I(function(){var n=[],o=0,a=1;h(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,i=I(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(54),i=n(296),o=n(297),a=n(28),s=n(139),u=n(298),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((m=t?g(a(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(38),i=n(8)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(144),i=n(8)("iterator"),o=n(38);e.exports=n(36).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(28),i=n(86),o=n(8)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(13),i=n(145).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(58)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(27);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(13),i=n(36),o=n(55),a=n(37),s=n(8)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(8)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(133),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.fileToBase64=function(e){return new i.default(function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onabort=function(){return n("abort")},r.onerror=n,r.readAsDataURL(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),p=r(d);Object.defineProperty(t,"__esModule",{value:!0}),n(146);var h=n(48),v=n(25),m=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return i.browseElem=document.createElement("INPUT"),i.browseElem.setAttribute("type","file"),i.browseElem.style.display="none",r.multiple&&i.browseElem.setAttribute("multiple",""),r.fileExtensions&&i.browseElem.setAttribute("accept",r.fileExtensions.join(",")),document.body.appendChild(i.browseElem),i.uploadService.addBrowse(i.browseElem),i.context.trackEvent(new v.MPBrowserLoaded),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"browse",value:function(){this.browseElem.click()}},{key:"teardown",value:function(){var e=this.browseElem.parentNode;e&&e.removeChild(this.browseElem)}}]),t}(h.MediaLocalUpload);t.Browser=m},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,".mediaPickerPopup{display:none;position:fixed;z-index:2147483647;left:0;top:0;width:100%;height:100%;background-color:rgba(9,30,66,.44);transition:opacity .2s;transition-delay:.1s}.mediaPickerPopup .aui-dialog2-header{height:50px!important}.mediaPickerPopup .aui-dialog2-content{padding:0!important;height:100%;position:relative!important;overflow:hidden!important}.mediaPickerPopup .aui-dialog2-content iframe{width:100%;height:100%;border-width:0;position:absolute}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(16),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u),l=n(19),f=r(l),d=n(20),p=r(d);Object.defineProperty(t,"__esModule",{value:!0});var h=n(48),v=n(25),m=n(147),y=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.pasteHandler=function(e){for(var t=e.clipboardData.files,n=0;n<t.length;++n){var i=t[n];r.uploadService.addFile(i)}},r.context.trackEvent(new v.MPClipboardLoaded),r}return(0,p.default)(t,e),(0,c.default)(t,[{key:"activate",value:function(){var e=this;m(function(){e.deactivate(),document.addEventListener("paste",e.pasteHandler,!1)})}},{key:"deactivate",value:function(){document.removeEventListener("paste",this.pasteHandler)}}]),t}(h.MediaLocalUpload);t.Clipboard=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),o=r(i),a=n(16),s=r(a),u=n(0),c=r(u),l=n(1),f=r(l),d=n(19),p=r(d),h=n(20),v=r(h);Object.defineProperty(t,"__esModule",{value:!0}),n(310);var m=n(80),y=n(48),g=n(22),b=n(25),_=n(148),w=n(312),x=function(e){return[].slice.call(e,0)},k=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n));i.onDragOver=function(e){if(e.preventDefault(),i.instance&&t.dragContainsFiles(e)){var n=e.dataTransfer,r=void 0;try{r=n.effectAllowed}catch(e){}n.dropEffect="move"===r||"linkMove"===r?"move":"copy",i.instance.classList.add("active");var o=i.getDraggedItemsLength(n);i.emitDragOver({length:o})}},i.onDragLeave=function(e){i.instance&&(e.preventDefault(),i.instance.classList.remove("active"),i.emitDragLeave())},i.onDrop=function(e){var n=i.instance;n&&t.dragContainsFiles(e)&&(n.classList.remove("active"),i.emit("drop",void 0),i.emitDragLeave())};var o=r;return i.container=o.container||document.body,i.headless=o.headless||!1,i.uiActive=!1,i.context.trackEvent(new b.MPDropzoneLoaded),i}return(0,v.default)(t,e),(0,f.default)(t,[{key:"activate",value:function(){var e=this;return w.whenDomReady.then(function(){if(e.container=e.container||document.body,!e.instance)return e.createInstance()}).then(function(){e.deactivate(),e.container.addEventListener("dragover",e.onDragOver,!1),e.container.addEventListener("dragleave",e.onDragLeave,!1),e.uploadService.addDropzone(e.container)})}},{key:"deactivate",value:function(){this.container.removeEventListener("dragover",this.onDragOver,!1),this.container.removeEventListener("dragleave",this.onDragLeave,!1),this.uploadService.removeDropzone()}},{key:"getDraggedItemsLength",value:function(e){return e.items?x(e.items).filter(function(e){return"file"===e.kind}).length:e.files.length}},{key:"createInstance",value:function(){var e=this;return this.getDropzoneUI().then(function(t){e.instance=t,e.container.appendChild(e.instance),e.uploadService.on("file-dropped",e.onDrop)})}},{key:"getDropzoneUI",value:function(){var e=this;return this.headless?o.default.resolve(document.createElement("DIV")):new o.default(function(t,n){return m.default.get(e.getStaticAssetUrl("dropzone")).then(function(e){t(_.parseHTML(e.data))},function(e){g.handleError("dropzone_load_fail",e),n(e)})})}},{key:"emitDragOver",value:function(e){this.uiActive||(this.uiActive=!0,this.emit("drag-enter",e))}},{key:"emitDragLeave",value:function(){var e=this;this.uiActive&&(this.uiActive=!1,window.setTimeout(function(){e.uiActive||e.emit("drag-leave",void 0)},50))}}],[{key:"dragContainsFiles",value:function(e){var t=e.dataTransfer.types;return x(t).indexOf("Files")>-1}}]),t}(y.MediaLocalUpload);t.Dropzone=k},function(e,t,n){var r=n(311);"string"==typeof r&&(r=[[e.i,r,""]]),n(40)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(39)(),t.push([e.i,".mediaPickerDropzone{position:fixed;left:0;top:0;width:100%;height:0;overflow:hidden;margin:auto;font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;pointer-events:none}@keyframes atlassian-doc{0%{transform:rotate(0deg)}to{transform:rotate(-18deg)}}@keyframes spreadsheet{0%{transform:rotate(0deg)}to{transform:rotate(20deg)}}.mediaPickerDropzone .mp-content{width:100vw;height:100vh}.mediaPickerDropzone .mp-content .mp-circle{transition:width .2s ease,height .2s ease,top .2s ease,left .2s ease;width:0;height:0;transform:scale(1);background-color:#0052cc;border-radius:50%;margin:auto;position:absolute;overflow:hidden;color:#fff;top:50%;left:50%}.mediaPickerDropzone .mp-content .mp-circle .mp-title{font-weight:500;font-size:40px;margin-bottom:20px}.mediaPickerDropzone .mp-content .mp-circle .mp-description{font-size:16px;font-weight:500}.mediaPickerDropzone .mp-content .mp-circle .mp-text{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;left:0;right:0;top:130px;position:absolute;text-align:center}.mediaPickerDropzone .mp-content .mp-circle .mp-text span{display:block}.mediaPickerDropzone .mp-content .mp-circle .mp-fileIcon{width:auto;height:200px;position:absolute;bottom:0;margin:auto;transform-origin:bottom;left:150px}.mediaPickerDropzone.active{height:100%;background-color:hsla(0,0%,100%,.7);position:fixed;z-index:500}.mediaPickerDropzone.active .mp-circle{width:500px;height:500px;top:calc(50% - 250px);left:calc(50% - 250px)}.mediaPickerDropzone.active .mp-circle .mp-iconAtlassianDoc{left:100px;width:183px;height:212px;bottom:-15px;animation:atlassian-doc .75s .2s forwards}.mediaPickerDropzone.active .mp-circle .mp-iconOtherDoc{left:170px;z-index:1;width:173px;height:224px}.mediaPickerDropzone.active .mp-circle .mp-iconPageSpreadsheet{left:250px;animation:spreadsheet .75s .2s forwards}",""])},function(e,t,n){"use strict";var r=n(21),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.whenDomReady=function(){return"complete"===document.readyState?i.default.resolve():new i.default(function(e){window.addEventListener("load",e)})}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.id,n=e.name,r=e.size,i=e.creationDate,o=e.type,a=e.publicId;return new A.MediaFile(t,n,r,i,o,a)}var o=n(21),a=r(o),s=n(50),u=r(s),c=n(16),l=r(c),f=n(0),d=r(f),p=n(1),h=r(p),v=n(19),m=r(v),y=n(20),g=r(y);Object.defineProperty(t,"__esModule",{value:!0}),n(146);var b=n(51),_=n(132),w=n(314),x=n(22),k=n(315),P=n(25),A=n(129),S=n(128),O=n(131),I=n(147),E=n(148),j=n(316);t.USER_RECENTS_COLLECTION="recents";var T=function(e){function t(e,n,r){var i=r.userAuthProvider,o=r.container;(0,d.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.config=n,a.context.trackEvent(new P.MPPopupLoaded),a.uploadParams=(0,u.default)({},O.defaultUploadParams,n.uploadParams),a.userAuthProvider=i,a.container=o||document.body,I(function(){a.init()}),a}return(0,g.default)(t,e),(0,h.default)(t,[{key:"init",value:function(){this.popupReady=!1;var e=b.v4(),t={channelName:e,apiUrl:this.config.apiUrl,redirectUrl:this.getStaticAssetUrl("redirectUrl")};this.instance=this._createInstance(t),this.container.appendChild(this.instance),this.popupIframe=this._createInteractionLayer(e)}},{key:"show",value:function(){var e=this;return this.instance||this.init(),this.config.authProvider({collectionName:this.uploadParams.collection}).then(function(t){return e.popupIframe.setTenant({auth:t,uploadParams:e.uploadParams}),e.popupIframe.resetView(),e._show(),a.default.resolve()})}},{key:"cancel",value:function(e){this.popupIframe.cancelUpload(e)}},{key:"teardown",value:function(){this.instance&&(this.instance.parentNode&&this.instance.parentNode.removeChild(this.instance),delete this.instance),this.localFileBrowser&&this.localFileBrowser.teardown()}},{key:"hide",value:function(){this.instance&&(this.instance.style.display="none"),this.emit("closed",void 0),this.context.trackEvent(new P.MPPopupHidden)}},{key:"setUploadParams",value:function(e){this.uploadParams=(0,u.default)({},O.defaultUploadParams,e)}},{key:"_show",value:function(){this.popupReady&&(this.instance.style.display="block",this.context.trackEvent(new P.MPPopupShown))}},{key:"_createInstance",value:function(e){var t=e.apiUrl,n=e.channelName,r=e.redirectUrl,i="?channelName="+encodeURIComponent(n)+"&apiUrl="+encodeURIComponent(t)+"&redirectUrl="+encodeURIComponent(r);return E.parseHTML('<div class="mediaPickerPopup mpAUI">\n        <section role="dialog" id="demo-dialog" class="aui-layer aui-dialog2 aui-dialog2-large" aria-hidden="false">\n            <div class="aui-dialog2-content">\n                <iframe class="mpApp" src="'+this.getStaticAssetUrl("popupInject")+i+'"></iframe>\n            </div>\n        </section>\n      </div>')}},{key:"_createInteractionLayer",value:function(e){var t=this,n=this.instance.querySelector(".mpApp"),r=n.contentWindow,o=w({window:r,scope:e});this.messageService=new j.PostisMessageService(o),this.messageService.handle("uploadFinalizeReady",function(e){return new a.default(function(n){t.emitUploadFinalizeReady(i(e),function(){return n()})})}),this.messageService.handle("getUserAuth",function(e){return t.userAuthProvider(e)});var s=new k.InteractionLayer(this,o);return s.on("uploadEvent",function(e){switch(e.name){case"upload-start":t.emitUploadStart(i(e.data.file));break;case"upload-status-update":t.emitUploadProgress(i(e.data.file),e.data.progress);break;case"upload-preview-update":var n=e.data,r=n.file,o=n.preview;t.emitUploadPreviewUpdate(i(r),o);break;case"upload-processing":t.emitUploadProcessing(i(e.data.file));break;case"upload-end":t.emitUploadEnd(i(e.data.file),e.data.public);break;case"upload-error":var a=e.data,s=a.file,u=a.error;t.emitUploadError(i(s),new S.MediaError(u.fileId,u.name,u.description)),x.handleError(u.name,u.description)}}),s.on("ready",function(){t.emit("ready",void 0),t.popupReady=!0}),s.initProtocol(),s}}]),t}(_.MPComponent);t.Popup=T},function(e,t){function n(e){var t,n=e.scope,r=e.window,i=e.windowForEventListening||window,o={},a=[],s={},u=!1,c=function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}if(t.postis&&t.scope===n){var r=o[t.method];if(r)for(var i=0;i<r.length;i++)r[i].call(null,t.params);else s[t.method]=s[t.method]||[],s[t.method].push(t.params)}};i.addEventListener("message",c,!1);var l={listen:function(e,t){o[e]=o[e]||[],o[e].push(t);var n=s[e];if(n)for(var r=o[e],i=0;i<r.length;i++)for(var a=0;a<n.length;a++)r[i].call(null,n[a]);delete s[e]},send:function(e){var t=e.method;(u||"__ready__"===e.method)&&r&&"function"==typeof r.postMessage?r.postMessage(JSON.stringify({postis:!0,scope:n,method:t,params:e.params}),"*"):a.push(e)},ready:function(e){u?e():setTimeout(function(){l.ready(e)},50)},destroy:function(e){clearInterval(t),u=!1,i&&"function"==typeof i.removeEventListener&&i.removeEventListener("message",c),e&&e()}},f=+new Date+Math.random()+"";return t=setInterval(function(){l.send({method:"__ready__",params:f})},50),l.listen("__ready__",function(e){if(e===f){clearInterval(t),u=!0;for(var n=0;n<a.length;n++)l.send(a[n]);a=[]}else l.send({method:"__ready__",params:e})}),l}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);Object.defineProperty(t,"__esModule",{value:!0});var u=n(77),c=function(){function e(t,n){(0,o.default)(this,e),this.popup=t,this.channel=n,this.sanitizeUploadParams=function(e){return{collection:e.collection,fetchMetadata:e.fetchMetadata,autoFinalize:e.autoFinalize}},this.emitter=new u.EventEmitter2}return(0,s.default)(e,[{key:"initProtocol",value:function(){var e=this;this.channel.ready(function(){e.channel.listen("hidePopup",function(){e.popup.hide()}),e.channel.listen("showPopup",function(){e.popup.show()}),e.channel.listen("ready",function(){e.emit("ready",void 0)}),e.channel.listen("uploadEvent",function(t){e.emit("uploadEvent",t.event)})})}},{key:"resetView",value:function(){this.channel.send({method:"resetView"})}},{key:"cancelUpload",value:function(e){this.channel.send({method:"cancelUpload",params:{uploadId:e}})}},{key:"setTenant",value:function(e){var t=e.auth,n=e.uploadParams;this.channel.send({method:"setTenant",params:{auth:t,uploadParams:this.sanitizeUploadParams(n)}})}},{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"emit",value:function(e,t){this.emitter.emit(e,t)}}]),e}();t.InteractionLayer=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),o=r(i),a=n(0),s=r(a),u=n(1),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(115);n(317),n(318);var f=n(51),d=function(){function e(t){(0,s.default)(this,e),this.channel=t,this.requests=this.observeChannelRequests(t),this.responses=this.observeChannelResponses(t)}return(0,c.default)(e,[{key:"post",value:function(e){var t=this;return new o.default(function(n,r){var i=f.v4(),o=t.responses.filter(function(e){return e.traceId===i}).subscribe({next:function(e){var t=e.response,i=e.error;i?r(i):n(t),o.unsubscribe()}});t.channel.send({method:"REQUEST",params:{traceId:i,message:e}})})}},{key:"handle",value:function(e,t){var n=this;this.requests.filter(function(t){return t.message.type===e}).subscribe({next:function(e){var r=e.traceId,i=e.message;t(i.payload).then(function(e){n.channel.send({method:"RESPONSE",params:{traceId:r,response:e}})}).catch(function(e){n.channel.send({method:"RESPONSE",params:{traceId:r,error:e}})})}})}},{key:"observeChannelRequests",value:function(e){var t=new l.Subject;return e.ready(function(){e.listen("REQUEST",function(e){t.next(e)})}),t}},{key:"observeChannelResponses",value:function(e){var t=new l.Subject;return e.ready(function(){e.listen("RESPONSE",function(e){t.next(e)})}),t}}]),e}();t.PostisMessageService=d},function(e,t){e.exports=n(52)},function(e,t){e.exports=n(54)}]))},function(e,t){e.exports=require("jira/featureflags/feature-manager")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(59),s=r(a),u=n(63),c=r(u),l=n(64),f=r(l),d=n(66),p=r(d),h=n(71),v=r(h),m=n(74),y=r(m),g=n(77),b=r(g),_=n(62),w=r(_);n(78);var x=(0,c.default)(),k=function(e){return e.ok?e.json():e.text().then(function(t){t=t||"Unexpected error",t="Credentials request failure: "+t+" (http status code: "+e.status+")";var n=new Error(t);throw n.description=t,n})},P=function(e){return[x+"/rest/api/2/attachment/upload/issue/"+e+"/credentials",{credentials:"same-origin"}]},A=function(e){return[x+"/rest/api/2/attachment/upload/project/"+e+"/credentials",{credentials:"same-origin"}]},S=function(e,t){return[x+"/rest/api/2/attachment/upload/issue/"+e,{credentials:"same-origin",method:"POST",body:JSON.stringify({fileId:t}),headers:{"Content-Type":"application/json"}}]},O=function(e,t,n){return[x+"/rest/api/2/attachment/upload/project/"+e,{credentials:"same-origin",method:"POST",body:JSON.stringify({fileId:t,formToken:n}),headers:{"Content-Type":"application/json"}}]},I=function(){return new Request(x+"/rest/internal/latest/media/user/credentials",{credentials:"same-origin"})},E={fetchMetadata:!1,autoFinalize:!0},j=function(e){return Promise.resolve(e).then(F).then(k).then(function(e){var t=e.token,n=e.targetCollection,r=e.tokenDurationInMins;return o({},{token:t,targetCollection:n},isNaN(r)?{}:{tokenDurationInMins:r})})},T=function(e){return Promise.resolve(e).then(fetch).then(k).then(function(e){var t=e.id,n=e.token,r=e.tokenDurationInMins;return o({},{clientId:t,token:n},isNaN(r)?{}:{tokenDurationInMins:r})})},M=function(e){return 60*((e.tokenDurationInMins||10)-1)*1e3},U=(0,b.default)(function(e){return Promise.resolve(e).then(P).then(j)},M),C=(0,b.default)(function(e){return Promise.resolve(e).then(A).then(j)},M),L=(0,b.default)(function(e){return Promise.resolve(e).then(I).then(T)},M),F=function(e){var t=i(e,2),n=t[0],r=t[1];return fetch(n,r)},R=w.default.memoize(function(){return new Promise(function(e){e(s.default.getMediaCredentials())}).then(function(e){if(e&&e.apiClientId)return e.apiClientId;throw new Error("Media clientId is missing or have unexpected format")}).catch(function(e){return Promise.reject({name:"Could not retrieve clientId",description:(0,y.default)(e)})})}),N=function(e){return R().then(function(t){
return C.get(e).then(function(e){return{clientId:t,token:e.token}})}).catch(function(e){v.default.triggerTokenFetchFailed((0,y.default)(e))})};t.default={getClientId:R,getApiUrl:w.default.memoize(function(){return new Promise(function(e){e(s.default.getMediaCredentials())}).then(function(e){if(e&&e.apiUrl)return e.apiUrl;throw new Error("Media apiUrl is missing or have unexpected format")}).catch(function(e){return Promise.reject({name:"Could not retrieve apiUrl",description:(0,y.default)(e)})})}),authProvider:function(){return R().then(function(e){return p.default.getIssueId().then(function(e){return U.get(e)}).then(function(t){return{clientId:e,token:t.token}})}).catch(function(e){v.default.triggerTokenFetchFailed((0,y.default)(e))})},userAuthProvider:function(){return Promise.resolve("userAuth").then(L.get).catch(function(e){v.default.triggerUserAuthFetchFailed((0,y.default)(e))})},temporaryAuthProvider:function(){return f.default.getProjectContext().then(function(e){return N(e)}).catch(function(e){v.default.triggerTokenFetchFailed((0,y.default)(e))})},temporaryAuthProviderGetter:N,getUploadParameters:function(){return p.default.getIssueId().then(function(e){return U.get(e)}).then(function(e){return o({},E,{collection:e.targetCollection})}).catch(function(e){return v.default.triggerUploadParametersFetchFailed((0,y.default)(e)),E})},createAttachment:function(e,t){return Promise.resolve(S(e,t)).then(F).then(k)},createTemporaryAttachment:function(e,t,n){return Promise.resolve(O(e,t,n)).then(F).then(k)},getTemporaryAttachmentUploadParameters:function(e){return Promise.resolve(e).then(C.get).then(function(e){return o({},E,{collection:e.targetCollection})}).catch(function(e){return v.default.triggerUploadParametersFetchFailed((0,y.default)(e)),E})},reset:function(){U.clear()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(60),o=r(i),a=n(61),s=r(a),u=n(62),c=r(u),l="com.atlassian.jira.jira-attachment-plugin:integrate-attachment-upload.integration-configuration",f=["\\","/",'"',":","?","*","<","|",">"],d=o.default.getWRM("upload-limit")||1/0,p=o.default.getWRM("thumbnail-mime-types"),h=c.default.memoize(function(){return s.default.claim(l)});t.default={getInvalidChars:function(){return f},getMaxFileSize:function(){return d},getThumbnailMimeType:function(){return p},getMediaCredentials:function(){var e=h(),t=e.apiUrl,n=e.apiClientId;return{apiUrl:t,apiClientId:n}},areAttachmentsEnabled:function(){return h().attachmentsEnabled===!0}}},function(e,t){e.exports=require("dndattachment/util/Configuration")},function(e,t){e.exports=require("wrm/data")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("wrm/context-path")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i),a={uploadContext:null,projectId:null};t.default={getProjectContext:function(){return a.projectId?Promise.resolve(a.projectId):Promise.reject(new Error("Project id wasn't set"))},getUploadContextName:function(){return a.uploadContext&&a.uploadContext.name},getUploadContextSettings:function(){return a.uploadContext&&a.uploadContext.uploadSettings},install:function(){o.default.subscribe("upload/switch-context",function(e){a.uploadContext=e}),o.default.subscribe("project/changed",function(e){a.projectId=e})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Map;t.default={subscribe:function(e,t){n.has(e)||n.set(e,[]),n.get(e).push(t)},publish:function(e,t){n.has(e)&&n.get(e).forEach(function(e){e(t)})},unsubscribe:function(e){n.forEach(function(t){for(var n=0,r=t.length;n<r;n++)t[n]===e&&(t.splice(n,1),n--)})},reset:function(){n=new Map}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=r(i),a=n(67),s=r(a),u=n(68),c=r(u),l=n(69),f=r(l),d=n(70),p=r(d),h=2e3,v=function(){return new Promise(function(e,t){var n=s.default.getSelectedIssueId(),r=void 0;n?e(n):r=setInterval(function(){n=s.default.getSelectedIssueId(),n&&(clearInterval(r),e(n))},h)})},m=void 0;c.default.bind(f.default.ISSUE_REFRESHED,function(e,t){m=Promise.resolve(t),o.default.publish("issue/changed",t)}),t.default={getIssueId:function(){return m=m||v()},getIssueKey:function(){return s.default.getSelectedIssueKey()},getIssuePermlink:function(){return p.default.get("viewissue-permlink")}}},function(e,t){e.exports=require("jira/issues/api")},function(e,t){e.exports=require("jira/util/events")},function(e,t){e.exports=require("jira/components/issueviewer/eventtypes")},function(e,t){e.exports=require("jira/util/data/meta")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(72),a=r(o),s=n(73),u=r(s),c=n(74),l=r(c),f=n(75),d=r(f),p=n(76),h=r(p),v={stopInitialising:function(e){this.initialising=!1,this.popupInitialised=e},startRequest:function(e){this.requestStartedTime=a.default.current(),this.source=e},getData:function(e){var t=e.error,n=e.fileSize,r=e.uploadId;return{msSinceLastUserAction:a.default.since(this.requestStartedTime),initialising:this.initialising,popupInitialised:this.popupInitialised,source:this.source,error:(0,d.default)(t),fileSize:n,uploadId:r}},reset:function(){this.initialising=!0,this.popupInitialised=!1,this.requestStartedTime=Number.MAX_VALUE}};v.reset();var m=function(e,t){return AJS.trigger("analytics",{name:e,data:t})},y=function(e,t){return m(e,v.getData(t||{}))},g=function(e,t){return m(e,i({},{source:v.source},t))};t.default={triggerPopupInitialized:function(){v.stopInitialising(!0),y("issue.attachment.media-picker.popup-initialized")},triggerUserNotLoggedIn:function(){v.stopInitialising(!1),y("issue.attachment.media-picker.user-not-logged")},triggerPopupError:function(e){y("issue.attachment.media-picker.popup-error",{error:e})},triggerGenericPopupInitialisationError:function(e){y("issue.attachment.media-picker.generic-popup-initialisation-error",{error:e})},triggerAttachRequested:function(e){v.startRequest(e);var t="issue.attachment.media-picker.attach-requested";y(t),h.default.trigger("legacy-gas-v2-event",t)},triggerPopupShown:function(){y("issue.attachment.media-picker.popup-shown")},triggerPopupFailedToShow:function(e){y("issue.attachment.media-picker.popup-failed-to-show",{error:e})},triggerAttachFileBrowserShown:function(){y("issue.attachment.media-picker.browse-shown")},triggerAttachFileBrowserFailedToShow:function(e){y("issue.attachment.media-picker.browse-failed-to-show",{error:e})},triggerInitialisationException:function(e){e=(0,l.default)(e),v.stopInitialising(!1),y("issue.attachment.media-picker.initialisation-exception",{error:e})},triggerFileUploadFinished:function(e){y("issue.attachment.media-picker.file-upload-finished",{uploadId:e})},triggerAttachmentCreatedInJIRA:function(e){y("issue.attachment.media-picker.attachment-created-in-jira",{uploadId:e})},triggerCantCreateAttachmentInJIRA:function(e,t){y("issue.attachment.media-picker.cant-create-attachment-in-jira",{error:e,uploadId:t})},triggerUploadStarted:function(e,t){y("issue.attachment.media-picker.upload-started",{uploadId:e,fileSize:t})},triggerUploadError:function(e,t){y("issue.attachment.media-picker.upload-error",{error:e,uploadId:t})},triggerUploadCancelled:function(e){y("issue.attachment.media-picker.upload-cancelled",{uploadId:e})},triggerUploadValidationFailed:function(e,t){y("issue.attachment.media-picker.upload-validation-failed",{error:e,uploadId:t})},triggerInitializationTimeout:function(){y("issue.attachment.media-picker.initialization-timeout")},triggerTokenFetchFailed:function(e){y("issue.attachment.media-picker.error.token-fetch",{error:e})},triggerUserAuthFetchFailed:function(e){y("issue.attachment.media-picker.popup-error.user-auth-fetch",{error:e})},triggerUploadParametersFetchFailed:function(e){y("issue.attachment.media-picker.error.upload-params-fetch",{error:e})},triggerUploadRequestedWhenNotInitialised:function(){y("issue.attachment.media-picker.upload-request.not-initialised")},triggerBrowserRequestedWhenNotInitialised:function(){y("issue.attachment.media-picker.upload-request.browser.not-initialised")},triggerTemporaryAttachmentCreatedInJIRA:function(e){g("issue.attachment.media-picker.temporary.attachment-created-in-jira",{uploadId:e})},triggerCantCreateTemporaryAttachmentInJIRA:function(e,t){g("issue.attachment.media-picker.temporary.cant-create-attachment-in-jira",{error:e,uploadId:t})},triggerPopupMetrics:function(){var e=i({"dom.loaded":u.default.getDomContentLoadedTiming()},u.default.getMarksForNamespace("attachments.media.components.popup"));AJS.trigger("analytics",{name:"issue.attachment.media-picker.popup-metrics",data:e})},getRequestIdentifier:function(){return v.requestIdentifier},reset:function(){v.reset()}}},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={current:function(){return Math.round(e&&e.performance&&e.performance.now())},since:function(e){return Math.round(this.current()-e)},schedule:function(e,t){return setTimeout(e,t)},cancel:function(e){clearTimeout(e)}}}).call(t,n(6))},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mark:function(t){return e&&e.performance&&e.performance.mark(t)},getMarksForNamespace:function(t){var n={};if(e&&e.performance){e.performance.getEntriesByType("mark").filter(function(e){return 0===e.name.indexOf(t)}).forEach(function(e){var t=e.name,r=e.startTime;return n[t]=parseInt(r,10)})}return n},getDomContentLoadedTiming:function(){var t=e&&e.performance&&e.performance.timing;return t?parseInt(t.domContentLoadedEventStart-t.navigationStart,10):0}}}).call(t,n(6))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(e){return"undefined"!=typeof e},i=function(e){return r(e.config)&&r(e.config.headers)&&r(e.response)&&r(e.response.config)&&r(e.response.config.headers)};t.default=function(e){if(r(e.name)&&r(e.message))return e.toString();if(r(e.name)&&r(e.description))return e.name+": "+e.description;if(r(e.message))return e.message;if("string"==typeof e)return e;if(i(e)){var t=n({},e);return delete t.config.headers.Authorization,delete t.response.config.headers.Authorization,""+e}return""+e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&e.indexOf("Authorization")!==-1?"Error sanitized":e}},function(e,t){e.exports=require("jira/customevents/trigger-custom-event")},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1},n=new Map;return{get:function(i){if(!n.has(i)){var o=e(i).then(function(e){var o=t(e);return o&&setTimeout(function(){return r(n,i)},o),e}).catch(function(e){throw r(n,i),e});n.set(i,o)}return n.get(i)},clear:function(){n.clear()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=function(e,t){return e.has(t)&&e.delete(t)}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];m.redirect=function(e,t){if(x.indexOf(t)===-1)throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&y.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.on("upload-start",function(e){return u.default.publish(f+"new",e)}),e.on("upload-preview-update",function(e){return u.default.publish(f+"preview",e)}),e.on("upload-status-update",function(e){return u.default.publish(f+"progress",e)}),e.on("upload-error",function(e){return u.default.publish(f+"error",e)}),e.on("upload-processing",function(e){return u.default.publish(f+"done",e)}),e.on("upload-end",function(e){return u.default.publish(f+"done",e)}),u.default.subscribe(f+"cancel",function(t){e.cancel&&e.cancel(t)}),e}function o(e){return u.default.subscribe("issue/changed",function(t){l.default.getUploadParameters().then(e.setUploadParams.bind(e))}),e}function a(e){return u.default.subscribe("project/changed",function(t){l.default.getTemporaryAttachmentUploadParameters(t).then(e.setUploadParams.bind(e))}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.connect=i,t.connectToIssueChanges=o,t.connectToProjectChanges=a;var s=n(65),u=r(s),c=n(58),l=r(c),f="upload/"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),a=n(71),s=r(a),u=n(65),c=r(u),l=n(74),f=r(l);t.default=function(e,t,n,r,a){var u="create-issue/drop-zone",l=(0,o.temporaryAttachmentDropzone)(e,r).then(function(e){return e.on("drop",function(){s.default.triggerAttachRequested(u)}),e}),d=!1;return{activate:function(){return l.then(function(r){d||(d=!0,r.activate(),c.default.publish("upload/switch-context",{name:u,uploadSettings:i({},{projectId:e,formToken:t,panelNode:n},a)}),c.default.publish("project/changed",e))})},deactivate:function(){return l.then(function(e){d&&(e.deactivate(),d=!1)})},drop:function(){return l.catch(function(e){s.default.triggerInitialisationException((0,f.default)(e)),c.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(82),o=r(i),a=n(74),s=r(a),u=n(71),c=r(u),l=n(65),f=r(l),d=n(85),p=r(d),h="jira.issue.media-picker.show",v={blockWikiEditorMarkupInsert:!1},m=void 0,y=function(e){var t="view-issue/"+e;return(0,o.default)().then(function(e){m=e}).catch(function(e){c.default.triggerInitialisationException((0,s.default)(e))}),function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;n&&n.preventDefault(),p.default.start({key:h,isInitial:!1,threshold:250}),c.default.triggerAttachRequested(e),m?m.show().then(function(){return p.default.end({key:h})}).then(function(){return f.default.publish("upload/switch-context",{name:t,uploadSettings:r})}).catch(function(){f.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")}):c.default.triggerUploadRequestedWhenNotInitialised()}};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(83),a=r(o),s=n(84),u=r(s),c=n(62),l=r(c),f=function(){return u.default.then(function(){return new a.default(i.popup,i.browser)})};t.default=l.default.memoize(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(71),u=r(s),c=n(74),l=r(c),f=n(58),d=r(f),p=function(){function e(t,n){var r=this;i(this,e);var o=d.default.userAuthProvider;o().then(function(e){e?r.componentPromise=t(o).then(function(e){return[e,"popup"]}).catch(function(e){return e.logged||u.default.triggerGenericPopupInitialisationError((0,l.default)(e)),n().then(function(e){return[e,"browser"]})}).then(r.handleComponentInitSuccess.bind(r)).catch(r.handleComponentInitFailure.bind(r)):r.componentPromise=r.initializeBrowser.call(r,n)})}return a(e,[{key:"initializeBrowser",value:function(e){return e().then(function(e){return[e,"browser"]}).then(this.handleComponentInitSuccess.bind(this)).catch(this.handleComponentInitFailure.bind(this))}},{key:"handleComponentInitSuccess",value:function(e){var t=o(e,2),n=t[0],r=t[1];return this.mediaComponent=n,this.componentType=r,[n,r]}},{key:"handleComponentInitFailure",value:function(e){u.default.triggerInitialisationException((0,l.default)(e)),this.componentType="none"}},{key:"show",value:function(){var e=this;switch(this.componentType){case"browser":return this.showBrowser();case"popup":return this.showPopup();case"none":return Promise.reject("Component initialisation error");default:return d.default.userAuthProvider().then(function(){return e.componentPromise}).then(function(){return"popup"===e.componentType?e.showPopup():(u.default.triggerBrowserRequestedWhenNotInitialised(),Promise.resolve())})}}},{key:"showPopup",value:function(){return this.mediaComponent.show().then(function(){return u.default.triggerPopupShown()}).catch(function(e){return u.default.triggerPopupFailedToShow((0,l.default)(e)),Promise.reject(e)})}},{key:"showBrowser",value:function(){var e=this;return new Promise(function(t,n){try{e.mediaComponent.browse(),u.default.triggerAttachFileBrowserShown(),t()}catch(e){u.default.triggerAttachFileBrowserFailedToShow((0,l.default)(e)),n(e)}})}}]),e}();t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Promise(function(e,t){"undefined"==typeof document?t("Document is not available"):/^loaded|^interactive|^complete/.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",function(t){return e()})})},function(e,t){e.exports=require("internal/browser-metrics")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return _||(0,u.default)(e).then(function(e){_=e}).catch(function(e){d.default.triggerInitialisationException((0,l.default)(e))}),h.default.publish("project/changed",e),function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return r&&r.preventDefault(),m.default.start({key:y,isInitial:!1,threshold:250}),d.default.triggerAttachRequested(g),_?(i=a({},i,{projectId:e,formToken:t,panelNode:n}),h.default.publish("project/changed",e),_.show().then(function(){return m.default.end({key:y})}).then(function(){return h.default.publish("upload/switch-context",{name:g,uploadSettings:i})}).catch(function(){h.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})):void d.default.triggerUploadRequestedWhenNotInitialised()}}function o(){_=null}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i,t.resetMediaComponent=o;var s=n(87),u=r(s),c=n(74),l=r(c),f=n(71),d=r(f),p=n(65),h=r(p),v=n(85),m=r(v),y="jira.create.issue.media-picker.show",g="create-issue/link",b={blockWikiEditorMarkupInsert:!1},_=void 0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(83),a=r(o),s=n(84),u=r(s),c=n(62),l=r(c),f=function(e){var t=(0,i.temporaryAttachmentPopup)(e),n=(0,i.temporaryAttachmentBrowser)(e);return u.default.then(function(){return new a.default(t,n)})};t.default=l.default.memoize(f)},function(e,t){e.exports=require("dndattachment/integration-register")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(58),a=r(o),s=n(90),u=r(s),c=n(71),l=r(c),f=n(74),d=r(f),p=n(91),h=r(p);t.default=function(e,t,n,r){var o="view-issue/attach-screenshot",s=h.default.Deferred();(0,i.binary)(e).then(function(t){return t.on("upload-start",function(e){s.notify("init"),l.default.triggerUploadStarted(e.file.id,e.file.size)}),t.on("upload-status-update",function(e){s.notify({loaded:e.progress.absolute,total:e.progress.max})}),t.on("upload-end",function(t){return a.default.createTemporaryAttachment(e,t.file.publicId,r).then(function(e){s.resolve({id:e.attachmentId})})}),t.on("upload-processing",function(e){s.notify({loaded:e.absolute,total:e.max})}),t.on("upload-error",function(e){s.reject(null,e.name,e.description,{}),l.default.triggerUploadError(e.name,e.fileId)}),t}).then(function(e){return l.default.triggerAttachRequested(o),(0,u.default)(t).then(function(t){e.upload(t,n)})}).catch(function(e){return l.default.triggerInitialisationException((0,d.default)(e))});return s}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(){n(this)},r.readAsDataURL(e)})}},function(e,t){e.exports=require("jquery")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),a=n(90),s=r(a),u=n(65),c=r(u),l=n(71),f=r(l),d=n(74),p=r(d),h={blockWikiEditorMarkupInsert:!0},v=function(e,t,n){var r="create-issue/attach-screenshot",a=(0,o.connectedTemporaryBinary)(e).catch(function(e){f.default.triggerInitialisationException((0,p.default)(e))});return function(o){return a.then(function(a){return(0,s.default)(o).then(function(s){f.default.triggerAttachRequested(r),c.default.publish("project/changed",e),c.default.publish("upload/switch-context",{name:r,uploadSettings:i({},{projectId:e,formToken:t,panelNode:n},h)}),a.upload(s,o.name)})}).catch(function(){c.default.publish("media/error","Attachment upload setup failed. Try refreshing a page or contact Support.")})}};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(65),a=r(o),s=n(94),u=r(s),c=n(111),l=r(c);n(78),t.default=function(){a.default.subscribe("upload/new",function(e){var t=e.file;u.default.startUpload(t)}),a.default.subscribe("upload/preview",function(e){var t=e.file,n=e.preview,r=l.default.decodeBase64DataUri(n.src),i=new Blob([r],{type:t.type});i.name=t.name,u.default.updatePreview(t,i)}),a.default.subscribe("upload/progress",function(e){var t=e.file,n=e.progress;u.default.progress(t,n)}),a.default.subscribe("upload/error",function(e){var t=e.error;t.isMediaError=!0,u.default.error(t)}),a.default.subscribe("upload/done",function(e){var t=e.file.publicId?e.file:i({},e.file,{publicId:e.public.id});u.default.done(t)}),a.default.subscribe("media/error",u.default.globalError)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(95),s=r(a),u=n(101),c=r(u),l=n(103),f=r(l),d=n(104),p=r(d),h=n(66),v=r(h),m=n(64),y=r(m),g=n(58),b=r(g),_=n(106),w=r(_),x=n(65),k=r(x),P=n(107),A=r(P),S=n(71),O=r(S),I=n(109),E=r(I),j=n(110),T=r(j),M=new Map,U=function(e){return e&&0===e.indexOf("create-issue")};t.default={startUpload:function(e){var t=y.default.getUploadContextSettings()||{blockWikiEditorMarkupInsert:!1};O.default.triggerUploadStarted(e.id,e.size);var n=this._createUpload(e);M.set(e.id,n),t.onFileUploadStarted&&t.onFileUploadStarted.call(e,e),n.then(function(e){var t=e.view,n=e.uploadContext,r=e.uploadSettings;U(n)?f.default.insertUpload(r.panelNode,t.$node):c.default.insertUpload(t.$node)}),this._validate(e)},updatePreview:function(e,t){t&&M.get(e.id)&&M.get(e.id).then(function(e){
e.preview=t,e.view.loadThumbnail(t)})},progress:function(e,t){M.get(e.id)&&M.get(e.id).then(function(e){var n=e.view;return n.progress(t.portion)})},error:function(e){e.fileId&&M.get(e.fileId)&&M.get(e.fileId).then(function(t){var n=t.view,r=t.file,i=t.uploadContext,o=t.uploadSettings;e.logged||O.default.triggerUploadError(e.description,e.fileId),e.isMediaError&&(e.description="We could not connect to the file storage service. Please try again in a moment."),n.fail(e),U(i)||c.default.uploadError(r.name,e.description,function(){n.destroy(),M.delete(r.id)}),o.onFileUploadFinished&&o.onFileUploadFinished.call(r,r)})},globalError:function(e){c.default.globalError(e)},done:function(e){var t=this;O.default.triggerFileUploadFinished(e.id),M.get(e.id).then(function(n){var r=n.view,i=n.uploadContext,o=n.uploadSettings;return r.done(),U(i)?t.createTemporaryAttachment(e,o):t.createAttachment(o.issueId,e)})},createTemporaryAttachment:function(e,t){var n=this;Promise.all([t.projectId,t.formToken]).then(function(t){var n=o(t,2),r=n[0],i=n[1];if(!r||!i)throw new Error("Missing form data associated with upload");return b.default.createTemporaryAttachment(r,e.publicId,i)}).then(this.temporaryAttachmentCreated.bind(this,e)).catch(function(t){var r=t.message;O.default.triggerCantCreateTemporaryAttachmentInJIRA(r,e.id),n.error({fileId:e.id,description:r||"Couldn't create attachment"})})},createAttachment:function(e,t){var n=this;b.default.createAttachment(e,t.publicId).then(this.attachmentCreated.bind(this,t)).catch(function(e){var r=e.message;O.default.triggerCantCreateAttachmentInJIRA(r,t.id),n.error({fileId:t.id,description:r||"Couldn't create attachment"})})},attachmentCreated:function(e,t){var n=this;M.get(e.id).then(function(r){var i=r.view,o=r.wikiFieldsContext,a=r.issueLinkHTML,s=r.uploadSettings;O.default.triggerAttachmentCreatedInJIRA(e.id),n.updateViewWithCreatedAttachment(e,t,i,s.issueId,o),c.default.notifyUserOfCreatedAttachment(e,a),M.delete(e.id)})},temporaryAttachmentCreated:function(e,t){var n=this;M.get(e.id).then(function(e){var r=e.view,i=e.wikiFieldsContext,o=e.uploadSettings,a=e.preview,s=e.file;O.default.triggerTemporaryAttachmentCreatedInJIRA(s.id),n.addAttachmentToDndStore(t.attachmentId,s,a),r.attachmentCreated(t.attachmentId),i.isWikiFieldFocused&&A.default.insertWikiMarkup(i.focusedField,s.name),o.onFileUploadFinished&&o.onFileUploadFinished.call(s,s),M.delete(s.id)})},addAttachmentToDndStore:function(e,t,n){return T.default.putAttachment(e,n?n:t)},updateViewWithCreatedAttachment:function(e,t,n,r,i){var o=p.default.create(e,t,{viewType:c.default.getViewType(),issueId:r});n.$node.replaceWith(o),i.isWikiFieldFocused&&A.default.insertWikiMarkup(i.focusedField,e.name)},cancel:function(e){M.has(e.id)&&M.get(e.id).then(function(t){var n=t.uploadSettings;O.default.triggerUploadCancelled(e.id),k.default.publish("upload/cancel",e.id),M.delete(e.id),n.onFileUploadFinished&&onFileUploadFinished.call(e,e)})},_createUpload:function(e){var t=this,n=y.default.getUploadContextName(),r=y.default.getUploadContextSettings()||{blockWikiEditorMarkupInsert:!1},o=void 0;return o=U(n)?Promise.resolve(r):v.default.getIssueId().then(function(e){return i({},r,{issueId:e})}),o.then(function(r){var i=A.default.getWikiFieldsContextInformation(),o=void 0;i&&i.isWikiFieldFocused&&r.blockWikiEditorMarkupInsert&&(i.isWikiFieldFocused=!1),o=U(n)?s.default.createIssue(e,{},function(){t.cancel(e)}):s.default.viewIssue(e,{viewType:c.default.getViewType()},function(){t.cancel(e)});var a=v.default.getIssuePermlink(),u=v.default.getIssueKey(),l=E.default.getHtml(u,a);return{view:o,file:e,wikiFieldsContext:i,issueLinkHTML:l,uploadContext:n,uploadSettings:r}})},_validate:function(e){var t=w.default.validateFile(e),n=t.valid,r=t.message;n||(O.default.triggerUploadValidationFailed(r,e.id),this.error({fileId:e.id,description:r,logged:!0}),k.default.publish("upload/cancel",e.id))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(96),o=r(i),a=n(100),s=r(a);t.default={viewIssue:function(e,t,n){return new o.default(e,t,n)},createIssue:function(e,t,n){return new s.default(e,t,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(97),s=r(a),u=n(98),c=r(u),l=n(99),f=r(l),d=n(91),p=r(d),h=function(){function e(t,n,r){i(this,e),this.file=t,this.context=n,this.onCancel=r,this.$node=(0,p.default)('<div class="attachments-upload-progress-bar"/>'),this.$node.data("viewMode",this.context.viewType),this.render()}return o(e,[{key:"render",value:function(){var e=s.default.AttachmentsUploadProgressBar({isImageType:"gallery"===this.context.viewType});"list"===this.context.viewType&&this.$node.addClass("attachment-content"),this.$node.html(e),this.renderFileProperties()}},{key:"renderFileProperties",value:function(){var e=this;"gallery"==this.context.viewType?(0,p.default)(c.default.renderThumbnailIcon({mimetype:this.file.type})).appendTo(this.thumbnailNode):(0,p.default)(c.default.renderAttachmentIcon({mimetype:this.file.type})).appendTo(this.thumbnailNode),this.$node.find(".upload-progress-bar__file-name").text(this.file.name),this.$node.find(".upload-progress-bar__upload-control span").on("click",function(){e.onCancel(),e.destroy()}),this.file.size>=0&&this.$node.find(".upload-progress-bar__file-size").html((0,f.default)(this.file.size))}},{key:"loadThumbnail",value:function(e){if("gallery"===this.context.viewType){var t=URL.createObjectURL(e);this.thumbnailNode.addClass("upload-progress-bar__thumbnail_image"),this.thumbnailNode.find(".attachment-thumbnail-icon").detach(),(0,p.default)("<img/>").attr("src",t).appendTo(this.thumbnailNode)}}},{key:"progress",value:function(e){this.progressPortion=e,this.progressNode.toggleClass("UploadProgressBar_progressUnknown",this.progressPortion===!1),this.progressPortion>=0&&this.progressNode.find(".upload-progress-bar__bar").css("width",100*this.progressPortion+"%")}},{key:"done",value:function(){this.$node.find(".upload-progress-bar__upload-control").hide(),this.$node.addClass("upload-progress-bar__upload-finished")}},{key:"fail",value:function(e){this.$node.addClass("upload-progress-bar__upload-error"),this.$node.removeClass("upload-progress-bar__upload-finished"),this.progressNode.find(".upload-progress-bar__bar").css("width","100%")}},{key:"destroy",value:function(){this.$node.remove()}},{key:"thumbnailNode",get:function(){return this.$node.find(".upload-progress-bar__thumbnail")}},{key:"progressNode",get:function(){return this.$node.find(".upload-progress-bar__progress-bar")}}]),e}();t.default=h},function(e,t){e.exports=JIRA.Templates.DnDAttachmentPlugin},function(e,t){e.exports=JIRA.Templates.ViewIssue},function(e,t){"use strict";function n(e){var t=e/a;return t.toFixed(2)+u}function r(e){var t=Math.round(e/o);return t+s}function i(e){var t=e/o;return t.toFixed(1)+s}Object.defineProperty(t,"__esModule",{value:!0});var o=1024,a=o*o,s=" kB",u=" MB";t.default=function(e){return e>a?n(e):e>o?r(e):i(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(97),s=r(a),u=n(98),c=r(u),l=n(99),f=r(l),d=n(91),p=r(d),h=["aui-iconfont-close-dialog","aui-iconfont-success","aui-iconfont-error"],v=function(){function e(t,n,r){i(this,e),this.file=t,this.context=n,this.onCancel=r,this.$node=(0,p.default)('<div class="upload-progress-bar"/>'),this.render()}return o(e,[{key:"render",value:function(){var e=this,t=s.default.UploadProgressBar({isImageType:!0});this.$node.html(t),this.$node.find(".upload-progress-bar__file-name").text(this.file.name),this.$node.find(".upload-progress-bar__control button").on("click",function(){e.onCancel(),e.destroy()}),this.file.size>=0&&this.$node.find(".upload-progress-bar__file-size").html((0,f.default)(this.file.size)),(0,p.default)(c.default.renderThumbnailIcon({mimetype:this.file.type})).appendTo(this.thumbnailNode),this.thumbnailNode.removeClass("upload-progress-bar__thumbnail_image").addClass("upload-progress-bar__thumbnail_icon").addClass("upload-progress-bar__thumbnail_icon_aui")}},{key:"loadThumbnail",value:function(e){var t=URL.createObjectURL(e);this.thumbnailNode.addClass("upload-progress-bar__thumbnail_image"),this.thumbnailNode.find(".attachment-thumbnail-icon").detach(),(0,p.default)("<img/>").attr("src",t).appendTo(this.thumbnailNode)}},{key:"progress",value:function(e){this.progressPortion=e,this.progressNode.toggleClass("UploadProgressBar_progressUnknown",this.progressPortion===!1),this.progressPortion>=0&&this.progressNode.find(".upload-progress-bar__bar").css("width",100*this.progressPortion+"%")}},{key:"done",value:function(){this.setIcon("aui-iconfont-success"),this.progress(1)}},{key:"attachmentCreated",value:function(e){this.$checkbox=(0,p.default)('<input type="checkbox" name="filetoconvert"/>').addClass("upload-progress-bar__checkbox").attr("value",e).attr("id","filetoconvert-"+e).prop("checked",!0).insertBefore(this.$node),this.$node.addClass("upload-progress-bar__upload-ready").addClass("upload-progress-bar__upload-finished"),this.setIcon("aui-iconfont-close-dialog")}},{key:"fail",value:function(e){this.$node.addClass("upload-progress-bar__upload-error"),this.$node.removeClass("upload-progress-bar__upload-finished"),this.progressNode.find(".upload-progress-bar__bar").css("width","100%"),this.$node.find(".upload-progress-bar__error-message").text(e.description)}},{key:"destroy",value:function(){this.$checkbox&&this.$checkbox.prop("checked",!1).prop("value",null),this.$node.remove()}},{key:"setIcon",value:function(e){var t=this.$node.find(".upload-progress-bar__control button .aui-icon");h.forEach(function(n){t.toggleClass(n,n===e)})}},{key:"thumbnailNode",get:function(){return this.$node.find(".upload-progress-bar__thumbnail")}},{key:"progressNode",get:function(){return this.$node.find(".upload-progress-bar__progress-bar")}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(91),o=r(i),a=n(102),s=r(a),u="#file_attachments, #attachment_thumbnails",c=function(){return(0,o.default)(u)};t.default={getViewType:function(){return"file_attachments"===c().attr("id")?"list":"gallery"},insertUpload:function(e){if(0===c().length)throw new Error("Attachment List is not present");c().prepend(e)},uploadError:function(e,t,n){var r=s.default.showErrorMsg(AJS.format("\"{0}\" was not uploaded.",AJS.escapeHtml(e)),AJS.escapeHtml(t));(0,o.default)(r).on("aui-flag-close",n)},globalError:function(e){return s.default.showErrorMsg("Cannot upload attachments",AJS.escapeHtml(e))},notifyUserOfCreatedAttachment:function(e,t){s.default.showSuccessMsg("",AJS.format("{0} was attached successfully to {1}.",AJS.escapeHtml(e.name),t))}}},function(e,t){e.exports=require("jira/flag")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(91),o=r(i);t.default={insertUpload:function(e,t){var n=(0,o.default)(e);if(0===n.length)throw new Error("Cannot find temp attachment dropzone");n.after((0,o.default)(t))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(98),o=r(i),a=n(63),s=r(a),u=n(99),c=r(u),l=n(105),f=n(91),d=r(f),p=function(){return"undefined"==typeof window?"":window&&window.location&&window.location.origin}(),h=(0,s.default)(),v=""+p+h,m=function(e){return encodeURIComponent(e)},y=function(e,t){var n=m(e.name);return"secure/attachment/"+t.attachmentId+"/"+n},g=function(e,t){var n=m(e.name);return(0,l.isImageType)(e)?v+"/secure/thumbnail/"+t.attachmentId+"/"+n+"?default=false":null},b=function(e,t){var n=m(e.name);return t.expandable?null:v+"/secure/thumbnail/"+t.attachmentId+"/"+n};t.default={create:function(e,t,n){var r=[{id:t.attachmentId,attachmentUrl:y(e,t),thumbnailUrl:g(e,t),jiraThumbnailUrl:b(e,t),fileName:e.name,mimeType:e.type,expandable:t.expandable,deletable:t.deletable,fileSize:(0,c.default)(e.size),createdIso8601:e.creationDate,createdDateTime:e.creationDate}];return(0,d.default)(o.default.renderAttachments({baseurl:h,fullBaseUrl:v,issue:{id:n.issueId},attachments:r,viewMode:n.viewType})).find(".attachment-content")}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=u.default.getThumbnailMimeType().split(",");return e&&e.type&&a.default.contains(t,e.type)}Object.defineProperty(t,"__esModule",{value:!0}),t.isImageType=void 0;var o=n(62),a=r(o),s=n(59),u=r(s);t.isImageType=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(99),o=r(i),a=n(59),s=r(a);t.default={validateFile:function(e){var t=this.fileNameContainsInvalidCharacter(e.name),n=void 0;return""!==t&&(n=AJS.format("{0} contains the invalid character \'\'{1}\'\'. Please rename the file and try again.",e.name,t)),this.sizeExceedsMaximum(e.size)&&(n="File exceeds maximum size limit set by the administrator ({0}).".replace("{0}",(0,o.default)(s.default.getMaxFileSize()))),n?{valid:!1,message:n}:{valid:!0}},fileNameContainsInvalidCharacter:function(e){return s.default.getInvalidChars().reduce(function(t,n){return e.indexOf(n)!==-1?n:t},"")},sizeExceedsMaximum:function(e){return e>s.default.getMaxFileSize()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(91),o=r(i),a=n(108),s=r(a);t.default={getWikiFieldsContextInformation:function(){var e=(0,o.default)("textarea.wiki-textfield:visible:focus");return e?{isWikiFieldFocused:e.length>0,focusedField:e[0]}:void 0},insertWikiMarkup:function(e,t){var n=(0,o.default)(e);s.default.insertWikiMarkup(t,e,e.selectionStart,e.selectionStart),n.is(":focus")||n.focus()}}},function(e,t){e.exports=require("dndattachment/ctrlv/utility")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(91),o=r(i),a=n(97),s=r(a);t.default={getHtml:function(e,t){var n=(0,o.default)("#summary-val input"),r=(0,o.default)("#summary-val"),i=n&&n.attr("value")||r&&r.text();return s.default.SuccessMessageLink({issueLink:t,issueKey:e,issueSummary:i})}}},function(e,t){e.exports=require("dndattachment/TemporaryAttachments")},function(e,t){e.exports=require("dndattachment/ctrlv/base64decode")}]);;
;
/* module-key = 'com.atlassian.plugin.jslibs:keymaster-1.6.2', location = 'atlassian-jslibs/libs/keymaster/keymaster.js' */
!function(e){define("atlassian/libs/keymaster-1.6.2",function(){var n={};return e(n),"undefined"!=typeof module?module.exports.noConflict():n.key.noConflict()})}(function(e){function n(e,n){for(var t=e.length;t--;)if(e[t]===n)return t;return-1}function t(e,n){if(e.length!=n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function o(e){for(m in E)E[m]=e[T[m]]}function r(e){var t,r,i,l,c,u;if(t=e.keyCode,n(S,t)==-1&&S.push(t),93!=t&&224!=t||(t=91),t in E){E[t]=!0;for(i in w)w[i]==t&&(f[i]=!0)}else if(o(e),f.filter.call(this,e)&&t in C)for(u=p(),l=0;l<C[t].length;l++)if(r=C[t][l],r.scope==u||"all"==r.scope){c=r.mods.length>0;for(i in E)(!E[i]&&n(r.mods,+i)>-1||E[i]&&n(r.mods,+i)==-1)&&(c=!1);(0!=r.mods.length||E[16]||E[18]||E[17]||E[91])&&!c||r.method(e,r)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function i(e){var t,o=e.keyCode,r=n(S,o);if(r>=0&&S.splice(r,1),93!=o&&224!=o||(o=91),o in E){E[o]=!1;for(t in w)w[t]==o&&(f[t]=!1)}}function l(){for(m in E)E[m]=!1;for(m in w)f[m]=!1}function f(e,n,t){var o,r;o=g(e),void 0===t&&(t=n,n="all");for(var i=0;i<o.length;i++)r=[],e=o[i].split("+"),e.length>1&&(r=y(e),e=[e[e.length-1]]),e=e[0],e=P(e),e in C||(C[e]=[]),C[e].push({shortcut:o[i],scope:n,method:t,key:o[i],mods:r})}function c(e,n){var o,r,i,l,f,c=[];for(o=g(e),l=0;l<o.length;l++){if(r=o[l].split("+"),r.length>1&&(c=y(r),e=r[r.length-1]),e=P(e),void 0===n&&(n=p()),!C[e])return;for(i=0;i<C[e].length;i++)f=C[e][i],f.scope===n&&t(f.mods,c)&&(C[e][i]={})}}function u(e){return"string"==typeof e&&(e=P(e)),n(S,e)!=-1}function a(){return S.slice(0)}function s(e){var n=(e.target||e.srcElement).tagName;return!("INPUT"==n||"SELECT"==n||"TEXTAREA"==n)}function d(e){b=e||"all"}function p(){return b||"all"}function h(e){var n,t,o;for(n in C)for(t=C[n],o=0;o<t.length;)t[o].scope===e?t.splice(o,1):o++}function g(e){var n;return e=e.replace(/\s/g,""),n=e.split(","),""==n[n.length-1]&&(n[n.length-2]+=","),n}function y(e){for(var n=e.slice(0,e.length-1),t=0;t<n.length;t++)n[t]=w[n[t]];return n}function v(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,function(){t(window.event)})}function k(){var n=e.key;return e.key=A,n}var m,C={},E={16:!1,18:!1,17:!1,91:!1},b="all",w={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},K={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},P=function(e){return K[e]||e.toUpperCase().charCodeAt(0)},S=[];for(m=1;m<20;m++)K["f"+m]=111+m;var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(m in w)f[m]=!1;v(document,"keydown",function(e){r(e)}),v(document,"keyup",i),v(window,"focus",l);var A=e.key;e.key=f,e.key.setScope=d,e.key.getScope=p,e.key.deleteScope=h,e.key.filter=s,e.key.isPressed=u,e.key.getPressedKeyCodes=a,e.key.noConflict=k,e.key.unbind=c,"undefined"!=typeof module&&(module.exports=e.key)});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachments-api', location = 'jira-dnd-attachment-module/js/AttachmentsAPI.js' */
define("jira/attachments/api",["dndattachment/upload/handler"],function(n){return{doUpload:function(a){return n.doUpload(a)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/wrappers/aui.js' */
define("wiki-edit/aui",function(){return AJS});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/wrappers/jira.js' */
define("wiki-edit/JIRA",function(){return JIRA});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/wrappers/keymaster.js' */
define("wiki-edit/keymaster",["wiki-edit/aui","atlassian/libs/keymaster-1.6.2"],function(e,i){return e.Meta.get("keyboard-shortcuts-enabled")===!1?function(){}:i});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/templates/wiki-editor.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Templates&&(JIRA.Templates={}),"undefined"==typeof JIRA.Templates.Plugins&&(JIRA.Templates.Plugins={}),"undefined"==typeof JIRA.Templates.Plugins.WikiEditor&&(JIRA.Templates.Plugins.WikiEditor={}),JIRA.Templates.Plugins.WikiEditor.renderEditor=function(i,t){var e='<div id="wiki-edit-dropdown2-text-style-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="paragraph" title="'+soy.$$escapeHtml("Paragraph")+'">'+soy.$$escapeHtml("Paragraph")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h1" data-operation="h1" title="'+soy.$$escapeHtml("Heading 1")+'">'+soy.$$escapeHtml("Heading 1")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h2" data-operation="h2" title="'+soy.$$escapeHtml("Heading 2")+'">'+soy.$$escapeHtml("Heading 2")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h3" data-operation="h3" title="'+soy.$$escapeHtml("Heading 3")+'">'+soy.$$escapeHtml("Heading 3")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h4" data-operation="h4" title="'+soy.$$escapeHtml("Heading 4")+'">'+soy.$$escapeHtml("Heading 4")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h5" data-operation="h5" title="'+soy.$$escapeHtml("Heading 5")+'">'+soy.$$escapeHtml("Heading 5")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h6" data-operation="h6" title="'+soy.$$escapeHtml("Heading 6")+'">'+soy.$$escapeHtml("Heading 6")+'</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-monospace" data-operation="monospace" title="'+soy.$$escapeHtml("Preformatted")+'">'+soy.$$escapeHtml("Preformatted")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="paragraph-quote" title="'+soy.$$escapeHtml("Paragraph quote")+'">'+soy.$$escapeHtml("Paragraph quote")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="block-quote" title="'+soy.$$escapeHtml("Block quote")+'">'+soy.$$escapeHtml("Block quote")+'</a></li></ul></div></div><div id="wiki-edit-dropdown2-more-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="delete" data-shortcut="ctrl+shift+s, command+shift+s" title="'+soy.$$escapeHtml("Strikethrough")+" ("+soy.$$escapeHtml(i.controlKey)+'+Shift+S)">'+soy.$$escapeHtml("Strikethrough")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="superscript">'+soy.$$escapeHtml("Superscript")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="subscript">'+soy.$$escapeHtml("Subscript")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="cite">'+soy.$$escapeHtml("Citation")+'</a></li></ul></div></div><div id="wiki-edit-dropdown2-link-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-link"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="link" data-shortcut="ctrl+k, command+k" title="'+soy.$$escapeHtml("External link")+" ("+soy.$$escapeHtml(i.controlKey)+'+K)">'+soy.$$escapeHtml("External link")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-mail">'+soy.$$escapeHtml("Mail link")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-anchor">'+soy.$$escapeHtml("Anchor link")+'</a></li></ul></div></div><div id="wiki-edit-dropdown2-attachment-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-attachment"><div class="aui-dropdown2-section wiki-edit-insert-attachment"><ul class="aui-list-truncate"><li><a href="#"></a></li></ul></div><div class="aui-dropdown2-section wiki-edit-browse-image"><ul class="aui-list-truncate"><li><a href="#" class="wiki-attachment-browse"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>&nbsp;&nbsp;'+soy.$$escapeHtml("Browse")+'</a></li></ul></div></div><div id="wiki-edit-color-picker-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-color-picker">',a=["333333","707070","cccccc","205081","59afe1","14892c","8eb021","d04437","f79232","f6c342","654982","f691b2"];e+='<div class="aui-dropdown2-section"><ul>';for(var o=a,s=o.length,r=0;r<s;r++){var n=o[r];e+='<li><a href="#" style="background-color: #'+soy.$$escapeHtml(n)+'" data-operation="color" data-color="#'+soy.$$escapeHtml(n)+'">&nbsp;</a></li>'}return e+='</ul></div></div><div id="wiki-edit-dropdown2-icon-picker-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-icon-picker"><div class="aui-dropdown2-section"><ul><li><a href="#" class="wiki-edit-operation" title=":)" data-operation=":)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/smile.gif" alt="'+soy.$$escapeHtml("smile")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title=":(" data-operation=":("><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/sad.gif" alt="'+soy.$$escapeHtml("sad")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title=":P" data-operation=":P"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/tongue.gif" alt="'+soy.$$escapeHtml("tongue")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title=":D" data-operation=":D"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/biggrin.gif" alt="'+soy.$$escapeHtml("biggrin")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title=";)" data-operation=";)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/wink.gif" alt="'+soy.$$escapeHtml("wink")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(y)" data-operation="(y)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/thumbs_up.gif" alt="'+soy.$$escapeHtml("thumbs up")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(n)" data-operation="(n)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/thumbs_down.gif" alt="'+soy.$$escapeHtml("thumbs down")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(i)" data-operation="(i)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/information.gif" alt="'+soy.$$escapeHtml("information")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(/)" data-operation="(/)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/check.gif" alt="'+soy.$$escapeHtml("check")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(x)" data-operation="(x)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/error.gif" alt="'+soy.$$escapeHtml("error")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(!)" data-operation="(!)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/warning.gif" alt="'+soy.$$escapeHtml("warning")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(+)" data-operation="(+)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/add.gif" alt="'+soy.$$escapeHtml("add")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(-)" data-operation="(-)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/forbidden.gif" alt="'+soy.$$escapeHtml("forbidden")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(?)" data-operation="(?)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/help_16.gif" alt="'+soy.$$escapeHtml("help")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(on)" data-operation="(on)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/lightbulb_on.gif" alt="'+soy.$$escapeHtml("lightbulb on")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(off)" data-operation="(off)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/lightbulb.gif" alt="'+soy.$$escapeHtml("lightbulb")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*)" data-operation="(*)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/star_yellow.gif" alt="'+soy.$$escapeHtml("star yellow")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*r)" data-operation="(*r)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/star_red.gif" alt="'+soy.$$escapeHtml("star red")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*g)" data-operation="(*g)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/star_green.gif" alt="'+soy.$$escapeHtml("star green")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*b)" data-operation="(*b)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/star_blue.gif" alt="'+soy.$$escapeHtml("star blue")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*y)" data-operation="(*y)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/star_yellow.gif" alt="'+soy.$$escapeHtml("star yellow")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flag)" data-operation="(flag)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/flag.gif" alt="'+soy.$$escapeHtml("flag")+'" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flagoff)" data-operation="(flagoff)"><img src="'+soy.$$escapeHtml(AJS.contextPath())+'/images/icons/emoticons/flag_grey.gif" alt="'+soy.$$escapeHtml("flag off")+'" /></a></li></ul></div></div><div id="wiki-edit-dropdown2-other-'+soy.$$escapeHtml(i.editorId)+'" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="mention">'+soy.$$escapeHtml("User mention")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="table">'+soy.$$escapeHtml("Table")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="code">'+soy.$$escapeHtml("Code")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="noformat">'+soy.$$escapeHtml("Preformatted")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="panel">'+soy.$$escapeHtml("Panel")+'</a></li><li><a href="#" class="wiki-edit-operation" data-operation="hr">'+soy.$$escapeHtml("Horizontal ruler")+'</a></li><li class="wiki-edit-speech-item hidden"><a href="#" class="wiki-edit-operation" data-operation="speech">'+soy.$$escapeHtml("Speech recognition")+'</a></li></ul></div></div><div class="wiki-edit-toolbar" id="wiki-edit-'+soy.$$escapeHtml(i.editorId)+'"><div class="aui-toolbar2"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-style-picker-trigger" aria-owns="wiki-edit-dropdown2-text-style-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-text-style-'+soy.$$escapeHtml(i.editorId)+'">'+soy.$$escapeHtml("Style")+'</a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bold" data-shortcut="ctrl+b, command+b" title="'+soy.$$escapeHtml("Bold")+" ("+soy.$$escapeHtml(i.controlKey)+'+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-bold">'+soy.$$escapeHtml("Bold")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="italic" data-shortcut="ctrl+i, command+i" title="'+soy.$$escapeHtml("Italic")+" ("+soy.$$escapeHtml(i.controlKey)+'+I)"><span class="aui-icon aui-icon-small aui-iconfont-editor-italic">'+soy.$$escapeHtml("Italic")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="underline" data-shortcut="ctrl+u, command+u" title="'+soy.$$escapeHtml("Underline")+" ("+soy.$$escapeHtml(i.controlKey)+'+U)"><span class="aui-icon aui-icon-small aui-iconfont-editor-underline">'+soy.$$escapeHtml("Underline")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation wiki-edit-operation-color" data-operation="color" data-color="red" title="'+soy.$$escapeHtml("Text colour")+'"><span class="aui-icon aui-icon-small aui-iconfont-editor-color">'+soy.$$escapeHtml("Text colour")+'</span><span class="wiki-edit-color-indicator"></span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-color-picker-trigger" data-operation="color-parameter" aria-owns="wiki-edit-color-picker-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" title="'+soy.$$escapeHtml("More colours")+'"><span>'+soy.$$escapeHtml("More colours")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-more-picker-trigger" aria-owns="wiki-edit-dropdown2-more-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-more-'+soy.$$escapeHtml(i.editorId)+'" title="'+soy.$$escapeHtml("More")+'"><span class="aui-icon aui-icon-small aui-iconfont-editor-styles">'+soy.$$escapeHtml("More")+'</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-link-picker-trigger" aria-owns="wiki-edit-dropdown2-link-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-link-'+soy.$$escapeHtml(i.editorId)+'" title="'+soy.$$escapeHtml("Link")+" ("+soy.$$escapeHtml(i.controlKey)+'+K)"><span class="aui-icon aui-icon-small aui-iconfont-link">'+soy.$$escapeHtml("Link")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-attachment-picker-trigger" aria-owns="wiki-edit-dropdown2-attachment-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-attachment-'+soy.$$escapeHtml(i.editorId)+'" title="'+soy.$$escapeHtml("Attachment")+'"><span class="aui-icon aui-icon-small aui-iconfont-file-generic">'+soy.$$escapeHtml("Attachment")+'</span></a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bullet-list" data-shortcut="ctrl+shift+b, command+shift+b" title="'+soy.$$escapeHtml("Bullet list")+" ("+soy.$$escapeHtml(i.controlKey)+'+Shift+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-bullet">'+soy.$$escapeHtml("Bullet list")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="numbered-list" data-shortcut="ctrl+shift+n, command+shift+n" title="'+soy.$$escapeHtml("Numbered list")+" ("+soy.$$escapeHtml(i.controlKey)+'+Shift+N)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-number">'+soy.$$escapeHtml("Numbered list")+'</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-icon-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-icon-picker-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-icon-picker-'+soy.$$escapeHtml(i.editorId)+'" title="'+soy.$$escapeHtml("Icons")+'"><span class="aui-icon aui-icon-small aui-iconfont-editor-emoticon">'+soy.$$escapeHtml("Icons")+'</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-other-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-other-'+soy.$$escapeHtml(i.editorId)+'" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-other-'+soy.$$escapeHtml(i.editorId)+'" title="'+soy.$$escapeHtml("Other")+'"><span class="aui-icon aui-icon-small aui-iconfont-add">'+soy.$$escapeHtml("Other")+'</span></a></div><div class="aui-buttons wiki-edit-toolbar-last"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-visible-toggle wiki-edit-tooltip" title="'+soy.$$escapeHtml("Toggle visibility")+'"><span class="aui-icon icon-toolbartoggle">Lock / Unlock</span></a></div></div></div><!-- .aui-toolbar-inner --></div></div>'},JIRA.Templates.Plugins.WikiEditor.renderListItem=function(i,t){return'<li><a href="#" '+soy.$$escapeHtml(i.attachmentType?"data-attachment-type="+i.attachmentType:"")+'><span class="wiki-edit-attachment-type-icon aui-icon aui-icon-small '+soy.$$escapeHtml(null!=(null==i.attachmentTypeIcon?null:i.attachmentTypeIcon.cssClass)?null==i.attachmentTypeIcon?null:i.attachmentTypeIcon.cssClass:"aui-iconfont-file-txt")+'" title="'+soy.$$escapeHtml(null!=(null==i.attachmentTypeIcon?null:i.attachmentTypeIcon.title)?null==i.attachmentTypeIcon?null:i.attachmentTypeIcon.title:"File")+'"></span>&nbsp;&nbsp;<span class="wiki-edit-attachment-name">'+soy.$$escapeHtml(i.text)+"</span></a></li>"};;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/Analytics.js' */
define("wiki-edit/analytics",["wiki-edit/aui"],function(i){function r(i){var r,t=0;if(!i)return"";for(var a=0;a<i.length;a+=1)r=i.charCodeAt(a),t=32*t-t+r,t|=0;return t}var t=i.Analytics&&i.Analytics.triggerPrivacyPolicySafeEvent?function(r,t){i.Analytics.triggerPrivacyPolicySafeEvent("jira.wikieditor."+r,t||{})}:function(r,t){i.trigger("analytics",{name:"jira.wikieditor."+r,data:t||{}})};return{trigger:t,hashCode:r}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/KeyTester.js' */
define("wiki-edit/KeyTester",function(){return{getActionType:function(i){return this.isNavigation(i)?"navigating":this.isDeleting(i)?"deleting":this.isReturn(i)?"newline":this.isEscape(i)?"escape":this.isTyping(i)?"typing":void 0},isNavigation:function(i){return i>=33&&i<=40||i>=63232&&i<=63235},isDeleting:function(i){return 8==i||46==i||127==i},isReturn:function(i){return 13==i},isEscape:function(i){return 27==i},isTyping:function(i){return i>47&&i<58||i>95&&i<112||i>64&&i<91||i>185&&i<193||i>218&&i<223||32==i||13==i}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/UndoManager.js' */
define("wiki-edit/UndoManager",function(){var t=function(){this._undoStack=[],this._redoStack=[],this._current=void 0};return t.prototype.MAX_STACK=1e3,t.prototype.updateCurrent=function(t,n){t!=this._current&&(this._current=t,n||(this._redoStack.length=0))},t.prototype.push=function(t){this._redoStack.length=0,this._undoStack.length&&_.isEqual(t,this._undoStack[this._undoStack.length-1])||(this._undoStack.push(t),this._current=t),this._undoStack.length>this.MAX_STACK&&this._undoStack.splice(0,this._undoStack.length-this.MAX_STACK)},t.prototype.undo=function(){if(this.canUndo()){var t;do t=this._undoStack.pop();while(_.isEqual(t,this._current)&&this.canUndo());return this._redoStack.push(this._current),this._current=t,t}},t.prototype.redo=function(){if(this.canRedo()){var t=this._redoStack.pop();return this._undoStack.push(this._current),this._current=t,t}},t.prototype.canUndo=function(){return!!this._undoStack.length},t.prototype.canRedo=function(){return!!this._redoStack.length},t});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/UndoableTextarea.js' */
define("wiki-edit/UndoableTextarea",["wiki-edit/UndoManager","wiki-edit/KeyTester","jquery"],function(e,t,n){function i(e,t){t!==a&&o==t||("newline"!=o&&e.recordHistoryItem(),o=t)}function r(e,t){if(e.undoManager["can"+t[0].toUpperCase()+t.substring(1)]()){var n=e.undoManager[t]();e.element.value=n.value,e.element.selectionStart=n.selectionStart,e.element.selectionEnd=n.selectionEnd}}var a="cut-paste",o="",s=function(r){this.element=r,this.$el=n(r),this.undoManager=new e,this.undoManager.updateCurrent(this.getValue()),this.undoManager.push(this.getValue());var o=function(e){var n=e.keyCode,r=String.fromCharCode(n);if(n)if(e.ctrlKey||e.metaKey){if((e.ctrlKey||e.metaKey)&&!e.altKey)switch(r.toLowerCase()){case"y":this.undoManager.updateCurrent(this.getValue(),!0),this.redo(),e.preventDefault();break;case"z":this.undoManager.updateCurrent(this.getValue(),!0),e.shiftKey?this.redo():this.undo(),e.preventDefault()}}else this.undoManager.updateCurrent(this.getValue()),i(this,t.getActionType(n));else this.undoManager.updateCurrent(this.getValue()),i(this,"other")}.bind(this);this.$el.on("keydown",o),this.$el.on("paste cut",function(){this.undoManager.updateCurrent(this.getValue()),i(this,a)}.bind(this))};return s.prototype.getValue=function(){return{value:this.element.value,selectionStart:this.element.selectionStart,selectionEnd:this.element.selectionEnd}},s.prototype.updateCurrent=function(){this.undoManager.updateCurrent(this.getValue())},s.prototype.recordHistoryItem=function(){this.undoManager.push(this.getValue())},s.prototype.undo=function(){i(this,"undo"),r(this,"undo"),this.element.scrollTop=this.element.scrollHeight},s.prototype.redo=function(){r(this,"redo"),this.element.scrollTop=this.element.scrollHeight},s});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/TextareaManipulator.js' */
define("wiki-edit/TextareaManipulator",function(){var t=function(t){this.el=t};return t.prototype.NEW_LINE_TOKEN="\n",t.prototype.getSelection=function(){return{start:this.el.selectionStart,end:this.el.selectionEnd,length:this.el.selectionEnd-this.el.selectionStart,text:this.el.value.substring(this.el.selectionStart,this.el.selectionEnd)}},t.prototype.setSelection=function(t,e){1===arguments.length&&(e=t),this.el.selectionStart=t,this.el.selectionEnd=e},t.prototype.replaceSelectionWith=function(t,e){var n=this.el.selectionStart,i=this.el.value;this.el.value=i.substring(0,this.el.selectionStart)+t+i.substring(this.el.selectionEnd,i.length),this.el.selectionEnd=n+t.length,this.el.selectionStart=e?n:this.el.selectionEnd},t.prototype.wrapSelectionWith=function(t,e,n){arguments.length<3&&(n=""),1===arguments.length&&(e=t);var i=this.getSelection(),s=this.el.value;if(s.substring(i.start-t.length,i.start)!==t||s.substring(i.end,i.end+e.length)!==e){var l=s.substring(i.start,i.end);0==l.length&&(l=n),this.el.value=s.substring(0,i.start)+t+l+e+s.substring(i.end,s.length);var r=i.start+t.length;this.setSelection(r,r+l.length)}},t.prototype._getSelectedLines=function(){var t=this.el.value,e=this.getSelection(),n=t.substring(0,e.start).split(this.NEW_LINE_TOKEN).length-1,i=n+t.substring(e.start,e.end).split(this.NEW_LINE_TOKEN).length-1,s=t.split(this.NEW_LINE_TOKEN);return{lines:s,start:n,end:i}},t.prototype.getLineAtCursor=function(){var t=this._getSelectedLines();return t.lines[t.end]},t.prototype.getFirstLineMatch=function(t){var e=this._getSelectedLines(),n=e.lines[e.start].match(t);if(n)return n[0]},t.prototype.areSelectedLinesPrefixed=function(t){var e,n=this._getSelectedLines();for(e=n.start;e<=n.end;e++)if(0==n.lines[e].indexOf(t))return!0;return!1},t.prototype.prefixSelectedLines=function(t){var e,n=this.getSelection(),i=this._getSelectedLines(),s=0,l=!0;for(e=i.start;e<=i.end;e++)0!=i.lines[e].indexOf(t)?(s+=1,i.lines[e]=t+i.lines[e]):e==i.start&&(l=!1);this.el.value=i.lines.join(this.NEW_LINE_TOKEN);var r=t.length*s;this.setSelection(n.start+(l?t.length:0),n.end+r)},t.prototype.unprefixSelectedLines=function(t){var e,n=this.getSelection(),i=this._getSelectedLines(),s=!1,l=0;for(e=i.start;e<=i.end;e++)0==i.lines[e].indexOf(t)&&(l+=1,i.lines[e]=i.lines[e].substring(t.length),e==i.start&&(s=!0));this.el.value=i.lines.join(this.NEW_LINE_TOKEN);var r=t.length*l;this.setSelection(n.start-(s?t.length:0),n.end-r)},t});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/keymaster-setup.js' */
define("wiki-edit/keymaster-setup",["jquery","wiki-edit/keymaster"],function(e,i){return{init:function(){i.filter=function(t){var n,r=t.target||t.srcElement||!1;return!!(r&&(" "+r.className+" ").indexOf(" wiki-textfield ")>-1&&(n=e(r).data("wikiEditor")))&&(i.setScope(n.id),!0)}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/WikiEnabledTextarea.js' */
define("wiki-edit/WikiEnabledTextarea",["wiki-edit/TextareaManipulator","wiki-edit/UndoableTextarea","wiki-edit/keymaster","wiki-edit/keymaster-setup","wiki-edit/SpeechRecognition","jquery"],function(e,i,t,n,o,r){n.init();var a=0,l=/^[#\*]+ /,p=function(n){if(this.el=n,this.$el=r(n),this.$el.data("wikiEditor"))return this.$el.data("wikiEditor");this.id="wikiEdit"+a,a+=1,this.manipulationEngine=new e(this.el),this.undoRedoEl=new i(n);var o=this;t("enter",o.id,function(e){var i=o.manipulationEngine.getSelection(),t=o.manipulationEngine.getFirstLineMatch(l);t&&(0==i.length&&o.manipulationEngine.getLineAtCursor()===t?o.manipulationEngine.unprefixSelectedLines(t):o.manipulationEngine.replaceSelectionWith("\n"+t),e.preventDefault())}),this.$el.data("wikiEditor",this)},d={bold:["*","*","strong text"],italic:["_","_","emphasized text"],underline:["+","+","underlined text"],delete:["-","-","deleted text"],superscript:["^","^","superscript text"],subscript:["~","~","subscript text"],monospace:["{{","}}","monospaced text"],cite:["??","??","citation"],"block-quote":["{quote}","{quote}","quoted text"],color:["{color:$1}","{color}","coloured text","red"],link:["[","|http://example.com]","link title"],"link-anchor":["[#","]","anchor"],"link-mail":["[mailto:","]","mail@example.com"],image:["!","!","http://example.com/image.png"],mention:["@","","Mention someone by typing their name..."],code:["\n{code:java}\n","\n{code}\n","// Some comments here\npublic String getFoo()\n{\n    return foo;\n}"],noformat:["\n{noformat}\n","\n{noformat}\n","*no* further _formatting_ is done here"],panel:["\n{panel:title="+"My title"+"}\n","\n{panel}\n","Some text with a title"],table:["\n||"+"Heading"+" 1||"+"Heading"+" 2||\n|","|"+"Col"+" A2|\n","Col"+" A1"]};for(var h in d)p.prototype[h]=function(e,i){var t=0;return e.length>3&&(t=e.length-3),function(){var i,n=e[0],o=e[1],r=e[2];for(i=1;i<=t;i++)n=n.replace("$"+i,arguments[i-1]||e[2+i]),o=o.replace("$"+i,arguments[i-1]||e[2+i]);var a=this.el.value,l=this.manipulationEngine.getSelection();this.undoRedoEl.recordHistoryItem(),a.substring(l.start-n.length,l.start)===n&&a.substring(l.end,l.end+o.length)===o?(this.el.value=a.substring(0,l.start-n.length)+a.substring(l.start,l.end)+a.substring(l.end+o.length,a.length),this.manipulationEngine.setSelection(l.start-n.length,l.end-n.length)):this.manipulationEngine.wrapSelectionWith.call(this.manipulationEngine,n,o,r),this.undoRedoEl.recordHistoryItem(),this.$el.trigger("input")}}(d[h],h);var c={paragraph:"","bullet-list":"* ","numbered-list":"# ",h1:"h1. ",h2:"h2. ",h3:"h3. ",h4:"h4. ",h5:"h5. ",h6:"h6. ","paragraph-quote":"bq. "};for(var h in c)p.prototype[h]=function(e){return function(){this.undoRedoEl.recordHistoryItem();for(var i in c)this.manipulationEngine.areSelectedLinesPrefixed(c[i])&&this.manipulationEngine.unprefixSelectedLines(c[i]);this.manipulationEngine.prefixSelectedLines.call(this.manipulationEngine,e),this.undoRedoEl.recordHistoryItem(),this.$el.trigger("input")}}(c[h]);var g={hr:"\n----\n",":)":":)",":(":":(",":P":":P",":D":":D",";)":";)","(y)":"(y)","(n)":"(n)","(i)":"(i)","(/)":"(/)","(x)":"(x)","(!)":"(!)","(+)":"(+)","(-)":"(-)","(?)":"(?)","(on)":"(on)","(off)":"(off)","(*)":"(*)","(*r)":"(*r)","(*g)":"(*g)","(*b)":"(*b)","(*y)":"(*y)","(flag)":"(flag)","(flagoff)":"(flagoff)","image-attachment":[" !$1|thumbnail! ","attachment-name.jpg"],"image-attachment-full":[" !$1! ","attachment-name.gif"],"link-attachment":[" [^$1] ","attachment-name.zip"]};for(var h in g)p.prototype[h]=function(e){var i,t=0;return _.isArray(e)&&(t=e.length-1,i=e.slice(1),e=e[0]),function(){var n,o=e;for(n=1;n<=t;n++)o=e.replace("$"+n,arguments[n-1]||i[n-1]);this.undoRedoEl.recordHistoryItem(),this.manipulationEngine.replaceSelectionWith.call(this.manipulationEngine,o,!1),this.undoRedoEl.recordHistoryItem(),this.$el.trigger("input")}}(g[h]);return p.prototype.speech=function(){o.start(this)},p});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/WikiEditor.js' */
define("wiki-edit/WikiEditor",["wiki-edit/WikiEnabledTextarea","jquery","underscore","wiki-edit/JIRA","wiki-edit/keymaster","wiki-edit/analytics","wiki-edit/WikiEditorUtil","jira/util/events","jira/attachments/api","jira/featureflags/feature-manager"],function(t,e,i,a,n,o,r,d,l,s){function c(t){var e=AJS.$(t).closest(".aui-dropdown2");e.length&&e[0].hide()}var f="Ctrl";navigator.platform.indexOf("Mac")!=-1&&(f="⌘");var h=function(t){return t.match(/\.(bmp|gif|jpg|jpeg|png|tiff|webp)$/i)?"image":"file"},u=function(t,e,i){"image"==i?(e.match(/\.gif$/i)?t["image-attachment-full"](e):t["image-attachment"](e),o.trigger("operation.attachment.image")):(t["link-attachment"](e),o.trigger("operation.attachment.link"))};return{create:function(i){function d(t){t.preventDefault(),t.stopPropagation(),S=!S,F.toggleClass("active",S),g.toggleClass("wiki-edit-toolbar-compact",S),localStorage.setItem("jira.wikieditor.visibility"+i.name+"."+i.id,S?"true":"false"),o.trigger(S?"hide":"show")}if("undefined"!=typeof i.selectionStart){var l=e(i);if(!l.data("wikiEditor")){var s=new t(i);this.wikiEditor=s;var p=e(a.Templates.Plugins.WikiEditor.renderEditor({editorId:s.id,controlKey:f})),g=p.filter(".wiki-edit-toolbar");"webkitSpeechRecognition"in window&&p.find(".wiki-edit-speech-item").removeClass("hidden"),l.parent().before(p);var m,v=l.closest(".jira-dialog").length>0||l.closest("form#issue-create").length>0,k=l.closest("#create-issue-dialog").length>0,w=e("#issue-content").length>0,b=l.closest("#addcomment").length>0,y=p.find(".wiki-edit-operation[title], .aui-dropdown2-trigger, .wiki-edit-tooltip");m=v?"Dialog.beforeHide":a.Events.BEFORE_INLINE_EDIT_CANCEL,y.each(function(){var t=e(this),i={aria:!0,hideOnClick:!0,hoverable:!1};t.parent().is("li")&&(i.gravity="w"),t.tooltip(i)});var E=function(){y.each(function(){e(this).tooltip("hide")})};a.bind(m,E);var C=!1,_=p.filter(".aui-dropdown2");_.on({"aui-dropdown2-show":function(){C=!0,l.focus()},"aui-dropdown2-hide":function(){C=!1,E()}}),l.on("keydown",function(t){C&&t.keyCode===AJS.keyCode.ESCAPE&&(v?a.one("Dialog.beforeHide",function(t){t.preventDefault()}):w&&!b&&a.one(a.Events.BEFORE_INLINE_EDIT_CANCEL,function(t){t.preventDefault()}))});var T=p.filter(".wiki-edit-dropdown-image, .wiki-edit-dropdown-attachment"),I=T.find(".wiki-edit-insert-image, .wiki-edit-insert-attachment"),j=T.find(".wiki-edit-insert-image ul, .wiki-edit-insert-attachment ul");j.on("click","a",function(t){t.preventDefault(),c(t.target);var i=e(this).attr("data-attachment-type");"undefined"==typeof i&&(i="file");var a=e(this).find(".wiki-edit-attachment-name").text();u(s,a,i)}),T.on("aui-dropdown2-show",function(){var t=[],i=[];v&&e(".upload-progress-bar:not(.upload-progress-bar__upload-error) span.upload-progress-bar__file-name").each(function(e,i){t.push(i)}),!k&&w&&e("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").each(function(e,i){t.push(i)});var n=function(t,e){if(!t)return null;var i=r.getFileExtension(t);return{name:t,type:e,icon:r.translateFileExtensionToAttachmentTypeIcon(i)}},o=e("#ghx-tab-attachments .ghx-container");o.find("#file_attachments li.attachment-content > dl dt.attachment-title a, #file_attachments div.verbose dt.attachment-title a").each(function(t,e){var a=n(e.textContent,"file");a&&i.push(a)}),o.find("#attachment_thumbnails a.attachment-title").each(function(t,e){var a=n(e.textContent,"image");a&&i.push(a)}),j.empty(),I.addClass("hidden"),(v||w)&&t.length?(I.removeClass("hidden"),e(t).each(function(){var t=e(this).is("span.upload-progress-bar__file-name")?e(this).text():e(this).find("a.attachment-title, .attachment-title a").first().text(),i=e(this).attr("data-attachment-type");void 0===i&&(i=h(t));var n=r.defaultAttachmentTypeIcon,o=e(this).attr("data-downloadurl");if(void 0===o&&(o=e(this).find("[data-downloadurl]").attr("data-downloadurl")),void 0!==o&&"string"==typeof o){var d=o.split(":");if(d.length>0){var l=d[0];n=r.translateMimeTypeToAttachmentTypeIcon(l)}}else if(void 0!==t&&"string"==typeof t){var s=t.match(/\.(\w{1,5})$/i);if(s&&s.length>1){var c=s[1];n=r.translateFileExtensionToAttachmentTypeIcon(c)}}j.append(e(a.Templates.Plugins.WikiEditor.renderListItem({text:t,attachmentType:i,attachmentTypeIcon:n})))})):!k&&i.length>0&&(I.removeClass("hidden"),i.forEach(function(t){if(null!=t&&null!=t.name){var i=t.name,n=t.type?t.type:"file",o=t.icon?t.icon:{cssClass:"aui-iconfont-devtools-file",title:""};j.append(e(a.Templates.Plugins.WikiEditor.renderListItem({text:i,attachmentType:n,attachmentTypeIcon:o})))}}))}),r.compareVersion(AJS.version,"5.8.0")<0&&T.on("aui-dropdown2-item-selected",function(){var t=e(this).find(".aui-dropdown2-active");if("object"==typeof t){var i=t.closest("div");if("object"==typeof i){var a=i.offset().top,n=a+i.height(),o=t.offset().top,r=o+t.height();o<a&&i.scrollTop(i.scrollTop()-(a-o)),r>n&&i.scrollTop(i.scrollTop()+(r-n))}}}),p.filter(".wiki-edit-dropdown, .wiki-edit-picker").on("mousedown",function(t){t.preventDefault()}),p.find(".wiki-edit-operation:not(.wiki-edit-operation-color)").each(function(){var t=e(this),i=function(e){e&&(e.preventDefault&&e.preventDefault(),c(e.target),l.focus(),s[t.data("operation")](),o.trigger("operation",{name:t.data("operation"),nameHash:o.hashCode(t.data("operation")),trigger:e.type}),o.trigger("operation."+t.data("operation"),{trigger:e.type}))};t.click(i),t.data("shortcut")&&n(t.data("shortcut"),s.id,i)}),p.find(".wiki-edit-operation-color").each(function(){var t=e(this),i=function(e){e&&(e.preventDefault&&e.preventDefault(),c(e.target),l.focus(),s[t.data("operation")](t.data("color")),o.trigger("operation",{name:t.data("operation"),nameHash:o.hashCode(t.data("operation")),trigger:e.type}),o.trigger("operation."+t.data("operation"),{trigger:e.type}))};t.click(i),t.data("shortcut")&&n(t.data("shortcut"),s.id,i)});var x=window.localStorage.getItem("jira.wikieditor.last.color")?window.localStorage.getItem("jira.wikieditor.last.color"):"red",D=p.find(".wiki-edit-operation-color");D.data("color",x);var A=g.find(".wiki-edit-color-indicator");A.css("background-color",x),p.filter(".wiki-edit-color-picker").on("click","a",function(t){t.preventDefault(),c(t.target),l.focus();var i=e(this).data("color");s.color(i),o.trigger("operation",{name:"color"}),o.trigger("operation.color.picked",{color:i}),D.data("color",i),A.css("background-color",i),window.localStorage.setItem("jira.wikieditor.last.color",i)});var F=p.find(".wiki-edit-visible-toggle"),S="true"===localStorage.getItem("jira.wikieditor.visibility"+i.name+"."+i.id);S&&(F.addClass("active"),g.addClass("wiki-edit-toolbar-compact")),F.on("click",d),g.parent().on("click",".wiki-edit-toolbar-compact",d),e(document).on("showWikiPreview",function(t,a){e(a).find(i).length&&g.addClass("hidden")}),e(document).on("showWikiInput",function(t,a){e(a).find(i).length&&g.removeClass("hidden")})}}},initBrowseLink:function(t){var i=this.wikiEditor,a=e(t),n=a.parent().siblings().find(".wiki-attachment-browse"),r=e("#dnd-metadata-webpanel").data("can-attach"),f=a.closest(".jira-dialog").length>0||a.closest("form#issue-create").length>0;if(f){var p=["#create-issue-dialog:visible","#create-subtask-dialog:visible","#edit-issue-dialog:visible","#create-linked-issue-dialog:visible"],g=e(p.join(",")),m=g.length>0;r=e(".jira-dialog fieldset span:contains('Attachment')").length>0,m||(g=a.closest(".dialog-can-receive-files:visible"),m=g.length>0,r=g.data("can-attach"));var v=g.data("insert-markup-on-browse")}var k=a.parent().siblings().find(".wiki-edit-attachment-picker-trigger"),w=s.isFeatureEnabled("disable-wiki-editor-attachment"),b=s.isFeatureEnabled("disable-wiki-editor-attachment-in-issue-create"),y=s.isFeatureEnabled("disable-wiki-editor-attachment-in-issue-transition"),E=s.isFeatureEnabled("disable_attachments_ecosystem_issue_create"),C=[];if(E){var _="#create-issue-dialog:visible",T="form#issue-create";C.push(_),C.push(T)}if(b){var I="#create-linked-issue-dialog:visible";C.push(I)}if(y){var j="#issue-workflow-transition:visible";C.push(j)}var x=e(C.join(",")).length>0;if(r=r&&!(w&&x),!r||f&&!m){n.closest("div").addClass("hidden");var D=e("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content"),A=D.length>0,F=f&&m&&("create-issue-dialog"===g.attr("id")||"create-subtask-dialog"===g.attr("id")),S=A&&!F;S||k.addClass("hidden")}else n.closest("div").removeClass("hidden"),k.removeClass("hidden"),n.data("initialised")||(n.on("click",function(t){t.preventDefault(),c(t.target);var a=function(){var t=e('<input type="file" multiple />');t.change(function(a){var n=t[0].files;if(f){var o=e.Event("drop");o.dataTransfer={files:n},g.find(".issue-drop-zone__target").trigger(o)}else d.trigger("attachmentForPageReceived",{files:n,isWikiTextfieldFocused:!0});if(!f||v)for(var r=0;r<n.length;r++){var l=n[r].name;u(i,l,h(l))}}),t.click(),o.trigger("attachment.dropdown.button.clicked.browse")},n={onFileUploadStarted:function(t){u(i,t.name,h(t.name))},blockWikiEditorMarkupInsert:!0};l.doUpload(n)?o.trigger("issue.wiki-editor.browse-link.media-picker"):(o.trigger("issue.wiki-editor.browse-link.fallback"),a())}),n.data("initialised",!0))}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/WikiEditorUtil.js' */
define("wiki-edit/WikiEditorUtil",["jquery","underscore"],function(i,e){var t={cssClass:"aui-iconfont-devtools-file",title:"File"},n={pdf:"aui-iconfont-file-pdf",gif:"aui-iconfont-image",png:"aui-iconfont-image",jpeg:"aui-iconfont-image",jpg:"aui-iconfont-image",xml:"aui-iconfont-file-code",html:"aui-iconfont-file-code",htm:"aui-iconfont-file-code",txt:"aui-iconfont-file-txt",zip:"aui-iconfont-file-zip",gz:"aui-iconfont-file-zip",tar:"aui-iconfont-file-zip",rar:"aui-iconfont-file-zip","7z":"aui-iconfont-file-zip",doc:"aui-iconfont-file-doc",docx:"aui-iconfont-file-doc",xls:"aui-iconfont-file-xls",xlsx:"aui-iconfont-file-xls",xlsm:"aui-iconfont-file-xls",ppt:"aui-iconfont-file-ppt",pptx:"aui-iconfont-file-ppt",java:"aui-iconfont-file-code",c:"aui-iconfont-file-code",h:"aui-iconfont-file-code",cpp:"aui-iconfont-file-code",hpp:"aui-iconfont-file-code",scala:"aui-iconfont-file-code",php:"aui-iconfont-file-code",css:"aui-iconfont-file-code",less:"aui-iconfont-file-code",soy:"aui-iconfont-file-code",js:"aui-iconfont-file-code",jar:"aui-iconfont-file-zip",war:"aui-iconfont-file-zip",obr:"aui-iconfont-file-zip"},o={pdf:"PDF File",gif:"GIF File",png:"PNG File",jpeg:"JPEG File",jpg:"JPEG File",xml:"XML File",html:"HTML File",htm:"HTML File",txt:"Text File",zip:"Zip Archive",gz:"GZip Archive",doc:"Microsoft Word",docx:"Microsoft Word",xls:"Microsoft Excel",xlsx:"Microsoft Excel",xlsm:"Microsoft Excel",ppt:"Microsoft PowerPoint",pptx:"Microsoft PowerPoint",java:"Java Source File",jar:"Java Archive File",war:"Java Archive File"};return{defaultAttachmentTypeIcon:t,translateMimeTypeToAttachmentTypeIcon:function(i){return{cssClass:JIRA.Templates.ViewIssue.matchFileClass({mimetype:i}),title:JIRA.Templates.ViewIssue.matchFileIconAlt({mimetype:i})}},translateFileExtensionToAttachmentTypeIcon:function(i){var c=e.clone(t);if("string"!=typeof i)return c;i=i.toLowerCase(),i=i.replace(/^\.+/,"");var f=n[i];"string"==typeof f&&(c.cssClass=f);var a=o[i];return"string"==typeof a&&(c.title=a),c},compareVersion:function(e,t){var n=e.split("."),o=t.split("."),c=NaN;return i(n).each(function(i,e){if(i>=o.length)return!1;var t=Number(e),n=Number(o[i]);return isNaN(t)||isNaN(n)?(c=NaN,!1):t<n?(c=-1,!1):t>n?(c=1,!1):void(c=0)}),0==c&&n.length!=o.length?n.length>o.length?1:-1:c},getFileExtension:function(i){if("string"!=typeof i)return"";var e=i.match(/\.(\w{1,5})$/i);return e&&e.length>1?e[1]:""}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = 'jira-wiki-editor-module/js/SpeechRecognition.js' */
define("wiki-edit/SpeechRecognition",["jquery","aui/flag"],function(e,t){function i(e){return e&&e[0]&&e[0].isFinal}function r(e){return e&&e[0]&&e[0][0]&&e[0][0].transcript||""}return{start:function(e){var t=this,o=new webkitSpeechRecognition;o.continuous=!1,o.interimResults=!0,o.lang=AJS.Meta.get("user-locale").replace("_","-"),o.stop(),o.start(),o.onstart=function(){t.showTimedMessage({title:"You can start speaking now :)"},"info",10),t.selectionStart=e.manipulationEngine.getSelection().start},o.onresult=function(n){t.dismissCurrentMessage();var s=i(n.results),a=r(n.results);a=a.charAt(0).toUpperCase()+a.slice(1),s&&e.undoRedoEl.recordHistoryItem(),e.manipulationEngine.replaceSelectionWith.call(e.manipulationEngine,a,!1);var l=t.selectionStart+a.length;s?(e.manipulationEngine.setSelection(l),e.undoRedoEl.recordHistoryItem(),e.$el.trigger("input"),o.stop()):e.manipulationEngine.setSelection(t.selectionStart,l)},o.onerror=function(e){o.stop();var i={title:"Sorry, I can\'t hear you :(",body:""};switch(e.error){case"not-allowed":i.title="Speech recognition is currently disabled",i.body="Click the camera icon in the browser\'s address bar to enable it.";break;case"network":i.title="No internet connection",i.body="You need a working internet connection to use speech recognition.";break;case"no-speech":i.title="Sorry, I couldn\'t hear anything :(",i.body="Is your microphone working and unmuted?";break;case"aborted":return}t.showTimedMessage(i,"warning",5)},o.onend=function(){o.stop()}},showTimedMessage:function(e,i,r){this.dismissCurrentMessage(),this.speakFlag=t({type:i,title:e.title,body:e.body,persistent:!0}),clearTimeout(this.flagTimer),this.flagTimer=setTimeout(this.dismissCurrentMessage.bind(this),1e3*r)},dismissCurrentMessage:function(){this.speakFlag&&this.speakFlag.close&&(this.speakFlag.close(),this.speakFlag=null)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:skate', location = 'jira-wiki-editor-module/js/lib/skate.js' */
define("wiki-edit/skate",["jira/skate"],function(e){return e});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources-init', location = 'jira-wiki-editor-module/js/wiki-editor-init.js' */
require(["wiki-edit/WikiEditor","wiki-edit/JIRA","wiki-edit/skate","jquery","underscore"],function(i,t,e,o,n){function s(t){var e=this instanceof Element?this:t,s=function(t){i.create(t),i.initBrowseLink(t),t.wikiEnabled=!0};e.wikiEnabled===!1&&(o(e).is(":hidden")?n.defer(s,e):s(e))}function d(){return{type:e.type.CLASSNAME,attached:s,prototype:{wikiEnabled:!1}}}e("wiki-textfield",d()),e("wiki-enabled-textfield",d()),o(function(){o("#gh").length>0&&(t.Dialogs.comment.options.width=810,t.Dialogs.assignIssue.options.width=810,t.Dialogs.attachFile.options.width=810,t.Dialogs.logWork.options.width=810,t.Dialogs.logWork.options.width=810)})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'jira-agile-module/includes/js/rapid/AnalyticsTracker.js' */
define("jira-agile/rapid/analytics-tracker",["require"],function(e){var r=e("underscore");function a(e,a,i){if(r.isUndefined(e))throw new Error("You must specify a category");this.params={},this.params.category=e;e=0;r.isUndefined(a)||(this.params.action=a,e++,r.isUndefined(i)||(this.params.label=i,e++)),this.requiredArgumentNames=["action","label","value"].slice(e),this.useAsync=!0}return a.prototype.setAsync=function(e){return this.useAsync=e,this},a.prototype.trigger=function(){for(var e=r.clone(this.params),a=0;a<arguments.length&&!r.isUndefined(this.requiredArgumentNames[a]);a++)e[this.requiredArgumentNames[a]]=arguments[a];this._validateParams(e);AJS.$(AJS).trigger("gh.analytics.async",e)},a.prototype._validateParams=function(a){r.each(["category","action","label"],function(e){r.isUndefined(a[e])||r.isString(a[e])?r.isUndefined(a[e])&&(a[e]=""):a[e]=a[e].toString()}),r.each(["category","action"],function(e){a[e]=a[e].replace(/\s+/g,"")}),r.isUndefined(a.value)||(a.value=parseInt(a.value,10),isNaN(a.value)&&(a.value=void 0))},a}),AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalissueoperations', location = 'jira-agile-module/includes/js/gh-globalissueoperations.js' */
!function(){function i(r,i){var e="";return(r=AJS.$(r)).hasClass("js-rapidboard-operation-sprint")?e="sprint.":r.hasClass("js-rapidboard-operation-issue")&&(e="issue."),e+=i}var e=new(require("jira-agile/rapid/analytics-tracker"))("gh.issueaction.gotorapidboard").setAsync(!1),r=require("jira/dialog/form-dialog"),a=require("jira/dialog/dialog-register"),o=new(r.extend({_performRedirect:function(r){e.trigger("direct"),window.location.href=r}}))({id:"gh-rapidboard-dialog",trigger:"a.issueaction-greenhopper-rapidboard-operation",ajaxOptions:function(){return a.getDefaultAjaxOptions.apply(this,arguments)}});AJS.$(function(){AJS.$(document).on("simpleClick",".issueaction-greenhopper-rapidboard-operation",function(r){r.preventDefault();r=i(r.currentTarget,"open");e.trigger(r),o.show()}),AJS.$(document).on("simpleClick",".js-select-rapidboard",function(r){r=i(r.currentTarget,"chosen");e.trigger(r)})})}();;
;
/* module-key = 'jira.webresources:header', location = '/includes/jira/common/headerModule.js' */
define("jira/common/header",["jira/util/formatter","jira/message","jira/issue","jira/util/events","jquery","exports","wrm/context-path"],function(e,n,t,s,i,r,o){var a,c,u,d,p={},f={getPath:function(){return window.location.pathname}},m=function(n,t){var s=n.substr(0,n.indexOf("-"));return e.format('<a href="{0}" target="_blank">',o()+"/plugins/servlet/project-config/"+s+"/"+t)},l=function(e){e&&n.showSuccessMsg(e,{closeable:!0}),p={}},I=function(e,n){var t="";return p.versionCreated&&(t="<p>"+e+"</p>"),p.componentCreated&&(t+="<p>"+n+"</p>"),t},g=function(){var e=/jira\/software\/(c\/)?projects\/[a-zA-Z0-9]+\/boards\/\d+\/roadmap/g;return e.test(f.getPath())},v=function(){var e=/jira\/software\/projects\/[a-zA-Z0-9]+\/((boards\/\d+(\/)?$)|(boards\/\d+\/backlog)\/?)/g;return e.test(f.getPath())},b=function(){return!!(JIRA&&JIRA.Issues&&JIRA.Issues.Application)&&JIRA.Issues.Application};r.initialize=function(){s.bind("QuickCreateIssue.sessionComplete",a=function(n,s){if(!g()&&!v()){var i=[].concat(s).pop(),r=t.issueCreatedMessage(i);r+=I(e.format("You also added a new version to this project. You can set a release date for this version in {0}project admin{1}.",m(i.issueKey,"versions"),"</a>"),e.format("You also added a new component to this project. You can assign a component lead for this component in {0}project admin{1}.",m(i.issueKey,"administer-components"),"</a>")),l(r)}}),b()&&b().on("issueEditor:saveSuccess",c=function(n){var s=n&&n.issueKey?n.issueKey:t.getIssueKey(),i=I(e.format("A new version has been added to your project. You can set a release date for this version in {0}project admin{1}.",m(s,"versions"),"</a>"),e.format("A new component has been added to your project. You can assign a component lead for this component in {0}project admin{1}.",m(s,"administer-components"),"</a>"));l(i)}),s.bind("Issue.Version.new.selected",u=function(){p.versionCreated=!0}),s.bind("Issue.Component.new.selected",d=function(){p.componentCreated=!0})},r.unbind=function(){s.unbind("QuickCreateIssue.sessionComplete",a),s.unbind("Issue.Version.new.selected",u),s.unbind("Issue.Component.new.selected",d),b()&&b().unbind("issueEditor:saveSuccess",c)},r.location=f});;
;
/* module-key = 'jira.webresources:header', location = '/includes/jira/common/initHeader.js' */
!function(){var i=require("jira/common/header");jQuery(function(){i.initialize()})}();;
;
/* module-key = 'jira.webresources:global-static', location = '/includes/jira/wikipreview/wiki-renderer.js' */
AJS.$(function(){AJS.$(".code-bidi-warning").tooltip()});;
;
/* module-key = 'com.atlassian.auiplugin:ajs-raf', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/raf/raf.js' */
("undefined"===typeof window?global:window).__0e57a5ff611a3173e3f9aa2306aea259=function(){for(var a=window,f=0,d=["webkit","moz"],b=a.requestAnimationFrame,c=a.cancelAnimationFrame,e=d.length;0<=--e&&!b;)b=a[d[e]+"RequestAnimationFrame"],c=a[d[e]+"CancelAnimationFrame"];if(!b||!c)b=function(a){var b=Date.now(),c=Math.max(f+16,b);return setTimeout(function(){a(f=c)},c-b)},c=clearTimeout;a.requestAnimationFrame=b;a.cancelAnimationFrame=c;return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-is-input', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/is-input.js' */
("undefined"===typeof window?global:window).__f268bb685e7e11f511cb91a156a783b0=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){return"value"in a||a.isContentEditable};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-raf-raf', location = 'auiplugin/node_modules/@atlassian/aui/src/js-vendor/raf/raf.js' */
("undefined"===typeof window?global:window).__0e57a5ff611a3173e3f9aa2306aea259=function(){for(var a=window,f=0,d=["webkit","moz"],b=a.requestAnimationFrame,c=a.cancelAnimationFrame,e=d.length;0<=--e&&!b;)b=a[d[e]+"RequestAnimationFrame"],c=a[d[e]+"CancelAnimationFrame"];if(!b||!c)b=function(a){var b=Date.now(),c=Math.max(f+16,b);return setTimeout(function(){a(f=c)},c-b)},c=clearTimeout;a.requestAnimationFrame=b;a.cancelAnimationFrame=c;return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-has-touch', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/has-touch.js' */
("undefined"===typeof window?global:window).__29f0b74d9ef495751062ec4e83e0b098=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=window.DocumentTouch;a.default="ontouchstart"in window||b&&document instanceof b;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-mediaQuery', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/internal/mediaQuery.js' */
("undefined"===typeof window?global:window).__e67a99ea27950f14c1291fb7cebabf6d=function(){var a={};Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){if(window.matchMedia)return window.matchMedia(a).matches;var b=document.createElement("style");b.type="text/css";b.id="testMedia";b.innerText="@media "+a+" { #testMedia { width: 1px; } }";document.head.appendChild(b);a="1px"===window.getComputedStyle(b,null).width;b.parentNode.removeChild(b);return a};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-sidebar', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/sidebar.js' */
("undefined"===typeof window?global:window).__c0275cfdb12ae34a5641a8e219403604=function(){function j(a){return a&&a.__esModule?a:{"default":a}}function c(a){this.$el=(0,e.default)(a);if(this.$el.length){this.$body=(0,e.default)("body");this.$wrapper=this.$el.children(".aui-sidebar-wrapper");this.$body.addClass("aui-page-sidebar");this._previousOffsetTop=this._previousViewportWidth=this._previousViewportHeight=this._previousScrollTop=null;this.submenus=new g;var b=this;if((0,e.default)(".aui-sidebar").length){b.$el.on("hover click focus",
b.collapsedTriggersSelector,function(a){a=(0,e.default)(a.target);r(b,a)});if(y.default&&(0,z.default)("only screen and (max-device-width:1024px)"))(0,e.default)("body").addClass("aui-page-sidebar-touch");var d=null,c=function(){null===d&&(d=requestAnimationFrame(function(){b.reflow();d=null}))};(0,e.default)(window).on("scroll resize",c);b.reflow();if(b.isAnimated())b.$el.on("transitionend webkitTransitionEnd",function(){b.$el.trigger(e.default.Event(l+(b.isCollapsed()?"collapse-end":"expand-end")))});
b.$el.on("click",".aui-sidebar-toggle",function(a){a.preventDefault();b.toggle()});(0,e.default)(".aui-page-panel").click(function(){!b.isCollapsed()&&b.isViewportNarrow()&&b.collapse()});var s=function(a){a.which===AJS.keyCode.LEFT_SQUARE_BRACKET&&(!a.shiftKey&&!a.ctrlKey&&!a.metaKey&&!(0,A.default)(a.target))&&b.toggle()};(0,e.default)(document).on("keypress",s);b._remove=function(){this._removeAllTooltips();(0,e.default)(this.inlineDialogSelector).remove();this.$el.off();this.$el.remove();(0,e.default)(document).off("keypress",
s);(0,e.default)(window).off("scroll resize",c)};b.$el.on("touchend",function(a){b.isCollapsed()&&(b.expand(),a.preventDefault())});b.$el.on("mouseenter focus",b.collapsedTriggersSelector,function(){if(b.isCollapsed()){var a=(0,e.default)(this);0!==m(a).length||t(a)}});b.$el.on("click blur mouseleave",b.collapsedTriggersSelector,function(){b.isCollapsed()&&u((0,e.default)(this))});b.$el.on("mouseenter focus",b.toggleSelector,function(){var a=(0,e.default)(this);b.isCollapsed()?a.data("tooltip","Expand sidebar ( [ )"):
a.data("tooltip","Collapse sidebar ( [ )");t(a)});b.$el.on("click blur mouseleave",b.toggleSelector,function(){u((0,e.default)(this))});b.$el.on("keydown",b.collapsedTriggersSelector,function(a){if(b.isCollapsed()){var d=a.target,c=v(d);if(c){var f=(0,e.default)(c);a.keyCode===AJS.keyCode.TAB&&(!a.shiftKey&&!a.altKey)&&c.open&&(a.preventDefault(),f.attr("persistent",""),f.find(":aui-tabbable").first().focus(),setTimeout(function(){f.removeAttr("persistent")},100),f.on("keydown",
function(a){if(a.keyCode===AJS.keyCode.TAB&&a.shiftKey&&a.target===f.find(":aui-tabbable")[0]||a.keyCode===AJS.keyCode.TAB&&(!a.shiftKey&&!a.altKey)&&a.target===f.find(":aui-tabbable").last()[0])d.focus(),(0,e.default)(this).off("keydown"),p()}))}}})}var f=this;(0,e.default)(f.collapsedTriggersSelector).each(function(){var a=(0,e.default)(this);r(f,a)})}}function w(a){return e.default.map(a.split(" "),function(a){return l+a}).join(" ")}function g(){this.inlineDialog=null}function m(a){return a.is("a")?
a.next(".aui-nav"):a.children(".aui-nav, hr")}function v(a){a=a.getAttribute("aria-controls");return document.getElementById(a)}function p(){var a=document.querySelectorAll(c.prototype.inlineDialogSelector);Array.prototype.forEach.call(a,function(a){a.open=!1})}function r(a,b){if(!b.data("_aui-sidebar-submenu-constructed")&&(b.data("_aui-sidebar-submenu-constructed",!0),0!==m(b).length)){var d=document.createElement("aui-inline-dialog"),g=(0,B.default)("sidebar-submenu");b.attr("aria-controls",g);
b.attr("data-aui-trigger","");x.default.init(b);d.setAttribute("id",g);d.setAttribute("alignment","right top");d.setAttribute("aria-hidden","true");a.isCollapsed()&&d.setAttribute("responds-to","hover");(0,e.default)(d).addClass(c.prototype.inlineDialogClass);document.body.appendChild(d);x.default.init(d);d.addEventListener("aui-layer-show",function(c){if(a.isCollapsed()){b.addClass("active");d.innerHTML=C;var f=b.is("a")?b.text():b.children(".aui-nav-heading").text(),c=(0,e.default)(d).find(".aui-navgroup-inner");
c.children(".aui-nav-heading").attr("title",f).children("strong").text(f);f=m(b);f=AJS.clone(f);f.hasClass("aui-expander-content")&&(f.find(".aui-expander-cutoff").remove(),f.removeClass("aui-expander-content"));f.appendTo(c)}else c.preventDefault()});d.addEventListener("aui-layer-hide",function(){b.removeClass("active")});return d}}function t(a){a.tipsy(D).tipsy("show");(a=a.data("tipsy")&&a.data("tipsy").$tip)&&a.css({opacity:""}).addClass("tooltip-shown")}function u(a){var b=a.data("tipsy")&&a.data("tipsy").$tip;
if(b){var d=b.css("transition-duration");d&&(d=0<=d.indexOf("ms")?parseInt(d.substring(0,d.length-2),10):1E3*parseInt(d.substring(0,d.length-1),10),setTimeout(function(){a.tipsy("hide")},d));b.removeClass("tooltip-shown")}}var o={};"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=j(__307d3e18fd611f85395c67cddeb1fe24);__f673a5150978887490995d88aeec0c8d;__0e57a5ff611a3173e3f9aa2306aea259;__d74c881c8f23921c15438d0f30c99f80;var k;var h=__c8cfa00f1eba9ac7af89ee3d0d33961d;if(h&&h.__esModule)k=
h;else{var n={};if(null!=h)for(k in h)Object.prototype.hasOwnProperty.call(h,k)&&(n[k]=h[k]);n.default=h;k=n}var h=j(__4d02fe17b8e885a34493e34af3d145dd),y=j(__29f0b74d9ef495751062ec4e83e0b098),A=j(__f268bb685e7e11f511cb91a156a783b0),z=j(__e67a99ea27950f14c1291fb7cebabf6d),x=j(__c1ce1f1e3e613f564fc234ff043570f1),B=j(__9fa5e8acd81f0f9028180b8fcdcd9cb4),n=j(__e3152236c406a356c24f20f7bfcccf21),E="undefined"!==typeof document.documentElement.style.transition||"undefined"!==typeof document.documentElement.style.webkitTransition,
l="_aui-internal-sidebar-";c.prototype.on=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1),a=w(a);this.$el.on.apply(this.$el,[a].concat(b));return this};c.prototype.off=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1),a=w(a);this.$el.off.apply(this.$el,[a].concat(b));return this};c.prototype.setHeight=function(a,b,d){a=Math.max(0,d-a);this.$wrapper.height(b-a);return this};c.prototype.setPosition=function(a){a=a||window.pageYOffset;this.$wrapper.toggleClass("aui-is-docked",
a>this.$el.offset().top);return this};c.prototype.setCollapsedState=function(a){var b={collapsed:{},expanded:{}};b.collapsed.narrow={narrow:e.default.noop,wide:function(b){b._expand(a,!0)}};b.collapsed.wide={narrow:e.default.noop,wide:e.default.noop};b.expanded.narrow={narrow:e.default.noop,wide:function(a){a.$body.removeClass("aui-sidebar-collapsed");a.$el.removeClass("aui-sidebar-fly-out")}};b.expanded.wide={narrow:function(a){a._collapse(!0)},wide:e.default.noop};var d=this.isCollapsed()?"collapsed":
"expanded",c=this.isViewportNarrow(this._previousViewportWidth)?"narrow":"wide",g=this.isViewportNarrow(a)?"narrow":"wide";b[d][c][g](this);return this};c.prototype._collapse=function(a){if(this.isCollapsed())return this;var b=e.default.Event(l+"collapse-start",{isResponsive:a});this.$el.trigger(b);if(b.isDefaultPrevented())return this;this.$body.addClass("aui-sidebar-collapsed");this.$el.attr("aria-expanded","false");this.$el.removeClass("aui-sidebar-fly-out");this.$el.find(this.submenuTriggersSelector).attr("tabindex",
0);(0,e.default)(this.inlineDialogSelector).attr("responds-to","hover");this.isAnimated()||this.$el.trigger(e.default.Event(l+"collapse-end",{isResponsive:a}));return this};c.prototype.collapse=function(){return this._collapse(!1)};c.prototype._expand=function(a,b){var d=e.default.Event(l+"expand-start",{isResponsive:b});this.$el.trigger(d);if(d.isDefaultPrevented())return this;d=this.isViewportNarrow(a);this.$el.attr("aria-expanded","true");this.$body.toggleClass("aui-sidebar-collapsed",d);this.$el.toggleClass("aui-sidebar-fly-out",
d);this.$el.find(this.submenuTriggersSelector).removeAttr("tabindex");(0,e.default)(this.inlineDialogSelector).removeAttr("responds-to");this.isAnimated()||this.$el.trigger(e.default.Event(l+"expand-end",{isResponsive:b}));return this};c.prototype.expand=function(){this.isCollapsed()&&this._expand(this._previousViewportWidth,!1);return this};c.prototype.isAnimated=function(){return E&&this.$el.hasClass("aui-is-animated")};c.prototype.isCollapsed=function(){return"false"===this.$el.attr("aria-expanded")};
c.prototype.isViewportNarrow=function(a){a=void 0===a?this._previousViewportWidth:a;return 1240>a};c.prototype._removeAllTooltips=function(){(0,e.default)(this.tooltipSelector).remove()};c.prototype.responsiveReflow=function(a,b){if(a){if(!this.isCollapsed()&&this.isViewportNarrow(b)){var d=this.isAnimated();d&&this.$el.removeClass("aui-is-animated");this.collapse();d&&(this.$el[0].offsetHeight,this.$el.addClass("aui-is-animated"))}}else b!==this._previousViewportWidth&&this.setCollapsedState(b)};
c.prototype.reflow=function(a,b,d,c){var a=void 0===a?window.pageYOffset:a,b=void 0===b?document.documentElement.clientHeight:b,c=void 0===c?document.documentElement.scrollHeight:c,d=void 0===d?window.innerWidth:d,e=this.$el.offset().top,f=null===this._previousViewportWidth;if(!(a===this._previousScrollTop&&b===this._previousViewportHeight&&e===this._previousOffsetTop)){this.isCollapsed()&&(!f&&a!==this._previousScrollTop)&&(p(),this._removeAllTooltips());var g=this.$body.hasClass("aui-page-sidebar-touch"),
c=a!==this._previousScrollTop&&(0>a||a+b>c);if(!g&&(f||!c))this.setHeight(a,b,e),this.setPosition(a)}"false"!==this.$el.attr("data-aui-responsive")?this.responsiveReflow(f,d):(f=!this.isCollapsed()&&this.isViewportNarrow(d),this.$el.toggleClass("aui-sidebar-fly-out",f));this._previousScrollTop=a;this._previousViewportHeight=b;this._previousViewportWidth=d;this._previousOffsetTop=e;return this};c.prototype.toggle=function(){this.isCollapsed()?(this.expand(),this._removeAllTooltips()):this.collapse();
return this};c.prototype.submenuTriggersSelector=".aui-sidebar-group:not(.aui-sidebar-group-tier-one)";c.prototype.collapsedTriggersSelector=[c.prototype.submenuTriggersSelector,".aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a",".aui-sidebar-footer > .aui-sidebar-settings-button"].join(", ");c.prototype.toggleSelector=".aui-sidebar-footer > .aui-sidebar-toggle";c.prototype.tooltipSelector=".aui-sidebar-section-tooltip";c.prototype.inlineDialogClass="aui-sidebar-submenu-dialog";c.prototype.inlineDialogSelector=
"."+c.prototype.inlineDialogClass;g.prototype.submenu=function(a){i();return m(a)};g.prototype.hasSubmenu=function(a){i();return 0!==m(a).length};g.prototype.submenuHeadingHeight=function(){i();return 34};g.prototype.isShowing=function(){i();return c.prototype.isSubmenuVisible()};g.prototype.show=function(a,b){i();v(b).open=!0};g.prototype.hide=function(){i();p()};g.prototype.inlineDialogShowHandler=function(){i()};g.prototype.inlineDialogHideHandler=function(){i()};g.prototype.moveSubmenuToInlineDialog=
function(){i()};g.prototype.restoreSubmenu=function(){i()};c.prototype.getVisibleSubmenus=function(){return Array.prototype.filter.call(document.querySelectorAll(c.prototype.inlineDialogSelector),function(a){return a.open})};c.prototype.isSubmenuVisible=function(){return 0<this.getVisibleSubmenus().length};var C='<div class="aui-inline-dialog-contents"><div class="aui-sidebar-submenu" ><div class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong></strong></div></div></div></div></div>',
D={trigger:"manual",gravity:"w",className:"aui-sidebar-section-tooltip",title:function(){var a=(0,e.default)(this);return a.is("a")?a.attr("title")||a.find(".aui-nav-item-label").text()||a.data("tooltip"):a.children(".aui-nav").attr("title")||a.children(".aui-nav-heading").text()}},q=(0,n.default)("sidebar",c);(0,e.default)(function(){q(".aui-sidebar")});var i=k.getMessageLogger("Sidebar.submenus",{removeInVersion:"6.0",sinceVersion:"5.8"});(0,h.default)("sidebar",q);o.default=q;return o=o["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-dialog2', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/dialog2.js' */
("undefined"===typeof window?global:window).__bdbf9d213bf319eb4577ef21ac6c491c=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function e(a){var c=this.$el=a?(0,g.default)(a):(0,g.default)(aui.dialog.dialog2({}));g.default.each(i,function(a,b){var d="data-"+a;c[0].hasAttribute(d)||c.attr(d,b)})}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var g=f(__307d3e18fd611f85395c67cddeb1fe24),j=f(__574ac67f906effeb9d8ec2753b23cf28),k=f(__4d02fe17b8e885a34493e34af3d145dd),
b=f(__fe0cd0a7ef176e2ef4e0e105d1ce31f5),l=f(__e3152236c406a356c24f20f7bfcccf21),i={"aui-focus":"false","aui-blanketed":"true"};e.prototype.on=function(a,c){(0,b.default)(this.$el).on(a,c);return this};e.prototype.off=function(a,c){(0,b.default)(this.$el).off(a,c);return this};e.prototype.show=function(){(0,b.default)(this.$el).show();return this};e.prototype.hide=function(){(0,b.default)(this.$el).hide();return this};e.prototype.remove=function(){(0,b.default)(this.$el).remove();return this};e.prototype.isVisible=
function(){return(0,b.default)(this.$el).isVisible()};var d=(0,l.default)("dialog2",e);d.on=function(a,c){b.default.on(a,".aui-dialog2",c);return this};d.off=function(a,c){b.default.off(a,".aui-dialog2",c);return this};(0,g.default)(document).on("click",".aui-dialog2-header-close",function(a){a.preventDefault();d((0,g.default)(this).closest(".aui-dialog2")).hide()});d.on("show",function(a,c){var b;[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"].some(function(a){b=c.find(a+" :aui-tabbable");
return b.length});b&&b.first().focus()});d.on("hide",function(a,c){var d=(0,b.default)(c);c.data("aui-remove-on-hide")&&d.remove()});(0,j.default)("aui/dialog2",d);(0,k.default)("dialog2",d);h.default=d;return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:dialog2', location = 'auiplugin/src/soy/dialog2.soy' */
// This file was automatically generated from dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dialog.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dialog == 'undefined') { aui.dialog = {}; }


aui.dialog.dialog2 = function(opt_data, opt_ignored) {
  return '' + aui.dialog.dialog2Chrome({id: opt_data.id, titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, modal: opt_data.modal, tagName: opt_data.tagName, removeOnHide: opt_data.removeOnHide, visible: opt_data.visible, size: opt_data.size, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.dialog.dialog2Content({id: null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, headerActionContent: opt_data.headerActionContent, headerSecondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal, content: opt_data.content, footerHintText: opt_data.footerHintText, footerHintContent: opt_data.footerHintContent, footerActionContent: opt_data.footerActionContent})});
};
if (goog.DEBUG) {
  aui.dialog.dialog2.soyTemplateName = 'aui.dialog.dialog2';
}


aui.dialog.dialog2Chrome = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.titleId) ? ' aria-labelledby="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' role="dialog" class=" aui-layer aui-dialog2 aui-dialog2-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'medium') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.modal) ? 'data-aui-modal="true"' : '') + ((opt_data.removeOnHide) ? 'data-aui-remove-on-hide="true"' : '') + ((opt_data.visible != true) ? 'aria-hidden="true"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Chrome.soyTemplateName = 'aui.dialog.dialog2Chrome';
}


aui.dialog.dialog2Content = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.dialog.dialog2Header({titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, actionContent: opt_data.headerActionContent, secondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal}) + aui.dialog.dialog2Panel(opt_data) + aui.dialog.dialog2Footer({hintText: opt_data.footerHintText, hintContent: opt_data.footerHintContent, actionContent: opt_data.footerActionContent});
};
if (goog.DEBUG) {
  aui.dialog.dialog2Content.soyTemplateName = 'aui.dialog.dialog2Content';
}


aui.dialog.dialog2Header = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<header' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-header' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><h2 ' + ((opt_data.titleId) ? ' id="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' class="aui-dialog2-header-main">' + ((opt_data.titleText) ? soy.$$escapeHtml(opt_data.titleText) : '') + ((opt_data.titleContent) ? soy.$$filterNoAutoescape(opt_data.titleContent) : '') + '</h2>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-header-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.secondaryContent) ? '<div class="aui-dialog2-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryContent) + '</div>' : '') + ((opt_data.modal != true) ? '<a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Close') + '</span></a>' : '') + '</header>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Header.soyTemplateName = 'aui.dialog.dialog2Header';
}


aui.dialog.dialog2Footer = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<footer' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-footer' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-footer-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.hintText || opt_data.hintContent) ? '<div class="aui-dialog2-footer-hint">' + ((opt_data.hintText) ? soy.$$escapeHtml(opt_data.hintText) : '') + ((opt_data.hintContent) ? soy.$$filterNoAutoescape(opt_data.hintContent) : '') + '</div>' : '') + '</footer>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Footer.soyTemplateName = 'aui.dialog.dialog2Footer';
}


aui.dialog.dialog2Panel = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Panel.soyTemplateName = 'aui.dialog.dialog2Panel';
}
;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-2.1.0-factory-legacy', location = 'atlassian-jslibs/factories/marionette/2.1.0/marionette-2.1.0-factory.js' */
!function(t){define("atlassian/libs/factories/marionette-2.1.0",function(){return function(e,i){var n={_:e,Backbone:i};return t.call(n),n.Marionette.noConflict()}})}(function(){/*!
   * Includes BabySitter
   * https://github.com/marionettejs/backbone.babysitter/
   *
   * Includes Wreqr
   * https://github.com/marionettejs/backbone.wreqr/
   */
!function(t,e){t.Marionette=e(t,t.Backbone,t._)}(this,function(t,e,i){"use strict";function n(t,e){var i=new Error(t);throw i.name=e||"Error",i}!function(t,e){var i=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(i.prototype,{add:function(t,e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var i=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){if(t===i)return delete this._indexByCustom[e],!0},this),delete this._views[i],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,i){e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i||[])})},_updateLength:function(){this.length=e.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(n,function(t){i.prototype[t]=function(){var i=e.values(this._views),n=[i].concat(e.toArray(arguments));return e[t].apply(e,n)}}),i}(t,e),t.ChildViewContainer.VERSION="0.1.4",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=i,this},t.ChildViewContainer}(e,i),function(t,e){var i=t.Wreqr,n=t.Wreqr={};return t.Wreqr.VERSION="1.3.1",t.Wreqr.noConflict=function(){return t.Wreqr=i,this},n.Handlers=function(t,e){var i=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,i){var n=null;e.isObject(t)&&!e.isFunction(t)&&(n=t.context,t=t.callback),this.setHandler(i,t,n)},this)},setHandler:function(t,e,i){var n={callback:e,context:i};this._wreqrHandlers[t]=n,this.trigger("handler:add",t,e,i)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(t,e),n.CommandStorage=function(){var i=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(i.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var i=this.getCommands(t);i.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),i}(),n.Commands=function(t){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);t.Handlers.prototype.constructor.apply(this,i)},execute:function(t,e){t=arguments[0],e=Array.prototype.slice.call(arguments,1),this.hasHandler(t)?this.getHandler(t).apply(this,e):this.storage.addCommand(t,e)},_executeCommands:function(t,i,n){var r=this.storage.getCommands(t);e.each(r.instances,function(t){i.apply(n,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var i,n=t.storageType||this.storageType;i=e.isFunction(n)?new n:n,this.storage=i}})}(n),n.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);if(this.hasHandler(t))return this.getHandler(t).apply(this,e)}})}(n),n.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,e),n.Channel=function(t){var i=function(e){this.vent=new t.EventAggregator,this.reqres=new t.RequestResponse,this.commands=new t.Commands,this.channelName=e};return e.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,i,n){if(i){n=n||this;var r="vent"===t?"on":"setHandler";e.each(i,function(i,o){this[t][r](o,e.bind(i,n))},this)}}}),i}(n),n.radio=function(t){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(i.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var i=this._channels[e];return i||(i=new t.Channel(e),this._channels[e]=i),i},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(n[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var n={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,e,i){return function(n){var r=t._getChannel(n)[e],o=Array.prototype.slice.call(arguments,1);return r[i].apply(r,o)}};return new i}(n),t.Wreqr}(e,i);var r=e.ChildViewContainer.noConflict(),o=e.Wreqr.noConflict(),s=t.Marionette,h=e.Marionette={};h.VERSION="2.1.0",h.noConflict=function(){return t.Marionette=s,this},e.Marionette=h,h.Deferred=e.$.Deferred;var a=Array.prototype.slice;return h.extend=e.Model.extend,h.getOption=function(t,e){if(t&&e){var i;return i=t.options&&void 0!==t.options[e]?t.options[e]:t[e]}},h.proxyGetOption=function(t){return h.getOption(this,t)},h.normalizeMethods=function(t){var e={};return i.each(t,function(t,n){i.isFunction(t)||(t=this[t]),t&&(e[n]=t)},this),e},h.normalizeUIKeys=function(t,e){if("undefined"!=typeof t)return i.each(i.keys(t),function(i){var n=/@ui\.[a-zA-Z_$0-9]*/g;i.match(n)&&(t[i.replace(n,function(t){return e[t.slice(4)]})]=t[i],delete t[i])}),t},h.actAsCollection=function(t,e){var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];i.each(n,function(n){t[n]=function(){var t=i.values(i.result(this,e)),r=[t].concat(i.toArray(arguments));return i[n].apply(i,r)}})},h.triggerMethod=function(){function t(t,e,i){return i.toUpperCase()}var e=/(^|:)(\w)/gi,n=function(n){var r,o="on"+n.replace(e,t),s=this[o];return i.isFunction(s)&&(r=s.apply(this,i.tail(arguments))),i.isFunction(this.trigger)&&this.trigger.apply(this,arguments),r};return n}(),h.MonitorDOMRefresh=function(t){function n(t){t._isShown=!0,o(t)}function r(t){t._isRendered=!0,o(t)}function o(t){t._isShown&&t._isRendered&&s(t)&&i.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}function s(i){return e.$.contains(t,i.el)}return function(t){t.listenTo(t,"show",function(){n(t)}),t.listenTo(t,"render",function(){r(t)})}}(document.documentElement),function(t){function e(t,e,r,o){var s=o.split(/\s+/);i.each(s,function(i){var o=t[i];o||n('Method "'+i+'" was configured as an event handler, but does not exist.'),t.listenTo(e,r,o)})}function r(t,e,i,n){t.listenTo(e,i,n)}function o(t,e,n,r){var o=r.split(/\s+/);i.each(o,function(i){var r=t[i];t.stopListening(e,n,r)})}function s(t,e,i,n){t.stopListening(e,i,n)}function h(t,e,n,r,o){e&&n&&(i.isFunction(n)&&(n=n.call(t)),i.each(n,function(n,s){i.isFunction(n)?r(t,e,s,n):o(t,e,s,n)}))}t.bindEntityEvents=function(t,i,n){h(t,i,n,r,e)},t.unbindEntityEvents=function(t,e,i){h(t,e,i,s,o)},t.proxyBindEntityEvents=function(e,i){return t.bindEntityEvents(this,e,i)},t.proxyUnbindEntityEvents=function(e,i){return t.unbindEntityEvents(this,e,i)}}(h),h.Callbacks=function(){this._deferred=h.Deferred(),this._callbacks=[]},i.extend(h.Callbacks.prototype,{add:function(t,e){var n=i.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),n.then(function(i){e&&(i.context=e),t.call(i.context,i.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=h.Deferred(),this._callbacks=[],i.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),h.Controller=function(t){this.options=t||{},i.isFunction(this.initialize)&&this.initialize(this.options)},h.Controller.extend=h.extend,i.extend(h.Controller.prototype,e.Events,{destroy:function(){var t=a.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.triggerMethod.apply(this,["destroy"].concat(t)),this.stopListening(),this.off(),this},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption}),h.Object=function(t){this.options=i.extend({},i.result(this,"options"),t),this.initialize(this.options)},h.Object.extend=h.extend,i.extend(h.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption,bindEntityEvents:h.proxyBindEntityEvents,unbindEntityEvents:h.proxyUnbindEntityEvents}),i.extend(h.Object.prototype,e.Events),h.Region=function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,this.el||n('An "el" must be specified for a region.',"NoElError"),this.$el=this.getEl(this.el),this.initialize){var i=a.apply(arguments);this.initialize.apply(this,i)}},i.extend(h.Region,{buildRegion:function(t,e){return i.isString(t)?this._buildRegionFromSelector(t,e):t.selector||t.el||t.regionClass?this._buildRegionFromObject(t,e):i.isFunction(t)?this._buildRegionFromRegionClass(t):void n("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,n){var r=t.regionClass||n,o=i.omit(t,"selector","regionClass");t.selector&&!o.el&&(o.el=t.selector);var s=new r(o);return t.parentEl&&(s.getEl=function(n){if(i.isObject(n))return e.$(n);var r=t.parentEl;return i.isFunction(r)&&(r=r()),r.find(n)}),s},_buildRegionFromRegionClass:function(t){return new t}}),i.extend(h.Region.prototype,e.Events,{show:function(t,e){this._ensureElement();var n=e||{},r=t!==this.currentView,o=!!n.preventDestroy,s=!!n.forceShow,h=!!this.currentView,a=!o&&r;a&&this.empty();var l=r||s;return l?(t.once("destroy",i.bind(this.empty,this)),t.render(),h&&this.triggerMethod("before:swap",t),this.triggerMethod("before:show",t),i.isFunction(t.triggerMethod)?t.triggerMethod("before:show"):this.triggerMethod.call(t,"before:show"),this.attachHtml(t),this.currentView=t,h&&this.triggerMethod("swap",t),this.triggerMethod("show",t),i.isFunction(t.triggerMethod)?t.triggerMethod("show"):this.triggerMethod.call(t,"show"),this):this},_ensureElement:function(){i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),this.$el&&0!==this.$el.length||n('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(t){return e.$(t)},attachHtml:function(t){this.el.innerHTML="",this.el.appendChild(t.el)},empty:function(){var t=this.currentView;if(t)return this.triggerMethod("before:empty",t),this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,this},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&t.remove()},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:h.proxyGetOption,triggerMethod:h.triggerMethod}),h.Region.extend=h.extend,h.RegionManager=function(t){var e=t.Controller.extend({constructor:function(e){this._regions={},t.Controller.call(this,e)},addRegions:function(t,e){i.isFunction(t)&&(t=t.apply(this,arguments));var n={};return i.each(t,function(t,r){i.isString(t)&&(t={selector:t}),t.selector&&(t=i.defaults({},t,e));var o=this.addRegion(r,t);n[r]=o},this),n},addRegion:function(e,n){var r,o=i.isObject(n),s=i.isString(n),h=!!n.selector;return r=s||o&&h?t.Region.buildRegion(n,t.Region):i.isFunction(n)?t.Region.buildRegion(n,t.Region):n,this.triggerMethod("before:add:region",e,r),this._store(e,r),this.triggerMethod("add:region",e,r),r},get:function(t){return this._regions[t]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return i.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return i.each(t,function(t){t.empty()},this),t},destroy:function(){return this.removeRegions(),t.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]=e,this._setLength()},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete this._regions[t],this._setLength(),this.triggerMethod("remove:region",t,e)},_setLength:function(){this.length=i.size(this._regions)}});return t.actAsCollection(e.prototype,"_regions"),e}(h),h.TemplateCache=function(t){this.templateId=t},i.extend(h.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new h.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=a.call(arguments),i=e.length;if(i>0)for(t=0;t<i;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),i.extend(h.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var i=e.$(t).html();return i&&0!==i.length||n('Could not find template: "'+t+'"',"NoTemplateError"),i},compileTemplate:function(t){return i.template(t)}}),h.Renderer={render:function(t,e){t||n("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");var i;return(i="function"==typeof t?t:h.TemplateCache.get(t))(e)}},h.View=e.View.extend({constructor:function(t){i.bindAll(this,"render"),this.options=i.extend({},i.result(this,"options"),i.isFunction(t)?t.call(this):t),this.events=this.normalizeUIKeys(i.result(this,"events")),i.isObject(this.behaviors)&&new h.Behaviors(this),e.View.apply(this,arguments),h.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,a.call(arguments,1))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return i.isFunction(e)&&(e=e.call(this)),i.extend(t,e)},normalizeUIKeys:function(t){var e=i.result(this,"ui"),n=i.result(this,"_uiBindings");return h.normalizeUIKeys(t,n||e)},configureTriggers:function(){if(this.triggers){var t={},e=this.normalizeUIKeys(i.result(this,"triggers"));return i.each(e,function(e,n){var r=i.isObject(e),o=r?e.event:e;t[n]=function(t){if(t){var i=t.preventDefault,n=t.stopPropagation,s=r?e.preventDefault:i,h=r?e.stopPropagation:n;s&&i&&i.apply(t),h&&n&&n.apply(t)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(o,a)}},this),t}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),this},_delegateDOMEvents:function(t){t=t||this.events,i.isFunction(t)&&(t=t.call(this)),t=this.normalizeUIKeys(t);var n={},r=i.result(this,"behaviorEvents")||{},o=this.configureTriggers();i.extend(n,r,t,o),e.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var t=a.call(arguments);return e.View.prototype.undelegateEvents.apply(this,t),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var t=new Error("Cannot use a view thats already been destroyed.");throw t.name="ViewDestroyedError",t}},destroy:function(){if(!this.isDestroyed){var t=a.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.remove(),this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=i.result(this,"_uiBindings");this.ui={},i.each(i.keys(t),function(e){var i=t[e];this.ui[e]=this.$(i)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:h.triggerMethod,normalizeMethods:h.normalizeMethods,getOption:h.proxyGetOption,bindEntityEvents:h.proxyBindEntityEvents,unbindEntityEvents:h.proxyUnbindEntityEvents}),h.ItemView=h.View.extend({constructor:function(){h.View.apply(this,arguments)},serializeData:function(){var t={};return this.model?t=i.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(t={items:i.partial(this.serializeCollection,this.collection).apply(this,arguments)}),t},serializeCollection:function(t){return t.toJSON.apply(t,a.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){t||n("Cannot render the template since it is null or undefined.","UndefinedTemplateError");var e=this.serializeData();e=this.mixinTemplateHelpers(e);var i=h.Renderer.render(t,e,this);return this.attachElContent(i),this}},attachElContent:function(t){return this.$el.html(t),this},destroy:function(){if(!this.isDestroyed)return h.View.prototype.destroy.apply(this,arguments)}}),h.CollectionView=h.View.extend({childViewEventPrefix:"childview",constructor:function(t){var e=t||{};this.sort=!!i.isUndefined(e.sort)||e.sort,this._initChildViewStorage(),h.View.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&i.invoke(this._bufferedChildren,"triggerMethod","before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(i.each(this._bufferedChildren,function(t){i.isFunction(t.triggerMethod)?t.triggerMethod("show"):h.triggerMethod.call(t,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t){this.destroyEmptyView();var e=this.getChildView(t),i=this.collection.indexOf(t);this.addChild(t,e,i)},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},onShowCalled:function(){this.children.each(function(t){i.isFunction(t.triggerMethod)?t.triggerMethod("show"):h.triggerMethod.call(t,"show")})},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var t=this.collection.find(function(t,e){var i=this.children.findByModel(t);return!i||i._index!==e},this);t&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var t;this.collection.each(function(e,i){t=this.getChildView(e),this.addChild(e,t,i)},this)},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var i=new e.Model;this.addEmptyView(i,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var n=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");i.isFunction(n)&&(n=n.call(this));var r=this.buildChildView(t,e,n);this._isShown&&this.triggerMethod.call(r,"before:show"),this.children.add(r),this.renderChildView(r,-1),this._isShown&&this.triggerMethod.call(r,"show")},getChildView:function(t){var e=this.getOption("childView");return e||n('A "childView" must be specified',"NoChildViewError"),e},addChild:function(t,e,n){var r=this.getOption("childViewOptions");i.isFunction(r)&&(r=r.call(this,t,n));var o=this.buildChildView(t,e,r);return this._updateIndices(o,!0,n),this._addChildView(o,n),o},_updateIndices:function(t,e,i){this.sort&&(e?(t._index=i,this.children.each(function(e){e._index>=t._index&&e._index++})):this.children.each(function(e){e._index>=t._index&&e._index--}))},_addChildView:function(t,e){this.proxyChildEvents(t),this.triggerMethod("before:add:child",t),this.children.add(t),this.renderChildView(t,e),this._isShown&&!this.isBuffering&&(i.isFunction(t.triggerMethod)?t.triggerMethod("show"):h.triggerMethod.call(t,"show")),this.triggerMethod("add:child",t)},renderChildView:function(t,e){return t.render(),this.attachHtml(this,t,e),t},buildChildView:function(t,e,n){var r=i.extend({model:t},n);return new e(r)},removeChildView:function(t){return t&&(this.triggerMethod("before:remove:child",t),t.destroy?t.destroy():t.remove&&t.remove(),this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1)),t},isEmpty:function(t){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},attachHtml:function(t,e,i){t.isBuffering?(t.elBuffer.appendChild(e.el),t._bufferedChildren.push(e)):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,e){var i,n=this.sort&&e<this.children.length-1;return n&&(i=this.children.find(function(t){return t._index===e+1})),!!i&&(i.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new r},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),h.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var t=this.children.map(i.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),t},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var n=a.call(arguments),r=n[0],o=this.normalizeMethods(i.result(this,"childEvents"));n[0]=e+":"+r,n.splice(1,0,t),"undefined"!=typeof o&&i.isFunction(o[r])&&o[r].apply(this,n.slice(1)),this.triggerMethod.apply(this,n)},this)}}),h.CompositeView=h.CollectionView.extend({constructor:function(){h.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(t){var e=this.getOption("childView")||this.constructor;return e||n('A "childView" must be specified',"NoChildViewError"),e},serializeData:function(){var t={};return this.model&&(t=i.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&h.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),i=h.Renderer.render(e,t,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var i=this.getChildViewContainer(t);i.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this);e.append(t.el)},getChildViewContainer:function(t){if("$childViewContainer"in t)return t.$childViewContainer;var e,r=h.getOption(t,"childViewContainer");if(r){var o=i.isFunction(r)?r.call(t):r;e="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:t.$(o),e.length<=0&&n('The specified "childViewContainer" was not found: '+t.childViewContainer,"ChildViewContainerMissingError")}else e=t.$el;return t.$childViewContainer=e,e},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),h.LayoutView=h.ItemView.extend({regionClass:h.Region,constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),h.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),h.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),h.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(t,e){this.triggerMethod("before:region:add",t);var i={};return i[t]=e,this._buildRegions(i)[t]},addRegions:function(t){return this.regions=i.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return this.triggerMethod("before:region:remove",t),delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e=this,i={regionClass:this.getOption("regionClass"),parentEl:function(){return e.$el}};return this.regionManager.addRegions(t,i)},_initializeRegions:function(t){var e;this._initRegionManager(),e=i.isFunction(this.regions)?this.regions(t):this.regions||{};var n=this.getOption.call(t,"regions");i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(t){t.reset()})},getRegionManager:function(){return new h.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})}}),h.Behavior=function(t,e){function i(e,i){this.view=i,this.defaults=t.result(this,"defaults")||{},this.options=t.extend({},this.defaults,e),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return t.extend(i.prototype,e.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption,bindEntityEvents:h.proxyBindEntityEvents,unbindEntityEvents:h.proxyUnbindEntityEvents}),i.extend=h.extend,i}(i,e),h.Behaviors=function(t,e){function i(t,r){r=i.parseBehaviors(t,r||e.result(t,"behaviors")),i.wrap(t,r,e.keys(n))}var n={setElement:function(t,i){return t.apply(this,e.tail(arguments,2)),e.each(i,function(t){t.$el=this.$el,t.el=this.el},this),this},destroy:function(t,i){var n=e.tail(arguments,2);return t.apply(this,n),e.invoke(i,"destroy",n),this},bindUIElements:function(t,i){t.apply(this),e.invoke(i,t)},unbindUIElements:function(t,i){t.apply(this),e.invoke(i,t)},triggerMethod:function(t,i){var n=e.tail(arguments,2);t.apply(this,n),e.each(i,function(e){t.apply(e,n)})},delegateEvents:function(i,n){var r=e.tail(arguments,2);return i.apply(this,r),e.each(n,function(e){t.bindEntityEvents(e,this.model,t.getOption(e,"modelEvents")),t.bindEntityEvents(e,this.collection,t.getOption(e,"collectionEvents"))},this),this},undelegateEvents:function(i,n){var r=e.tail(arguments,2);return i.apply(this,r),e.each(n,function(e){t.unbindEntityEvents(e,this.model,t.getOption(e,"modelEvents")),t.unbindEntityEvents(e,this.collection,t.getOption(e,"collectionEvents"))},this),this},behaviorEvents:function(i,n){var r={},o=e.result(this,"ui");return e.each(n,function(i,n){var s={},h=e.clone(e.result(i,"events"))||{},a=e.result(i,"ui"),l=e.extend({},o,a);h=t.normalizeUIKeys(h,l),e.each(e.keys(h),function(t){var r=new Array(n+2).join(" "),o=t+r,a=e.isFunction(h[t])?h[t]:i[h[t]];s[o]=e.bind(a,i)}),r=e.extend(r,s)}),r}};return e.extend(i,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(t,n){return t.behaviorClass?t.behaviorClass:e.isFunction(i.behaviorsLookup)?i.behaviorsLookup.apply(this,arguments)[n]:i.behaviorsLookup[n]},parseBehaviors:function(t,n){return e.chain(n).map(function(n,r){var o=i.getBehaviorClass(n,r),s=new o(n,t),h=i.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(h)}).flatten().value()},wrap:function(t,i,r){e.each(r,function(r){t[r]=e.partial(n[r],t[r],i)})}}),i}(h,i),h.AppRouter=e.Router.extend({constructor:function(t){e.Router.apply(this,arguments),this.options=t||{};var i=this.getOption("appRoutes"),n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();this._addAppRoute(i,t,e)},_processOnRoute:function(t,e){var n=i.invert(this.getOption("appRoutes"))[t];i.isFunction(this.onRoute)&&this.onRoute(t,n,e)},processAppRoutes:function(t,e){if(e){var n=i.keys(e).reverse();i.each(n,function(i){this._addAppRoute(t,i,e[i])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,r){var o=t[r];o||n('Method "'+r+'" was not found on the controller'),this.route(e,r,i.bind(o,t))},getOption:h.proxyGetOption}),h.Application=function(t){this._initializeRegions(t),this._initCallbacks=new h.Callbacks,this.submodules={},i.extend(this,t),this._initChannel()},i.extend(h.Application.prototype,e.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){
return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var i=h.Module.getClass(e),n=a.call(arguments);return n.unshift(this),i.create.apply(i,n)},getRegionManager:function(){return new h.RegionManager},_initializeRegions:function(t){var e=i.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var n=h.getOption(t,"regions");return i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this._regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this._regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_initChannel:function(){this.channelName=i.result(this,"channelName")||"global",this.channel=i.result(this,"channel")||o.radio.channel(this.channelName),this.vent=i.result(this,"vent")||this.channel.vent,this.commands=i.result(this,"commands")||this.channel.commands,this.reqres=i.result(this,"reqres")||this.channel.reqres},triggerMethod:h.triggerMethod,getOption:h.proxyGetOption}),h.Application.extend=h.extend,h.Module=function(t,e,n){this.moduleName=t,this.options=i.extend({},this.options,n),this.initialize=n.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,this.startWithParent=!0,i.isFunction(this.initialize)&&this.initialize(t,e,this.options)},h.Module.extend=h.extend,i.extend(h.Module.prototype,e.Events,{initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(i.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),i.each(this.submodules,function(t){t.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,n){if(t){var r=i.flatten([this,this.app,e,h,e.$,i,n]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new h.Callbacks,this._finalizerCallbacks=new h.Callbacks},triggerMethod:h.triggerMethod}),i.extend(h.Module,{create:function(t,e,n){var r=t,o=a.call(arguments);o.splice(0,3),e=e.split(".");var s=e.length,h=[];return h[s-1]=n,i.each(e,function(e,i){var s=r;r=this._getModule(s,e,t,n),this._addModuleDefinition(s,r,h[i],o)},this),r},_getModule:function(t,e,n,r,o){var s=i.extend({},r),h=this.getClass(r),a=t[e];return a||(a=new h(e,n,s),t[e]=a,t.submodules[e]=a),a},getClass:function(t){var e=h.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,i,n){var r=this._getDefine(i),o=this._getStartWithParent(i,e);r&&e.addDefinition(r,n),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var n;return i.isFunction(t)&&t.prototype instanceof h.Module?(n=e.constructor.prototype.startWithParent,!!i.isUndefined(n)||n):!i.isObject(t)||(n=t.startWithParent,!!i.isUndefined(n)||n)},_getDefine:function(t){return!i.isFunction(t)||t.prototype instanceof h.Module?i.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,i){e.startWithParent=e.startWithParent&&i,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),h})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = 'jira-projects-module/sidebar/lib/backbone.marionette.adapter.js' */
define("jira/projects/libs/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(e,r,t){"use strict";return t(r,e)}),AJS.namespace("JIRA.Projects.Libs.Marionette",null,require("jira/projects/libs/marionette"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = 'jira-projects-module/sidebar/lib/backbone.marionette.mixins.js' */
!function(){"use strict";function e(e,t){var i=this,r=_.defaults({},t||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0,i.trigger(e+":prevented",this)}});return this.trigger(e,r),r}function t(e,t){var i=this.triggerPreventable(e,t);i.isPrevented&&t.preventDefault()}_.extend(JIRA.Projects.Libs.Marionette.View.prototype,{unwrapTemplate:function(){if(this.$el.parent().length){var e=this.$el.children();this.$el.replaceWith(e),this.setElement(e)}else this.setElement(this.$el.children())},triggerPreventable:e,retriggerPreventable:t}),_.extend(JIRA.Projects.Libs.Marionette.Controller.prototype,{triggerPreventable:e,retriggerPreventable:t}),JIRA.Projects.Libs.Marionette.ViewManager=JIRA.Projects.Libs.Marionette.Controller.extend({constructor:function(){JIRA.Projects.Libs.Marionette.Controller.apply(this,arguments),this.views={}},hideView:function(e){var t=this.views[e];t&&(this.stopListening(t),t.isDestroyed||t.destroy(),delete this.views[e])},showView:function(e,t){var i=this.buildView(e,t);i.render()},buildView:function(e,t){var i=this.views[e];return i||(i=t.call(this),this.listenTo(i,"destroy",function(){this.hideView(e)}),this.views[e]=i),i},getView:function(e){return this.views[e]}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'jira-projects-module/data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'jira-projects-module/page/projects-api.js' */
define("jira/api/projects",["jira/projects/data/WRM"],function(e){"use strict";function t(t,r){if(void 0!==t)return t;var n=e.data.claim(r);return void 0!==n?n:AJS.Meta.get(r)}function r(e){return AJS.$('meta[name="'+e+'"]').attr("content")}var n=e.data.claim("project-key"),i=e.data.claim("project-id"),c=e.data.claim("project-name"),a=e.data.claim("project-type"),o=e.data.claim("is-project-admin"),u=e.data.claim("project-simplified");return{ProjectType:Object.freeze({SOFTWARE:"software",BUSINESS:"business"}),getCurrentProjectId:function(e){return i=t(i,"project-id"),(null==i||e)&&(i=r("ghx-project-id")),i},getCurrentProjectKey:function(e){return n=t(n,"project-key"),(null==n||e)&&(n=r("ghx-project-key")),n},getCurrentProjectName:function(){return c=t(c,"project-name")},getCurrentProjectType:function(){return a=t(a,"project-type")},isCurrentUserProjectAdmin:function(){return o=t(o,"is-project-admin")},isCurrentProjectSimplified:function(){return u=t(u,"project-simplified")}}}),AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = 'jira-projects-module/sidebar/component/component.js' */
define("jira/projects/sidebar/component",["underscore","jira/projects/data/WRM"],function(e,t){"use strict";var r=Boolean(t.data.claim("is-global-sidebar"));return JIRA.Projects.Libs.Marionette.CompositeView.extend({childEvents:{"before:select":function(e,t){this.hasASelectedItem()||(t.isInitial=!0),this.retriggerPreventable("before:select",t),t.isPrevented||this.deselectAllGroups()},select:function(e,t){this.trigger("select",t)},"before:deselect":function(e,t){this.retriggerPreventable("before:deselect",t)},deselect:function(e,t){this.trigger("deselect",t)},"before:navigate":function(e,t){this.retriggerPreventable("before:navigate",t)},"before:navigate:prevented":function(e,t){this.trigger("before:navigate:prevented",t)}},events:{"click .js-nav-project-title-link":"_clickProjectName","click .js-nav-project-avatar-link":"_clickProjectAvatar","click a[data-link-id='com.atlassian.jira.jira-projects-plugin:summary-page']":"_clickProjectSummary"},initialize:function(){this.render({force:!0});try{this.tracker=require("jira/components/analytics-tracker/tracker")}catch(e){}this.bindUIElements();var t=AJS.sidebar(".aui-sidebar");e.each(["expand-end","collapse-end","collapse-start"],function(e){t.on(e,function(){this.trigger(e)}.bind(this))}.bind(this))},render:function(t){t=e.defaults({},t,{force:!1});var r="el"in t,i=r||t.force===!0,n=this.children.length>0;if(!i)return this;var a=this.triggerPreventable("before:render");if(a.isPrevented)return this;if(n){var c=this.triggerPreventable("before:detach");if(c.isPrevented)return this;this.destroyChildren({checkEmpty:!1}),this.trigger("detach")}if(r){var o=jQuery(t.el);this.$el.replaceWith(o),this.setElement(o)}return this.$(".aui-sidebar-group").each(e.bind(function(e,t){var r=new JIRA.Projects.Sidebar.Component.NavigationGroup({el:t}),i=!!this.getGroup(r.id);i&&AJS.warn&&AJS.warn('Duplicated IDs detected. There are more than one NavigationGroup with id data-id="'+r.id+'"'),this.proxyChildEvents(r),this.children.add(r,r.id)},this)),this.trigger("render"),this},reflow:function(){AJS.sidebar(".aui-sidebar").reflow()},isCollapsed:function(){return AJS.sidebar(".aui-sidebar").isCollapsed()},deselectAllGroups:function(){this.children.call("deselect")},on:function(){return JIRA.Projects.Libs.Marionette.CompositeView.prototype.on.apply(this,arguments)},off:function(){return JIRA.Projects.Libs.Marionette.CompositeView.prototype.off.apply(this,arguments)},replaceGroup:function(e,t){var r=this.getGroup(e);r.$el.replaceWith(t.$el),t.cid=r.cid,this.children.remove(r),this.children.add(t,t.id)},getGroup:function(e){return this.children.findByCustom(e)},getGroupAt:function(e){return this.children.findByIndex(e)},getItem:function(e){return this.getDefaultGroup().getItem(e)},getElement:function(){return this._trackDeprecated("getElement"),this.el},getDefaultGroup:function(){return this.getGroup("sidebar-navigation-panel")},isProjectSidebar:function(){return!r},getSelectedScopeFilterId:function(){return this._trackDeprecated("getSelectedScopeFilterId"),this.$(".scope-filter a.scope-filter-trigger").attr("data-scope-filter-id")},setReportsItemLink:function(e){this._trackDeprecated("setReportsItemLink");var t=this.getGroup("sidebar-navigation-panel"),r=t.getItem("com.atlassian.jira.jira-projects-plugin:report-page");"undefined"==typeof r&&(r=t.getItem("com.pyxis.greenhopper.jira:global-sidebar-report")),r&&r.attr("href",e)},getAUISidebar:function(){return this._trackDeprecated("getAUISidebar"),AJS.sidebar(".aui-sidebar")},getContentContainer:function(){return this._trackDeprecated("getContentContainer"),this.$(".aui-sidebar-body .sidebar-content-container")},getSelectedNavigationItem:function(){return this.getDefaultGroup().getSelectedNavigationItem()},hasASelectedItem:function(){return this.getDefaultGroup().hasASelectedItem()},dim:function(){this._trackDeprecated("dim"),this.$el.attr({dimmed:"","aria-hidden":"true"})},undim:function(){this._trackDeprecated("undim"),this.$el.removeAttr("dimmed"),this.$el.removeAttr("aria-hidden")},_clickProjectName:function(){"undefined"!=typeof this.tracker&&this.tracker.trackEvent("project.sidebar","click.projectName")},_clickProjectAvatar:function(){"undefined"!=typeof this.tracker&&this.tracker.trackEvent("project.sidebar","click.avatar")},_clickProjectSummary:function(){"undefined"!=typeof this.tracker&&this.tracker.trackEvent("project.sidebar","click.projectSummary")},_trackDeprecated:function(e){AJS.warn("The Sidebar method "+e+" is going to be deprecated"),AJS.trigger("analyticsEvent",{name:"jira.project.centric.navigation.sidebar.method.deprecated",data:{method:e}})}})}),AJS.namespace("JIRA.Projects.Sidebar.Component",null,require("jira/projects/sidebar/component"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = 'jira-projects-module/sidebar/component/navigation-item.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationItem"),JIRA.Projects.Sidebar.Component.NavigationItem=JIRA.Projects.Libs.Marionette.CompositeView.extend({ui:{link:"a.aui-nav-item"},events:{'simpleClick @ui.link:not([target="_blank"])':function(e){e.preventDefault(),this.navigate()}},initialize:function(){this.id=this.$el.find(">a").attr("data-link-id"),this.bindUIElements()},onDestroy:function(){this.unbind()},getElement:function(){return this._trackDeprecated("getElement"),this.el},navigate:function(){if(this.select()){var e=this.triggerPreventable("before:navigate");if(e.isPrevented)return!1;var t=this.ui.link.attr("href");return t&&require("jira/util/browser").reloadViaWindowLocation(t),!0}},select:function(){var e=this.triggerPreventable("before:select");return!e.isPrevented&&(this.$el.addClass("aui-nav-selected"),this.trigger("select",e),!0)},deselect:function(){if(!this.isSelected())return!0;var e=this.triggerPreventable("before:deselect");return!e.isPrevented&&(this.$el.removeClass("aui-nav-selected"),this.$el.find("a").blur(),this.trigger("deselect",e),!0)},isSelected:function(){return this.$el.hasClass("aui-nav-selected")},removeBadge:function(){this.$el.find(".aui-badge").remove()},getId:function(){return this.id},getSelectedNavigationItem:function(){if(this.isSelected())return this},hasASelectedItem:function(){return this.isSelected()},attr:function(e,t){var i=this.ui.link.attr(e,t);return t?i:this},_trackDeprecated:function(e){AJS.warn("The Sidebar item method "+e+" is going to be deprecated"),AJS.trigger("analyticsEvent",{name:"jira.project.centric.navigation.sidebar.item.method.deprecated",data:{method:e}})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = 'jira-projects-module/sidebar/component/navigation-group.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationGroup"),JIRA.Projects.Sidebar.Component.NavigationGroup=JIRA.Projects.Libs.Marionette.CompositeView.extend({childEvents:{"before:select":function(e,t){if(this.retriggerPreventable("before:select",t),!t.isPrevented){var i=this.deselect();i||t.preventDefault()}},select:function(e,t){this.trigger("select",t)},"before:deselect":function(e,t){this.retriggerPreventable("before:deselect",t)},deselect:function(e,t){this.trigger("deselect",t)},"before:navigate":function(e,t){this.retriggerPreventable("before:navigate",t)},"before:navigate:prevented":function(e,t){this.trigger("before:navigate:prevented",t)}},initialize:function(){this.id=this.$el.attr("data-id"),this.$(">ul>li").each(_.bind(function(e,t){var i=JIRA.Projects.Sidebar.Component.NavigationGroup.build(t),n=!!this.getItem(i.id);n&&AJS.warn&&AJS.warn("Duplicated IDs detected. There are more than one NavigationItem with id data-link-id='"+i.id+"'"),this.proxyChildEvents(i),this.children.add(i,i.id)},this))},onDestroy:function(){this.unbind()},getElement:function(){return this._trackDeprecated("getElement"),this.el},deselect:function(){var e=this.triggerPreventable("before:deselect");if(e.isPrevented)return!1;var t=!0;return this.children.each(function(e){t=e.deselect()&&t}),t},getItem:function(e){return this.children.findByCustom(e)},getItemAt:function(e){return this.children.findByIndex(e)},getSelectedNavigationItem:function(){var e=this.children.find(function(e){return e.hasASelectedItem()});if(e)return e.getSelectedNavigationItem()},hasASelectedItem:function(){return this.children.any(function(e){return e.hasASelectedItem()})},_trackDeprecated:function(e){AJS.warn("The Sidebar group method "+e+" is going to be deprecated"),AJS.trigger("analyticsEvent",{name:"jira.project.centric.navigation.sidebar.group.method.deprecated",data:{method:e}})}},{build:function(e){var t;return t=AJS.$(e).find("ul").length?new JIRA.Projects.Sidebar.Component.NavigationSubgroup({el:e}):new JIRA.Projects.Sidebar.Component.NavigationItem({el:e})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-component', location = 'jira-projects-module/sidebar/component/navigation-subgroup.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.Component.NavigationSubgroup"),JIRA.Projects.Sidebar.Component.NavigationSubgroup=JIRA.Projects.Sidebar.Component.NavigationGroup.extend({childEvents:{"before:select":function(e,t){JIRA.Projects.Sidebar.Component.NavigationGroup.prototype.childEvents["before:select"].apply(this,arguments),t.isPrevented||this.expand()}},initialize:function(){this.childEvents=_.extend({},JIRA.Projects.Sidebar.Component.NavigationGroup.prototype.childEvents,this.childEvents),JIRA.Projects.Sidebar.Component.NavigationGroup.prototype.initialize.apply(this,arguments),this.id=this.$el.find(">a[data-link-id]").attr("data-link-id")},expand:function(){this.$el.attr("aria-expanded","true")},collapse:function(){this.$el.attr("aria-expanded","false")},isExpanded:function(){return"true"===this.$el.attr("aria-expanded")},isSelected:function(){return this.$el.hasClass("aui-nav-selected")},getId:function(){return this.id},getSelectedNavigationItem:function(){if(this.isSelected())return this;var e=this.children.find(function(e){return e.hasASelectedItem()});return e?e.getSelectedNavigationItem():void 0},hasASelectedItem:function(){return!!this.isSelected()||this.children.any(function(e){return e.hasASelectedItem()})}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-api', location = 'jira-projects-module/sidebar/api.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar"),AJS.namespace("JIRA.API");var e=AJS.$.Deferred();JIRA.API.getSidebar=JIRA.API.getSidebar||function(){return e.promise()},JIRA.Projects.Sidebar.initAPI=function(r){JIRA.API.Sidebar=r,e.resolve(JIRA.API.Sidebar)}}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/templates.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Projects&&(JIRA.Projects={}),"undefined"==typeof JIRA.Projects.Sidebar&&(JIRA.Projects.Sidebar={}),"undefined"==typeof JIRA.Projects.Sidebar.ProjectShortcuts&&(JIRA.Projects.Sidebar.ProjectShortcuts={}),"undefined"==typeof JIRA.Projects.Sidebar.ProjectShortcuts.Templates&&(JIRA.Projects.Sidebar.ProjectShortcuts.Templates={}),JIRA.Projects.Sidebar.ProjectShortcuts.Templates.content=function(t,e){var o="";if(t.canManage||t.numberOfShortcuts>0){if(o+='<div class="aui-sidebar-group jira-sidebar-group-with-divider project-shortcuts-group'+(0==t.numberOfShortcuts?" project-shortcuts-group_empty":"")+'" data-id="project-shortcuts-group"><div class="aui-nav-heading">'+soy.$$escapeHtml("Project Shortcuts")+'</div><ul class="aui-nav project-shortcuts-list">',t.shortcuts)for(var s=t.shortcuts,a=s.length,i=0;i<a;i++){var r=s[i];o+=JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut({id:r.id,name:r.name,url:r.url,icon:r.icon,canManage:t.canManage,iconsMap:t.iconsMap,isWithIcon:t.isWithIcons})}o+=(t.canManage?'<li><a class="aui-nav-item project-shortcuts-group__add" href="#" data-link-id="project-shortcut-add"><span class="aui-icon aui-icon-large aui-iconfont-add-small"></span><span class="aui-nav-item-label">'+soy.$$escapeHtml("Add shortcut")+"</span></a></li>":"")+"</ul></div>"}return o},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut=function(t,e){return'<li class="project-shortcut"><a class="aui-nav-item project-shortcuts-group__link" href="'+soy.$$escapeHtml(t.url)+'" title="'+soy.$$escapeHtml(t.name)+'" target="_blank" data-shortcut-id="'+soy.$$escapeHtml(t.id)+'" data-link-id="project-shortcut-'+soy.$$escapeHtml(t.id)+'">'+(t.isWithIcon?'<span class="aui-icon aui-icon-large '+JIRA.Projects.Sidebar.ProjectShortcuts.Templates.icon({iconId:t.icon,iconsMap:t.iconsMap})+'" data-project-shortcuts-icon-id="'+soy.$$escapeHtml(t.icon)+'">'+soy.$$escapeHtml("Project shortcut icon")+"</span>":"")+'<span class="aui-nav-item-label">'+soy.$$escapeHtml(t.name)+"</span></a>"+(t.canManage?'<a href="#project-shortcuts-dropdown_'+soy.$$escapeHtml(t.id)+'" aria-owns="project-shortcuts-dropdown_'+soy.$$escapeHtml(t.id)+'" aria-haspopup="true" class="aui-dropdown2-trigger project-shortcuts-group__actions"><span>'+soy.$$escapeHtml("Actions")+'</span></a><div id="project-shortcuts-dropdown_'+soy.$$escapeHtml(t.id)+'" class="aui-dropdown2 aui-style-default project-shortcuts-group__dropdown"><ul class="aui-list-truncate"><li><a class="project-shortcuts-group__actions__edit" href="#">'+soy.$$escapeHtml("Edit")+'</a></li><li><a class="project-shortcuts-group__actions__delete  " href="#">'+soy.$$escapeHtml("Delete")+"</a></li></ul></div>":"")+"</li>"},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.icon=function(t,e){t=t||{};var o="";if(t.iconsMap){var s=t.iconId&&t.iconsMap[t.iconId]?t.iconId:"1";o+=t.iconsMap[s]?soy.$$escapeHtml(t.iconsMap[s].className):""}return o},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields=function(t,e){return'<div class="project-shortcuts-field-group">'+aui.form.textField({name:"project-shortcuts-url-"+t.action,id:"project-shortcuts-url-"+t.action,labelContent:"Web address",placeholderText:"e.g. http://www.atlassian.com",extraClasses:"project-shortcuts-url",value:t.url?t.url:"",errorTexts:t.errors.urlError?[t.errors.urlError]:[]})+'<div class="field-group project-shortcuts-name">'+aui.form.label({forField:"project-shortcuts-name-"+t.action,content:"Name"})+'<div class="project-shortcuts-name-icon-block"><div class="project-shortcuts-icon-picker-block"></div>'+aui.form.input({name:"project-shortcuts-name-"+t.action,id:"project-shortcuts-name-"+t.action,placeholderText:"e.g. Atlassian website",extraClasses:"project-shortcuts-name-input"+(t.isWithIcon?" project-shortcuts-name-input-with-icon":""),value:t.name?t.name:"",type:"text"})+"</div>"+(t.errors.iconError?aui.form.fieldError({message:t.errors.iconError}):"")+(t.errors.nameError?aui.form.fieldError({message:t.errors.nameError}):"")+"</div></div>"},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsPicker=function(t,e){return"<span>"+JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsList(t)+"</span>"+aui.dropdown2.trigger({menu:{id:"project-shortcuts-icons-list-"+t.cid},extraClasses:"aui-button project-shortcuts-icons-picker",iconClasses:"aui-icon aui-icon-large  "+soy.$$escapeHtml(t.icon.className),extraAttributes:{href:"#"}})},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsList=function(t,e){for(var o='<div id="project-shortcuts-icons-list-'+soy.$$escapeHtml(t.cid)+'" aria-hidden="true" class="aui-style-default aui-dropdown2 project-shortcuts-icons-list aui-dropdown2-section"><ul>',s=t.iconsList,a=s.length,i=0;i<a;i++){var r=s[i];o+='<li><a class="project-shortcuts-icons-icon" data-project-shortcuts-icons-id="'+soy.$$escapeHtml(r.name)+'"><span class="aui-icon aui-icon-large '+soy.$$escapeHtml(r.className)+'">'+soy.$$escapeHtml("Project shortcut icon")+"</span></a></li>"}return o+="</ul></div>"},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.addDialog=function(t,e){return'<section role="dialog" id="add-shortcut-dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="false"><header class="aui-dialog2-header" id="add-shortcut-dialog-header"></header><div class="aui-dialog2-content"><div id="image-behind"><div id="image-behind-top"></div><div id="image-behind-bottom"></div></div><div id="add-shortcut-image-container"><div id="add-shortcut-dialog-image"></div></div><form action="" method="post" class="aui"><h1>'+soy.$$escapeHtml("Add shortcut")+"</h1><fieldset>"+JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(t,{action:"add"}))+'</fieldset><button type="submit" class="project-shortcuts-hidden-submit" tabindex="-1"></button></form></div><div class="aui-dialog2-footer"><div class="buttons-container"><div class="buttons"><button class="aui-button aui-button-primary project-shortcuts-submit">'+soy.$$escapeHtml("Add")+'</button><button class="aui-button aui-button-text aui-button-subtle project-shortcuts-cancel">'+soy.$$escapeHtml("Cancel")+"</button></div></div></div></section>"},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialogChrome=function(t,e){return'<section role="dialog" id="edit-project-shortcut-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Edit shortcut")+"</h2></header></section>"},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialog=function(t,e){return'<section role="dialog" id="add-shortcut-dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="false"><header class="aui-dialog2-header" id="add-shortcut-dialog-header"></header><div class="aui-dialog2-content"><div id="image-behind"><div id="image-behind-top"></div><div id="image-behind-bottom"></div></div><div id="add-shortcut-image-container"><div id="add-shortcut-dialog-image"></div></div><form class="aui" method="post"><h1>'+soy.$$escapeHtml("Edit shortcut")+"</h1>"+JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(t,{action:"edit"}))+'<button type="submit" class="project-shortcuts-hidden-submit" tabindex="-1"></button></form></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button project-shortcuts-delete">'+soy.$$escapeHtml("Delete")+'</button><button class="aui-button aui-button-primary project-shortcuts-submit">'+soy.$$escapeHtml("Save")+'</button><button class="aui-button aui-button-link project-shortcuts-cancel aui-button-subtle">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"},JIRA.Projects.Sidebar.ProjectShortcuts.Templates.deleteDialog=function(t,e){return'<section role="dialog" id="delete-project-shortcut-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Delete shortcut")+'</h2></header><div class="aui-dialog2-content"><p>'+soy.$$escapeHtml("Are you sure you want to delete this shortcut?")+'</p></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-primary project-shortcuts-submit">'+soy.$$escapeHtml("Delete")+'</button><button class="aui-button aui-button-link project-shortcuts-cancel aui-button-subtle">'+soy.$$escapeHtml("Cancel")+"</button></div></footer></section>"};;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/dialogs/Add.js' */
define("jira/projects/sidebar/projectShortcuts/dialogs/add",["underscore","jquery","jira/projects/libs/marionette","aui/flag"],function(e,t,i,o){return i.Controller.extend({initialize:function(t){e.bindAll(this,"hide","refresh","focusForm");var i=this;this.analyticsSave=!1,this.sidebarItem=t.sidebarItem,this.projectKey=t.projectKey,this.collection=t.collection,this.model=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut(null,{projectKey:this.projectKey}),this.errorModel=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors(null,{model:this.model}),this.view=new JIRA.Projects.Sidebar.ProjectShortcuts.Views.AddDialogContent({model:this.model,errorModel:this.errorModel}),this.view.render(),this.dialog=AJS.dialog2(i.view.$el),this.dialog.show(),this.view.ui.url.focus(),this.dialog.on("hide",function(){i.trigger("dialog:close",i.analyticsSave)}),this.listenTo(this.view,"render",this.refresh),this.listenTo(this.view,"cancel",this.hideAndRender),this.listenTo(this.model,"save:success",function(){var e=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut(this.model.toJSON(),{projectKey:this.projectKey});this.model.clear(),this.collection.add(e),this._addToADG3Sidebar(e),o({type:"success",title:"You have added the shortcut",body:"Nicely done! Your team is going to love this.",close:"auto"}),this.analyticsSave=!0,this.hide()})},_addToADG3Sidebar:function(e){JIRA.API.getSidebar().done(function(t){var i="sidebar-project-shortcuts",o="com.atlassian.jira.jira-projects-plugin:project.shortcut.default.link."+e.id,r={id:o,name:e.get("name"),url:e.get("url"),icon:"shortcut",canEdit:!0};t.addItem(i,r,!0)})},show:function(){this.dialog.show()},hide:function(){this.view.hideIconPicker(),this.dialog.hide()},refresh:function(){this.view.hideIconPicker()},hideAndRender:function(){this.hide()},focusForm:function(){this.view.ui.url.focus()}})}),AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Add",null,require("jira/projects/sidebar/projectShortcuts/dialogs/add"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/services/AvailableIcons.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons");var t=[],n={},e=!1;JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons={initialize:function(e){t=e||t,n={},_.each(e,function(t){n[t.name]=t})},getIconsList:function(){return t},getIconsMap:function(){return n},getAllIconsClasses:function(){return _.reduce(t,function(t,n){return t+n.className+" "},"")},getIconFromName:function(t){return this.getIconsMap()[t]?this.getIconsMap()[t]:this.getIconsList()[0]?this.getIconsList()[0]:{}},setWithIcons:function(t){e=t},isWithIcons:function(){return e}}}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/entities/Shortcut.js' */
!function(){"use strict";function t(t){var e;try{e=JSON.parse(t.responseText)}catch(t){e={message:"We couldn\'t complete the action as there seems to be a communication issue."}}return e}AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut"),JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut=Backbone.Model.extend({defaults:{url:"",name:"",icon:"",type:""},initialize:function(t,e){if(!e||!e.projectKey)throw"Project key is required";this.projectKey=e.projectKey},urlRoot:function(){return AJS.contextPath()+"/rest/projects/1.0/project/"+encodeURIComponent(this.projectKey)+"/shortcut"},clear:function(){this.unset("id"),this.set("url",this.defaults.url),this.set("name",this.defaults.name),this.set("icon",this.defaults.icon),this.set("type",this.defaults.type)},save:function(){if(1!=this.saving){this.saving=!0;var e=this;e.trigger("save:start");var s=this.isNew()?"create":"update";this.sync(s,e).always(function(){e.saving=!1,e.trigger("save:finish")}).done(function(t){e.set(t,{silent:!0}),JIRA.trace("jira.projects.shortcuts."+s+".success"),e.trigger("save:success")}).fail(function(r){var i=t(r);JIRA.trace("jira.projects.shortcuts."+s+".fail"),e.trigger("save:failure",i)})}},destroy:function(){if(1!=this.saving){this.saving=!0;var e=this;e.trigger("remove:start");var s=Backbone.Model.prototype.destroy.apply(this,arguments);return s.always(function(){e.saving=!1,e.trigger("remove:finish")}).done(function(){e.trigger("remove:success")}).fail(function(s){var r=t(s);e.trigger("remove:failure",r)}),s}}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/entities/ShortcutErrors.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors"),JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors=Backbone.Model.extend({defaults:{urlError:"",nameError:"",iconError:"",generalError:""},initialize:function(r,e){var s=e.model;this.listenTo(s,"save:failure remove:failure",function(r){this.set({urlError:r.errors&&r.errors.url,nameError:r.errors&&r.errors.name,iconError:r.errors&&r.errors.icon,generalError:r.message||r.errorMessages&&r.errorMessages.length>0?r.message||r.errorMessages[0]:void 0})}),this.listenTo(s,"save:success remove:success",this.clear)}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/entities/Shortcuts.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcuts"),JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcuts=Backbone.Collection.extend({model:JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut,initialize:function(t,e){this.projectKey=e.projectKey}})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/views/IconPickerContent.js' */
!function(i){"use strict";function c(i,c){var e,o=5,n=i.ui.iconList.find(".active"),s=i.ui.iconList.find("li").size();switch(c.keyCode){case AJS.keyCode.LEFT:e=-1;break;case AJS.keyCode.RIGHT:e=1;break;case AJS.keyCode.DOWN:e=o;break;case AJS.keyCode.UP:e=-o;break;default:e=0}var a=n.closest("li").index()+e;(a<0||a>=s)&&(a+=s,a%=s),n.removeClass(t),i.ui.icon.eq(a).addClass(t)}var e="projectShortcutsIconsId",t="active aui-dropdown2-active";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.IconPickerContent"),JIRA.Projects.Sidebar.ProjectShortcuts.Views.IconPickerContent=JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Projects.Sidebar.ProjectShortcuts.Templates.iconsPicker,ui:{icon:".project-shortcuts-icons-icon",iconList:".project-shortcuts-icons-list",iconPicker:".project-shortcuts-icons-picker"},modelEvents:{"change:icon":function(){var i=this._modelIcon(),c=this.ui.iconPicker.children();c.removeClass(this.iconFactory.getAllIconsClasses()),c.addClass(i.className),this.ui.iconPicker.data(e,i.name)},"save:start":function(){this.ui.iconPicker.attr("aria-disabled",!0)},"save:finish":function(){this.ui.iconPicker.attr("aria-disabled",!1)}},events:{"keydown @ui.iconPicker":function(i){if(this.isPickerActive())switch(i.keyCode){case AJS.keyCode.LEFT:case AJS.keyCode.RIGHT:case AJS.keyCode.DOWN:case AJS.keyCode.UP:c(this,i),i.stopPropagation(),i.preventDefault(),this.ui.iconList.trigger("aui-dropdown2-item-selected");break;case AJS.keyCode.ESCAPE:this.hideIconPicker(),i.stopPropagation(),i.preventDefault()}}},initialize:function(i){this.iconFactory=JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons,this.analytics=JIRA.Projects.Sidebar.ProjectShortcuts.Analytics},onRender:function(){var c=this;this.ui.icon.on("click",function(){var t=i(this).data(e);c.analytics.iconChangeConfirmed(c.model,t),c.analyticsOldIconId="",c.analyticsIconClicked=!0,c.model.set("icon",t),c.ui.iconPicker.focus()}),this.ui.iconList.on("aui-dropdown2-show",function(){c.ui.iconPicker.focus(),c.analyticsIconClicked=!1,c.analytics.iconPickerOpened(c.model)}),this.ui.iconList.on("aui-dropdown2-hide",function(){c.analytics.iconPickerClosed(c.model,c.analyticsIconClicked)}),this.analyticsOldIconId="",this.ui.iconList.on("aui-dropdown2-item-selected",function(i){var t=AJS.$(this).find(".active").data(e);c.analyticsOldIconId&&c.analyticsOldIconId!==t&&c.analytics.iconChanged(c.model,t,c.analyticsOldIconId),c.analyticsOldIconId=t}),this.ui.iconPicker.data(e,this.model.get("icon"))},hideIconPicker:function(){this.isPickerActive()&&this.ui.iconPicker.trigger("aui-button-invoke")},isPickerActive:function(){return this.ui.iconPicker.hasClass("active")},_modelIcon:function(){return this.iconFactory.getIconFromName(this.model.get("icon"))},onFormSubmit:function(){this.model.set("icon",this.ui.iconPicker.data(e)||"")},focus:function(){this.ui.iconPicker.focus()},serializeData:function(){return{iconsList:this.iconFactory.getIconsList(),icon:this._modelIcon(),cid:this.cid}}})}(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/views/DialogContent.js' */
!function(t){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent"),JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent=JIRA.Projects.Libs.Marionette.LayoutView.extend({ui:{form:"form",inputs:"input, button",submit:".project-shortcuts-submit",cancel:".project-shortcuts-cancel",url:".project-shortcuts-url input",name:".project-shortcuts-name input"},regions:{iconPicker:".project-shortcuts-icon-picker-block"},events:{"click @ui.cancel":function(t){t.preventDefault(),this.model.clear(),this.setNameAutomagically=!0,this.errorModel.clear(),this.trigger("cancel")},"click @ui.submit":"formSubmit","submit @ui.form":"formSubmit","blur @ui.url":function(){this.ensureProtocolPrefix(),this.tryToAutomagicallyDeriveNameFromUrl()},"input @ui.url":function(){this.model.set("url",this.ui.url.val()),this.tryToAutomagicallyDeriveNameFromUrl()},"input @ui.name":function(){this.setNameAutomagically=!1,this.model.set("name",this.ui.name.val())},"keydown @ui.name":function(t){this.iconPickerContent&&t.shiftKey&&t.keyCode===AJS.keyCode.TAB&&(t.preventDefault(),this.iconPickerContent.focus())},"keydown @ui.url":function(t){this.iconPickerContent&&(t.shiftKey||t.keyCode!==AJS.keyCode.TAB||(t.preventDefault(),this.iconPickerContent.focus()))}},modelEvents:{"save:start":function(){this.ui.inputs.prop("disabled",!0),this.ui.submit.addClass("loading"),this.ui.submit.spin({className:"spinner"})},"save:finish":function(){this.ui.inputs.prop("disabled",!1),this.ui.submit.removeClass("loading"),this.ui.submit.spinStop({className:"spinner"})},"save:failure":function(){if(this.render(),this.errorModel.get("generalError")){var t=require("aui/flag");t({type:"error",title:"We couldn\'t save the shortcut for you",close:"auto",body:this.errorModel.get("generalError")})}return this.errorModel.get("nameError")&&this.ui.name.focus(),this.errorModel.get("urlError")&&this.ui.url.focus(),this},"save:success":function(){this.setNameAutomagically=!0}},initialize:function(t){this.errorModel=t.errorModel;var e=this.model.get("name");this.setNameAutomagically=0==e.length,this.iconFactory=JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons},serializeData:function(){return _.extend(this.model.toJSON(),{errors:this.errorModel.toJSON(),action:this.action,isWithIcon:this.iconFactory.isWithIcons()})},onRender:function(){this.iconFactory.isWithIcons()?(this.iconPickerContent=new JIRA.Projects.Sidebar.ProjectShortcuts.Views.IconPickerContent({model:this.model,action:this.action,observable:this}),this.getRegion("iconPicker").show(this.iconPickerContent)):delete this.iconPickerContent},hideIconPicker:function(){this.iconPickerContent&&this.iconPickerContent.hideIconPicker()},setName:function(t){this.ui.name.val(t),this.model.set("name",t)},setUrl:function(t){this.ui.url.val(t),this.model.set("url",t)},ensureProtocolPrefix:function(){var t=this.ui.url.val().trim();t.length>0&&!JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent.urlPattern.test(t)&&this.setUrl("http://"+t)},tryToAutomagicallyDeriveNameFromUrl:function(){var t=this.ui.url.val().trim();if(this.setNameAutomagically)if(JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent.urlOptionalProtocolPattern.test(t)){var e=JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent.urlOptionalProtocolPattern.exec(t);this.setName(e[3])}else this.setName(t)},formSubmit:function(t){t.preventDefault(),this.ensureProtocolPrefix(),this.tryToAutomagicallyDeriveNameFromUrl(),this.iconPickerContent&&this.iconPickerContent.onFormSubmit(),this.model.set({url:this.ui.url.val(),name:this.ui.name.val()}),this.model.save()}},{urlPattern:/^[a-zA-Z0-9]+:(\/\/)?([^\/]*).*/,urlOptionalProtocolPattern:/^([a-zA-Z0-9]+:(\/\/)?)?([^\/]*).*/})}(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/views/AddDialogContent.js' */
!function(){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.AddDialogContent"),JIRA.Projects.Sidebar.ProjectShortcuts.Views.AddDialogContent=JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent.extend({template:JIRA.Projects.Sidebar.ProjectShortcuts.Templates.addDialog})}();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/views/EditDialogContent.js' */
define("jira/projects/sidebar/project-shortcuts/views/edit-dialog-content",["underscore"],function(e){"use strict";var t=JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent,r=t.extend({template:JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialog});return r.extend({ui:e.extend({},t.prototype.ui,{delete:".project-shortcuts-delete"})})}),AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.EditDialogContent",null,require("jira/projects/sidebar/project-shortcuts/views/edit-dialog-content"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/dialogs/Edit.js' */
define("jira/projects/sidebar/project-shortcuts/dialogs/edit",["jquery","jira/projects/sidebar/project-shortcuts/views/edit-dialog-content","jira/projects/libs/marionette","aui/flag","jira/api/projects"],function(e,t,o,i,s){"use strict";return o.Controller.extend({initialize:function(o){var r=this;_.bindAll(this,"hide"),this.model=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut(o.model.toJSON(),{projectKey:o.model.projectKey||o.model.collection.projectKey}),this.errorModel=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors((void 0),{model:this.model}),this.view=new t({model:this.model,errorModel:this.errorModel}),this.analyticsSave=!1,this.view.render();var c=e(JIRA.Projects.Sidebar.ProjectShortcuts.Templates.editDialogChrome({}));this.view.$el.appendTo(c),this.dialog=AJS.dialog2(c),this.dialog.show(),this.view.ui.url.focus();var d=s.getCurrentProjectType(),l=s.getCurrentProjectId();this.view.ui.delete.on("click",function(e){r.hide(),e.preventDefault(),AJS.trigger("analyticsEvent",{name:"jira.projects.shortcut.delete.dialog.opened",data:{isSave:!1,shortcutId:r.model.get("id"),projectId:l,projectType:d}});var t=new JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete({model:r.model});r.listenToOnce(t,"dialog:close",function(e){AJS.trigger("analyticsEvent",{name:"jira.projects.shortcut.delete.dialog.closed",data:{isSave:e,shortcutId:r.model.get("id"),projectId:l,projectType:d}})})}),this.listenTo(this.model,"remove:success",function(){o.model.collection&&o.model.collection.remove(r.model),i({type:"success",body:"Shortcut deleted.",close:"auto"})}),this._onResizeWindow=function(){r.hideIconPicker()},e(window).on("resize",this._onResizeWindow),this.listenTo(this.view,"cancel",this.hide),this.listenTo(this.model,"save:success",function(){i({type:"success",body:"You have updated the shortcut.",close:"auto"}),this.analyticsSave=!0,this.hide(),o.model.set(r.model.toJSON())}),this.dialog.on("hide",function(){r.trigger("dialog:close",r.analyticsSave)})},hideIconPicker:function(){this.view.hideIconPicker()},hide:function(){this.dialog.hide(),e(window).off("resize",this._onResizeWindow)}})}),AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Edit",null,require("jira/projects/sidebar/project-shortcuts/dialogs/edit"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/views/Shortcut.js' */
!function(e){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.Shortcut");var o=require("jira/projects/sidebar/project-shortcuts/dialogs/edit");JIRA.Projects.Sidebar.ProjectShortcuts.Views.Shortcut=JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Projects.Sidebar.ProjectShortcuts.Templates.shortcut,initialize:function(){_.bindAll(this,"toggleDropdown"),this.iconFactory=JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons},ui:{del:".project-shortcuts-group__actions__delete",edit:".project-shortcuts-group__actions__edit",trigger:".project-shortcuts-group__actions",dropdown:".project-shortcuts-group__dropdown",link:".project-shortcuts-group__link"},modelEvents:{change:"render"},events:{"click @ui.link":function(){this.trigger("click:link",this.model)}},onRender:function(){var t=this;this.unwrapTemplate();var i=e(window),r=e(".aui-sidebar-body");this.ui.trigger.on("click",function(e){t.trigger("dropdown:click",t.model)}),this.ui.edit.on("click",function(e){e.preventDefault(),t.ui.trigger.blur();var i=new o({model:t.model});t.trigger("edit:open",t.model),t.listenToOnce(i,"dialog:close",function(e){t.trigger("edit:close",t.model,e)})}),this.ui.del.on("click",function(e){e.preventDefault(),t.ui.trigger.blur();var o=new JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete({model:t.model});t.trigger("delete:open",t.model),t.listenToOnce(o,"dialog:close",function(e){t.trigger("delete:close",t.model,e)})}),this.ui.dropdown.on({"aui-dropdown2-show":function(){t.$el.addClass("aui-nav-selected"),r.one("scroll",t.toggleDropdown),i.one("scroll",t.toggleDropdown),t.ui.trigger.focus()},"aui-dropdown2-hide":function(){t.$el.removeClass("aui-nav-selected"),r.off("scroll",t.toggleDropdown),i.off("scroll",t.toggleDropdown)}})},serializeData:function(){var e=_.extend(this.model.toJSON(),{canManage:!0,isWithIcon:this.iconFactory.isWithIcons()});return this.iconFactory.isWithIcons()&&(e=_.extend(e,{iconsMap:JIRA.Projects.Sidebar.ProjectShortcuts.Services.AvailableIcons.getIconsMap()})),e},toggleDropdown:function(){this.ui.trigger.trigger("aui-button-invoke")}})}(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/views/ShortcutsList.js' */
!function(t){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Views.List");var e=require("jira/projects/sidebar/projectShortcuts/dialogs/add");JIRA.Projects.Sidebar.ProjectShortcuts.Views.List=JIRA.Projects.Libs.Marionette.CompositeView.extend({template:JIRA.Projects.Sidebar.ProjectShortcuts.Templates.content,childView:JIRA.Projects.Sidebar.ProjectShortcuts.Views.Shortcut,ui:{itemsContainer:".aui-nav",description:".project-shortcuts-group__description",add:".project-shortcuts-group__add"},collectionEvents:{"add remove":function(){(0==this.collection.length&&0!=this.lastCollectionLength||0!=this.collection.length&&0==this.lastCollectionLength)&&(this.lastCollectionLength=this.collection.length,this.ui.description.toggleClass("hidden",this.collection.length>0),this.$el.toggleClass("project-shortcuts-group_empty",0==this.collection.length))}},initialize:function(){var e=this;JIRA.API.getSidebar().done(function(o){o.on("expand-end",function(){t(".aui-sidebar-submenu-dialog .project-shortcuts-group__dropdown").remove()},!0),o.on("collapse-start",function(){e.$(".project-shortcuts-group__actions.aui-dropdown2-active").trigger("aui-button-invoke")},!0)}),this.lastCollectionLength=this.collection.length},attachElContent:function(e){var o=new JIRA.Projects.Sidebar.Component.NavigationGroup({el:e});return JIRA.API.Sidebar.replaceGroup(this.options.targetGroup,o),this.$el=t(o.getElement()),this},onRender:function(){var t=new e({sidebarItem:JIRA.API.Sidebar.getGroup("project-shortcuts-group",!0).getItem("project-shortcut-add",!0),projectKey:this.collection.projectKey,collection:this.collection});this.listenTo(t,"dialog:open",function(){this.trigger("add:open")}),this.listenTo(t,"dialog:close",function(t){this.trigger("add:close",t)})},serializeData:function(){return{canManage:!0,numberOfShortcuts:this.collection.length}},attachBuffer:function(t,e){this.ui.itemsContainer.prepend(e)},onAddChild:function(t){this.ui.add.parent().before(t.$el)}})}(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-project-shortcuts', location = 'jira-projects-module/sidebar/project-shortcuts/dialogs/Delete.js' */
!function(e){"use strict";AJS.namespace("JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete"),JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete=JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Projects.Sidebar.ProjectShortcuts.Templates.deleteDialog,ui:{inputs:"input, button",submit:".project-shortcuts-submit",cancel:".project-shortcuts-cancel"},events:{"click @ui.cancel":function(e){e.preventDefault(),this.trigger("dialog:close",!1),this.dialog.hide()},"click @ui.submit":function(e){e.preventDefault(),this.trigger("dialog:close",!0),this.model.destroy({wait:!0})}},modelEvents:{"remove:start":function(){this.ui.inputs.prop("disabled",!0),this.ui.submit.addClass("loading"),this.ui.submit.spin({className:"spinner"})},"remove:finish":function(){this.ui.inputs.prop("disabled",!1),this.ui.submit.removeClass("loading"),this.ui.submit.spinStop({className:"spinner"}),this.dialog.hide(),JIRA.trace("jira.projects.shortcuts.deleted")},"remove:failure":function(e){if(e.message||e.errorMessages&&e.errorMessages.length>0){var t=require("aui/flag");t({type:"error",title:"We couldn\'t delete the shortcut for you",close:"auto",body:e.message||e.errorMessages[0]})}}},initialize:function(){this.render(),this.$el.appendTo("body"),this.dialog=AJS.dialog2(this.$el),this.dialog.show();var e=this;this.dialog.on("hide",function(){_.defer(function(){e.destroy()})})},onRender:function(){this.unwrapTemplate()}})}(AJS.$);;
;
/* module-key = 'com.atlassian.plugin.jslibs:bluebird-2.3.6', location = 'atlassian-jslibs/libs/bluebird/js/browser/bluebird.js' */
!function(t){define("atlassian/libs/bluebird-2.3.6",function(){var e={};return t(e),"undefined"!=typeof exports?module.exports.noConflict():e.Promise.noConflict()})}(function(t){/**
 * @preserve The MIT License (MIT)
 *
 * Copyright (c) 2014 Petka Antonov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:</p>
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;"undefined"!=typeof t?r=t:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.Promise=e()}}(function(){var t,e,r;return function t(e,r,i){function n(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){var r=e[s][1][t];return n(r?r:t)},u,u.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){"use strict";e.exports=function(t){function e(t){var e=new r(t),i=e.promise();return i.isRejected()?i:(e.setHowMany(1),e.setUnwrap(),e.init(),i)}var r=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,r){"use strict";function i(){this._isTickUsed=!1,this._schedule=n,this._length=0,this._lateBuffer=new o(16),this._functionBuffer=new o(65536);var t=this;this.consumeFunctionBuffer=function(){t._consumeFunctionBuffer()}}var n=t("./schedule.js"),o=t("./queue.js"),s=t("./util.js").errorObj,a=t("./util.js").tryCatch1,c="undefined"!=typeof process?process:void 0;i.prototype.haveItemsQueued=function(){return this._length>0},i.prototype.invokeLater=function(t,e,r){void 0===c||null==c.domain||t.domain||(t=c.domain.bind(t)),this._lateBuffer.push(t,e,r),this._queueTick()},i.prototype.invoke=function(t,e,r){void 0===c||null==c.domain||t.domain||(t=c.domain.bind(t));var i=this._functionBuffer;i.push(t,e,r),this._length=i.length(),this._queueTick()},i.prototype._consumeFunctionBuffer=function(){for(var t=this._functionBuffer;t.length()>0;){var e=t.shift(),r=t.shift(),i=t.shift();e.call(r,i)}this._reset(),this._consumeLateBuffer()},i.prototype._consumeLateBuffer=function(){for(var t=this._lateBuffer;t.length()>0;){var e=t.shift(),r=t.shift(),i=t.shift(),n=a(e,r,i);if(n===s){if(this._queueTick(),null==e.domain)throw n.e;e.domain.emit("error",n.e)}}},i.prototype._queueTick=function(){this._isTickUsed||(this._schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)},i.prototype._reset=function(){this._isTickUsed=!1,this._length=0},e.exports=new i},{"./queue.js":25,"./schedule.js":28,"./util.js":35}],3:[function(t,e,r){"use strict";var i=t("./promise.js")();e.exports=i},{"./promise.js":20}],4:[function(t,e,r){"use strict";var i=Object.create;if(i){var n=i(null),o=i(null);n[" size"]=o[" size"]=0}e.exports=function(e){function r(t){return new Function("obj","                                             \n        'use strict'                                                         \n        var len = this.length;                                               \n        switch(len) {                                                        \n            case 1: return obj.methodName(this[0]);                          \n            case 2: return obj.methodName(this[0], this[1]);                 \n            case 3: return obj.methodName(this[0], this[1], this[2]);        \n            case 0: return obj.methodName();                                 \n            default: return obj.methodName.apply(obj, this);                 \n        }                                                                    \n        ".replace(/methodName/g,t))}function i(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))}function s(t,e,r){var i=r[t];if("function"!=typeof i){if(!_(t))return null;if(i=e(t),r[t]=i,r[" size"]++,r[" size"]>512){for(var n=Object.keys(r),o=0;o<256;++o)delete r[n[o]];r[" size"]=n.length-256}}return i}function a(t){return s(t,r,n)}function c(t){return s(t,i,o)}function u(t){return t[this.pop()].apply(t,this)}function l(t){return t[this]}function h(t){return t[this]}var f=t("./util.js"),p=f.canEvaluate,_=f.isIdentifier;e.prototype.call=function(t){for(var e=arguments.length,r=new Array(e-1),i=1;i<e;++i)r[i-1]=arguments[i];if(p){var n=a(t);if(null!==n)return this._then(n,void 0,void 0,r,void 0)}return r.push(t),this._then(u,void 0,void 0,r,void 0)},e.prototype.get=function(t){var e,r="number"==typeof t;if(r)e=h;else if(p){var i=c(t);e=null!==i?i:l}else e=l;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":35}],5:[function(t,e,r){"use strict";e.exports=function(e,r){var i=t("./errors.js"),n=i.canAttach,o=t("./async.js"),s=i.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,r=this;void 0!==(e=r._cancellationParent)&&e.isCancellable();)r=e;r._attachExtraTrace(t),r._rejectUnchecked(t)},e.prototype.cancel=function(t){return this.isCancellable()?(t=void 0!==t?n(t)?t:new Error(t+""):new s,o.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=new e(r);return t._propagateFrom(this,6),t._follow(this),t._unsetCancellable(),t},e.prototype.fork=function(t,e,r){var i=this._then(t,e,r,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":10}],6:[function(t,e,r){"use strict";e.exports=function(){function e(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var i=/\[object [a-zA-Z0-9$_]+\]/;if(i.test(e))try{var n=JSON.stringify(t);e=n}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+r(e)+">, no stack trace)"}function r(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function i(t,e){this.captureStackTrace(i,e)}var n=t("./util.js").inherits,o=t("./es5.js").defineProperty,s=new RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|3|4|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),a=null,c=null;n(i,Error),i.prototype.captureStackTrace=function(t,e){u(this,t,e)},i.possiblyUnhandledRejection=function(t){if("object"==typeof console){var e;if("object"==typeof t||"function"==typeof t){var r=t.stack;e="Possibly unhandled "+c(r,t)}else e="Possibly unhandled "+String(t);"function"==typeof console.error||"object"==typeof console.error?console.error(e):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(e)}},i.combine=function(t,e){for(var r=t.length-1,i=e.length-1;i>=0;--i){var n=e[i];if(t[r]!==n)break;t.pop(),r--}t.push("From previous event:");for(var o=t.concat(e),c=[],i=0,u=o.length;i<u;++i)s.test(o[i])&&a.test(o[i])||i>0&&!a.test(o[i])&&"From previous event:"!==o[i]||c.push(o[i]);return c},i.protectErrorMessageNewlines=function(t){for(var e=0;e<t.length&&!a.test(t[e]);++e);if(!(e<=1)){for(var r=[],i=0;i<e;++i)r.push(t.shift());t.unshift(r.join("\0"))}},i.isSupported=function(){return"function"==typeof u};var u=function t(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){a=/^\s*at\s*/,c=function(t,r){return"string"==typeof t?t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)};var r=Error.captureStackTrace;return function(t,e){r(t,e)}}var i=new Error;if("string"==typeof i.stack&&"function"==typeof"".startsWith&&i.stack.startsWith("stackDetection@")&&"stackDetection"===t.name){o(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),a=/@/;var n=/[@\n]/;return c=function(t,r){return"string"==typeof t?r.name+". "+r.message+"\n"+t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)},function(t){for(var e=(new Error).stack,r=e.split(n),i=r.length,o="",s=0;s<i;s+=2)o+=r[s],o+="@",o+=r[s+1],o+="\n";t.stack=o}}return c=function(t,r){return"string"==typeof t?t:"object"!=typeof r&&"function"!=typeof r||void 0===r.name||void 0===r.message?e(r):r.name+". "+r.message},null}();return i}},{"./es5.js":12,"./util.js":35}],7:[function(t,e,r){"use strict";e.exports=function(e){function r(t,e,r){this._instances=t,this._callback=e,this._promise=r}function i(t,e){var r={},i=s(t,r,e);if(i===a)return i;var n=c(r);return n.length?(a.e=new u("Catch filter must inherit from Error or be a simple predicate function"),a):i}var n=t("./util.js"),o=t("./errors.js"),s=n.tryCatch1,a=n.errorObj,c=t("./es5.js").keys,u=o.TypeError;return r.prototype.doFilter=function(t){for(var r=this._callback,n=this._promise,c=n._boundTo,u=0,l=this._instances.length;u<l;++u){var h=this._instances[u],f=h===Error||null!=h&&h.prototype instanceof Error;if(f&&t instanceof h){var p=s(r,c,t);return p===a?(e.e=p.e,e):p}if("function"==typeof h&&!f){var _=i(h,t);if(_===a){var d=o.canAttach(a.e)?a.e:new Error(a.e+"");this._promise._attachExtraTrace(d),t=a.e;break}if(_){var p=s(r,c,t);return p===a?(e.e=p.e,e):p}}}return e.e=t,e},r}},{"./errors.js":10,"./es5.js":12,"./util.js":35}],8:[function(t,e,r){"use strict";var i=t("./util.js"),n=i.isPrimitive,o=i.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},r=function(){throw this},i=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype.return=t.prototype.thenReturn=function(t){return o&&n(t)?this._then(i(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return o&&n(t)?this._then(i(t,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,t,void 0)}}},{"./util.js":35}],9:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.reduce;t.prototype.each=function(t){return r(this,t,null,e)},t.each=function(t,i){return r(t,i,null,e)}}},{}],10:[function(t,e,r){"use strict";function i(t){try{_(t,"isOperational",!0)}catch(t){}}function n(t){return null!=t&&(t instanceof c||t.isOperational===!0)}function o(t){return t instanceof Error}function s(t){return o(t)}function a(t,e){function r(i){return this instanceof r?(this.message="string"==typeof i?i:e,this.name=t,void(Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(i)}return p(r,Error),r}function c(t){this.name="OperationalError",this.message=t,this.cause=t,this.isOperational=!0,t instanceof Error?(this.message=t.message,this.stack=t.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var u,l,h=t("./es5.js").freeze,f=t("./util.js"),p=f.inherits,_=f.notEnumerableProp,d=a("CancellationError","cancellation error"),v=a("TimeoutError","timeout error"),y=a("AggregateError","aggregate error");try{u=TypeError,l=RangeError}catch(t){u=a("TypeError","type error"),l=a("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<m.length;++g)"function"==typeof Array.prototype[m[g]]&&(y.prototype[m[g]]=Array.prototype[m[g]]);y.prototype.length=0,y.prototype.isOperational=!0;var j=0;y.prototype.toString=function(){var t=Array(4*j+1).join(" "),e="\n"+t+"AggregateError of:\n";j++,t=Array(4*j+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",n=i.split("\n"),o=0;o<n.length;++o)n[o]=t+n[o];i=n.join("\n"),e+=i+"\n"}return j--,e},p(c,Error);var b="__BluebirdErrorTypes__",w=Error[b];w||(w=h({CancellationError:d,TimeoutError:v,OperationalError:c,RejectionError:c,AggregateError:y}),_(Error,b,w)),e.exports={Error:Error,TypeError:u,RangeError:l,CancellationError:w.CancellationError,OperationalError:w.OperationalError,TimeoutError:w.TimeoutError,AggregateError:w.AggregateError,originatesFromRejection:n,markAsOriginatingFromRejection:i,canAttach:s}},{"./es5.js":12,"./util.js":35}],11:[function(t,e,r){"use strict";e.exports=function(e){function r(t){var r=new i(t),n=e.rejected(r),o=n._peekContext();return null!=o&&o._attachExtraTrace(r),n}var i=t("./errors.js").TypeError;return r}},{"./errors.js":10}],12:[function(t,e,r){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i};else{var n={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e},c=function(t,e,r){return t[e]=r.value,t},u=function(t){return t},l=function(t){try{return Object(t).constructor.prototype}catch(t){return s}},h=function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}};e.exports={isArray:h,keys:a,defineProperty:c,freeze:u,getPrototypeOf:l,isES5:i}}},{}],13:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,i){return r(this,t,i,e)},t.filter=function(t,i,n){return r(t,i,n,e)}}},{}],14:[function(t,e,r){"use strict";e.exports=function(e,r,i){function n(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function c(t,e,r){var i;return i=f&&p(e)?r?s(e):a(e):r?n:o,t._then(i,_,void 0,e,void 0)}function u(t){var n=this.promise,o=this.handler,s=n._isBound()?o.call(n._boundTo):o();if(void 0!==s){var a=i(s,void 0);if(a instanceof e)return c(a,t,n.isFulfilled())}return n.isRejected()?(r.e=t,r):t}function l(t){var r=this.promise,n=this.handler,o=r._isBound()?n.call(r._boundTo,t):n(t);if(void 0!==o){var s=i(o,void 0);if(s instanceof e)return c(s,t,!0)}return t}var h=t("./util.js"),f=h.wrapsPrimitiveReceiver,p=h.isPrimitive,_=h.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var r={promise:this,handler:t};return this._then(e?u:l,e?u:void 0,void 0,r,void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":35}],15:[function(t,e,r){"use strict";e.exports=function(e,r,i,n){function o(t,r){for(var i=h,s=e,a=r.length,c=0;c<a;++c){var u=f(r[c],void 0,t);if(u===i)return s.reject(i.e);var l=n(u,o);if(l instanceof s)return l}return null}function s(t,r,n){var o=this._promise=new e(i);o._setTrace(void 0),this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(p):p}var a=t("./errors.js"),c=a.TypeError,u=t("./util.js").deprecated,l=t("./util.js"),h=l.errorObj,f=l.tryCatch1,p=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(t){if(t===h){this._generator=void 0;var r=a.canAttach(t.e)?t.e:new Error(t.e+"");return this._promise._attachExtraTrace(r),void this._promise._reject(t.e,r)}var i=t.value;if(t.done===!0)this._generator=void 0,this._promise._tryFollow(i)||this._promise._fulfill(i);else{var s=n(i,void 0);if(!(s instanceof e)&&(s=o(s,this._yieldHandlers),null===s))return void this._throw(new c("A value was yielded that could not be treated as a promise"));s._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(t){a.canAttach(t)&&this._promise._attachExtraTrace(t),this._continue(f(this._generator.throw,this._generator,t))},s.prototype._next=function(t){this._continue(f(this._generator.next,this._generator,t))},e.coroutine=function(t,e){if("function"!=typeof t)throw new c("generatorFunction must be a function");var r=Object(e).yieldHandler,i=s;return function(){var e=t.apply(this,arguments),n=new i((void 0),(void 0),r);return n._generator=e,n._next(void 0),n.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("fn must be a function");p.push(t)},e.spawn=function(t){if(u("Promise.spawn is deprecated. Use Promise.coroutine instead."),"function"!=typeof t)return r("generatorFunction must be a function");var i=new s(t,this),n=i.promise();return i._run(e.spawn),n}}},{"./errors.js":10,"./util.js":35}],16:[function(t,e,r){"use strict";e.exports=function(e,r,i,n){var o=t("./util.js"),s=o.canEvaluate,a=o.tryCatch1,c=o.errorObj;if(s){for(var u=function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))},l=function(t){for(var e=[],r=1;r<=t;++r)e.push("holder.p"+r);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,e.join(", ")))},h=[],f=[void 0],p=1;p<=5;++p)h.push(u(p)),f.push(l(p));var _=function(t,e){this.p1=this.p2=this.p3=this.p4=this.p5=null,this.fn=e,this.total=t,this.now=0};_.prototype.callers=f,_.prototype.checkFulfillment=function(t){var e=this.now;e++;var r=this.total;if(e>=r){var i=this.callers[r],n=a(i,void 0,this);n===c?t._rejectUnchecked(n.e):t._tryFollow(n)||t._fulfillUnchecked(n)}else this.now=e}}e.join=function(){var t,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(t=arguments[o],o<6&&s)){var a=new e(n);a._setTrace(void 0);for(var c=new _(o,t),u=a._reject,l=h,f=0;f<o;++f){var p=i(arguments[f],void 0);p instanceof e?p.isPending()?p._then(l[f],u,void 0,a,c):p.isFulfilled()?l[f].call(a,p._settledValue,c):(a._reject(p._settledValue),p._unsetRejectionIsUnhandled()):l[f].call(a,p,c)}return a}for(var d=arguments.length,v=new Array(d),y=0;y<d;++y)v[y]=arguments[y];var a=new r(v).promise();return void 0!==t?a.spread(t):a}}},{"./util.js":35}],17:[function(t,e,r){"use strict";e.exports=function(e,r,i,n,o){function s(t,e,r,i){this.constructor$(t),this._callback=e,this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=r>=1?[]:f,this._init$(void 0,-2)}function a(t,e,r,i){var n="object"==typeof r&&null!==r?r.concurrency:0;return n="number"==typeof n&&isFinite(n)&&n>=1?n:0,new s(t,e,n,i)}var c=t("./util.js"),u=c.tryCatch3,l=c.errorObj,h={},f=[];c.inherits(s,r),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,r){var i=this._values;if(null!==i){var o=this.length(),s=this._preservedValues,a=this._limit;if(i[r]===h){if(i[r]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return i[r]=t,void this._queue.push(r);null!==s&&(s[r]=t);var c=this._callback,f=this._promise._boundTo,p=u(c,f,t,r,o);if(p===l)return this._reject(p.e);var _=n(p,void 0);if(_ instanceof e){if(_.isPending())return a>=1&&this._inFlight++,i[r]=h,_._proxyPromiseArray(this,r);if(!_.isFulfilled())return _._unsetRejectionIsUnhandled(),this._reject(_.reason());p=_.value()}i[r]=p}var d=++this._totalResolved;d>=o&&(null!==s?this._filter(i,s):this._resolve(i))}},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;){var i=t.pop();this._promiseFulfilled(r[i],i)}},s.prototype._filter=function(t,e){for(var r=e.length,i=new Array(r),n=0,o=0;o<r;++o)t[o]&&(i[n++]=e[o]);i.length=n,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?i("fn must be a function"):a(this,t,e,null).promise()},e.map=function(t,e,r,n){return"function"!=typeof e?i("fn must be a function"):a(t,e,r,n).promise()}}},{"./util.js":35}],18:[function(t,e,r){"use strict";e.exports=function(e){function r(t){throw t}function i(t,e){if(!s.isArray(t))return n(t,e);var i=s.tryCatchApply(this,[null].concat(t),e);i===l&&a.invokeLater(r,void 0,i.e)}function n(t,e){var i=this,n=void 0===t?u(i,e,null):c(i,e,null,t);n===l&&a.invokeLater(r,void 0,n.e)}function o(t,e){var i=this,n=u(i,e,t);n===l&&a.invokeLater(r,void 0,n.e)}var s=t("./util.js"),a=t("./async.js"),c=s.tryCatch2,u=s.tryCatch1,l=s.errorObj;e.prototype.nodeify=function(t,e){if("function"==typeof t){var r=n;void 0!==e&&Object(e).spread&&(r=i),this._then(r,o,void 0,t,this._boundTo)}return this}}},{"./async.js":2,"./util.js":35}],19:[function(t,e,r){"use strict";e.exports=function(e,r){var i=t("./util.js"),n=t("./async.js"),o=t("./errors.js"),s=i.tryCatch1,a=i.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(t)},e.prototype._clearFirstHandlerData$Base=e.prototype._clearFirstHandlerData,e.prototype._clearFirstHandlerData=function(){this._clearFirstHandlerData$Base(),this._progressHandler0=void 0},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.handler,n=t.promise,c=t.receiver,u=s(i,c,r);if(u===a){if(null!=u.e&&"StopProgressPropagation"!==u.e.name){var l=o.canAttach(u.e)?u.e:new Error(u.e+"");n._attachExtraTrace(l),n._progress(u.e)}}else u instanceof e?u._then(n._progress,null,null,n,void 0):n._progress(u)},e.prototype._progressUnchecked=function(t){if(this.isPending())for(var i=this._length(),o=this._progress,s=0;s<i;s++){var a=this._progressHandlerAt(s),c=this._promiseAt(s);if(c instanceof e)"function"==typeof a?n.invoke(this._doProgressWith,this,{handler:a,promise:c,receiver:this._receiverAt(s),value:t}):n.invoke(o,c,t);else{var u=this._receiverAt(s);"function"==typeof a?a.call(u,t,c):u instanceof e&&u._isProxied()?u._progressUnchecked(t):u instanceof r&&u._promiseProgressed(t,c)}}}}},{"./async.js":2,"./errors.js":10,"./util.js":35}],20:[function(t,e,r){"use strict";function i(t){try{Promise===t&&(Promise=n)}catch(t){}return t}var n;"undefined"!=typeof Promise&&(n=Promise),e.exports=function(){function e(t){if("function"!=typeof t)throw new w("the promise constructor requires a resolver function");if(this.constructor!==e)throw new w("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,t!==c&&this._resolveFromResolver(t)}function r(t){return t[0]}function n(){return new e.PromiseInspection(this)}var o=t("./util.js"),s=t("./async.js"),a=t("./errors.js"),c=function(){},u={},l={e:null},h=t("./thenables.js")(e,c),f=t("./promise_array.js")(e,c,h),p=t("./captured_trace.js")(),_=t("./catch_filter.js")(l),d=t("./promise_resolver.js"),v=o.isArray,y=o.errorObj,m=o.tryCatch1,g=o.tryCatch2,j=o.tryCatchApply,b=a.RangeError,w=a.TypeError,F=a.CancellationError,k=a.TimeoutError,E=a.OperationalError,P=a.originatesFromRejection,T=a.markAsOriginatingFromRejection,R=a.canAttach,x=o.thrower,A=t("./errors_api_rejection")(e),C=function(){return new w("circular promise resolution chain")};e.prototype.bind=function(t){var i=h(t,void 0),n=new e(c);if(i instanceof e){var o=i.then(function(t){n._setBoundTo(t)}),s=e.all([this,o]).then(r);n._follow(s)}else n._follow(this),n._setBoundTo(t);return n._propagateFrom(this,3),n},e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype.catch=function(t){var r=arguments.length;if(r>1){var i,n=new Array(r-1),o=0;for(i=0;i<r-1;++i){var s=arguments[i];if("function"!=typeof s){var a=new w("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(a),e.reject(a)}n[o++]=s}n.length=o,t=arguments[i],this._resetTrace();var c=new _(n,t,this);return this._then(void 0,c.doFilter,void 0,c,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},e.prototype.then=function(t,e,r){return this._then(t,e,r,void 0,void 0)},e.prototype.done=function(t,e,r){var i=this._then(t,e,r,void 0,void 0);i._setIsFinal()},e.prototype.spread=function(t,e){return this._then(t,e,void 0,u,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this._settledValue,t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this._settledValue,t.isRejected=!0),t},e.prototype.all=function(){return new f(this).promise()},e.is=function(t){return t instanceof e},e.all=function(t){return new f(t).promise()},e.prototype.error=function(t){return this.caught(P,t)},e.prototype._resolveFromSyncValue=function(t){if(t===y)this._cleanValues(),this._setRejected(),this._settledValue=t.e,this._ensurePossibleRejectionHandled();else{var r=h(t,void 0);r instanceof e?this._follow(r):(this._cleanValues(),this._setFulfilled(),this._settledValue=t)}},e.method=function(t){if("function"!=typeof t)throw new w("fn must be a function");return function(){var r;switch(arguments.length){case 0:r=m(t,this,void 0);break;case 1:r=m(t,this,arguments[0]);break;case 2:r=g(t,this,arguments[0],arguments[1]);break;default:for(var i=arguments.length,n=new Array(i),o=0;o<i;++o)n[o]=arguments[o];r=j(t,n,this)}var s=new e(c);return s._setTrace(void 0),s._resolveFromSyncValue(r),s}},e.attempt=e.try=function(t,r,i){if("function"!=typeof t)return A("fn must be a function");var n=v(r)?j(t,r,i):m(t,i,r),o=new e(c);return o._setTrace(void 0),o._resolveFromSyncValue(n),o},e.defer=e.pending=function(){var t=new e(c);return t._setTrace(void 0),new d(t)},e.bind=function(t){var r=h(t,void 0),i=new e(c);if(i._setTrace(void 0),r instanceof e){var n=r.then(function(t){i._setBoundTo(t)});i._follow(n)}else i._setBoundTo(t),i._setFulfilled();return i},e.cast=function(t){var r=h(t,void 0);if(!(r instanceof e)){var i=r;r=new e(c),r._setTrace(void 0),r._setFulfilled(),r._cleanValues(),r._settledValue=i}return r},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var r=new e(c);if(r._setTrace(void 0),T(t),r._cleanValues(),r._setRejected(),r._settledValue=t,!R(t)){var i=new Error(t+"");r._setCarriedStackTrace(i)}return r._ensurePossibleRejectionHandled(),r},e.onPossiblyUnhandledRejection=function(t){p.possiblyUnhandledRejection="function"==typeof t?t:void 0};var O;e.onUnhandledRejectionHandled=function(t){O="function"==typeof t?t:void 0};var S=!("undefined"==typeof process||"string"!=typeof process.execPath||"object"!=typeof process.env||!process.env.BLUEBIRD_DEBUG&&"development"!==process.env.NODE_ENV);e.longStackTraces=function(){if(s.haveItemsQueued()&&S===!1)throw new Error("cannot enable long stack traces after promises have been created");S=p.isSupported()},e.hasLongStackTraces=function(){return S&&p.isSupported()},e.prototype._then=function(t,r,i,n,o){var a=void 0!==o,u=a?o:new e(c);if(!a){if(S){var l=this._peekContext()===this._traceParent;u._traceParent=l?this._traceParent:this}u._propagateFrom(this,7)}var h=this._addCallbacks(t,r,i,u,n);return this.isResolved()&&s.invoke(this._queueSettleAt,this,h),u},e.prototype._length=function(){return 262143&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=this._bitField&-262144|262143&t},e.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},e.prototype._setRejected=function(){this._bitField=134217728|this._bitField},e.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},e.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},e.prototype._isFinal=function(){return(33554432&this._bitField)>0},e.prototype._cancellable=function(){return(67108864&this._bitField)>0},e.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},e.prototype._unsetCancellable=function(){this._bitField=this._bitField&-67108865},e.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-2097153,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-524289},e.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},e.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},e.prototype._unsetCarriedStackTrace=function(){this._bitField=this._bitField&-1048577,this._fulfillmentHandler0=void 0},e.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},e.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},e.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[(t<<2)+t-5+4];return this._isBound()&&void 0===e?this._boundTo:e},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[(t<<2)+t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[(t<<2)+t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[(t<<2)+t-5+1]},e.prototype._addCallbacks=function(t,e,r,i,n){var o=this._length();if(o>=262138&&(o=0,this._setLength(0)),0===o)this._promise0=i,void 0!==n&&(this._receiver0=n),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof r&&(this._progressHandler0=r);else{var s=(o<<2)+o-5;this[s+3]=i,this[s+4]=n,this[s+0]="function"==typeof t?t:void 0,this[s+1]="function"==typeof e?e:void 0,this[s+2]="function"==typeof r?r:void 0}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var r=this._length();if(r>=262138&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else{var i=(r<<2)+r-5;this[i+3]=e,this[i+4]=t,this[i+0]=this[i+1]=this[i+2]=void 0}this._setLength(r+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._proxyPromise=function(t){t._setProxied(),this._setProxyHandlers(t,-15)},e.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=8388608|this._bitField,this._boundTo=t):this._bitField=this._bitField&-8388609},e.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},e.prototype._resolveFromResolver=function(t){function e(t){i._tryFollow(t)||i._fulfill(t)}function r(t){var e=R(t)?t:new Error(t+"");i._attachExtraTrace(e),T(t),i._reject(t,e===t?void 0:e)}var i=this;this._setTrace(void 0),this._pushContext();var n=g(t,void 0,e,r);if(this._popContext(),void 0!==n&&n===y){var o=n.e,s=R(o)?o:new Error(o+"");i._reject(o,s)}},e.prototype._spreadSlowCase=function(t,e,r,i){var n=new f(r).promise(),o=n._then(function(){return t.apply(i,arguments)},void 0,void 0,u,void 0);e._follow(o)},e.prototype._callSpread=function(t,r,i){var n=this._boundTo;if(v(i))for(var o=0,s=i.length;o<s;++o)if(h(i[o],void 0)instanceof e)return void this._spreadSlowCase(t,r,i,n);return r._pushContext(),j(t,i,n)},e.prototype._callHandler=function(t,e,r,i){var n;return e!==u||this.isRejected()?(r._pushContext(),n=m(t,e,i)):n=this._callSpread(t,r,i),r._popContext(),n},e.prototype._settlePromiseFromHandler=function(t,r,i,n){if(!(n instanceof e))return void t.call(r,i,n);var o=this._callHandler(t,r,n,i);if(!n._isFollowing())if(o===y||o===n||o===l){var s=o===n?C():o.e,a=R(s)?s:new Error(s+"");o!==l&&n._attachExtraTrace(a),n._rejectUnchecked(s,a);
}else{var c=h(o,n);if(c instanceof e){if(c.isRejected()&&!c._isCarryingStackTrace()&&!R(c._settledValue)){var a=new Error(c._settledValue+"");n._attachExtraTrace(a),c._setCarriedStackTrace(a)}n._follow(c),n._propagateFrom(c,1)}else n._fulfillUnchecked(o)}},e.prototype._follow=function(t){this._setFollowing(),t.isPending()?(this._propagateFrom(t,1),t._proxyPromise(this)):t.isFulfilled()?this._fulfillUnchecked(t._settledValue):this._rejectUnchecked(t._settledValue,t._getCarriedStackTrace()),t._isRejectionUnhandled()&&t._unsetRejectionIsUnhandled(),S&&null==t._traceParent&&(t._traceParent=this)},e.prototype._tryFollow=function(t){if(this._isFollowingOrFulfilledOrRejected()||t===this)return!1;var r=h(t,void 0);return r instanceof e&&(this._follow(r),!0)},e.prototype._resetTrace=function(){S&&(this._trace=new p(void 0===this._peekContext()))},e.prototype._setTrace=function(t){if(S){var e=this._peekContext();this._traceParent=e;var r=void 0===e;void 0!==t&&t._traceParent===e?this._trace=t._trace:this._trace=new p(r)}return this},e.prototype._attachExtraTrace=function(t){if(S){var e=this,r=t.stack;r="string"==typeof r?r.split("\n"):[],p.protectErrorMessageNewlines(r);for(var i=1,n=1;null!=e&&null!=e._trace;)r=p.combine(r,e._trace.stack.split("\n")),e=e._traceParent,n++;var o=Error.stackTraceLimit||10,s=(o+i)*n,a=r.length;a>s&&(r.length=s),a>0&&(r[0]=r[0].split("\0").join("\n")),r.length<=i?t.stack="(No stack trace)":t.stack=r.join("\n")}},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&this._setBoundTo(t._boundTo),(2&e)>0&&this._setTrace(t)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var r=this.isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),i=this._settledValue,n=this._receiverAt(t),o=this._promiseAt(t);if("function"==typeof r)this._settlePromiseFromHandler(r,n,i,o);else{var s=!1,a=this.isFulfilled();void 0!==n&&(n instanceof e&&n._isProxied()?(n._unsetProxied(),a?n._fulfillUnchecked(i):n._rejectUnchecked(i,this._getCarriedStackTrace()),s=!0):n instanceof f&&(a?n._promiseFulfilled(i,o):n._promiseRejected(i,o),s=!0)),s||(a?o._fulfill(i):o._reject(i,this._getCarriedStackTrace()))}t>=4&&this._queueGC()},e.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},e.prototype._setProxied=function(){this._bitField=4194304|this._bitField},e.prototype._unsetProxied=function(){this._bitField=this._bitField&-4194305},e.prototype._isGcQueued=function(){return(this._bitField&-1073741824)===-1073741824},e.prototype._setGcQueued=function(){this._bitField=this._bitField|-1073741824},e.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},e.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),s.invokeLater(this._gc,this,void 0))},e.prototype._gc=function(){for(var t=5*this._length()-5,e=0;e<t;e++)delete this[e];this._clearFirstHandlerData(),this._setLength(0),this._unsetGcQueued()},e.prototype._clearFirstHandlerData=function(){this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0},e.prototype._queueSettleAt=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),s.invoke(this._settlePromiseAt,this,t)},e.prototype._fulfillUnchecked=function(t){if(this.isPending()){if(t===this){var e=C();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=t;var r=this._length();r>0&&s.invoke(this._settlePromises,this,r)}},e.prototype._rejectUncheckedCheckError=function(t){var e=R(t)?t:new Error(t+"");this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(this.isPending()){if(t===this){var r=C();return this._attachExtraTrace(r),this._rejectUnchecked(r)}if(this._cleanValues(),this._setRejected(),this._settledValue=t,this._isFinal())return void s.invokeLater(x,void 0,void 0===e?t:e);var i=this._length();void 0!==e&&this._setCarriedStackTrace(e),i>0?s.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled()}},e.prototype._rejectPromises=function(){this._settlePromises(),this._unsetCarriedStackTrace()},e.prototype._settlePromises=function(){for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},e.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==p.possiblyUnhandledRejection&&s.invokeLater(this._notifyUnhandledRejection,this,void 0)},e.prototype._notifyUnhandledRejectionIsHandled=function(){"function"==typeof O&&s.invokeLater(O,void 0,this)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue,e=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified(),void 0!==e&&(this._unsetCarriedStackTrace(),t=e),"function"==typeof p.possiblyUnhandledRejection&&p.possiblyUnhandledRejection(t,this)}};var U=[];return e.prototype._peekContext=function(){var t=U.length-1;if(t>=0)return U[t]},e.prototype._pushContext=function(){S&&U.push(this)},e.prototype._popContext=function(){S&&U.pop()},e.noConflict=function(){return i(e)},e.setScheduler=function(t){if("function"!=typeof t)throw new w("fn must be a function");s._schedule=t},p.isSupported()||(e.longStackTraces=function(){},S=!1),e._makeSelfResolutionError=C,t("./finally.js")(e,l,h),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,f,h,c),e.RangeError=b,e.CancellationError=F,e.TimeoutError=k,e.TypeError=w,e.OperationalError=E,e.RejectionError=E,e.AggregateError=a.AggregateError,o.toFastProperties(e),o.toFastProperties(e.prototype),e.Promise=e,t("./timers.js")(e,c,h),t("./race.js")(e,c,h),t("./call_get.js")(e),t("./generators.js")(e,A,c,h),t("./map.js")(e,f,A,h,c),t("./nodeify.js")(e),t("./promisify.js")(e,c),t("./props.js")(e,f,h),t("./reduce.js")(e,f,A,h,c),t("./settle.js")(e,f),t("./some.js")(e,f,A),t("./progress.js")(e,f),t("./cancel.js")(e,c),t("./filter.js")(e,c),t("./any.js")(e,f),t("./each.js")(e,c),t("./using.js")(e,A,h),e.prototype=e.prototype,e}},{"./any.js":1,"./async.js":2,"./call_get.js":4,"./cancel.js":5,"./captured_trace.js":6,"./catch_filter.js":7,"./direct_resolve.js":8,"./each.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./join.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":23,"./props.js":24,"./race.js":26,"./reduce.js":27,"./settle.js":29,"./some.js":30,"./synchronous_inspection.js":31,"./thenables.js":32,"./timers.js":33,"./using.js":34,"./util.js":35}],21:[function(t,e,r){"use strict";e.exports=function(e,r,i){function n(t){switch(t){case-1:return;case-2:return[];case-3:return{}}}function o(t){var i=this._promise=new e(r),n=void 0;t instanceof e&&(n=t,i._propagateFrom(n,5)),i._setTrace(n),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=t("./errors.js").canAttach,a=t("./util.js"),c=a.isArray;return o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function t(r,o){var s=i(this._values,void 0);if(s instanceof e){if(this._values=s,s._setBoundTo(this._promise._boundTo),!s.isFulfilled())return s.isPending()?void s._then(t,this._reject,void 0,this,o):(s._unsetRejectionIsUnhandled(),void this._reject(s._settledValue));if(s=s._settledValue,!c(s)){var a=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(a)}}else if(!c(s)){var a=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(a)}if(0===s.length)return void(o===-5?this._resolveEmptyArray():this._resolve(n(o)));for(var u=this.getActualLength(s.length),l=u,h=this.shouldCopyValues()?new Array(u):this._values,f=!1,p=0;p<u;++p){var _=i(s[p],void 0);_ instanceof e?_.isPending()?_._proxyPromiseArray(this,p):(_._unsetRejectionIsUnhandled(),f=!0):f=!0,h[p]=_}this._values=h,this._length=l,f&&this._scanDirectValues(u)},o.prototype._settlePromiseAt=function(t){var r=this._values[t];r instanceof e?r.isFulfilled()?this._promiseFulfilled(r._settledValue,t):r.isRejected()&&this._promiseRejected(r._settledValue,t):this._promiseFulfilled(r,t)},o.prototype._scanDirectValues=function(t){for(var e=0;e<t&&!this._isResolved();++e)this._settlePromiseAt(e)},o.prototype._isResolved=function(){return null===this._values},o.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},o.prototype.__hardReject__=o.prototype._reject=function(t){this._values=null;var e=s(t)?t:new Error(t+"");this._promise._attachExtraTrace(e),this._promise._reject(t,e)},o.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({index:e,value:t})},o.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)}},o.prototype._promiseRejected=function(t,e){this._isResolved()||(this._totalResolved++,this._reject(t))},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./errors.js":10,"./util.js":35}],22:[function(t,e,r){"use strict";function i(t){return t instanceof Error&&_.getPrototypeOf(t)===Error.prototype}function n(t){var e;return e=i(t)?new h(t):t,u.markAsOriginatingFromRejection(e),e}function o(t){function e(e,r){if(null!==t){if(e){var i=n(c(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),a=1;a<o;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(r);t=null}}return e}var s,a=t("./util.js"),c=a.maybeWrapAsError,u=t("./errors.js"),l=u.TimeoutError,h=u.OperationalError,f=t("./async.js"),p=a.haveGetters,_=t("./es5.js");if(s=p?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=o(t),this.callback=this.asCallback},p){var d={get:function(){return o(this.promise)}};_.defineProperty(s.prototype,"asCallback",d),_.defineProperty(s.prototype,"callback",d)}s._nodebackForPromise=o,s.prototype.toString=function(){return"[object PromiseResolver]"},s.prototype.resolve=s.prototype.fulfill=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var e=this.promise;e._tryFollow(t)||f.invoke(e._fulfill,e,t)},s.prototype.reject=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var e=this.promise;u.markAsOriginatingFromRejection(t);var r=u.canAttach(t)?t:new Error(t+"");e._attachExtraTrace(r),f.invoke(e._reject,e,t),r!==t&&f.invoke(this._setCarriedStackTrace,this,r)},s.prototype.progress=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");f.invoke(this.promise._progress,this.promise,t)},s.prototype.cancel=function(){f.invoke(this.promise.cancel,this.promise,void 0)},s.prototype.timeout=function(){this.reject(new l("timeout"))},s.prototype.isResolved=function(){return this.promise.isResolved()},s.prototype.toJSON=function(){return this.promise.toJSON()},s.prototype._setCarriedStackTrace=function(t){this.promise.isRejected()&&this.promise._setCarriedStackTrace(t)},e.exports=s},{"./async.js":2,"./errors.js":10,"./es5.js":12,"./util.js":35}],23:[function(t,e,r){"use strict";e.exports=function(e,r){function i(t){return t.replace(/([$])/,"\\$")}function n(t){try{return t.__isPromisified__===!0}catch(t){return!1}}function o(t,e,r){var i=m.getDataPropertyOrDefault(t,e+r,P);return!!i&&n(i)}function s(t,e,r){for(var i=0;i<t.length;i+=2){var n=t[i];if(r.test(n))for(var o=n.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new F("Cannot promisify an API that has normal methods with '"+e+"'-suffix")}}function a(t,e,r,i){for(var a=m.inheritedDataKeys(t),c=[],u=0;u<a.length;++u){var l=a[u],h=t[l];"function"!=typeof h||n(h)||o(t,l,e)||!i(l,h,t)||c.push(l,h)}return s(c,e,r),c}function c(t){for(var e=[t],r=Math.max(0,t-1-5),i=t-1;i>=r;--i)i!==t&&e.push(i);for(var i=t+1;i<=5;++i)e.push(i);return e}function u(t){return m.filledRange(t,"arguments[","]")}function l(t){return m.filledRange(t,"_arg","")}function h(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0}function f(t){return m.isIdentifier(t)?"."+t:"['"+t.replace(/(['\\])/g,"\\$1")+"']"}function p(t,i,n,o,s){function a(e){var r,n=u(e).join(", "),o=e>0?", ":"";return r="string"==typeof t?"                                                          \n                this.method({{args}}, fn);                                   \n                break;                                                       \n            ".replace(".method",f(t)):i===y?"                                                         \n                callback.call(this, {{args}}, fn);                           \n                break;                                                       \n            ":void 0!==i?"                                                         \n                callback.call(receiver, {{args}}, fn);                       \n                break;                                                       \n            ":"                                                         \n                callback({{args}}, fn);                                      \n                break;                                                       \n            ",r.replace("{{args}}",n).replace(", ",o)}function p(){for(var e="",r=0;r<d.length;++r)e+="case "+d[r]+":"+a(d[r]);var n;return n="string"==typeof t?"                                                  \n                this.property.apply(this, args);                             \n            ".replace(".property",f(t)):i===y?"                                                  \n                callback.apply(this, args);                                  \n            ":"                                                  \n                callback.apply(receiver, args);                              \n            ",e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = fn;                                                    \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",n)}var _=Math.max(0,h(o)-1),d=c(_),v="string"==typeof n&&m.isIdentifier(n)?n+s:"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","                                         \n        var ret = function FunctionName(Parameters) {                        \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._setTrace(void 0);                                       \n            var fn = nodebackForPromise(promise);                            \n            try {                                                            \n                switch(len) {                                                \n                    [CodeForSwitchCase]                                      \n                }                                                            \n            } catch (e) {                                                    \n                var wrapped = maybeWrapAsError(e);                           \n                promise._attachExtraTrace(wrapped);                          \n                promise._reject(wrapped);                                    \n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        ret.__isPromisified__ = true;                                        \n        return ret;                                                          \n        ".replace("FunctionName",v).replace("Parameters",l(_)).replace("[CodeForSwitchCase]",p()))(e,t,i,j,b,g,r)}function _(t,i){function n(){var n=i;i===y&&(n=this),"string"==typeof t&&(t=n[t]);var o=new e(r);o._setTrace(void 0);var s=g(o);try{t.apply(n,j(arguments,s))}catch(t){var a=b(t);o._attachExtraTrace(a),o._reject(a)}return o}return n.__isPromisified__=!0,n}function d(t,e,r,n){for(var o=new RegExp(i(e)+"$"),s=a(t,e,o,r),c=0,u=s.length;c<u;c+=2){var l=s[c],h=s[c+1],f=l+e;t[f]=n===T?T(l,y,l,h,e):n(h)}return m.toFastProperties(t),t}function v(t,e){return T(t,e,void 0,t)}var y={},m=t("./util.js"),g=t("./promise_resolver.js")._nodebackForPromise,j=m.withAppended,b=m.maybeWrapAsError,w=m.canEvaluate,F=t("./errors").TypeError,k="Async",E=function(t,e){return m.isIdentifier(t)&&"_"!==t.charAt(0)&&!m.isClass(e)},P={__isPromisified__:!0},T=w?p:_;e.promisify=function(t,e){if("function"!=typeof t)throw new F("fn must be a function");return n(t)?t:v(t,arguments.length<2?y:e)},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new F("the target of promisifyAll must be an object or a function");e=Object(e);var r=e.suffix;"string"!=typeof r&&(r=k);var i=e.filter;"function"!=typeof i&&(i=E);var n=e.promisifier;if("function"!=typeof n&&(n=T),!m.isIdentifier(r))throw new RangeError("suffix must be a valid identifier");for(var o=m.inheritedDataKeys(t,{includeHidden:!0}),s=0;s<o.length;++s){var a=t[o[s]];"constructor"!==o[s]&&m.isClass(a)&&(d(a.prototype,r,i,n),d(a,r,i,n))}return d(t,r,i,n)}}},{"./errors":10,"./promise_resolver.js":22,"./util.js":35}],24:[function(t,e,r){"use strict";e.exports=function(e,r,i){function n(t){for(var e=u.keys(t),r=e.length,i=new Array(2*r),n=0;n<r;++n){var o=e[n];i[n]=t[o],i[n+r]=o}this.constructor$(i)}function o(t){var r,o=i(t,void 0);return c(o)?(r=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new n(o).promise(),o instanceof e&&r._propagateFrom(o,4),r):a("cannot await properties of a non-object")}var s=t("./util.js"),a=t("./errors_api_rejection")(e),c=s.isObject,u=t("./es5.js");s.inherits(n,r),n.prototype._init=function(){this._init$(void 0,-3)},n.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var r=++this._totalResolved;if(r>=this._length){for(var i={},n=this.length(),o=0,s=this.length();o<s;++o)i[this._values[o+n]]=this._values[o];this._resolve(i)}}},n.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({key:this._values[e+this.length()],value:t})},n.prototype.shouldCopyValues=function(){return!1},n.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return o(this)},e.props=function(t){return o(t)}}},{"./errors_api_rejection":11,"./es5.js":12,"./util.js":35}],25:[function(t,e,r){"use strict";function i(t,e,r,i,n){for(var o=0;o<n;++o)r[o+i]=t[o+e]}function n(t){this._capacity=t,this._length=0,this._front=0,this._makeCapacity()}n.prototype._willBeOverCapacity=function(t){return this._capacity<t},n.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1},n.prototype.push=function(t,e,r){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var n=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[n+0&o]=t,this[n+1&o]=e,this[n+2&o]=r,this._length=i},n.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},n.prototype.length=function(){return this._length},n.prototype._makeCapacity=function(){for(var t=this._capacity,e=0;e<t;++e)this[e]=void 0},n.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<3)},n.prototype._resizeTo=function(t){var e=this._front,r=this._capacity,n=new Array(r),o=this.length();if(i(this,0,n,0,r),this._capacity=t,this._makeCapacity(),this._front=0,e+o<=r)i(n,e,this,0,o);else{var s=o-(e+o&r-1);i(n,e,this,0,s),i(n,0,this,s,o-s)}},e.exports=n},{}],26:[function(t,e,r){"use strict";e.exports=function(e,r,i){function n(t,n){var u=i(t,void 0);if(u instanceof e)return a(u);if(!s(t))return o("expecting an array, a promise or a thenable");var l=new e(r);void 0!==n?l._propagateFrom(n,7):l._setTrace(void 0);for(var h=l._fulfill,f=l._reject,p=0,_=t.length;p<_;++p){var d=t[p];(void 0!==d||c.call(t,p))&&e.cast(d)._then(h,f,void 0,l,null)}return l}var o=t("./errors_api_rejection.js")(e),s=t("./util.js").isArray,a=function(t){return t.then(function(e){return n(e,t)})},c={}.hasOwnProperty;e.race=function(t){return n(t,void 0)},e.prototype.race=function(){return n(this,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":35}],27:[function(t,e,r){"use strict";e.exports=function(e,r,i,n,o){function s(t,r,i,s){this.constructor$(t),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var a=n(i,void 0),c=!1,u=a instanceof e;u&&(a.isPending()?a._proxyPromiseArray(this,-1):a.isFulfilled()?(i=a.value(),this._gotAccum=!0):(a._unsetRejectionIsUnhandled(),this._reject(a.reason()),c=!0)),u||this._zerothIsAccum||(this._gotAccum=!0),this._callback=r,this._accum=i,c||this._init$(void 0,-5)}function a(t,e,r,n){if("function"!=typeof e)return i("fn must be a function");var o=new s(t,e,r,n);return o.promise()}var c=t("./util.js"),u=c.tryCatch4,l=c.tryCatch3,h=c.errorObj;c.inherits(s,r),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,r){var i=this._values;if(null!==i){var o,s=this.length(),a=this._preservedValues,c=null!==a,f=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=Array(s),o=0;o<s;++o)p[o]=0;if(o=p[r],0===r&&this._zerothIsAccum?(f||(this._accum=t,this._gotAccum=f=!0),p[r]=0===o?1:2):r===-1?f||(this._accum=t,this._gotAccum=f=!0):0===o?p[r]=1:(p[r]=2,f&&(this._accum=t)),f){for(var _,d=this._callback,v=this._promise._boundTo,y=this._reducingIndex;y<s;++y)if(o=p[y],2!==o){if(1!==o)return;if(t=i[y],t instanceof e){if(!t.isFulfilled())return t.isPending()?void 0:(t._unsetRejectionIsUnhandled(),this._reject(t.reason()));t=t._settledValue}if(c?(a.push(t),_=l(d,v,t,y,s)):_=u(d,v,this._accum,t,y,s),_===h)return this._reject(_.e);var m=n(_,void 0);if(m instanceof e){if(m.isPending())return p[y]=4,m._proxyPromiseArray(this,y);if(!m.isFulfilled())return m._unsetRejectionIsUnhandled(),this._reject(m.reason());_=m.value()}this._reducingIndex=y+1,this._accum=_}else this._reducingIndex=y+1;this._reducingIndex<s||this._resolve(c?a:this._accum)}}},e.prototype.reduce=function(t,e){return a(this,t,e,null)},e.reduce=function(t,e,r,i){return a(t,e,r,i)}}},{"./util.js":35}],28:[function(t,e,r){"use strict";var i,n;if("object"==typeof process&&"string"==typeof process.version)i=function(t){process.nextTick(t)};else if("undefined"!=typeof MutationObserver&&(n=MutationObserver)||"undefined"!=typeof WebKitMutationObserver&&(n=WebKitMutationObserver))i=function(){var t=document.createElement("div"),e=void 0,r=new n(function(){var t=e;e=void 0,t()});return r.observe(t,{attributes:!0}),function(r){e=r,t.classList.toggle("foo")}}();else{if("undefined"==typeof setTimeout)throw new Error("no async scheduler available");i=function(t){setTimeout(t,0)}}e.exports=i},{}],29:[function(t,e,r){"use strict";e.exports=function(e,r){function i(t){this.constructor$(t)}var n=e.PromiseInspection,o=t("./util.js");o.inherits(i,r),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){var r=new n;r._bitField=268435456,r._settledValue=t,this._promiseResolved(e,r)}},i.prototype._promiseRejected=function(t,e){if(!this._isResolved()){var r=new n;r._bitField=134217728,r._settledValue=t,this._promiseResolved(e,r)}},e.settle=function(t){return new i(t).promise()},e.prototype.settle=function(){return new i(this).promise()}}},{"./util.js":35}],30:[function(t,e,r){"use strict";e.exports=function(e,r,i){function n(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer");var r=new n(t),o=r.promise();return o.isRejected()?o:(r.setHowMany(e),r.init(),o)}var s=t("./util.js"),a=t("./errors.js").RangeError,c=t("./errors.js").AggregateError,u=s.isArray;s.inherits(n,r),n.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},n.prototype.init=function(){this._initialized=!0,this._init()},n.prototype.setUnwrap=function(){this._unwrap=!0},n.prototype.howMany=function(){return this._howMany},n.prototype.setHowMany=function(t){this._isResolved()||(this._howMany=t)},n.prototype._promiseFulfilled=function(t){this._isResolved()||(this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values)))},n.prototype._promiseRejected=function(t){if(!this._isResolved()&&(this._addRejected(t),this.howMany()>this._canPossiblyFulfill())){for(var e=new c,r=this.length();r<this._values.length;++r)e.push(this._values[r]);this._reject(e)}},n.prototype._fulfilled=function(){return this._totalResolved},n.prototype._rejected=function(){return this._values.length-this.length()},n.prototype._addRejected=function(t){this._values.push(t)},n.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},n.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},n.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},n.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=n}},{"./errors.js":10,"./util.js":35}],31:[function(t,e,r){"use strict";e.exports=function(t){function e(t){void 0!==t?(this._bitField=t._bitField,this._settledValue=t.isResolved()?t._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}e.prototype.isFulfilled=t.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype.isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype.isPending=function(){return 0===(402653184&this._bitField)},e.prototype.value=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},e.prototype.error=e.prototype.reason=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue},e.prototype.isResolved=t.prototype.isResolved=function(){return(402653184&this._bitField)>0},t.PromiseInspection=e}},{}],32:[function(t,e,r){"use strict";e.exports=function(e,r){function i(t){try{return t.then}catch(t){return u.e=t,u}}function n(t,n){if(l(t)){if(t instanceof e)return t;if(o(t)){var a=new e(r);return a._setTrace(void 0),t._then(a._fulfillUnchecked,a._rejectUncheckedCheckError,a._progressUnchecked,a,null),a._setFollowing(),a}var h=i(t);if(h===u)return void 0!==n&&c(h.e)&&n._attachExtraTrace(h.e),e.reject(h.e);if("function"==typeof h)return s(t,h,n)}return t}function o(t){return h.call(t,"_promise0")}function s(t,r,i){function n(r){if(!u){if(u=!0,t===r){var n=e._makeSelfResolutionError();return void 0!==i&&i._attachExtraTrace(n),void a.promise._reject(n,void 0)}a.resolve(r)}}function o(t){if(!u){u=!0;var e=c(t)?t:new Error(t+"");void 0!==i&&i._attachExtraTrace(e),a.promise._reject(t,e)}}function s(t){if(!u){var e=a.promise;"function"==typeof e._progress&&e._progress(t)}}var a=e.defer(),u=!1;try{r.call(t,n,o,s)}catch(t){if(!u){u=!0;var l=c(t)?t:new Error(t+"");void 0!==i&&i._attachExtraTrace(l),a.promise._reject(t,l)}}return a.promise}var a=t("./util.js"),c=t("./errors.js").canAttach,u=a.errorObj,l=a.isObject,h={}.hasOwnProperty;return n}},{"./errors.js":10,"./util.js":35}],33:[function(t,e,r){"use strict";var i=function(t,e){var r=arguments.length,i=arguments[2],n=arguments[3],o=r>=5?arguments[4]:void 0;setTimeout(function(){t(i,n,o)},0|e)};e.exports=function(e,r,n){var o=(t("./util.js"),t("./errors.js")),s=(t("./errors_api_rejection")(e),e.TimeoutError),a=function(t,e,r){if(t.isPending()){"string"!=typeof e&&(e="operation timed out after "+r+" ms");var i=new s(e);o.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._cancel(i)}},c=function(t,e){e._fulfill(t)},u=e.delay=function(t,o){void 0===o&&(o=t,t=void 0),o=+o;var s=n(t,void 0),a=new e(r);return s instanceof e?(a._propagateFrom(s,7),a._follow(s),a.then(function(t){return e.delay(t,o)})):(a._setTrace(void 0),i(c,o,t,a),a)};e.prototype.delay=function(t){return u(this,t)},e.prototype.timeout=function(t,n){t=+t;var o=new e(r);return o._propagateFrom(this,7),o._follow(this),i(a,t,o,n,t),o.cancellable()}}},{"./errors.js":10,"./errors_api_rejection":11,"./util.js":35}],34:[function(t,e,r){"use strict";e.exports=function(e,r,i){function n(t){for(var r=t.length,i=0;i<r;++i){var n=t[i];if(n.isRejected())return e.reject(n.error());t[i]=n.value()}return t}function o(t){setTimeout(function(){throw t},0)}function s(t){var e=i(t,void 0);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function a(t,r){function n(){if(a>=c)return u.resolve();var l=s(t[a++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(r),void 0)}catch(t){return o(t)}if(l instanceof e)return l._then(n,o,null,null,null)}n()}var a=0,c=t.length,u=e.defer();return n(),u.promise}function c(t){var e=new _;return e._settledValue=t,e._bitField=268435456,a(this,e).thenReturn(t)}function u(t){var e=new _;return e._settledValue=t,e._bitField=134217728,a(this,e).thenThrow(t)}function l(t,e){this._data=t,this._promise=e}function h(t,e){this.constructor$(t,e)}var f=t("./errors.js").TypeError,p=t("./util.js").inherits,_=e.PromiseInspection;l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},l.prototype.tryDispose=function(t){var e=this.resource(),r=null!==e?this.doDispose(e,t):null;return this._promise._unsetDisposable(),this._data=this._promise=null,
r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},p(h,l),h.prototype.doDispose=function(t,e){var r=this.data();return r.call(t,t,e)},e.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return r("fn must be a function");t--;for(var o=new Array(t),s=0;s<t;++s){var a=arguments[s];if(l.isDisposer(a)){var h=a;a=a.promise(),a._setDisposable(h)}o[s]=a}return e.settle(o).then(n).spread(i)._then(c,u,void 0,o,void 0)},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-262145,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new h(t,this);throw new f}}},{"./errors.js":10,"./util.js":35}],35:[function(t,e,r){"use strict";function i(t,e,r){try{return t.call(e,r)}catch(t){return F.e=t,F}}function n(t,e,r,i){try{return t.call(e,r,i)}catch(t){return F.e=t,F}}function o(t,e,r,i,n){try{return t.call(e,r,i,n)}catch(t){return F.e=t,F}}function s(t,e,r,i,n,o){try{return t.call(e,r,i,n,o)}catch(t){return F.e=t,F}}function a(t,e,r){try{return t.apply(r,e)}catch(t){return F.e=t,F}}function c(t){return"string"==typeof t?t:""+t}function u(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function l(t){return!u(t)}function h(t){return u(t)?new Error(c(t)):t}function f(t,e){var r,i=t.length,n=new Array(i+1);for(r=0;r<i;++r)n[r]=t[r];return n[r]=e,n}function p(t,e,r){if(!j.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:r:void 0}function _(t,e,r){if(u(t))return t;var i={value:r,configurable:!0,enumerable:!1,writable:!0};return j.defineProperty(t,e,i),t}function d(t){throw t}function v(t){try{if("function"==typeof t){var e=j.keys(t.prototype);return e.length>0&&!(1===e.length&&"constructor"===e[0])}return!1}catch(t){return!1}}function y(t){function e(){}return e.prototype=t,e}function m(t){return T.test(t)}function g(t,e,r){for(var i=new Array(t),n=0;n<t;++n)i[n]=e+n+r;return i}var j=t("./es5.js"),b=function(){try{var t={};return j.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(t){return!1}}(),w="undefined"==typeof navigator,F={e:{}},k=function(t,e){function r(){this.constructor=t,this.constructor$=e;for(var r in e.prototype)i.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var i={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},E=function(){return"string"!==this}.call("string"),P=function(){return j.isES5?function(t,e){for(var r=[],i=Object.create(null),n=Object(e).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=t;){var o;try{o=n(t)}catch(t){return r}for(var s=0;s<o.length;++s){var a=o[s];if(!i[a]){i[a]=!0;var c=Object.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=j.getPrototypeOf(t)}return r}:function(t){var e=[];for(var r in t)e.push(r);return e}}(),T=/^[a-z$_][a-z$_0-9]*$/i,R={isClass:v,isIdentifier:m,inheritedDataKeys:P,getDataPropertyOrDefault:p,thrower:d,isArray:j.isArray,haveGetters:b,notEnumerableProp:_,isPrimitive:u,isObject:l,canEvaluate:w,errorObj:F,tryCatch1:i,tryCatch2:n,tryCatch3:o,tryCatch4:s,tryCatchApply:a,inherits:k,withAppended:f,asString:c,maybeWrapAsError:h,wrapsPrimitiveReceiver:E,toFastProperties:y,filledRange:g};e.exports=R},{"./es5.js":12}]},{},[3])(3)}),"undefined"!=typeof t&&null!==t?t.P=t.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)});;
;
/* module-key = 'com.atlassian.jira.jira-onboarding-assets-plugin:promise', location = 'jira-onboarding-assets-module/lib/bluebird-promise-amd.js' */
define('bluebird/Promise', ["atlassian/libs/bluebird-2.3.6"], function(bluebird) {
    return bluebird;
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-backbone-define', location = 'jira-development-integration-plugin/js/util/DevStatusBackboneDefine.js' */
"use strict";Backbone&&!Backbone.define&&(Backbone.define=function(name,ctor){eval("Backbone['Class: "+name+"'] = function() { Backbone['Class: "+name+"'].__ctor.apply(this, arguments); }");var cls=Backbone["Class: "+name];cls.__ctor=ctor,ctor.prototype.name=name,cls.prototype=ctor.prototype,_.extend(cls,ctor),_.each(ctor.prototype,function(t,e){"function"==typeof t&&(t.displayName=name+"."+e)});var context=window,parts=name.split(".");return _.each(parts,function(t,e){e===parts.length-1?context[t]=cls:context=null==context[t]?context[t]={}:context[t]}),cls});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:event-publisher', location = 'jira-development-integration-plugin/js/util/EventPublisher.js' */
"use strict";define("jira-development-status/util/event-publisher",function(){return{trigger:AJS.trigger}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-wrm', location = 'jira-development-integration-plugin/js/util/DevStatusWRM.js' */
"use strict";define("jira-development-status/util/WRM",["underscore","jira-development-status/util/event-publisher"],function(e,r){var n="wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-resources-ctx",i="jira.devsummary.dialog-resources.wrm.load",t=function(){return window.performance.now()},a=function(e){var r=t();WRM.require([n],function(){o(r),e&&e()})},u=function(e){var n=Math.round(t()-e);r.trigger("analyticsEvent",{name:i,data:{durationInMillis:n}})},o=e.once(u);return{ANALYTIC_EVENT:i,requireDetailDialogResources:a}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/DateUtils.js' */
"use strict";define("jira/dev-status/util/date",["jquery"],function(t){return{addTooltip:function(a){var e=a.find("time.livestamp");e.livestamp(),e.each(function(){var a=t(this),e=a.attr("datetime"),i=isNaN(e)?e:+e,r=moment(i);a.attr("title",r.format(JIRA.DevStatus.Date.format))})},format:"LLL"}}),function(t){AJS.namespace("JIRA.DevStatus.Date",null,t)}(require("jira/dev-status/util/date"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/dev-status-console.js' */
"use strict";define("jira-development-status/util/console",[],function(){if(console)return console;var e=function(){};return{log:e,info:e,warn:e,debug:e,error:e}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/dev-status-constants.js' */
"use strict";define("jira-development-status/util/constants",function(){return{PLUGIN_KEY:"com.atlassian.jira.plugins.jira-development-integration-plugin",RELEASE_REPORT_SELECTED_TAB:"release-report-selected-tab"}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/LocalStorage.js' */
"use strict";define("jira-development-status/util/local-storage",[],function(){return localStorage?localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){},clear:function(){}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/ApplinksUtils.js' */
"use strict";define("jira-development-status/util/applinks-utils",[],function(){return ApplinksUtils});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/DevStatusLocalStorage.js' */
"use strict";define("jira-development-status/util/dev-status-local-storage",["underscore","jira-development-status/util/console","jira-development-status/util/local-storage"],function(e,t,r){var o=e.extend({},r);return o.setItem=function(e,o){try{r.setItem(e,o)}catch(a){var l="";(22===a.code||1014===a.code&&"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&(l=". Browser local storage is full. For more information please follow https://confluence.atlassian.com/jirakb/functionality-in-jira-fails-due-to-exceeding-chrome-quota-762874705.html"),t.error("Couldn't store '"+e+"' & '"+o+"' key-value pair locally: "+a.name+l)}},o.getItem=function(e){try{return r.getItem(e)}catch(o){t.error("Couldn't retrieve locally stored value for key '"+e+"': "+o.name)}},o.removeItem=function(e){try{r.removeItem(e)}catch(o){t.error("Couldn't remove locally stored value for key '"+e+"': "+o.name)}},o.clear=function(){try{r.clear()}catch(e){t.error("Couldn't clear local storage: "+e.name)}},o});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/Listeners.js' */
"use strict";define("jira/devstatus/util/listeners",["underscore"],function(t){return Class.extend({init:function(){this._listening=[]},startListening:function(t,i,n,s){var e={start:function(){return t.on(i,n,s),this},stop:function(){return t.off(i,n,s),this}};this._listening.push(e.start())},stopListening:function(){t.each(this._listening,function(t){t.stop()}),this._listening=[]}})}),Backbone.define("JIRA.DevStatus.Util.Listeners",require("jira/devstatus/util/listeners"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/DevStatusNavigation.js' */
"use strict";define("jira-development-status/util/navigate",["underscore"],function(n){return{getUrl:function(){return window.location.href},reload:function(){n.defer(function(){window.location.reload()})},navigate:function(t){n.defer(function(){window.location=t})},redirectToLogin:function(){this.navigate(AJS.contextPath()+"/login.jsp?permissionViolation=true&os_destination="+encodeURIComponent(window.location.href))}}}),function(n){AJS.namespace("JIRA.DevStatus.Navigate",null,n)}(require("jira-development-status/util/navigate"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/DevStatusURLUtils.js' */
"use strict";define("jira/dev-status/util/url",["jquery","underscore"],function(e,t){return{getDetailDialogParam:function(){var e=this._removeKickAssIHashFromUrl(JIRA.DevStatus.Navigate.getUrl()),t=parseUri(e);return t&&t.queryKey&&t.queryKey.devStatusDetailDialog},getUrlWithDetailDialogParam:function(e){var t=this._removeKickAssIHashFromUrl(JIRA.DevStatus.Navigate.getUrl()),r=parseUri(t);return r.queryKey.devStatusDetailDialog=encodeURIComponent(e),this.createUrlFromParsedUri(r)},getCreateReviewDetailUrl:function(e){return this.getUrlWithDetailDialogParam("create-review-"+e)},isCreateReviewDetailDialogLink:function(e){return e&&e.lastIndexOf&&0===e.lastIndexOf("create-review-",0)},getCreateReviewDetailDialogApplicationType:function(e){return e.substring("create-review-".length)},_removeKickAssIHashFromUrl:function(e){return e.replace("i#","")},createUrlFromParsedUri:function(r){var a=[];e.each(r.queryKey,function(r,i){t.isObject(i)?e.each(i,function(e,t){a.push(r+"="+t)}):a.push(r+"="+i)});var i="";return r.protocol&&(i+=r.protocol+"://"),r.authority&&(i+=r.authority),r.path&&(i+=r.path),a.length>0&&(i+="?"+a.join("&")),r.anchor&&(i+="#"+r.anchor),i}}}),function(e){AJS.namespace("JIRA.DevStatus.URL",null,e)}(require("jira/dev-status/util/url"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/Sanitize.js' */
"use strict";define("jira-development-status/util/sanitize",["underscore"],function(t){function n(t){return c.indexOf(t[0])>-1}function r(t){if(!t)return"about:blank";var r,e,i=t.replace(u,"").trim();return n(i)?i:(e=i.match(o))?(r=e[0],a.test(r)?"about:blank":i):"about:blank"}function e(n,e){for(var i=t.clone(n),a=e||[],u=0;u<a.length;u++){var o=a[u];n.hasOwnProperty(o)&&"string"==typeof i[o]&&(i[o]=r(i[o]))}return i}function i(n,r){return t.map(n,function(t){return e(t,r)})}var a=/^(%20|\s)*(javascript|data)/im,u=/[^\x20-\x7E]/gim,o=/^([^:]+):/gm,c=[".","/"];return{sanitizeUrl:r,sanitizeObject:e,sanitizeCollection:i}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:utils', location = 'jira-development-integration-plugin/js/util/ES6Utils.js' */
"use strict";define("jira/dev-status/util/es6",["exports"],function(e){e.stringStartsWith=function(e,t){return e.slice(0,0+t.length)===t},e.findIndex=function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},e.requestIdleCallback=function(e){"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/templates/repository-shortcuts/repository-shortcuts.soy' */
// This file was automatically generated from repository-shortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Software.RepositoryShortcuts.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Software == 'undefined') { JIRA.Software = {}; }
if (typeof JIRA.Software.RepositoryShortcuts == 'undefined') { JIRA.Software.RepositoryShortcuts = {}; }
if (typeof JIRA.Software.RepositoryShortcuts.Templates == 'undefined') { JIRA.Software.RepositoryShortcuts.Templates = {}; }


JIRA.Software.RepositoryShortcuts.Templates.content = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.canManageShortcuts || opt_data.numberOfShortcuts > 0) {
    output += '<div class="aui-sidebar-group jira-sidebar-group-with-divider repo-shortcuts-group' + ((opt_data.numberOfShortcuts == 0) ? ' repo-shortcuts-group_empty' : '') + '" data-id="repo-shortcuts-group"><div class="aui-nav-heading">' + soy.$$escapeHtml('Source code') + '</div><ul class="aui-nav repo-shortcuts-list">';
    if (opt_data.shortcuts) {
      var shortcutList14 = opt_data.shortcuts;
      var shortcutListLen14 = shortcutList14.length;
      for (var shortcutIndex14 = 0; shortcutIndex14 < shortcutListLen14; shortcutIndex14++) {
        var shortcutData14 = shortcutList14[shortcutIndex14];
        output += JIRA.Software.RepositoryShortcuts.Templates.shortcut({canManageShortcuts: opt_data.canManageShortcuts, canManageDVCS: opt_data.canManageDVCS, id: shortcutData14.id, name: shortcutData14.name, url: shortcutData14.url, dvcsType: shortcutData14.dvcsType, shouldWarnPotentialConnection: shortcutData14.shouldWarnPotentialConnection, isFirstSyncRunning: shortcutData14.isFirstSyncRunning});
      }
    }
    output += ((opt_data.canManageShortcuts) ? '<li><a class="aui-nav-item repo-shortcuts-group__add" href="#" data-link-id="repo-shortcut-add">' + aui.icons.icon({useIconFont: true, size: 'large', icon: 'add-small'}) + '<span class="aui-nav-item-label">' + soy.$$escapeHtml('Add source code') + '</span></a></li>' : '') + '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.content.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.content';
}


JIRA.Software.RepositoryShortcuts.Templates.shortcut = function(opt_data, opt_ignored) {
  var output = '';
  var imgBaseUrl__soy37 = "" + '/download/resources/com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts/images';
  output += '<li class="repo-shortcut"><a class="aui-nav-item repo-shortcuts-group__link" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '" target="_blank" data-shortcut-id="' + soy.$$escapeHtml(opt_data.id) + '" data-link-id="repo-shortcut-' + soy.$$escapeHtml(opt_data.id) + '">' + ((opt_data.dvcsType == 'bitbucket') ? '<span class="aui-icon aui-icon-large aui-iconfont-bitbucket">' + soy.$$escapeHtml('Bitbucket source code link') + '</span>' : (opt_data.dvcsType == 'github') ? '<img class="aui-icon" src="' + soy.$$escapeHtml(imgBaseUrl__soy37) + '/octocat-icon.svg" alt="' + soy.$$escapeHtml('GitHub source code link') + '" />' : '<span class="aui-icon aui-icon-large aui-iconfont-link">' + soy.$$escapeHtml('Unknown source code link') + '</span>') + '<span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.name) + '</span></a>' + ((opt_data.canManageShortcuts) ? '<a href="#repo-shortcuts-dropdown_' + soy.$$escapeHtml(opt_data.id) + '" aria-owns="repo-shortcuts-dropdown_' + soy.$$escapeHtml(opt_data.id) + '" aria-haspopup="true" class="aui-dropdown2-trigger repo-shortcuts-group__actions" style="' + ((opt_data.isFirstSyncRunning || opt_data.shouldWarnPotentialConnection) ? 'right: 40px' : '') + '"><span>' + soy.$$escapeHtml('Actions') + '</span></a><div id="repo-shortcuts-dropdown_' + soy.$$escapeHtml(opt_data.id) + '" class="aui-dropdown2 aui-style-default repo-shortcuts-group__dropdown"><ul class="aui-list-truncate">' + ((opt_data.shouldWarnPotentialConnection) ? '' : '') + '<li><a class="repo-shortcuts-group__actions__edit" href="#">' + soy.$$escapeHtml('Edit') + '</a></li><li><a class="repo-shortcuts-group__actions__delete" href="#">' + soy.$$escapeHtml('Delete') + '</a></li></ul></div>' : '') + ((opt_data.isFirstSyncRunning) ? '<a class="repo-shortcuts-group__warning syncing-trigger" href="#syncing-dialog-' + soy.$$escapeHtml(opt_data.id) + '" data-aui-trigger aria-controls="syncing-dialog-' + soy.$$escapeHtml(opt_data.id) + '"><span class="aui-icon aui-icon-small aui-iconfont-warning" original-title="warning">$' + soy.$$escapeHtml('Sync in progress') + '</span></a>' + JIRA.Software.RepositoryShortcuts.Templates.syncInProgressDialog(opt_data) : '') + ((opt_data.shouldWarnPotentialConnection) ? '<a class="repo-shortcuts-group__warning suggest-connection-trigger" href="#suggest-connection-dialog-' + soy.$$escapeHtml(opt_data.id) + '" data-aui-trigger aria-controls="suggest-connection-dialog-' + soy.$$escapeHtml(opt_data.id) + '"><span class="aui-icon aui-icon-small aui-iconfont-warning" original-title="warning">$' + soy.$$escapeHtml('Sync in progress') + '</span></a>' : '') + '</li>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.shortcut.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.shortcut';
}


JIRA.Software.RepositoryShortcuts.Templates.shortcutFormFields = function(opt_data, opt_ignored) {
  var output = '<div class="repo-shortcuts-field-group">';
  var urlErrorId__soy112 = 'repo-shortcuts-url-error';
  var nameErrorId__soy113 = 'repo-shortcuts-name-error';
  var nameLabelText__soy114 = opt_data.nameLabel ? opt_data.nameLabel : 'Label';
  output += aui.form.textField({name: 'repo-shortcuts-url-' + opt_data.action, id: 'repo-shortcuts-url-' + opt_data.action, labelContent: opt_data.urlLabel ? opt_data.urlLabel : 'Repo link', extraClasses: 'repo-shortcuts-url', value: opt_data.url ? opt_data.url : '', isRequired: true, errorTexts: opt_data.errors.urlError ? [opt_data.errors.urlError] : [], errorId: urlErrorId__soy112, descriptionContent: '<div id="repo-shortcuts-url-description">' + 'Eg. https://bitbucket.org/org/projectrepository' + '</div>', extraInputAttributes: {'aria-describedby': urlErrorId__soy112 + ' repo-shortcuts-url-description', 'aria-required': true}}) + '<div class="field-group repo-shortcuts-name">' + aui.form.label({forField: 'repo-shortcuts-name-' + opt_data.action, content: nameLabelText__soy114 + '<span class="aui-icon icon-required"></span>'}) + '<div class="repo-shortcuts-name-icon-block"><div class="repo-shortcuts-icon-picker-block"></div>' + aui.form.input({name: 'repo-shortcuts-name-' + opt_data.action, id: 'repo-shortcuts-name-' + opt_data.action, extraClasses: 'repo-shortcuts-name-input' + (opt_data.isWithIcon ? ' repo-shortcuts-name-input-with-icon' : ''), value: opt_data.name ? opt_data.name : '', type: 'text', extraAttributes: {'aria-describedby': nameErrorId__soy113 + ' repo-shortcuts-name-description', 'aria-required': true}}) + '<div id="repo-shortcuts-name-description" class="description">' + soy.$$escapeHtml('Eg. Project repository') + '</div></div>' + ((opt_data.errors.iconError) ? aui.form.fieldError({message: opt_data.errors.iconError}) : '') + ((opt_data.errors.nameError) ? aui.form.fieldError({message: opt_data.errors.nameError, id: nameErrorId__soy113}) : '') + '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.shortcutFormFields.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.shortcutFormFields';
}


JIRA.Software.RepositoryShortcuts.Templates.addDialog = function(opt_data, opt_ignored) {
  return '<div class="repo-shortcuts-header-image add-repo"></div><form action="" method="post" class="aui"><h3>' + soy.$$escapeHtml('Create a repo link') + '</h3><p>' + soy.$$escapeHtml('Add a link to this project\x27s repo so your team can easily find their code.') + '</p><fieldset>' + JIRA.Software.RepositoryShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(opt_data, {action: 'add'})) + '<div class="buttons-container"><div class="buttons repo-shortcuts-buttons">' + aui.buttons.button({text: 'Link repo', type: 'primary', extraClasses: 'repo-shortcuts-submit'}) + aui.buttons.button({text: 'Cancel', type: 'link', extraClasses: 'repo-shortcuts-cancel'}) + '</div></div></fieldset></form>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.addDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.addDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.adg3ManageShortcutDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="' + soy.$$escapeHtml(opt_data.isAddDialog ? 'add-repository-dialog' : 'edit-repository-dialog') + '" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="false"><header class="aui-dialog2-header" id="manage-shortcut-dialog-header"></header><div class="aui-dialog2-content"><div id="image-behind"><div id="image-behind-top"></div><div id="image-behind-bottom"></div></div><div id="manage-repository-image-container"><div id="manage-repository-dialog-image"></div></div><form action="" method="post" class="aui"><h1 id="manage-repository-dialog-title">' + soy.$$escapeHtml(opt_data.isAddDialog ? 'Connect a repository' : 'Edit repository') + '</h1><p id="manage-repository-dialog-description">' + soy.$$escapeHtml('Linking a repository will show information about your branches, commits and pull requests in Jira issues.') + '</p><p id="manage-repository-mandatory-fields-description" aria-hidden="true">' + soy.$$escapeHtml('Required fields are marked with an asterisk') + ' <span class="aui-icon icon-required"></span></p><fieldset>' + JIRA.Software.RepositoryShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(opt_data, {action: opt_data.isAddDialog ? 'add' : 'edit', urlLabel: 'Repository link', nameLabel: 'Name'})) + '</fieldset><button type="submit" class="repo-shortcuts-hidden-submit" tabindex="-1" aria-hidden="true"></button></form></div><div class="aui-dialog2-footer"><div class="buttons-container"><div class="buttons">' + ((! opt_data.isAddDialog) ? '<button class="aui-button repo-shortcuts-delete">' + soy.$$escapeHtml('Delete') + '</button>' : '') + '<button class="aui-button aui-button-primary repo-shortcuts-submit">' + soy.$$escapeHtml(opt_data.isAddDialog ? 'Connect' : 'Update') + '</button><button class="aui-button aui-button-text aui-button-subtle repo-shortcuts-cancel">' + soy.$$escapeHtml('Cancel') + '</button></div></div></div></section>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.adg3ManageShortcutDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.adg3ManageShortcutDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.adg3AddDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Software.RepositoryShortcuts.Templates.adg3ManageShortcutDialog(soy.$$augmentMap(opt_data, {isAddDialog: true}));
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.adg3AddDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.adg3AddDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.adg3EditDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Software.RepositoryShortcuts.Templates.adg3ManageShortcutDialog(soy.$$augmentMap(opt_data, {isAddDialog: false}));
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.adg3EditDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.adg3EditDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.suggestConnectionDialog = function(opt_data, opt_ignored) {
  return '<div class="repo-shortcuts-header-image connection-request"></div><h3 class="repo-shortcuts-connectionRequestHeading">' + soy.$$escapeHtml('Linked but not integrated') + '</h3><p class="repo-shortcuts-connectionRequestDescription">' + soy.$$escapeHtml(AJS.format('Your repo is now linked, but your team can get visibility of development progress in their issues when {0} and Jira are integrated.',opt_data.dvcsName)) + '</p>' + ((opt_data.isIntegration) ? aui.buttons.button({text: AJS.format('Integrate Jira with {0}',opt_data.dvcsName), type: 'primary', extraClasses: 'repo-connection-start'}) : aui.buttons.button({text: 'Sync repository with Jira', type: 'primary', extraClasses: 'repo-connection-start'})) + aui.buttons.button({text: 'No thanks', type: 'link', extraClasses: 'repo-connection-cancel'});
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.suggestConnectionDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.suggestConnectionDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.syncInProgressDialog = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog id="syncing-dialog-' + soy.$$escapeHtml(opt_data.id) + '" class="repo-shortcuts-syncing-dialog" responds-to="hover"><div class="repo-shortcuts-syncing-dialog-header"></div><h3>' + soy.$$escapeHtml(AJS.format('Syncing Jira with {0}',opt_data.dvcsType)) + '</h3><p>' + soy.$$escapeHtml(AJS.format('We\x27re busy syncing Jira with {0} larger repos will take an hour or two. Once done, your team will',opt_data.dvcsType)) + '&nbsp;<a href="https://confluence.atlassian.com/display/JIRASOFTWARECLOUD/Using+JIRA+applications+with+Bitbucket+Cloud">' + soy.$$escapeHtml('enjoy greater confidence') + '</a>&nbsp;' + soy.$$escapeHtml('in their development process, and they can start') + '&nbsp;<a href="https://confluence.atlassian.com/display/BITBUCKET/Processing+JIRA+Software+issues+with+Smart+Commit+messages">' + soy.$$escapeHtml('using issue keys') + '</a>&nbsp;' + soy.$$escapeHtml('in commit messages right now!') + '</p>' + ((opt_data.canManageDVCS) ? aui.buttons.button({text: 'See syncing progress', type: 'link', href: '/secure/admin/ConfigureDvcsOrganizations!default.jspa'}) : '') + '</aui-inline-dialog>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.syncInProgressDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.syncInProgressDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.editDialogChrome = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="edit-repo-shortcuts-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Edit repo link') + '</h2></header></section>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.editDialogChrome.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.editDialogChrome';
}


JIRA.Software.RepositoryShortcuts.Templates.editDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog2-content"><form class="aui" method="post">' + JIRA.Software.RepositoryShortcuts.Templates.shortcutFormFields(soy.$$augmentMap(opt_data, {action: 'edit'})) + '<button type="submit" class="repo-shortcuts-hidden-submit" tabindex="-1" aria-hidden="true"></button></form></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions">' + aui.buttons.button({text: 'Save', type: 'primary', extraClasses: 'repo-shortcuts-submit'}) + aui.buttons.button({text: 'Cancel', type: 'link', extraClasses: 'repo-shortcuts-cancel'}) + '</div></footer>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.editDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.editDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.deleteDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="delete-repo-shortcuts-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml('Delete repo link') + '</h2></header><div class="aui-dialog2-content"><p>' + soy.$$escapeHtml('Are you sure you want to delete this repo link?') + '</p></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions">' + aui.buttons.button({text: 'Delete', type: 'primary', extraClasses: 'repo-shortcuts-submit'}) + aui.buttons.button({text: 'Cancel', type: 'link', extraClasses: 'repo-shortcuts-cancel'}) + '</div></footer></section>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.deleteDialog.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.deleteDialog';
}


JIRA.Software.RepositoryShortcuts.Templates.modalValuePropContent = function(opt_data, opt_ignored) {
  var output = '';
  var imgBaseUrl__soy278 = "" + '/download/resources/com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts/images';
  output += '<div class="aui-dialog2-content"><img src="' + soy.$$escapeHtml(imgBaseUrl__soy278) + '/integrate-product-with-jira.svg" style="width: 100%" /><div class="description-container">' + ((opt_data.canUserManageDVCSAccounts && ! opt_data.isIntegration) ? '<p>' + soy.$$escapeHtml(AJS.format('A shortcut to your {0} repository has been created.',opt_data.dvcsName)) + '</p><p>' + soy.$$escapeHtml(AJS.format('Next, sync your Jira Cloud and {0} repository.',opt_data.dvcsName)) + '</p>' : '') + '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.modalValuePropContent.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.modalValuePropContent';
}


JIRA.Software.RepositoryShortcuts.Templates.integrationModalContent = function(opt_data, opt_ignored) {
  return '<header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main" style="overflow: visible">' + ((opt_data.isIntegration) ? soy.$$escapeHtml(AJS.format('Integrate Jira with {0}',opt_data.dvcsName)) : soy.$$escapeHtml('Sync repository with Jira')) + '</h2></header>' + JIRA.Software.RepositoryShortcuts.Templates.modalValuePropContent(opt_data) + '<footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions">' + ((opt_data.canUserManageDVCSAccounts && opt_data.isIntegration) ? aui.buttons.button({text: AJS.format('Integrate with {0}',opt_data.dvcsName), type: 'primary', extraClasses: 'repo-connect-start'}) : (opt_data.canUserManageDVCSAccounts && ! opt_data.isIntegration) ? aui.buttons.button({text: 'Start syncing', type: 'primary', extraClasses: 'repo-connect-start'}) : '<div></div>') + ((opt_data.canUserManageDVCSAccounts) ? aui.buttons.button({text: 'Edit repository', type: 'link', extraClasses: 'repo-connect-edit aui-button-subtle'}) : aui.buttons.button({text: 'Maybe later', type: 'link', extraClasses: 'repo-connect-cancel'})) + '</div></footer>';
};
if (goog.DEBUG) {
  JIRA.Software.RepositoryShortcuts.Templates.integrationModalContent.soyTemplateName = 'JIRA.Software.RepositoryShortcuts.Templates.integrationModalContent';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/services/URLMatcher.js' */
"use strict";define("repository-shortcuts/services/url-matcher",[],function(){return{parseUrl:function(t){function s(t,s,e){if(t&&t[1]&&s.indexOf(t[1])===-1&&e.indexOf(t[2])===-1)return{dvcsOrg:t[1],dvcsRepo:t[2]}}function e(){var e=/https:\/\/bitbucket\.org(?:\/([^\/\?#]+)(?:\/([^\/\?#]+))?)?/,r=t.match(e),c=["snippets","account","dashboard"],i=["profile"];return s(r,c,i)}function r(){var e=/https:\/\/github\.com(?:\/([^\/\?#]+)(?:\/([^\/\?#]+))?)?/,r=t.match(e),c=["pulls","issues","notifications","explore","integrations","settings","blog","about","site","security"],i=[];return s(r,c,i)}if("string"!=typeof t)throw new Error("parseUrl expects URLs to be strings");return e()?{dvcsType:"bitbucket",dvcsOrg:e().dvcsOrg,dvcsRepo:e().dvcsRepo}:r()?{dvcsType:"github",dvcsOrg:r().dvcsOrg,dvcsRepo:r().dvcsRepo}:{dvcsType:"unsupported"}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/services/DVCSAccountMatcher.js' */
"use strict";define("repository-shortcuts/services/dvcs-account-matcher",["jquery","underscore","wrm/context-path","repository-shortcuts/services/url-matcher"],function(t,e,r,n){var s=window.Promise;return{matchUrlAgainstNetwork:function(c){function i(n){var c=r()+"/rest/bitbucket/1.0/repository/summary/find?type="+n.dvcsType+"&orgName="+n.dvcsOrg+"&repoSlug="+n.dvcsRepo;return s.resolve(t.get(c)).then(function(t){return e.extend({},n,t)})["catch"](function(t){return t&&404===t.status?o(n):n})}function o(e){var n=r()+"/rest/bitbucket/1.0/organization/find?name="+e.dvcsOrg+"&type="+e.dvcsType;return s.resolve(t.get(n)).then(function(t){var r=t.dvcsType,n=t.name,s=t.approvalState,c=r===e.dvcsType,i=n===e.dvcsOrg,o="APPROVED"===s;return e.isOrganisationLinked=c&&i&&o,e})["catch"](function(t){return e})}function u(e){var n=r()+"/rest/devinfoadmin/1.0/githubAppDetails";return s.resolve(t.get(n)).then(function(t){var r=t.githubAppInstalled;return r&&(e.isOrganisationLinked=!0,e.isRepositoryLinked=!0),e.githubAppInstalled=r,e})["catch"](function(t){return e})}try{var a=n.parseUrl(c);return"unsupported"===a.dvcsType?s.resolve(a):"github"===a.dvcsType?u(a):a.dvcsRepo?i(a):o(a)}catch(p){return s.reject(p)}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/services/DVCSIntegrator.js' */
"use strict";define("repository-shortcuts/services/dvcs-integrator",["jquery","bluebird/Promise","wrm/context-path","aui/flag"],function(t,e,o,n){function r(r){var i=r.dvcsRepoId,a=r.dvcsRepo;return e.resolve(t.ajax({type:"POST",contentType:"application/json",url:o()+"/rest/bitbucket/1.0/repo/"+i+"/autolink",data:JSON.stringify({payload:!0})})).then(function(){t.ajax({type:"POST",url:o()+"/rest/bitbucket/1.0/repository/"+i+"/softsync"}),n({type:"success",title:"You have added the repository",body:"Nicely done! Your team is going to love this.",close:"auto"})})["catch"](function(t){return n({type:"error",body:AJS.format("Failed to link \u003cstrong\u003e{0}\u003c/strong\u003e repo with Jira",a)}),e.reject(t)})}function i(t){if(void 0===t)return"";var e=t.length;if(0===e)return"";if(1===e)return"/"===t?"":t;var o="/"===t.charAt(0),n="/"===t.charAt(e-1);return t.substring(o?1:0,n?e-1:e)}function a(t,e,o,n,r){var a=i(n),c=t+"//"+i(e)+"/"+i(o),s=i(c);return s+"/"+a+"?atl_token="+r}function c(t){var e=""+o(),n=window.location.host,r=window.location.protocol,i=a(r,n,e,s,t);window.location.href=i}var s="/plugins/servlet/upm/marketplace/plugins/com.github.integration.production";return{startBBOrganisationLink:function(t){var e=""+window.location.origin+o(),n=e+"/rest/aci/1.0/installation/jira-bitbucket-connector-plugin/descriptor",r=document.getElementById("atlassian-token").getAttribute("content"),i=e+"/secure/BitbucketPostInstallApprovalAction.jspa?jiraInitiated=true&customReturnUrl="+(window.location.href+"&atl_token="+r),a="https://bitbucket.org/site/addons/authorize";window.location.href=a+"?account="+t+"&descriptor_uri="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(i)},startBBRepositoryLink:function(t){var e=t.dvcsRepoId,o=t.dvcsRepo;return r({dvcsRepoId:e,dvcsRepo:o})},startGithubOrganisationLink:function(){var t=document.getElementById("atlassian-token").getAttribute("content");c(t)},startGithubRepositoryLink:function(t){var e=(t.dvcsRepoId,t.dvcsRepo,document.getElementById("atlassian-token").getAttribute("content"));c(e)},normalize:function(t){return i(t)},buildAbsoluteAddOnMarketplaceUrl:function(t,e,o,n,r){return a(t,e,o,n,r)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/services/RepoShortcutUpdateHandler.js' */
"use strict";define("repository-shortcuts/services/repo-shortcut-update-handler",["repository-shortcuts/views/connection-modal","aui/flag"],function(e,t){return function(t,r){t.attributes;if(!t.hasLinkedAllComponents()){var o={repoShortcutModel:t,canUserManageDVCSAccounts:r},n=new e(o);r&&n.render()}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/models/RepositoryShortcut.js' */
"use strict";define("repository-shortcuts/models/repository-shortcut",[],function(){return JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcut.extend({defaults:{url:"",name:"",icon:"",type:"source.code.link",dvcsType:"unsupported",isPendingApproval:!1,dvcsOrg:void 0,dvcsRepo:void 0,dvcsRepoId:void 0,isOrganisationLinked:void 0,isRepositoryLinked:void 0,isFirstSyncRunning:void 0,githubAppInstalled:!1},clear:function(){this.unset("id"),this.set(this.defaults)},hasLinkedOrg:function(){var t=this.attributes;return t.dvcsOrg&&t.isOrganisationLinked},hasNotLinkedOrg:function(){var t=this.attributes;return t.dvcsOrg&&!t.isOrganisationLinked},hasLinkedOrgAndNotRepo:function(){var t=this.attributes;return this.hasLinkedOrg()&&t.dvcsRepo&&!t.isRepositoryLinked},isGithub:function(){var t=this.attributes;return"github"===t.dvcsType},hasLinkedAllComponents:function(){function t(){return s.dvcsRepo&&s.isRepositoryLinked}function i(){return!s.dvcsRepo}var s=this.attributes;return this.isGithub()?s.githubAppInstalled:this.hasLinkedOrg()&&(t()||i())}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/models/RepositoryShortcuts.js' */
"use strict";define("repository-shortcuts/models/repository-shortcuts",["repository-shortcuts/models/repository-shortcut"],function(t){return JIRA.Projects.Sidebar.ProjectShortcuts.Entities.Shortcuts.extend({model:t,initialize:function(t,e){var i=this;this.projectKey=e.projectKey,this.canUserManageDVCSAccounts=e.canUserManageDVCSAccounts,this.listenTo(this,"dvcsremote:change",function(t){i._handleRepoLinkChangeOrAdd(t)})},_handleRepoLinkChangeOrAdd:function(t){var e=function(t,e){return t.get("dvcsType")===e.get("dvcsType")&&t.get("dvcsOrg")===e.get("dvcsOrg")},i=function(t,i){return e(t,i)&&t.get("dvcsRepo")===i.get("dvcsRepo")};this.forEach(function(n){t.id!==n.id&&(i(t,n)?n.set({isOrganisationLinked:t.get("isOrganisationLinked"),isRepositoryLinked:t.get("isRepositoryLinked"),dvcsRepoId:t.get("dvcsRepoId"),isFirstSyncRunning:t.get("isFirstSyncRunning")}):e(t,n)&&n.set({isOrganisationLinked:t.get("isOrganisationLinked")}))})}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/RepositoryShortcutsList.js' */
"use strict";define("repository-shortcuts/views/repository-shortcut-list",["jquery","repository-shortcuts/views/repository-shortcut","repository-shortcuts/dialogs/add"],function(t,e,o){return JIRA.Projects.Sidebar.ProjectShortcuts.Views.List.extend({template:JIRA.Software.RepositoryShortcuts.Templates.content,childView:e,ui:{itemsContainer:".aui-nav",add:".repo-shortcuts-group__add"},collectionEvents:{add:function(){0!==this.collection.length&&this.$el.hasClass("repo-shortcuts-group_empty")&&this.$el.removeClass("repo-shortcuts-group_empty")},remove:function(){0!==this.collection.length||this.$el.hasClass("repo-shortcuts-group_empty")||this.$el.addClass("repo-shortcuts-group_empty")}},initialize:function(){var e=this;JIRA.API.getSidebar().done(function(o){var r=o.getAUISidebar(!0);r.on("expand-end",function(){t(".aui-sidebar-submenu-dialog .repo-shortcuts-group__dropdown").remove(),t(".aui-sidebar-submenu-dialog .repo-shortcuts-syncing-dialog").remove()}),r.on("collapse-start",function(){e.$(".repo-shortcuts-group__actions.aui-dropdown2-active").trigger("aui-button-invoke"),e._addConnectionsAvailableMarkerOnSidebarIcon()})})},onRender:function(){var t=this,e=new o({sidebarItem:JIRA.API.Sidebar.getGroup(this.options.targetGroup,!0).getItem("repo-shortcut-add"),projectKey:this.collection.projectKey,collection:this.collection}),r=JIRA.API.Projects.getCurrentProjectId();this.listenTo(e,"dialog:open",function(){t.trigger("add:open"),AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.add-link.click",data:{projectId:r}})}),this.listenTo(e,"dialog:close",function(e){t.trigger("add:close",e),AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.add-link.close",data:{projectId:r,isSave:e}})}),this._addConnectionsAvailableMarkerOnSidebarIcon()},serializeData:function(){return{canManageShortcuts:!0,numberOfShortcuts:this.collection.length}},_addConnectionsAvailableMarkerOnSidebarIcon:function(){var t=this.collection.some(function(t){return t.hasNotLinkedOrg()||t.hasLinkedOrgAndNotRepo()});t&&this.$el.addClass("connections-available")}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/RepositoryShortcut.js' */
"use strict";define("repository-shortcuts/views/repository-shortcut",["jquery","underscore","repository-shortcuts/dialogs/connection","repository-shortcuts/dialogs/edit","repository-shortcuts/services/dvcs-integrator"],function(e,t,o,r,i){function n(e){return"bitbucket"===e||"github"===e}return JIRA.Projects.Sidebar.ProjectShortcuts.Views.Shortcut.extend({template:JIRA.Software.RepositoryShortcuts.Templates.shortcut,initialize:function(){t.bindAll(this,"toggleDropdown")},ui:{integrate:".repo-shortcuts-group__actions__integrate",del:".repo-shortcuts-group__actions__delete",edit:".repo-shortcuts-group__actions__edit",trigger:".repo-shortcuts-group__actions",dropdown:".repo-shortcuts-group__dropdown",link:".repo-shortcuts-group__link",connectionDialogTrigger:".suggest-connection-trigger"},templateHelpers:function(){var e=this.model.attributes,t=this.model.collection.canUserManageDVCSAccounts,o=n(e.dvcsType);if(t&&this.model.isGithub()){var r=e.githubAppInstalled;return{warnOnGithubConnection:r}}var i=!(!e.isOrganisationLinked||e.dvcsRepo&&!e.isRepositoryLinked),s=t&&o&&!i;return{shouldWarnPotentialConnection:s}},onRender:function(){this.unwrapTemplate();var t=this,n=e(window),s=e(".aui-sidebar-body");new o({$trigger:this.ui.connectionDialogTrigger,repoShortcutModel:this.model}),this.ui.integrate.on("click",function(e){var o=t.model.attributes;if(e.preventDefault(),t.ui.trigger.blur(),"bitbucket"===o.dvcsType&&t.model.hasNotLinkedOrg())i.startBBOrganisationLink(o.dvcsOrg);else if("bitbucket"===o.dvcsType&&t.model.hasLinkedOrgAndNotRepo())i.startBBRepositoryLink(t.model.attributes).then(function(){t.model.set({isRepositoryLinked:!0}),t.model.trigger("dvcsremote:change",t.model)});else{if("github"!==o.dvcsType)throw"Unsupported DVCS Type";o.githubAppInstalled||i.startGithubOrganisationLink()}}),this.ui.edit.on("click",function(e){e.preventDefault(),t.ui.trigger.blur();var o=new r({repoShortcutModel:t.model,canUserManageDVCSAccounts:t.model.collection.canUserManageDVCSAccounts});t.trigger("edit:open",t.model),t.listenToOnce(o,"dialog:close",function(e){t.trigger("edit:close",t.model,e)})}),this.ui.del.on("click",function(e){e.preventDefault(),t.ui.trigger.blur(),new JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete({model:t.model})}),this.ui.dropdown.on({"aui-dropdown2-show":function(){t.$el.addClass("aui-nav-selected"),s.one("scroll",t.toggleDropdown),n.one("scroll",t.toggleDropdown),t.ui.trigger.focus()},"aui-dropdown2-hide":function(){t.$el.removeClass("aui-nav-selected"),s.off("scroll",t.toggleDropdown),n.off("scroll",t.toggleDropdown)}}),this.ui.connectionDialogTrigger.on("click",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.warning.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutId:t.model.id}})}),this.ui.link.on("click",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.shortcut.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutId:t.model.id,shortcutType:t.model.dvcsType}})})},serializeData:function(){var e=t.extend(this.model.toJSON(),{canManageShortcuts:!0,canManageDVCS:this.model.collection.canUserManageDVCSAccounts});return e}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/DialogContent.js' */
"use strict";define("repository-shortcuts/views/dialog-content",["repository-shortcuts/services/url-matcher","repository-shortcuts/services/dvcs-account-matcher"],function(t,e){var r=JIRA.Projects.Sidebar.ProjectShortcuts.Views.DialogContent;return r.extend({ui:{form:"form",inputs:"input, button",submit:".repo-shortcuts-submit",cancel:".repo-shortcuts-cancel",url:".repo-shortcuts-url input",name:".repo-shortcuts-name input"},events:{"click @ui.cancel":function(t){t.preventDefault(),this.model.clear(),this.setNameAutomagically=!0,this.errorModel.clear(),this.trigger("cancel")},"click @ui.submit":"_handleFormSubmit","submit @ui.form":"_handleFormSubmit","blur @ui.url":function(){this.ensureProtocolPrefix(),this.tryToAutomagicallyDeriveNameFromUrl()},"input @ui.url":function(){this.model.set("url",this.ui.url.val()),this.tryToAutomagicallyDeriveNameFromUrl()},"input @ui.name":function(){this.setNameAutomagically=!1,this.model.set("name",this.ui.name.val())}},initialize:function(t){var e=t.errorModel,r=t.canUserManageDVCSAccounts;this.canUserManageDVCSAccounts=r,this.errorModel=e;var i=this.model.get("name");this.setNameAutomagically=0===i.length},serializeData:function(){return _.extend(this.model.toJSON(),{errors:this.errorModel.toJSON(),action:this.action})},onRender:function(){},hideIconPicker:function(){},_handleFormSubmit:function(r){var i=this,o=function(t){i.model.set({url:i.ui.url.val(),name:i.ui.name.val()}),i.model.set(t),i.model.save()};r.preventDefault(),this.ensureProtocolPrefix(),this.tryToAutomagicallyDeriveNameFromUrl(),this.model.set(this.model.defaults);var s=this.ui.url.val();if(this.canUserManageDVCSAccounts)e.matchUrlAgainstNetwork(s).then(function(t){return o(t)})["catch"](function(){return o({})});else{var a=t.parseUrl(s);o(a)}},tryToAutomagicallyDeriveNameFromUrl:function(){var e=this.ui.url.val().trim();if(this.setNameAutomagically){var i=t.parseUrl(e);if(i.dvcsRepo)this.setName(i.dvcsRepo);else{if(!i.dvcsOrg)return r.prototype.tryToAutomagicallyDeriveNameFromUrl.call(this);this.setName(i.dvcsOrg)}}}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/AddDialogContent.js' */
"use strict";define("repository-shortcuts/views/add-dialog-content",["repository-shortcuts/views/dialog-content"],function(t){var e=JIRA.Software.RepositoryShortcuts.Templates.adg3AddDialog;return t.extend({template:e})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/EditDialogContent.js' */
"use strict";define("repository-shortcuts/views/edit-dialog-content",["repository-shortcuts/views/dialog-content"],function(t){return t.extend({template:JIRA.Software.RepositoryShortcuts.Templates.adg3EditDialog,ui:_.extend({},t.prototype.ui,{"delete":".repo-shortcuts-delete"})})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/ConnectionDialogContent.js' */
"use strict";define("repository-shortcuts/views/connection-dialog-content",["repository-shortcuts/services/dvcs-integrator"],function(t){return JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Software.RepositoryShortcuts.Templates.suggestConnectionDialog,ui:{start:".repo-connection-start",cancel:".repo-connection-cancel"},events:{"click @ui.start":function(t){t.preventDefault(),this.triggerSubmitAnalyticEvent(),this.startConnection(),this.trigger("connection:start")},"click @ui.cancel":function(t){t.preventDefault(),this.triggerCancelAnalyticEvent(),this.trigger("connection:cancel")}},triggerSubmitAnalyticEvent:function(){this.isIntegration?AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.inline-integrate.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}):AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.inline-sync.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}})},triggerCancelAnalyticEvent:function(){this.isIntegration?AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.inline-integrate.cancel",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}):AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.inline-sync.cancel",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}})},templateHelpers:function(){return{dvcsName:this.dvcsName,isIntegration:this.isIntegration}},initialize:function(e){var n=e.repoShortcutModel,i=function(t){t.set({isRepositoryLinked:!0}),t.trigger("dvcsremote:change",t)},r=n.attributes;if(this.dvcsName="bitbucket"===r.dvcsType?"Bitbucket":"GitHub",this.isIntegration=n.hasNotLinkedOrg(),"bitbucket"===r.dvcsType&&n.hasNotLinkedOrg())this.startConnection=function(){return t.startBBOrganisationLink(r.dvcsOrg)};else if("bitbucket"===r.dvcsType&&n.hasLinkedOrgAndNotRepo())this.startConnection=function(){t.startBBRepositoryLink(n.attributes).then(function(){return i(n)})};else{if("github"!==r.dvcsType)throw"Unsupported DVCS Type";r.githubAppInstalled||(this.startConnection=function(){t.startGithubOrganisationLink()})}}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/views/modal-dialogs/ConnectionModal.js' */
"use strict";define("repository-shortcuts/views/connection-modal",["underscore","aui/flag","repository-shortcuts/services/dvcs-integrator"],function(t,e,i){var n="aui-dialog2-small";return JIRA.Projects.Libs.Marionette.ItemView.extend({template:JIRA.Software.RepositoryShortcuts.Templates.integrationModalContent,tagName:"section",attributes:{role:"dialog","class":"aui-layer aui-dialog2 "+n+" repo-integration-dialog","aria-hidden":"true","data-aui-modal":"false","data-aui-focus-selector":".aui-dialog2-content .repo-connect-start"},ui:{submit:".repo-connect-start",cancel:".repo-connect-cancel",edit:".repo-connect-edit"},events:{"click @ui.submit":function(t){t.preventDefault(),this.triggerSubmitAnalyticEvent(),this.handleSubmit()},"click @ui.cancel":function(t){t.preventDefault(),this.triggerCancelAnalyticEvent(),this._removeAndHide()},"click @ui.edit":function(t){t.preventDefault(),this._removeAndHide(),this.triggerEditAnalyticEvent(),this.repoShortcutModel.trigger("edit:start",this.repoShortcutModel.id)}},templateHelpers:function(){return{dvcsName:this.dvcsName,canUserManageDVCSAccounts:this.canUserManageDVCSAccounts,isIntegration:this.isIntegration}},_removeAndHide:function(){var t=this;AJS.dialog2(this.$el).hide(),setTimeout(function(){return t.destroy()})},triggerSubmitAnalyticEvent:function(){this.canUserManageDVCSAccounts&&(this.isIntegration?AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.integrate.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}):AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.sync.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}))},triggerEditAnalyticEvent:function(){this.canUserManageDVCSAccounts&&(this.isIntegration?AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.integrate.edit",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}):AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.sync.edit",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}))},triggerCancelAnalyticEvent:function(){this.canUserManageDVCSAccounts&&(this.isIntegration?AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.integrate.cancel",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}):AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.sync.cancel",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutType:this.dvcsName}}))},initialize:function(t){var e=this,n=t.repoShortcutModel,r=t.canUserManageDVCSAccounts;this.repoShortcutModel=n;var a=function(t){t.set({isRepositoryLinked:!0}),t.trigger("dvcsremote:change",t),e._removeAndHide()},c=n.attributes;if(this.dvcsName="bitbucket"===c.dvcsType?"Bitbucket":"GitHub",this.canUserManageDVCSAccounts=r,this.isIntegration=n.hasNotLinkedOrg(),"bitbucket"===c.dvcsType&&n.hasNotLinkedOrg()&&r)this.handleSubmit=function(){return i.startBBOrganisationLink(c.dvcsOrg)};else if("bitbucket"===c.dvcsType&&n.hasLinkedOrgAndNotRepo()&&r)this.handleSubmit=function(){i.startBBRepositoryLink(n.attributes).then(function(){return a(n)})["catch"](function(){return e._removeAndHide()})};else{if("github"!==c.dvcsType)throw"Unsupported DVCS Type";c.githubAppInstalled||(this.handleSubmit=function(){i.startGithubOrganisationLink()})}},onRender:function(){AJS.dialog2(this.$el).show()}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/dialogs/Add.js' */
"use strict";define("repository-shortcuts/dialogs/add",["jquery","repository-shortcuts/models/repository-shortcut","repository-shortcuts/views/add-dialog-content","repository-shortcuts/services/repo-shortcut-update-handler"],function(e,t,s,i){return JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Add.extend({initialize:function(r){_.bindAll(this,"hide","refresh","focusForm");var o=this;this.analyticsSave=!1,this.sidebarItem=r.sidebarItem,this.projectKey=r.projectKey,this.collection=r.collection,this.model=new t(null,{projectKey:this.projectKey}),this.errorModel=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors(null,{model:this.model}),this.view=new s({model:this.model,errorModel:this.errorModel,canUserManageDVCSAccounts:this.collection.canUserManageDVCSAccounts}),this.view.render();var c=e(window),n=e(document),a=e(".aui-sidebar-body");this.dialog=AJS.InlineDialog(this.sidebarItem.ui.link,"repo-shortcuts-group__add-dialog",function(e,t,s){return o.sidebarItem.$el.addClass("aui-nav-selected"),o.view.render(),o.view.$el.appendTo(e),o.view.ui.url.focus(),c.on("scroll.repo-shortcuts",function(){o.refresh()}),a.on("scroll.repo-shortcuts",function(){o.hide()}),n.on("showLayer",o.focusForm),c.on("resize",o.refresh),s(),!1},{gravity:"w",autoWidth:!0,initCallback:function(){o.trigger("dialog:open"),o.analyticsSave=!1},hideCallback:function(){o.sidebarItem.$el.removeClass("aui-nav-selected"),o.sidebarItem.ui.link.blur(),c.off("scroll.repo-shortcuts"),a.off("scroll.repo-shortcuts"),n.off("showLayer",o.focusForm),o.trigger("dialog:close",o.analyticsSave)},persistent:!0,closeOnTriggerClick:!0}),this.listenTo(this.view,"render",this.refresh),this.listenTo(this.view,"cancel",this.hideAndRender),this.listenTo(this.model,"save:success",function(){var e=new t(this.model.toJSON(),{projectKey:this.projectKey});this.collection.add(e),this.model.clear(),this.analyticsSave=!0,this.hide(),"bitbucket"!==e.attributes.dvcsType&&"github"!==e.attributes.dvcsType||i(e,this.collection.canUserManageDVCSAccounts),AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.link-repo.click",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),dvcsType:e.attributes.dvcsType}})}),this.listenTo(this.sidebarItem,"before:select",function(e){return e.preventDefault()}),AJS.sidebar(".aui-sidebar").on("collapse-start",this.hide),e(".repo-shortcuts-group").on("click","li",this.hide)}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/dialogs/AddModal.js' */
"use strict";define("repository-shortcuts/dialogs/add-modal",["jquery","repository-shortcuts/models/repository-shortcut","repository-shortcuts/views/add-dialog-content","repository-shortcuts/services/repo-shortcut-update-handler","aui/flag"],function(e,t,o,s,i){return JIRA.Projects.Libs.Marionette.Controller.extend({initialize:function(e){this.collection=e.collection,this.projectKey=e.projectKey,this.projectId=e.projectId,this.analyticsSave=!1,this.model=new t(null,{projectKey:this.projectKey}),this.errorModel=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors(null,{model:this.model}),this.view=new o({model:this.model,errorModel:this.errorModel,canUserManageDVCSAccounts:this.collection.canUserManageDVCSAccounts}),this.view.render(),this.dialog=AJS.dialog2(this.view.$el),this.listenTo(this.model,"save:success",function(){var e=new t(this.model.toJSON(),{projectKey:this.projectKey});this.collection.add(e),this.model.clear(),AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.link-repo.click",data:{projectId:this.projectId,dvcsType:e.attributes.dvcsType}}),this.analyticsSave=!0,this._closeDialog(),"bitbucket"===e.attributes.dvcsType||"github"===e.attributes.dvcsType?(s(e,this.collection.canUserManageDVCSAccounts),e.hasLinkedAllComponents()&&i({type:"success",title:"You have added the repository",body:"Nicely done! Your team is going to love this.",close:"manual"})):i({type:"success",title:"You have added the shortcut",body:"Nicely done! Your team is going to love this.",close:"manual"})}),this.listenTo(this.view,"cancel",this._closeDialog),this.listenTo(this.dialog,"hide",this._cleanUpDialog)},show:function(){this.dialog.show(),this.view.ui.url.focus(),AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.add-link.click",data:{projectId:this.projectId}})},_closeDialog:function(){this.dialog.hide()},_cleanUpDialog:function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.connect-repo.add-link.close",data:{projectId:this.projectId,isSave:this.analyticsSave}}),e("#add-repository-dialog").parent().remove()}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/dialogs/Edit.js' */
"use strict";define("repository-shortcuts/dialogs/edit",["jquery","repository-shortcuts/models/repository-shortcut","repository-shortcuts/views/edit-dialog-content","repository-shortcuts/services/repo-shortcut-update-handler","aui/flag"],function(e,t,o,r,s){return JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Edit.extend({initialize:function(i){var c=this,d=i.repoShortcutModel,n=i.canUserManageDVCSAccounts,a=i.editButtonId;_.bindAll(this,"hide"),this.model=new t(d.toJSON(),{projectKey:d.projectKey||d.collection.projectKey}),this.errorModel=new JIRA.Projects.Sidebar.ProjectShortcuts.Entities.ShortcutErrors((void 0),{model:this.model}),this.view=new o({model:this.model,errorModel:this.errorModel,canUserManageDVCSAccounts:n}),this.view.render();var l=e(JIRA.Software.RepositoryShortcuts.Templates.editDialogChrome({}));this.view.$el.appendTo(l),this.dialog=AJS.dialog2(l),this.dialog.show(),this.view.ui.url.focus();var u=JIRA.API.Projects.getCurrentProjectId();this.view.ui["delete"].on("click",function(e){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.delete-link.click",data:{projectId:u,shortcutId:c.model.id}}),e.preventDefault(),c.hide();var t=new JIRA.Projects.Sidebar.ProjectShortcuts.Dialogs.Delete({model:c.model});c.listenToOnce(t,"dialog:close",function(e){e?AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.delete-link.confirm",data:{projectId:u,shortcutId:c.model.id}}):AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.delete-link.cancel",data:{projectId:u,shortcutId:c.model.id}})})}),this.listenTo(this.model,"remove:success",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.delete-link.success",data:{projectId:u,shortcutId:c.model.id}}),d.collection.remove(d),s({type:"success",body:"Shortcut deleted.",close:"manual"})}),this.listenTo(this.model,"save:start",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.edit.save",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutId:c.model.id}})}),this.listenTo(this.view,"cancel",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.edit.cancel",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutId:d.id}}),c.hide()}),this.listenTo(this.model,"save:success",function(){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.edit.success",data:{projectId:JIRA.API.Projects.getCurrentProjectId(),shortcutId:c.model.id}}),c.hide(),d.set(c.model.toJSON()),"bitbucket"===d.get("dvcsType")||"github"===d.get("dvcsType")?(r(d,n),d.hasLinkedAllComponents()&&s({type:"success",body:"You have updated the repository",close:"manual"})):s({type:"success",body:"You have updated the shortcut",close:"manual"})}),this.dialog.on("hide",function(){c.trigger("dialog:close",c.analyticsSave);var e=document.getElementById(a);e&&e.focus()})}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts', location = 'jira-development-integration-plugin/js/repository-shortcuts/dialogs/Connection.js' */
"use strict";define("repository-shortcuts/dialogs/connection",["jquery","underscore","repository-shortcuts/views/connection-dialog-content"],function(i,e,o){return JIRA.Projects.Libs.Marionette.Controller.extend({initialize:function(t){var r=this,s=t.$trigger,n=t.repoShortcutModel;e.bindAll(this,"hide");var c=this,l={gravity:"w",persistent:!0,closeOnTriggerClick:!0,initCallback:function(){c.trigger("dialog:open"),c.analyticsSave=!1},hideCallback:function(){i(window).off("scroll.repo-shortcuts"),i(".aui-sidebar-body").off("scroll.repo-shortcuts"),i(document).off("showLayer",c.focusForm),c.trigger("syncDialog:close")}},a=function(e,o,t){var s=i(window),n=i(".aui-sidebar-body");return e.addClass("connection-dialog"),r.view.render(),r.view.$el.appendTo(e),s.on("resize",r.refresh),s.on("scroll.repo-shortcuts",r.refresh),n.on("scroll.repo-shortcuts",r.hide),t(),!1},d="suggest-connection-dialog-"+n.id;this.view=new o({repoShortcutModel:n}),this.listenTo(this.view,"connection:start",this.hide),this.listenTo(this.view,"connection:cancel",this.hide),this.dialog=AJS.InlineDialog(s,d,a,l),AJS.sidebar(".aui-sidebar").on("collapse-start",this.hide)},hide:function(){this.dialog.hide()},refresh:function(){this.dialog.refresh()}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-shortcut-utils', location = 'jira-development-integration-plugin/js/repository-shortcuts/utils/ShortcutUtils.js' */
"use strict";define("repository-shortcuts/utils/repository-shortcut-utils",["exports"],function(t){t.mapDvcsTypeToIcon=function(t){switch(t){case"bitbucket":return"bitbucket";case"github":return"repos";default:return"shortcut"}},t.shouldShowSync=function(t,e){var s=t.attributes,i="bitbucket"===s.dvcsType||"github"===s.dvcsType,o=Boolean(s.isOrganisationLinked&&(!s.dvcsRepo||s.isRepositoryLinked));return e&&i&&!o}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-navigation-next', location = 'jira-development-integration-plugin/js/repository-shortcuts/integration/navigation-next.js' */
"use strict";define("repository-shortcuts/navigation-next",["jquery","underscore","bluebird/Promise","jira/dev-status/util/es6","repository-shortcuts/models/repository-shortcuts","repository-shortcuts/dialogs/add-modal","repository-shortcuts/dialogs/edit","repository-shortcuts/views/connection-modal","repository-shortcuts/utils/repository-shortcut-utils","repository-shortcuts/services/dvcs-account-matcher","jira/featureflags/feature-manager"],function(t,e,n,r,o,i,c,a,s,u,d){var l="com.atlassian.jira.jira-projects-plugin:source.code.link.",f="com.atlassian.jira.plugins.jira-development-integration-plugin:repository-shortcuts-navigation-next.repository-shortcuts-data",p="com.pyxis.greenhopper.jira:project-sidebar-simple-add-repo",g=WRM.data.claim(f),h=g.canManageDVCS,m="endeavour.performance.shortcuts-optimization",v=d.isFeatureEnabled(m);return function(d){var f=d.shortcuts,g=d.onAdd,m=d.onEdit,y=d.onDelete,j=d.onBulkEdit,E=d.projectKey,A=void 0===E?"":E,I=d.projectId,w=void 0===I?"":I,S=d.isAdmin,C=void 0!==S&&S,b=d.canUserManageDVCSAccounts,D=void 0===b?h:b,M=A||JIRA.API.Projects.getCurrentProjectKey(),P=w||JIRA.API.Projects.getCurrentProjectId(),k=C||D,x=function(t){var e=f.find(function(e){return e.id===t});return e?e.editButtonId:null},J=new o([],{canUserManageDVCSAccounts:k,projectKey:M}),K=!1,R=function(t){if(!K){var e=t.get("icon");if(e)return e}return s.mapDvcsTypeToIcon(t.get("dvcsType"))},U=function(t){return s.shouldShowSync(t,k)},V=function(t){return l+t.id},T=function(t,n){return e.extend({},n,{name:t.get("name"),url:t.get("url"),type:t.get("type"),id:V(t),icon:R(t),showSync:U(t),onEditClick:function(){return F(t.id,"sidebar")},onSyncClick:function(){return N(t.id)}})},B=function(t){return{name:t.text,url:t.href,id:t.id,icon:t.icon}},q=function(){return new i({collection:J,projectKey:M,projectId:P}).show()},F=function(t,e){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.sidebar.connect-repo.edit",data:{projectId:P,shortcutId:t,referrer:e}}),new c({repoShortcutModel:J.get(t),canUserManageDVCSAccounts:k,editButtonId:x(t)})},N=function(t){return new a({repoShortcutModel:J.get(t),canUserManageDVCSAccounts:k}).render()},W=function(t){return g(T(t,{canEdit:!0}))},z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.canEdit,r=[].concat(t);v?j(r.map(function(t){return T(t,{canEdit:n})})):r.forEach(function(t){return m(T(t,{canEdit:n}))})},O=function(t){return y(V(t))};J.add(f.map(B),{projectKey:M}),f._collection=J,f.length&&!v&&z(J.models,{canEdit:f[0].canEdit}),J.on("add",function(t){return W(t)}).on("change",function(t,e){var n=e.canEdit,r=void 0===n||n;return z(t,{canEdit:r})}).on("remove",function(t){return O(t)}).on("edit:start",function(t){return F(t,"integrationDialog")});var _=f.map(function(t){return u.matchUrlAgainstNetwork(t.href)});return n.all(_).then(function(t){K=!0,t.forEach(function(t,e){var n=f[e],r=J.get(n.id);r&&r.set(t,{silent:v,canEdit:n.canEdit})}),v&&r.requestIdleCallback(function(){f.length&&z(J.models,{canEdit:f[0].canEdit})})})["catch"](function(t){AJS.trigger("analyticsEvent",{name:"jira-software.fe.web.notifications.connect-repo.shortcut-data-retrieve-fail",errorMessage:t&&t.message})}),(JIRA.API.getNavigationApi||t.Deferred)().then(function(t){t.onItemClick(t.viewIds.SOFTWARE,p,q)}),{add:q}}});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/node_modules/@atlassian/cloud-analytics-js/store-1.3.1.js' */
/* Copyright (c) 2010-2012 Marcus Westin
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

(function(){
	var store = {},
		win = window,
		doc = win.document,
		localStorageName = 'localStorage',
		globalStorageName = 'globalStorage',
		namespace = '__storejs__',
		storage;

	store.disabled = false;
	store.set = function(key, value) {};
	store.get = function(key) {};
	store.remove = function(key) {};
	store.clear = function() {};
	store.transact = function(key, transactionFn) {
		var val = store.get(key);
		if (typeof val == 'undefined') { val = {} }
		transactionFn(val);
		store.set(key, val);
	};

	store.serialize = function(value) {
		return JSON.stringify(value);
	};
	store.deserialize = function(value) {
		if (typeof value != 'string') { return undefined }
		return JSON.parse(value);
	};

	// Functions to encapsulate questionable FireFox 3.6.13 behavior 
	// when about.config::dom.storage.enabled === false
	// See https://github.com/marcuswestin/store.js/issues#issue/13
	function isLocalStorageNameSupported() {
		try { return (localStorageName in win && win[localStorageName]); }
		catch(err) { return false; }
	}
	
	function isGlobalStorageNameSupported() {
		try { return (globalStorageName in win && win[globalStorageName] && win[globalStorageName][win.location.hostname]); }
		catch(err) { return false; }
	}	

	if (isLocalStorageNameSupported()) {
		storage = win[localStorageName];
		store.set = function(key, val) {
			if (val === undefined) { return store.remove(key); }
			storage.setItem(key, store.serialize(val));
		};
		store.get = function(key) { return store.deserialize(storage.getItem(key)); };
		store.remove = function(key) { storage.removeItem(key); };
		store.clear = function() { storage.clear(); };

	} else if (isGlobalStorageNameSupported()) {
		storage = win[globalStorageName][win.location.hostname];
		store.set = function(key, val) {
			if (val === undefined) { return store.remove(key); }
			storage[key] = store.serialize(val);
		};
		store.get = function(key) { return store.deserialize(storage[key] && storage[key].value); };
		store.remove = function(key) { delete storage[key]; };
		store.clear = function() { for (var key in storage ) { delete storage[key]; } };

	} else if (doc.documentElement.addBehavior) {
		var storageOwner,
			storageContainer;
		// Since #userData storage applies only to specific paths, we need to
		// somehow link our data to a specific path.  We choose /favicon.ico
		// as a pretty safe option, since all browsers already make a request to
		// this URL anyway and being a 404 will not hurt us here.  We wrap an
		// iframe pointing to the favicon in an ActiveXObject(htmlfile) object
		// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)
		// since the iframe access rules appear to allow direct access and
		// manipulation of the document element, even for a 404 page.  This
		// document can be used instead of the current document (which would
		// have been limited to the current path) to perform #userData storage.
		try {
			storageContainer = new ActiveXObject('htmlfile');
			storageContainer.open();
			storageContainer.write('<s' + 'cript>document.w=window</s' + 'cript><iframe src="/favicon.ico"></frame>');
			storageContainer.close();
			storageOwner = storageContainer.w.frames[0].document;
			storage = storageOwner.createElement('div');
		} catch(e) {
			// somehow ActiveXObject instantiation failed (perhaps some special
			// security settings or otherwse), fall back to per-path storage
			storage = doc.createElement('div');
			storageOwner = doc.body;
		}
		function withIEStorage(storeFunction) {
			return function() {
				var args = Array.prototype.slice.call(arguments, 0);
				args.unshift(storage);
				// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx
				// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx
				storageOwner.appendChild(storage);
				storage.addBehavior('#default#userData');
				storage.load(localStorageName);
				var result = storeFunction.apply(store, args);
				storageOwner.removeChild(storage);
				return result;
			}
		}
		store.set = withIEStorage(function(storage, key, val) {
			if (val === undefined) { return store.remove(key) }
			storage.setAttribute(key, store.serialize(val));
			storage.save(localStorageName);
		});
		store.get = withIEStorage(function(storage, key) {
			return store.deserialize(storage.getAttribute(key));
		});
		store.remove = withIEStorage(function(storage, key) {
			storage.removeAttribute(key);
			storage.save(localStorageName);
		});
		store.clear = withIEStorage(function(storage) {
			var attributes = storage.XMLDocument.documentElement.attributes;
			storage.load(localStorageName);
			for (var i=0, attr; attr = attributes[i]; i++) {
				storage.removeAttribute(attr.name);
			}
			storage.save(localStorageName);
		});
	}
	
	try {
		store.set(namespace, namespace);
		if (store.get(namespace) != namespace) { store.disabled = true; }
		store.remove(namespace);
	} catch(e) {
		store.disabled = true;
	}
	
	if (typeof module != 'undefined') { module.exports = store; }
	else if (typeof define === 'function' && define.amd) { define(store); }
	else { this.store = store; }
})();;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/node_modules/@atlassian/cloud-analytics-js/page-visibility.js' */
define('atlassian/analytics/page-visibility', function () {
    var hasBrowserSupport = (document.hidden !== undefined);

    /**
     * A partial wrapper for the Page Visibility API
     * @exports atlassian/analytics/page-visibility
     */
    var wrapper = {

        /** Is the API supported by the browser? */
        supported: hasBrowserSupport,

        /**
         * A proxy for `document.hidden`.
         * Defaults to false if the API is not supported by the browser
         * @returns {boolean}
         */
        isHidden: function () {
            return hasBrowserSupport ? document.hidden : false;
        }
    };

    return wrapper;
});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/node_modules/@atlassian/cloud-analytics-js/atlassian-analytics.js' */
(function ($) {
    /**
     * There's a scenario where analytics queues can become "stuck".
     * A mutex that's meant to stop multiple tabs from draining a queue,
     * is never reset, causing queues to grow, until they fill localStorage.
     *
     * If we detect that the queue is abnormally large (ie. larger than
     * SUSPICIOUS_SIZE) and the mutex is locked, then we reset both the
     * queue and the mutex.
     * @param productKey
     */
    function resetStuckQueues (productKey) {
        var SUSPICIOUS_SIZE = 250 * 1024;
        var EVENT_QUEUE_KEY = 'atlassian-analytics.' + productKey;
        var EVENT_QUEUE_LOCK_KEY = EVENT_QUEUE_KEY + '.lock';
        var UNLOCKED_VALUE = 'null';
        var queueSize = (window.localStorage[EVENT_QUEUE_KEY] || '').length;
        var isLocked = (window.localStorage[EVENT_QUEUE_LOCK_KEY] || UNLOCKED_VALUE) !== UNLOCKED_VALUE;
        if (isLocked && queueSize > SUSPICIOUS_SIZE) {
            window.localStorage[EVENT_QUEUE_KEY] = JSON.stringify([{
                name: 'grow0.event.queue.cleared',
                time: new Date().valueOf(),
                properties: {queueSize: queueSize}
            }]);
            window.localStorage[EVENT_QUEUE_LOCK_KEY] = UNLOCKED_VALUE;
        }
    }

    ['jira', 'confluence', 'unknown'].forEach(function (productKey) {
        try {
            resetStuckQueues(productKey);
        } catch (e) {
            // silence errors
        }
    });

    // Make sure we are getting the jQuery.ajax method, even if it has been overridden elsewhere.
    // This will only work if this code is executed before any code which overrides the ajax method.
    var $ajax = AJS.$.ajax;
    var baseStorageKey = 'atlassian-analytics';
    var contextPath =
        typeof AJS.contextPath == "function" ? AJS.contextPath() :
        typeof AJS.Confluence != "undefined" ? AJS.Confluence.getContextPath() :
        window.contextPath != null ? window.contextPath : "";

    var publish = null;
    var storageKey = null;
    var lockKey = null;

    // A unique identifier for this browser tab
    // Source: http://stackoverflow.com/a/2117523
    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
        return v.toString(16);
    });

    var determineStorageKey = function(){
        // We need to give each product it's own key for events because in ondemand multiple product live
        // at the same url.
        var product = 'unknown';
        if (document.body.id == 'jira'){
            product = 'jira';
        }
        else if (document.body.id == 'com-atlassian-confluence'){
            product = 'confluence';
        }
        storageKey = baseStorageKey + '.' + product;
        lockKey = storageKey + '.lock';
    };

    var getLock = function() {
        if (store.get(lockKey)) {
            return false;
        }

        store.set(lockKey, uuid);

        // Reduce chance of race condition - read back lock to make sure we still have it
        return (store.get(lockKey) === uuid);
    };

    var releaseLock = function() {
        store.set(lockKey, null);
    };

    /**
     * Persists the events that have been generated until such time that they can be sent.
     */
    var saveForLater = function() {
        var events = [],
            event,
            e, i, ii;
        if (AJS.EventQueue.length == 0)
            return;
        // Prime our events array with anything that's already saved.
        events = store.get(storageKey) || events;
        // Suck the events out of the event queue and in to our events array.
        for (i = 0, ii = AJS.EventQueue.length; i < ii; ++i) {
            e = AJS.EventQueue[i];
            if (e.name) {
                // the queue could contain anything - shear unusable properties
                event = { name: e.name, properties: e.properties, time: e.time || 0};
                events.push(event);
            }
        }
        // Empty the event queue
        AJS.EventQueue.length = 0;
        // Save our events for later
        store.set(storageKey, events);
    };

    // Variable to track the number of retries to publish
    var bulkPublishRetryCount = 0;

    /**
     * Gets the amount of time that should be waited until the next publish attempt.
     * @param retryCount How many requests failed since the last successful publish.
     * @returns {number} how many ms that should be waited.
     */
    var getBulkPublishBackoff = function (retryCount) {
        return Math.min(5000 * Math.pow(2, retryCount), 5*60*1000);
    };

    /**
     * Publishes every event that's ready for publishing.
     */
    var bulkPublish = function() {
        var events;

        function reschedule() {
            setTimeout(bulkPublish, getBulkPublishBackoff(bulkPublishRetryCount = 0));
        }

        function rescheduleFailed() {
            setTimeout(bulkPublish, getBulkPublishBackoff(++bulkPublishRetryCount));
        }

        // Avoid multiple browser tabs hitting this all at once
        if (!getLock()) {
            return reschedule();
        }

        // Make sure every event we might have is stored.
        saveForLater();
        // Pull the stored events out and get 'em ready for transmission.
        events = store.get(storageKey);

        if (!events || !events.length) {
            releaseLock();
            return reschedule();
        }

        // Wipe the stored events.
        store.remove(storageKey);

        releaseLock();

        // Validate events and remove any dodgy ones
        if (!validateEvents(events)) {
            return reschedule();
        }

        // try to present a rough timing of events that the server can interpret relative to it's own time.
        var currentTime = new Date().getTime();
        for (var i = 0; i < events.length; i++){
            if (events[i].time > 0){
                events[i].timeDelta = events[i].time - currentTime;
            }
            else{
                // just fake it. This corresponds to a millisecond for each place behind last in the array.
                // This should be rare. Basically, events added to EventQueue before this script was loaded.
                events[i].timeDelta = i - events.length;
            }
            delete events[i].time;
        }

        // AJS.safe.post appears to corrupt a JSON data object, so we send it as a context param instead.
        // Failing to JSON encode the data results in jQuery not attempting to send, and silently swallowing our attempt
        publish = $ajax({
            type: "POST",
            url: contextPath + "/rest/analytics/1.0/publish/bulk",
            data: JSON.stringify(events),
            contentType: "application/json",
            dataType: "json"
        });
        // In case the transmission fails, let's keep the events we just attempted to send.
        publish.fail(function() {
            // This actually drops events, but the alternative is to use something like:
            //   $.merge(AJS.EventQueue, events);
            // Unfortunately using that will cause some fairly nasty issues where duplicate events continually
            // get sent - see https://jira.atlassian.com/browse/AA-179 for more details.
            // TODO: investigate why the above happens and fix this functionality for good
            AJS.EventQueue.concat(events);

            saveForLater();
            rescheduleFailed();
        });
        publish.done(function () {
            reschedule();
        });
    };

    /**
     * Check for any invalid events and remove/sanitise them.
     * @param events - the list of events to be published
     * @returns the number of valid events remaining
     */
    var validateEvents = function(events) {
        for (var i = events.length - 1; i >= 0; i--) {
            var validMsg = "";
            var event = events[i];
            var properties = event.properties;
            if (typeof event.name === "undefined") {
                validMsg = "you must provide a name for the event.";
            } else if (typeof properties !== "undefined" && properties !== null) {
                if (properties.constructor !== Object) {
                    validMsg = "properties must be an object with key value pairs.";
                } else {
                    sanitiseProperties(properties);
                }
            }
            if (validMsg !== "") {
                AJS.log("WARN: Invalid analytics event detected and ignored, " + validMsg + "\nEvent: "+JSON.stringify(event));
                events.splice(i, 1);
            }
        }
        return events.length;
    };

    var sanitiseProperties = function(properties) {
        for (var propertyName in properties) {
            if (properties.hasOwnProperty(propertyName)) {
                var propertyValue = properties[propertyName];

                if (valueExists(propertyValue) && isAllowedType(propertyValue)) {
                    // Do nothing - the property value is safe & allowed already
                } else if (valueExists(propertyValue) && propertyValue.toString) {
                    // Sanitise the property value by invoking its "toString"
                    properties[propertyName] = propertyValue.toString();
                } else {
                    // If it's an undefined, null or invalid value - blank it out
                    properties[propertyName] = "";
                }
            }
        }
    };

    function valueExists(propertyValue) {
        return typeof propertyValue !== "undefined" && propertyValue !== null;
    }

    function isAllowedType(propertyValue) {
        return typeof propertyValue === "number" || typeof propertyValue === "string" || typeof propertyValue === "boolean";
    }

    var cancelPublish = function() {
        if (publish && !(publish.state() === "resolved" || publish.state() === "rejected")) {
            publish.abort(); // This will cancel the request to the server, and cause the events to be saved for later.
        }
    };

    /**
     * Provides a way to publish events asynchronously, without requiring AJS.Events to have loaded.
     * Users of this property must conditionally initialise it to an empty array. Objects pushed
     * must have a name property, and optionally a properties property of other data to send.
     * @example
     * AJS.EventQueue = AJS.EventQueue || [];
     * AJS.EventQueue.push({name: 'eventName', properties: {some: 'data', more: true, hits: 20}});
     */
    AJS.EventQueue = AJS.EventQueue || [];

    var arrayPush = Array.prototype.push;
    AJS.EventQueue.push = function(obj) {
    	obj.time = new Date().getTime();
    	arrayPush.call(AJS.EventQueue, obj);
    };

    AJS.toInit(function() {
    	determineStorageKey();
        setTimeout(bulkPublish, 500);
        removeOldAnalytics();
    });
    $(window).unload(function() {
        cancelPublish();
        saveForLater();
    });

    /**
     * @deprecated since v3.39, please trigger as normal and use whitelisting to denote privacy policy safe events
     */
    AJS.Analytics = {
        triggerPrivacyPolicySafeEvent: function(name, properties) {
            AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");
            AJS.EventQueue.push({name: name, properties: properties});
        }
    };

    /**
     * Binds to an event that developers can trigger without having to do any feature check.
     * If this code is available then the event will get published and if it's not the event
     * will go unnoticed.
     * @example
     * AJS.trigger('analytics', {name: 'pageSaved', data: {pageName: page.name, space: page.spaceKey}});
     */
    AJS.bind('analytics', function(event, data) {
    	AJS.EventQueue.push({name: data.name, properties: data.data});
    });

    // legacy binding until Confluence page layout JS is updated
    AJS.bind('analyticsEvent', function(event, data) {
    	AJS.EventQueue.push({name: data.name, properties: data.data});
    });

    /**
     * As part of bundling this plugin in BTF now, we need to remove the existing JIRA analytics setting if we see it.
     */
    var removeOldAnalytics = function () {
        if (window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties") > -1) {
            AJS.$("[data-property-id='analytics-enabled']").remove();
        } else if (window.location.pathname.indexOf("/secure/admin/EditApplicationProperties") > -1) {
            var $analytics = AJS.$(":contains(Enable Atlassian analytics)");
            if ($analytics.size() > 0) {
                var parentElement = $analytics[$analytics.size() - 2];
                if (parentElement) {
                    parentElement.remove();
                }
            }
        }
    }

}(AJS.$));
;
;
/* module-key = 'jira.webresources:calendar-en', location = '/includes/lib/calendar/lang/calendar-en.js' */
Calendar._DN=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"),Calendar._SDN=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"),Calendar._FD=0,Calendar._MN=new Array("January","February","March","April","May","June","July","August","September","October","November","December"),Calendar._SMN=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),Calendar._TT={},Calendar._TT.INFO="About the calendar",Calendar._TT.ABOUT="DHTML Date/Time Selector\n(c) dynarch.com 2002-2005 / Author: Mihai Bazon\nFor latest version visit: http://www.dynarch.com/projects/calendar/\nDistributed under GNU LGPL.  See http://gnu.org/licenses/lgpl.html for details.\n\nDate selection:\n- Use the «, » buttons to select year\n- Use the "+String.fromCharCode(8249)+", "+String.fromCharCode(8250)+" buttons to select month\n- Hold mouse button on any of the above buttons for faster selection.",Calendar._TT.ABOUT_TIME="\n\nTime selection:\n- Click on any of the time parts to increase it\n- or Shift-click to decrease it\n- or click and drag for faster selection.",Calendar._TT.PREV_YEAR="Prev. year (hold for menu)",Calendar._TT.PREV_MONTH="Prev. month (hold for menu)",Calendar._TT.GO_TODAY="Go Today",Calendar._TT.NEXT_MONTH="Next month (hold for menu)",Calendar._TT.NEXT_YEAR="Next year (hold for menu)",Calendar._TT.SEL_DATE="Select date",Calendar._TT.DRAG_TO_MOVE="Drag to move",Calendar._TT.PART_TODAY=" (today)",Calendar._TT.DAY_FIRST="Display %s first",Calendar._TT.WEEKEND="0,6",Calendar._TT.CLOSE="Close",Calendar._TT.TODAY="Today",Calendar._TT.TIME_PART="(Shift-)Click or drag to change value",Calendar._TT.DEF_DATE_FORMAT="%Y-%m-%d",Calendar._TT.TT_DATE_FORMAT="%a, %b %e",Calendar._TT.WK="wk",Calendar._TT.TIME="Time:",Calendar._TT.AM="AM",Calendar._TT.PM="PM",Calendar._TT.am="am",Calendar._TT.pm="pm";;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-issue-type-whitelist', location = 'jira-agile-module/includes/js/rapid/analytics/register-software-issue-types.js' */
function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}require(["jira/analytics/transformers/issue-type"],function(e){var r=(_defineProperty(r={},"Story","Story"),_defineProperty(r,"Epic","Epic"),r);e.registerAll(r)});;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:common-flag-resources', location = 'user-provisioning-vertigo-module/js/atlassian/aui-polyfill/flag.js' */
/*
 * Polyfill for aui/flag for use in products that don't provide a version (due to using an ancient AUI version).
 */
(function() {
    try {
        require('aui/flag')
    } catch (e) {
        define('aui/flag', [], displayFlagAsMessage);
    }

    function displayFlagAsMessage(args) {
        var type = (args.type || "").toLowerCase();
        var message = typeof AJS.messages[type] == 'function' ? AJS.messages[type] : AJS.messages.generic;

        // for some reason we display info messages as warnings... keeping that for backward compatibility
        message(".notifications", { body: args.message });
    }
})();
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:common-flag-resources', location = 'user-provisioning-vertigo-module/js/atlassian/flag.js' */
/**
 * This is a wrapper around AUI Flag which will escape the body text of the Flag unless explicitly told not to.
 *
 * The body will NOT be escaped iff the passed in object has an attribute 'isHtml' and it is set to true.
 */
define('user-management-common/flag', [
    'aui/flag',
    'underscore',
    'jquery'
], function(
    flag,
    _,
    $
) {
    return function(options){
        var createdFlag;
        // If not explicitly HTML, escape the body
        if(!options.isHtml) {
            options.body = _.escape(options.body);
        }

        createdFlag = flag(options);
        $(createdFlag).on('aui-flag-close', function(){
            createdFlag.dispatchEvent(new CustomEvent('um-flag-close', { bubbles: true }));
        });
        return createdFlag;
    };
});
;
;
/* module-key = 'com.atlassian.plugin.jslibs:browser-storage-controls-3.0.1', location = 'atlassian-jslibs/libs/@atlassian/browser-storage-controls/dist/cookie-controls-min.js' */
define("atlassian/libs/browser-storage-controls",["analytics-web-client"],(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(c[0]);if(s=(r.read||r)(s,l)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(o[l]=s,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},,function(t,n){t.exports=e},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(4);const o="__PLATFORM_FEATURE_FLAGS__",i=void 0!==e&&!0,a=!!i&&"true"===Object({NODE_ENV:"production"}).ENABLE_PLATFORM_FF,c=!!i&&"true"===Object({NODE_ENV:"production"}).STORYBOOK_ENABLE_PLATFORM_FF,s=a||c,l={earlyResolvedFlags:new Map,booleanResolver:function(e){return!1}},u="undefined"!=typeof window?window:globalThis;function f(e){u[o].booleanResolver=e}function d(e){if(s)return Object(r.a)('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',"@atlaskit/platform-feature-flags",e),!0;try{var t;const n=null===(t=u[o])||void 0===t?void 0:t.booleanResolver(e);return"boolean"!=typeof n?(console.warn(e+" resolved to a non-boolean value, returning false for safety"),!1):n}catch(e){return!1}}u[o]=u[o]||l}).call(this,n(5))},function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return a}));const i=!(void 0!==(null===globalThis||void 0===globalThis||null===(r=globalThis.process)||void 0===r||null===(r=r.env)||void 0===r?void 0:r.JEST_WORKER_ID))&&"production"!==(null===globalThis||void 0===globalThis||null===(o=globalThis.process)||void 0===o||null===(o=o.env)||void 0===o?void 0:o.NODE_ENV),a=(...e)=>{i&&console.debug(...e)}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],u=!1,f=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):f=-1,l.length&&p())}function p(){if(!u){var e=c(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new y(e,t)),1!==l.length||u||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"deleteCookie",(function(){return R})),n.d(t,"getCookie",(function(){return V})),n.d(t,"setCookie",(function(){return Fe})),n.d(t,"setStrictlyNecessaryCookie",(function(){return he})),n.d(t,"packUserPreferences",(function(){return ye})),n.d(t,"unpackUserPreferencesCookie",(function(){return be})),n.d(t,"initializeControls",(function(){return Re}));var r=n(0),o=n.n(r),i=n(3);function a(e){return Object(i.a)(e)}var c=n(2),s=n.n(c);let l,u;const f=()=>(null==l&&(l=!0),{analyticsEnabled:l,product:u});function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b="[browser-storage-controls]";class g{static info(e,t){console.log(`${b}: ${e}`,t?JSON.stringify(t):"")}static error(e,t){console.error(`${b}: ${e}`,t?JSON.stringify(t):"")}static errorWithOperationalEvent({action:e,attributes:t={},message:n,metadata:r}){try{I({action:e,attributes:p({error:n},t)})}catch(t){this.error(`Failed to send operational event on error: ${e}. ${t.message||""}`)}this.error(n,r?JSON.stringify(r):"")}static warn(e,t){console.warn(`${b}: ${e}`,t?JSON.stringify(t):"")}}const m=Object({NODE_ENV:"production"})._PACKAGE_NAME_,v=Object({NODE_ENV:"production"})._PACKAGE_VERSION_;const O=new class{get cachedSamplingConfig(){return this.cache}set cachedSamplingConfig(e){this.cache=e}},w=()=>{const e=!("undefined"!=typeof document&&"undefined"!=typeof window&&Document&&Document.prototype&&Object&&Object.defineProperty),t=!a,n=!Boolean(s.a);return e&&g.warn("Browser context is not available."),t&&g.warn("Platform Feature Flag library is not available"),s.a||g.warn("analytics-web-client is not available"),!!(e||t||n)};let k,h,C;const E=async()=>{if(k)return k;try{return h||(h=fetch("https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json")),k=await(async e=>{if(!e)throw new Error("Failed to fetch Cookies Cache! Cached promise was undefined");const t=await e;if(!t.ok)throw new Error("Failed to fetch Cookies Cache! status: "+t.status);return C=C||(null==t?void 0:t.json()),C})(h),k}catch(e){g.errorWithOperationalEvent({action:"loadStorageControlsError",message:e.message||""}),k=void 0,h=void 0,C=void 0}},j={usedGetCookie:1e5,usedGetCookieError:1,usedSetCookie:1e3,usedSetCookieError:1,usedSetStrictlyNecessaryCookie:1e4,usedSetStrictlyNecessaryCookieError:1,usedDeleteCookie:10,usedDeleteCookieError:1,usedCheckThirdParty:1e5,checkThirdPartyError:1,usedDocumentCookie:100,usedDocumentCookieError:1,initializeControlsError:1,loadStorageControlsError:1,updatePreferencesError:1,fetchConsentPreferencesError:1,saveConsentPreferencesError:1},S=["loadStorageControlsError"];async function P(e){if(S.includes(e))return j[e];const t=await async function(){if(O.cachedSamplingConfig)return O.cachedSamplingConfig;if(w())return;const e=await E(),t=null==e?void 0:e.analyticsSamplingRatio;return O.cachedSamplingConfig=t,t}(),n=null!=t?t:j;return void 0!==(null==n?void 0:n[e])?n[e]:j[e]}async function T(e,t){!function(e,t){!Math.floor(Math.random()*e)&&t()}(await P(e),t)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=()=>{const{hostname:e}=window.location;return e.includes(".dev.")||e.includes(".stg.")?c.envType.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?c.envType.DEV:c.envType.PROD},_=()=>{const{origin:e,pathname:t}=window.location,n=(e=>{let t="";if(!e)return t;const n=t=>new RegExp(`^${t}(/|$)`).test(String(e));return n("/wiki")&&(t="/wiki"),n("/jira")&&(t="/jira"),n("/compass")&&(t="/compass"),n("/canvas")&&(t="/canvas"),(n("/servicedesk")||n("/jira/servicedesk"))&&(t="/servicedesk"),t})(t),r=`${e}${n}`;return{domain:r,product:(e=>"https://trello.com"===e?"trello":null)(r)||n.slice(1)}},F=e=>{var t,n;const{domain:r,product:o}=_();return N({featureFlagOn:a("platform.moonjelly.browser-storage-controls"),packageName:m,packageVersion:v,domain:r,isInCookieBannerExperiment1:a("platform.moonjelly.browser-storage-controls-experiment-one"),product:null!==(t=null===(n=f().product)||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:o},e&&e)},L=(()=>{let e;return()=>{try{!e&&f().analyticsEnabled&&(e=new s.a({env:U(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0}))}catch(e){g.error("Failed to initialize AnalyticsWebClient. "+e)}if(f().analyticsEnabled)return e}})();function I(e){T(e.action,()=>{var t;return null===(t=L())||void 0===t?void 0:t.sendOperationalEvent({source:"package",actionSubject:"package",action:e.action,attributes:F(e.attributes)})})}const R=(e,t)=>{try{a("platform.moonjelly.browser-storage-controls")&&I({action:"usedDeleteCookie",attributes:{cookieKey:e}}),o.a.remove(e,t)}catch(t){g.errorWithOperationalEvent({action:"usedDeleteCookieError",attributes:{cookieKey:e},message:"Failed to use delete cookie. "+(t.message||"")})}};function V(e){try{return a("platform.moonjelly.browser-storage-controls")&&I({action:"usedGetCookie",attributes:{cookieKey:e}}),e?o.a.get(e):o.a.get()}catch(t){g.errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:"Failed to use get cookie. "+(t.message||"")})}}const K=async(e=2e3,t=0)=>M("platform.moonjelly.browser-storage-controls",e,t),M=(e,t=2e3,n=0)=>{if(n>3e5)return Promise.resolve(!1);if(!a(e)){const e=2*t,r=Math.min(e,3e5);return new Promise(e=>{setTimeout(async()=>{const t=n+r,o=await K(r,t);e(o)},r)})}return Promise.resolve(!0)};let x=function(e){return e.StrictlyNecessary="STRICTLY_NECESSARY",e.Functional="FUNCTIONAL",e.Marketing="MARKETING",e.Analytics="ANALYTICS",e.Unknown="UNKNOWN",e}({}),G=function(e){return e.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",e.ConsentedUnderGDPR="CONSENTS_SAVED_IN_GDPR_LOCALE",e.ConsentedUnderCPRA="CONSENTS_SAVED_IN_CPRA_LOCALE",e.ConsentedUnderLGPD="CONSENTS_SAVED_IN_LGPD_LOCALE",e.ConsentedUnderFADP="CONSENTS_SAVED_IN_FADP_LOCALE",e}({}),W=function(e){return e.ConsentsAreDefault="DEFAULT_CONSENTS",e.UserIsAuthenticated="USER_AUTHENTICATED",e.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",e}({});function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}x.StrictlyNecessary,x.Functional,x.Marketing,x.Analytics,x.Unknown;const J=$($({},{[x.StrictlyNecessary]:!0,[x.Functional]:!1,[x.Marketing]:!1,[x.Analytics]:!1,[x.Unknown]:!1}),{},{[W.ConsentsAreDefault]:!0,[W.UserIsAuthenticated]:!1,[W.ConsentDataUnavailable]:!0}),z="001",H="002",Z="003",q=e=>Number(e).toString(),Q=e=>{if(e)return!!Number(e)};let X=function(e){return e.StrictlyNecessary="strictlyNecessaryCookies",e.Functional="functionalCookies",e.Analytics="performanceCookies",e.Marketing="targetingCookies",e.Unknown="unknownCookies",e}({});const ee=e=>e[0]+e[1]+e[2]===H,te=e=>{if(ee(e)){const t="1"===e[8],n="1"===e[9],r="1"===e[10],o="1"===e[11];return t||n||r||o}return!1},ne=e=>{if(ee(e)){return!te(e)}return Q(e[7])},re=e=>`${Z}${Object.entries(J).reduce((t,[n,r])=>{if(n===x.StrictlyNecessary)return t;if(n===W.UserIsAuthenticated){return t+q(!e)}return n===W.ConsentDataUnavailable?t+q(!!e):t+q(r)},"")}`,oe=({consents:e})=>{if(e)return 0===e.length?re():(e=>{var t,n,r,o;return[Z,q(!(null===(t=e.find(e=>e.key===X.Functional))||void 0===t||!t.granted)),q(!(null===(n=e.find(e=>e.key===X.Analytics))||void 0===n||!n.granted)),q(!(null===(r=e.find(e=>e.key===X.Marketing))||void 0===r||!r.granted)),q(!(null===(o=e.find(e=>e.key===X.Unknown))||void 0===o||!o.granted)),0,1,0].join("")})(e);{const e=V("atl-bsc-consent-token-fallback");return e||re(!0)}};Error;function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const se=e=>{if(e.length<3)return{isValid:!1,isV001:!1,isV002:!1,isV003:!1};const t=e[0]+e[1]+e[2],n=t===z&&7===e.length,r=t===H&&12===e.length,o=t===Z&&10===e.length;return{isValid:[z,H,Z].includes(t)&&(n||r||o),isV001:n,isV002:r,isV003:o}},le=e=>[z,q(e.FUNCTIONAL),q(e.ANALYTICS),q(e.MARKETING),q(e.UNKNOWN)].join(""),ue=e=>{if(7===e.length)return{[x.StrictlyNecessary]:!0,[x.Functional]:"1"===e[3],[x.Analytics]:"1"===e[4],[x.Marketing]:"1"===e[5],[x.Unknown]:"1"===e[6]}},fe=e=>({[x.StrictlyNecessary]:!0,[x.Functional]:"1"===e[3],[x.Analytics]:"1"===e[4],[x.Marketing]:"1"===e[5],[x.Unknown]:"1"===e[6],[W.ConsentsAreDefault]:"1"===e[7],[W.UserIsAuthenticated]:"1"===e[8],[W.ConsentDataUnavailable]:"1"===e[9]}),de=[W.ConsentDataUnavailable,G.ConsentedUnderGDPR,G.ConsentedUnderCPRA,G.ConsentedUnderLGPD,G.ConsentedUnderFADP],pe=[W.ConsentsAreDefault,W.UserIsAuthenticated,W.ConsentDataUnavailable];function ye(e){if(!a("platform.moonjelly.browser-storage-controls-v2"))return le(e);if(de.every(t=>t in e))return(e=>{const t=Z,n=!(e[G.ConsentedUnderGDPR]||e[G.ConsentedUnderCPRA]||e[G.ConsentedUnderLGPD]||e[G.ConsentedUnderFADP]),r=e[W.ConsentDataUnavailable],o=!r;return[t,q(e[x.Functional]),q(e[x.Analytics]),q(e[x.Marketing]),q(e[x.Unknown]),q(n),q(o),q(r)].join("")})(e);return pe.every(t=>t in e)?(e=>[Z,q(e[x.Functional]),q(e[x.Analytics]),q(e[x.Marketing]),q(e[x.Unknown]),q(e[W.ConsentsAreDefault]),q(e[W.UserIsAuthenticated]),q(e[W.ConsentDataUnavailable])].join(""))(e):le(e)}function be(e){if(!a("platform.moonjelly.browser-storage-controls-v2")){if(e.length<3)return;return e[0]+e[1]+e[2]===z?ue(e):void 0}const{isValid:t,isV001:n,isV002:r,isV003:o}=se(e);if(t)return n?ue(e):r?(e=>{const t=ne(e),n="1"===e[7],r=!n;return ae(ae({},fe(e)),{},{[W.ConsentsAreDefault]:!!t,[W.UserIsAuthenticated]:r,[W.ConsentDataUnavailable]:n})})(e):o?fe(e):void 0}const ge=e=>{const{isV002:t}=se(e);let n=e[8];if(t){n="1"===e[7]?"0":"1"}return n},me=({consentToken:e,fallbackConsentToken:t})=>{const n=!!ne(e);if(n)return(e=>{if(e){const t=ge(e),n=!Q(t),r=!ne(e);if(n&&r)return!r;if(!n&&r)return!1}return!0})(t);return!(te(e)||!n)||!t},ve=({consentToken:e,consentTimestamp:t,fallbackConsentToken:n})=>{if(!!ne(e))return(e=>{if(e){const t=ge(e),n=!Q(t);return!!ne(e)||!!n}return!0})(n);if(t){return(e=>{let t=!1;if(e){const n=new Date;n.setFullYear(n.getFullYear()-1),t=new Date(e)<n}return t})(t)}return!n};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const he=(e,t,n)=>{try{a("platform.moonjelly.browser-storage-controls")&&I({action:"usedSetStrictlyNecessaryCookie",attributes:{cookieKey:e}}),o.a.set(e,t,we(we({},n),{},{"atl-set-cookie":!0}))}catch(t){g.errorWithOperationalEvent({action:"usedSetStrictlyNecessaryCookieError",attributes:{cookieKey:e},message:"Failed to use set strictly necessary cookie. "+(t.message||"")})}},Ce=e=>{const t=new Date;t.setTime(t.getTime()+6e5),he("atl-bsc-consent-token",e,{expires:t,path:"/"})},Ee=(e,t)=>{const n=(({consentToken:e,consentTimestamp:t,fallbackConsentToken:n})=>{const r=w()?n:n||V("atl-bsc-consent-token-fallback");let o=ge(e);let i=!0;return i=!Q(o)?me({consentToken:e,fallbackConsentToken:r}):ve({consentToken:e,fallbackConsentToken:r,consentTimestamp:t}),i})({consentToken:e,consentTimestamp:t}),r=q(!!n),o=new Date;o.setTime(o.getTime()+6e5),he("atl-bsc-show-banner",r,{expires:o,path:"/"})},je=e=>{if(e){return{consentToken:oe(e),consentTimestamp:(({consents:e})=>{if(e&&e.length){const t=e.map(e=>new Date(e.updatedTs).getTime()),n=Math.max(...t);return new Date(n).toISOString()}})(e)}}return{consentToken:oe({}),consentHubInaccessible:!0}},Se=async e=>{const t=await(async()=>{const{origin:e}=window.location,t=e+"/gateway/api/consenthub/session/user/consents/cookies";try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch preferences from ConsentHub with status: "+e.status);const n=await e.json();return je(n)}catch(e){return g.errorWithOperationalEvent({action:"fetchConsentPreferencesError",message:e.message||""}),je()}})();let{consentToken:n,consentTimestamp:r,consentHubInaccessible:o}=t,{isValid:i}=se(n);return i&&o&&(n=e||n.slice(0,8)+"1111"),i?{consentToken:n,consentTimestamp:r}:void 0},Pe=async()=>{const e=V("atl-bsc-consent-token-fallback"),t=await Se(e);if(t){const{consentToken:e,consentTimestamp:r}=t,o=(n=e,V("atl-testing-consents")||n),i=V("atl-testing-consents");return i||""===i?(Ee(o),Ce(o),""===o?void 0:o):(((e,t)=>{Ce(e),Ee(e,t)})(o,r),e)}var n};let Te=function(e){return e.SUCCESS="SUCCESS",e.BLOCKED="BLOCKED",e.FAILED="FAILED",e}({});function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ue=(e,t)=>{let n=null;const{keys:r,categories:o,patterns:i}=t;n=e in Object(r)?r[e]:((e,{startsWith:t})=>{let n=t,r=0;for(;r<e.length;){const t=n[e[r]];if(void 0===t)return null;if("number"==typeof t)return t;n=t,r++}return null})(e,i);const a={[o.STRICTLY_NECESSARY]:x.StrictlyNecessary,[o.FUNCTIONAL]:x.Functional,[o.ANALYTICS]:x.Analytics,[o.MARKETING]:x.Marketing,[o.UNKNOWN]:x.Unknown};return null!==n?a[n]:null},_e=async({cookieKey:e,allowedCallback:t=(()=>{}),blockedCallback:n=(()=>{})})=>{let r;const o=await(async e=>{const t=await E();return t?Ue(e,t):null})(e);if(o===x.StrictlyNecessary)r=!0;else{const e=await async function(){if(!a("platform.moonjelly.browser-storage-controls-v2")){const e=V("atl-gdpr-consent");if(!e)return;return be(e)}let e=V("atl-bsc-consent-token");if(!e){const e=await Pe();return e?be(e):void 0}return be(e)}();let t=!1;e&&o&&(t=e[o]),r=t}return r?null==t||t():null==n||n({cookieHasCategory:null!=o}),r},Fe=async(e,t,n)=>{if(!a("platform.moonjelly.browser-storage-controls")){const r={wasRejected:!1,cookieKey:e};try{return o.a.set(e,t,n),Te.SUCCESS}catch(e){return g.errorWithOperationalEvent({action:"usedSetCookieError",attributes:r,message:"Failed to use set cookie. "+(e.message||"")}),Te.FAILED}}const r=await _e({cookieKey:e}),i={wasRejected:!r,cookieKey:e};try{return I({action:"usedSetCookie",attributes:i}),r?(o.a.set(e,t,Ne(Ne({},n),{},{"atl-set-cookie":!0})),Te.SUCCESS):Te.BLOCKED}catch(e){return g.errorWithOperationalEvent({action:"usedSetCookieError",attributes:i,message:"Failed to use set cookie. "+(e.message||"")}),Te.BLOCKED}},Le=e=>t=>{const n=t.includes("atl-set-cookie");if(n)try{return e.apply(document,[t])}catch(e){g.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"document.cookie setter failed to set cookie set by package. "+(e.message||""),attributes:{outsidePackage:!1}})}try{const r=t.slice(0,t.indexOf("="))||"";I({action:"usedDocumentCookie",attributes:{cookieKey:r,outsidePackage:!n}});try{_e({cookieKey:r,allowedCallback:()=>e.apply(document,[t]),blockedCallback:({cookieHasCategory:n})=>a("platform.moonjelly.block-unknown-cookies")||n?void 0:e.apply(document,[t])})}catch(e){g.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to set cookie. "+(e.message||""),attributes:{cookieKey:r}})}}catch(e){g.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to send document.cookie setter event. "+(e.message||"")})}},Ie=async(e={})=>{if(w())return;if(!(e.flagEnabled||await K()))return;(({analyticsEnabled:e=!0,product:t="NONE"}={})=>{l=e,u=t})(e);const t=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),n=null==t?void 0:t.set,r=null==t?void 0:t.get;if(!n||!r)return void g.warn("No document.cookie capabilities found");if(!!!L())throw new Error("Failed to initialize AnalyticsWebClient. Analytics logging will not be set for document.cookie.");Object.defineProperty(document,"cookie",{get:r,set:Le(n),configurable:!0})},Re=async(e={})=>{try{await Ie(e)}catch(e){g.errorWithOperationalEvent({action:"initializeControlsError",message:"Failed to initialize browser storage controls. "+(e.message||"")})}}}])}));;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:impersonation-resources', location = 'user-provisioning-vertigo-module/js/atlassian/helpers/cookies.js' */
define('user-management-common/helpers/cookies', [
    'atlassian/libs/browser-storage-controls'
], function(
    browserStorageControls
) {
    return {
        readCookie: function (name) {
            return browserStorageControls.getCookie(name);
        }
    };
});
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:impersonation-resources', location = 'user-provisioning-vertigo-module/js/atlassian/impersonation/impersonation.js' */
/**
 * This module displays an informational message with a link to drop the impersonation, if the current user is
 * being impersonated. This script is used in both user management and user provisioning plugins.
 */
define('user-management-common/impersonation/impersonation', [
    'jquery',
    'underscore',
    'user-management-common/flag',
    'user-management-common/helpers/cookies',
    'jira/featureflags/feature-manager',
], function (
    $,
    _,
    flag,
    cookies,
    FeatureManager,
) {
    var showImpersonationMessaging = function (username) {
        var message = AJS.format("You\'\'re temporarily logged in as {0}. When you\'\'re done, {1}switch back{2} to your account.",
            _.escape(impersonation.getDisplayName()),
            '<a id="impersonation-dismiss-trigger" href="#">', '</a>');

        var messageFlag = flag({ type: 'info', isHtml: true, body: message });

        $(messageFlag).find("#impersonation-dismiss-trigger").click(function (e) {
            e.preventDefault();
            impersonation.dropImpersonation().then(function () {
                if (username) {
                    window.open("/admin/users/view?username=" + encodeURIComponent(username), "_top");
                } else {
                    window.open("/admin/users", "_top");
                }
            });
        });
    };

    function showImpersonationFlag() {
        var message = AJS.format("You\'\'re temporarily logged in as another user. When you\'\'re done, {0}switch back{1} to your account.",
            '<a id="impersonation-dismiss-trigger" href="#">', '</a>');

        var messageFlag = flag({ type: 'info', isHtml: true, body: message });

        $(messageFlag).find('#impersonation-dismiss-trigger').click(function (e) {
            e.preventDefault();
            impersonation.getReleaseImpersonationLink().then(function (data) {
                window.open(data.link, '_top');
            });
        });
    }

    var impersonation = {
        init: function () {
            if (FeatureManager.isFeatureEnabled('jira-impersonation-cookie-deprecation')) {
                impersonation.getImpersonationData().then(function (data) {
                    if (data.isImpersonating) {
                        impersonation.userId = data.targetUserId;
                        showImpersonationFlag();
                    }
                });
            } else {
                if (impersonation.isImpersonated()) {
                    showImpersonationMessaging(impersonation.getUsername());
                } else if (impersonation.getUserId()) {
                    showImpersonationFlag();
                }
            }
        },

        getUserId: function () {
            if (FeatureManager.isFeatureEnabled('jira-impersonation-cookie-deprecation')) {
                return impersonation.userId;
            } else {
                return cookies.readCookie('um.user.impersonated.userid');
            }
        },

        getUsername: function () {
            return cookies.readCookie("um.user.impersonated.username");
        },

        getDisplayName: function () {
            return cookies.readCookie("um.user.impersonated.displayname");
        },

        getReleaseImpersonationLink: function () {
            var userId = impersonation.getUserId();
            var cloudId = AJS.Meta.get('cloud-id');
            return $.ajax({
                type: 'POST',
                url: '/gateway/api/adminhub/um/site/' + cloudId + '/users/' + userId + '/impersonate/release',
                dataType: 'json'
            });
        },

        dropImpersonation: function () {
            return $.ajax({
                type: "POST",
                contentType: 'application/json',
                url: "/admin/rest/um/1/impersonate/release"
            });
        },

        isImpersonated: function () {
            return !!impersonation.getUsername();
        },

        getImpersonationData: function () {
            var cloudId = AJS.Meta.get('cloud-id');
            return $.ajax({
                type: 'GET',
                url: '/gateway/api/impersonation?targetId=' + cloudId,
                dataType: 'json'
            });
        },
    };
    return impersonation;
});
;
;
/* module-key = 'com.atlassian.crowd.user-provisioning-vertigo-plugin:impersonation-resources', location = 'user-provisioning-vertigo-module/js/atlassian/impersonation-init.js' */
require(['jquery', 'user-management-common/impersonation/impersonation'],
function($, impersonation) {
    $(impersonation.init);
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/ajs-amd.js' */
define('pas/ajs', [], function () {
    'use strict';

    return AJS;
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/store_js/store.js' */
//
// store.js by Frank Kohlhepp
// Copyright (c) 2011 - 2012 Frank Kohlhepp
// https://github.com/frankkohlhepp/store-js
// License: MIT-license
//
(function () {
    var has = function (object, key) {
        return Object.prototype.hasOwnProperty.call(object, key);
    };

    var objectGetLength = function (object) {
        var count = 0;
        for (var key in object) {
            if (has(object, key)) {
                count++;
            }
        }

        return count;
    };

    var arrayIndexOf = function (array, item, from) {
        var length = array.length >>> 0;
        for (var i = (from < 0) ? Math.max(0, length + from) : from || 0; i < length; i++) {
            if (array[i] === item) {
                return i;
            }
        }

        return -1;
    };

    var arrayContains = function (array, item, from) {
        return arrayIndexOf(array, item, from) !== -1;
    };

    var arrayInclude = function (array, item) {
        if (!arrayContains(array, item)) {
            array.push(item);
        }
        return array;
    };

    var Store = this.Store = function (name, defaults, watcherSpeed) {
        this.name = name;
        this.defaults = defaults || {};
        this.watcherSpeed = watcherSpeed || 500;
        this.listeners = {};

        // Apply defaults
        this.applyDefaults();
    };

    Store.clear = function () {
        localStorage.clear();
    };

    Store.prototype.applyDefaults = function () {
        for (var key in this.defaults) {
            if (has(this.defaults, key) && this.get(key) === undefined) {
                this.set(key, this.defaults[key]);
            }
        }

        return this;
    };

    Store.prototype.watcher = function (force) {
        if (this.watcherTimer) {
            clearTimeout(this.watcherTimer);
        }

        if (objectGetLength(this.listeners) || force) {
            this.newObject = this.toObject();

            if (this.oldObject) {
                for (var key in this.newObject) {
                    if (has(this.newObject, key) && this.newObject[key] !== this.oldObject[key]) {
                        this.fireEvent(key, this.newObject[key]);
                    }
                }

                for (var key in this.oldObject) {
                    if (has(this.oldObject, key) && !has(this.newObject, key)) {
                        this.fireEvent(key, this.newObject[key]);
                    }
                }
            }

            this.oldObject = this.newObject;
            var that = this;
            this.watcherTimer = setTimeout(function () {
                that.watcher();
            }, this.watcherSpeed);
        }

        return this;
    };

    Store.prototype.get = function (name) {
        var value = localStorage.getItem("store." + this.name + "." + name);
        if (value === null) {
            return undefined;
        }
        try {
            return JSON.parse(value);
        } catch (e) {
            return null;
        }
    };

    Store.prototype.set = function (name, value) {
        if (value === undefined) {
            this.remove(name);
        } else {
            if (typeof value === "function") {
                value = null;
            }
            try {
                value = JSON.stringify(value);
            } catch (e) {
                value = null;
            }
            localStorage.setItem("store." + this.name + "." + name, value);
        }

        return this;
    };

    Store.prototype.remove = function (name) {
        localStorage.removeItem("store." + this.name + "." + name);
        return this.applyDefaults();
    };

    Store.prototype.reset = function () {
        var name = "store." + this.name + ".";
        for (var i = (localStorage.length - 1); i >= 0; i--) {
            if (localStorage.key(i).substring(0, name.length) === name) {
                localStorage.removeItem(localStorage.key(i));
            }
        }

        return this.applyDefaults();
    };

    Store.prototype.toObject = function () {
        var values = {};
        var name = "store." + this.name + ".";
        for (var i = (localStorage.length - 1); i >= 0; i--) {
            if (localStorage.key(i).substring(0, name.length) === name) {
                var key = localStorage.key(i).substring(name.length);
                var value = this.get(key);
                if (value !== undefined) {
                    values[key] = value;
                }
            }
        }

        return values;
    };

    Store.prototype.fromObject = function (values, merge) {
        if (!merge) {
            this.reset();
        }
        for (var key in values) {
            if (has(values, key)) {
                this.set(key, values[key]);
            }
        }

        return this;
    };

    Store.prototype.addEvent = function (selector, callback) {
        this.watcher(true);
        if (!this.listeners[selector]) {
            this.listeners[selector] = [];
        }
        arrayInclude(this.listeners[selector], callback);
        return this;
    };

    Store.prototype.removeEvent = function (selector, callback) {
        for (var i = (this.listeners[selector].length - 1); i >= 0; i--) {
            if (this.listeners[selector][i] === callback) {
                this.listeners[selector].splice(i, 1);
            }
        }

        if (!this.listeners[selector].length) {
            delete this.listeners[selector];
        }
        return this;
    };

    Store.prototype.fireEvent = function (name, value) {
        var selectors = [name, "*"];
        for (var i = 0; i < selectors.length; i++) {
            var selector = selectors[i];
            if (this.listeners[selector]) {
                for (var j = 0; j < this.listeners[selector].length; j++) {
                    this.listeners[selector][j](value, name, this.name);
                }
            }
        }

        return this;
    };
}());;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/store_js/store-amd.js' */
define("pas/js/store_js/store", function () {
    return Store;
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/pasConfig.js' */
define("pas/js/pas-config", [
    "jquery",
    "pas/ajs",
    "pas/js/store_js/store"
], function ($,
             AJS,
             Store) {
    "use strict";

    var MINUTE = 60 * 1000;

    return {
        timeUpdateInterval: MINUTE,
        pollingInterval: 15 * MINUTE,
        url: AJS.contextPath() + "/rest/pas/latest/announcement",
        store: new Store("Atlassian.PAS.Announcements." + document.location.hostname + AJS.contextPath() + "." + $("meta[name='ajs-remote-user']").attr('content')),
        nextAnnouncementKey: "nextAnnouncement",
        timeStampKey: "timeStamp",
        config: {
            url: AJS.contextPath() + "/rest/pas/latest/settings",
            timeStampKey: "configTimeStampKey",
            pollingInterval: 30 * 60 * 1000,
            currentConfigKey: "currentConfigKey"
        },
        cookieKey: AJS.contextPath().replace('/', '') + "_pas.dismiss"
    };
});;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/js/pas.js' */
require([
    "jquery",
    "aui/flag",
    "pas/ajs",
    "pas/js/pas-config"
], function ($,
             flag,
             AJS,
             PAS) {
    "use strict";

    AJS.toInit(function () {
        var showTimeout = null;
        var hideTimeout = null;
        var updateTimeout = null;
        var timeLeft = 0;

        var announcementSource;
        var projectKey;
        var issueNumber;

        var friendlyFormatDate = function (delay) {
            var padString = function (s, c, len) {
                s = "" + s; // ensure it's a string
                while (s.length < len) {
                    s = c + s;
                }
                return s;
            };
            var pluralize = function (val, unit) {
                var result = val + " " + unit;
                if (val != 1) {
                    result += "s";
                }
                return result;
            };

            var oneMinute = 60000;
            var oneHour = 3600000;
            var oneDay = 86400000;

            if (delay < oneMinute) {
                return "in less than a minute";
            }
            else if (delay < oneHour) {
                return "in " + pluralize(Math.round(delay / oneMinute), "min");
            }
            else if (delay < oneDay) {
                return "in " + pluralize(Math.round(delay / oneHour), "hour") + " " + pluralize(Math.round((delay % oneHour) / oneMinute), "minute");
            }
            else {
                var d = new Date();
                d.setSeconds(d.getSeconds() + Math.round(delay / 1000));
                return (
                    padString(d.getFullYear(), '0', 4) +
                    "/" +
                    padString(d.getMonth() + 1, '0', 2) +
                    "/" +
                    padString(d.getDate(), '0', 2) +
                    " " +
                    padString(d.getHours(), '0', 2) +
                    ":" +
                    padString(d.getMinutes(), '0', 2)
                );
            }
        };

        var clearState = function () {
            if (showTimeout != null) {
                clearTimeout(showTimeout);
            }
            if (hideTimeout != null) {
                clearTimeout(hideTimeout);
            }
            if (updateTimeout != null) {
                clearInterval(updateTimeout);
            }
            document.getElementById("pas-announcement").close();
        };

        var showAnnouncement = function () {
            var announcementContent = PAS.announcementText;
            var announcementUrl = PAS.announcementUrl || "";
            var announcementTime = PAS.announcementTime;
            var announcementId = PAS.announcementId;

            var announcementTicket = PAS.announcementTicket;
            announcementSource = PAS.announcementSource;

            var projectKeyPattern = /([A-Z])\w+/g;
            var issueNumberPattern = /\d+/g;

            projectKey = projectKeyPattern.exec(announcementTicket);
            issueNumber = issueNumberPattern.exec(announcementTicket);

            function escapeRegExp(str) {
                return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
            }

            var announcementTargetPath = escapeRegExp(PAS.announcementTargetPath) || "";
            var announcementTargetPathRegex = new RegExp(announcementTargetPath);

            var announcementFlag;

            if (location.href.match(announcementTargetPathRegex) !== null) {
                announcementFlag = flag({
                    type: "info",
                    title: "Public service announcement",
                    body: announcementContent + announcementUrl + announcementTime,
                    close: "manual"
                });

                if (announcementSource == "alertr") {
                    triggerPasAlertrAnalytics({
                        name: "pas.alertr.announcement.display"
                    });
                }
            }

            if (announcementFlag !== undefined) {
                announcementFlag.setAttribute("id", "pas-announcement");
                announcementFlag.setAttribute("announcementId", announcementId);

                announcementFlag.addEventListener("aui-flag-close", function () {
                    dismissAnnouncement();
                });
            }

            addUrlClickedEventHandler();
        };

        var addUrlClickedEventHandler = function () {
            AJS.$("#more-info").on('click', function () {
                if (announcementSource == "alertr") {
                    triggerPasAlertrAnalytics({
                        name: "pas.alertr.announcement.url.clicked"
                    });
                }
            });
        };

        var dismissAnnouncement = function () {
            var announcementId = PAS.announcementId;
            var expiry = new Date();
            var cookieValue;

            expiry.setMonth(expiry.getMonth() + 1);
            cookieValue = announcementId + "; expires=" + expiry.toUTCString();
            document.cookie = PAS.cookieKey + "=" + cookieValue + "; path=/";
            AJS.trigger('analyticsEvent', {
                name: 'com.atlassian.plugins.pas.dismiss-announcement.click',
                data: {message: $("#pas-announcement span:first").text()}
            });

            if (announcementSource == "alertr") {
                triggerPasAlertrAnalytics({
                    name: "pas.alertr.announcement.dismissed"
                });
            }
        };

        var checkDismissed = function (announcementId, cookieKey) {
            var cookies = document.cookie.split(";");
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i];
                var pos = cookie.indexOf("=");
                var key = cookie.substr(0, pos).trim();
                var value = cookie.substr(pos + 1).trim();
                if (key == cookieKey) {
                    return value == announcementId;
                }
            }
            return false;
        };

        var updateTimeLeft = function () {
            if (timeLeft > 0) {
                var newTimeLeft = timeLeft - PAS.timeUpdateInterval;
                timeLeft = newTimeLeft;
                PAS.announcementTime = Atlassian.PAS.Templates.pasTime({
                    time: friendlyFormatDate(newTimeLeft)
                });
            }
            else {
                clearInterval(updateTimeout);
                updateTimeout = null;
            }
        };

        var triggerPasAlertrAnalytics = function (event) {
            var key = projectKey[0];
            AJS.trigger('analyticsEvent', {
                name: event.name,
                data: {issueNumber: issueNumber, project: key}
            });
        };

        var scheduleAnnouncementToAppear = function () {
            function adjustTimeToStart() {
                return data.timeToStart - getTimeSinceLastPoll();
            }

            var data = getFromLocalStorage(PAS.nextAnnouncementKey);

            // Do nothing if no announcement or if the user dismissed it
            if (data == null || data.message == null || checkDismissed(data.id, PAS.cookieKey)) {
                return;
            }

            timeLeft = data.timeLeft;

            PAS.announcementText = data.message;
            PAS.announcementTime = Atlassian.PAS.Templates.pasTime({
                time: friendlyFormatDate(timeLeft)
            });
            updateTimeout = setInterval(updateTimeLeft, PAS.timeUpdateInterval);
            if (data.url) {
                PAS.announcementUrl = Atlassian.PAS.Templates.pasUrl({
                    url: data.url
                });
            }

            PAS.announcementTargetPath = data.targetPath;
            PAS.announcementId = data.id;

            var timeToHide = data.duration;
            data.timeToStart = adjustTimeToStart();

            if (data.source) {
                PAS.announcementSource = data.source;
            }
            if (data.incidentTicket) {
                PAS.announcementTicket = data.incidentTicket;
            }

            if (data.timeToStart > 0) {
                timeToHide += data.timeToStart;
                showTimeout = setTimeout(function () {
                    showAnnouncement();
                }, data.timeToStart);
            } else {
                showAnnouncement();
            }

            if (timeToHide > 0) {
                hideTimeout = setTimeout(function () {
                    clearState();
                }, timeToHide);
            }
        };

        function pollForMessage(callback) {
            $.ajax({
                type: "GET",
                contentType: "application/json",
                url: PAS.url,
                cache: false,
                global: false,
                timeout: 5000,
                success: function (json, resultStatus) {
                    setInLocalStorage(PAS.timeStampKey, nowInMs());
                    setInLocalStorage(PAS.nextAnnouncementKey, json);
                    callback();
                }, error: function (xhr, resultStatus, e) {
                    AJS.log("Could not get announcement from server: " + e);
                }

            });
        }

        var nowInMs = function () {
            return new Date().getTime();
        };

        var getTimeSinceLastPoll = function () {
            return (nowInMs() - getFromLocalStorage(PAS.timeStampKey));
        };

        function getFromLocalStorage(key) {
            return PAS.store.get(key);
        }

        function setInLocalStorage(key, value) {
            return PAS.store.set(key, value);
        }

        function isStale(timeStampKey, pollingInterval) {
            var previousPollTimeStamp = getFromLocalStorage(timeStampKey);
            var timeSinceLastPoll = nowInMs() - previousPollTimeStamp;
            return previousPollTimeStamp == undefined || timeSinceLastPoll > pollingInterval
        }

        function announcementCacheIsStale() {
            return isStale(PAS.timeStampKey, PAS.pollingInterval);
        }

        function configurationCacheIsStale() {
            return isStale(PAS.config.timeStampKey, PAS.config.pollingInterval);
        }

        function setupAnalyticsEvents() {
            $("#more-info").live("click", function (event) {
                AJS.trigger('analyticsEvent', {
                    name: 'com.atlassian.plugins.pas.more-info.click',
                    data: {message: $("#pas-announcement span:first").text()}
                });
            });
        }

        function pollForMessageIfNecessary() {
            if (announcementCacheIsStale()) {
                pollForMessage(scheduleAnnouncementToAppear);
            } else {
                scheduleAnnouncementToAppear();
            }
        }

        setupAnalyticsEvents();

        pollForMessageIfNecessary();
    });
});

;
;
/* module-key = 'com.atlassian.pas:pas-everypage-static', location = 'public-announcement-module/templates/soy/pas.soy' */
// This file was automatically generated from pas.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Atlassian.PAS.Templates.
 */

if (typeof Atlassian == 'undefined') { var Atlassian = {}; }
if (typeof Atlassian.PAS == 'undefined') { Atlassian.PAS = {}; }
if (typeof Atlassian.PAS.Templates == 'undefined') { Atlassian.PAS.Templates = {}; }


Atlassian.PAS.Templates.pasTime = function(opt_data, opt_ignored) {
  return '<span class="pas-announcement-time">' + soy.$$escapeHtml(opt_data.time) + '</span>';
};
if (goog.DEBUG) {
  Atlassian.PAS.Templates.pasTime.soyTemplateName = 'Atlassian.PAS.Templates.pasTime';
}


Atlassian.PAS.Templates.pasUrl = function(opt_data, opt_ignored) {
  return '<p><a id="more-info" target="_blank" href=\'' + soy.$$escapeHtml(opt_data.url) + '\'>' + soy.$$escapeHtml('More information') + '</a></p>';
};
if (goog.DEBUG) {
  Atlassian.PAS.Templates.pasUrl.soyTemplateName = 'Atlassian.PAS.Templates.pasUrl';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-browser-metrics:contrib', location = 'jira-browser-metrics-frontend/contrib.js' */
window["browser-metrics-plugin"].install(function(r){require(["internal/browser-metrics","internal/browser-metrics-aa-beacon","jquery","jira/featureflags/feature-manager"],function(e,n,t,i,a){var o,s={},u={},d={},l={},f={},c={},p={},m={},b={},v={},R={},S={},h={},w={},y={},_={},I={},N={},M={},E={},g={},D={},T={},V={};s=function(r){r.window=(0,eval)("window");return r}(s),u=function(r,e){function n(){t||(t=e.window.WRM.data.claim(i));var r=t?{applicationHash:t}:{};return r}r.applicationHashReporter=n;var t=null,i="com.atlassian.jira.plugins.jira-browser-metrics:contrib.scm-commit-id";return r}(u,s),d=function(r){function e(r){return"string"==typeof r.applicationHash}function n(r){if(e(r))return{applicationHash:r.applicationHash}}return r.applicationHashReportMarshaller=n,r}(d),l=function(r,e){function n(r){return r.isInitial?t.promise():{}}r.applicationVersionReporter=n;var t=e.Deferred();return e(function(){var r={},n=e("meta[name=application-name]").data("version");n&&(r.applicationHash=n),t.resolve(r)}),r}(l,t),f=function(r){function e(r){return"string"==typeof r.applicationVersion}function n(r){if(e(r))return{applicationVersion:r.applicationVersion}}return r.applicationVersionReportMarshaller=n,r}(f),c=function(r,e){function n(r){return""+Number(r)===r}function t(r){return r.isInitial?i.promise():{}}r.serverDurationReporter=t;var i=e.Deferred();return e(function(){var r={},t=e("#jira_request_timing_info").find("[title=jira\\.request\\.server\\.time]").val();t&&n(t)&&(r.serverDuration=Number(t));var a=e("#jira_request_timing_info").find("[title=jira\\.request\\.server\\.head\\.time]").val();a&&n(a)&&(r.serverHeadDuration=Number(a));var o=e("#jira_request_timing_info").find("[title=jira\\.request\\.id]").val();o&&(r.serverOriginRequestId=o);var s=e("#jira_request_timing_info").find("[title=jira\\.request\\.trace\\.id]").val();s&&(r.serverRequestTraceId=s),i.resolve(r)}),r}(c,t),p=function(r){function e(r){return"number"==typeof r.serverDuration}function n(r){if(e(r))return{serverDuration:""+r.serverDuration,serverHeadDuration:""+r.serverHeadDuration,serverOriginRequestId:""+r.serverOriginRequestId,serverRequestTraceId:""+r.serverRequestTraceId}}return r.serverDurationReportMarshaller=n,r}(p),m=function(r,e){function n(r){return""+Number(r)===r}function t(r){return r.isInitial?i.promise():{}}r.databaseDurationReporter=t;var i=e.Deferred();return e(function(){var r={},t="#jira_request_timing_info",a=e(t).find("[title=db\\.reads\\.time\\.in\\.ms]").val(),o=e(t).find("[title=db\\.conns\\.time\\.in\\.ms]").val(),s=e(t).find("[title=db\\.reads\\.count]").val(),u=e(t).find("[title=head\\.db\\.reads\\.count]").val();a&&n(a)&&(r.dbReadsTimeInMs=Number(a)),o&&n(o)&&(r.dbConnsTimeInMs=Number(o)),s&&n(s)&&(r.dbReadsCount=Number(s)),u&&n(u)&&(r.dbReadsHeadCount=Number(u)),i.resolve(r)}),r}(m,t),b=function(r){function e(r){return"number"==typeof r.dbReadsTimeInMs||"number"==typeof r.dbConnsTimeInMs||"number"==typeof r.dbReadsCount||"number"==typeof r.dbReadsHeadCount}function n(r){if(e(r)){var n={dbReadsTimeInMs:""+(r.dbReadsTimeInMs||""),dbConnsTimeInMs:""+(r.dbConnsTimeInMs||"")};return r.dbReadsCount&&(n.dbReadsCount=r.dbReadsCount),r.dbReadsHeadCount&&(n.dbReadsHeadCount=r.dbReadsHeadCount),n}}return r.databaseDurationReportMarshaller=n,r}(b),v=function(r,e){function n(r){if(r.isInitial){i||(i=e.window.WRM.data.claim(t));var n=i?{correlationId:i}:{};return n}return{}}r.correlationIdReporter=n;var t="jira.request.correlation-id",i=null;return r}(v,s),R=function(r){function e(r){return"string"==typeof r.correlationId}function n(r){if(e(r))return{correlationId:r.correlationId}}return r.correlationIdReportMarshaller=n,r}(R),S=function(r,e){function n(r){var n={};if(e.window.performance&&e.window.performance.getEntriesByName&&r.isInitial){var t=e.window.performance.getEntriesByName("mark_fully_visible"),i=e.window.performance.getEntriesByName("mark_fully_loaded");if(t&&t.length>0&&i&&i.length>0){var a=t[0].startTime;n.deferScriptsStart=a;var o=i[0].startTime;n.deferScriptsEnd=o;var s=0,u=e.window.performance.getEntriesByName("defer_scripts_clicks");u&&u.forEach(function(r){var e=r.startTime;e>=a&&e<=o&&s++}),n.deferScriptsClicks=s;var d=0,l=e.window.performance.getEntriesByName("defer_scripts_keydowns");l&&l.forEach(function(r){var e=r.startTime;e>=a&&e<=o&&d++}),n.deferScriptsKeydowns=d}}return n}return r.deferScriptsReporter=n,r}(S,s),h=function(r){function e(r){var e={};return"number"==typeof r.deferScriptsStart&&(e.deferScriptsStart=Math.floor(r.deferScriptsStart)),"number"==typeof r.deferScriptsEnd&&(e.deferScriptsEnd=Math.floor(r.deferScriptsEnd)),"number"==typeof r.deferScriptsClicks&&(e.deferScriptsClicks=Math.floor(r.deferScriptsClicks)),"number"==typeof r.deferScriptsKeydowns&&(e.deferScriptsKeydowns=Math.floor(r.deferScriptsKeydowns)),e}return r.deferScriptsMarshaller=e,r}(h),w=function(r,e){function n(){var r=e.isFeatureEnabled("fe.platform.ssr.navigation.master");return{isSsrNavCohort:r}}return r.ssrNavReporter=n,r}(w,i),y=function(r,e){function n(){return e.window.SKELETON_NAVIGATION&&e.window.SKELETON_NAVIGATION["ssr/detail_request_trace"]&&e.window.SKELETON_NAVIGATION["ssr/detail_request_trace"].data||{}}function t(){return e.window.SKELETON_NAVIGATION&&e.window.SKELETON_NAVIGATION["ssr/detail_render_trace"]&&e.window.SKELETON_NAVIGATION["ssr/detail_render_trace"].data||{}}function i(r){var e={},i=n(),a=t();return e.ssrRouteName=a.routeName,e.ssrRenderTiming=JSON.stringify(a.traces),e.ssrResourceTiming=JSON.stringify(i),e}return r.ssrTimingReporter=i,r}(y,s),_=function(r){function e(r){return"boolean"==typeof r.isSsrNavCohort}function n(r){if(e(r))return r}return r.ssrNavReportMarshaller=n,r}(_),I=function(r,e){function n(){var r=e.window.__NAV_VERSION__||"UNKNOWN";return{navVersion:r}}return r.navigationVersionReporter=n,r}(I,s),N=function(r){function e(r){return"object"===t(r.navigationVersion)}function n(r){if(e(r))return{navVersion:JSON.stringify(r.navVersion)}}r.navigationVersionReportMarshaller=n;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return r}(N),M=function(r){function e(r){if(r.isInitial){var e=window.JFE_PRELOAD_MODE;if(void 0!==e)return{jiraFrontendPreloadMode:e}}return{}}return r.preloadModeReporter=e,r}(M),E=function(r){function e(r){return"string"==typeof r.jiraFrontendPreloadMode}function n(r){if(e(r))return{jiraFrontendPreloadMode:r.jiraFrontendPreloadMode}}return r.preloadModeReportMarshaller=n,r}(E),g=function(r){function e(r){return"boolean"==typeof r.isInDashboardSpaRollout}function n(r){if(e(r))return{isInDashboardSpaRollout:r.isInDashboardSpaRollout}}return r.dashboardSpaRolloutMarshaller=n,r}(g),D=function(r){function e(){return{isDashboardSpaEnabled:!0}}return r.dashboardSpaEnabledReporter=e,r}(D),T=function(r){function e(r){return"boolean"==typeof r.isDashboardSpaEnabled}function n(r){if(e(r))return{isDashboardSpaEnabled:r.isDashboardSpaEnabled}}return r.dashboardSpaEnabledMarshaller=n,r}(T),V=function(r){function e(){var r={};return window.BUILD_KEY&&(r.jiraFrontendVersion=window.BUILD_KEY),window.SSR_BUILD_KEY&&(r.jiraFrontendSSRVersion=window.SSR_BUILD_KEY),r}return r.jiraFrontendVersionReporter=e,r}(V),o=function(r,e,n,t,i,a,o,s,u,d,l,f,c,p,m,b,v,R,S,h,w,y,_,I,N){var M=I.addReporter,E=N.addReportMarshaller;M(r.applicationHashReporter),M(n.applicationVersionReporter),M(o.databaseDurationReporter),M(i.serverDurationReporter),M(u.correlationIdReporter),M(l.deferScriptsReporter),M(c.ssrNavReporter),M(p.ssrTimingReporter),M(b.navigationVersionReporter),M(R.preloadModeReporter),M(w.dashboardSpaEnabledReporter),M(_.jiraFrontendVersionReporter),E(e.applicationHashReportMarshaller),E(t.applicationVersionReportMarshaller),E(s.databaseDurationReportMarshaller),E(a.serverDurationReportMarshaller),E(d.correlationIdReportMarshaller),E(f.deferScriptsMarshaller),E(m.ssrNavReportMarshaller),E(v.navigationVersionReportMarshaller),E(S.preloadModeReportMarshaller),E(h.dashboardSpaRolloutMarshaller),E(y.dashboardSpaEnabledMarshaller),I.subscribe(function(r){var e=document.getElementById("browser-metrics-report");null==e&&(e=document.createElement("div"),e.id="browser-metrics-report",e.style.display="none",document.body.appendChild(e)),e.textContent=JSON.stringify(r)})}(u,d,l,f,c,p,m,b,v,R,S,h,w,y,_,I,N,M,E,g,D,T,V,e,n),r()})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-create-board-adg3-no-condition', location = 'jira-agile-module/includes/js/sidebar/create-board-adg3.js' */
define("jira-agile/sidebar/create-board-adg3",["wrm/require","jira/analytics"],function(r,i){"use strict";var t="gh.rapid.board.create";function d(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];function a(){e?GH.StartWizardView.startWizardWithoutProjectCreate():GH.StartWizardView.startWizardWithUserConfigCheck(),i.send({name:"jira.frontend.fe.navigation.scope-switcher.action.click",properties:{actionId:t,pageMode:GH&&GH.RapidBoard&&GH.RapidBoard.State&&GH.RapidBoard.State.getMode&&GH.RapidBoard.State.getMode()||"other"}}),AJS.$(GH).unbind("WizardViewLoaded",a)}return AJS.dim(),r(["wr!com.pyxis.greenhopper.jira:gh-create-board"],function(){if(GH.StartWizardView)return a;AJS.$(GH).bind("WizardViewLoaded",a)}())}return{handleCreateBoardAction:function(e,a){if(a.actionId===t)return e.preventDefault(),d(!0)},openCreateBoardModal:d}}),function(){var a=require("jira-agile/sidebar/create-board-adg3");AJS.$(function(){JIRA&&JIRA.API&&JIRA.API.getSidebar().done(function(e){e.on(e.events.SCOPE_SWITCHER_SELECT_ACTION,a.handleCreateBoardAction,!0)})})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:impl', location = 'browser-metrics-plugin/internal/browser-metrics-aa-beacon/impl.js' */
!function(n,r){var t={},e={},o={},u={},i={};i=function(n,r,t,e,o,u,i,c,a,s,f,d,h,l,m,p,v,y){Object.defineProperty(n,"__esModule",{value:!0});var E=t.addReportMarshaller;return E(o),E(e),E(u),E(i),E(c),E(a),E(s),E(f),E(d),E(h),E(l),E(m),E(p),E(v),E(y),r.subscribe(function(n){t.beacon(n.report)}),n}(i,window["browser-metrics"],r,function(n,r){function t(n){return r(n.apdex)}return function(n){if(t(n))return{apdex:""+n.apdex}}}(0,t=function(n){return"number"==typeof n}),function(n,r,t,e){return function(n){var o={};return Object.keys(n).forEach(function(u){var i=n[u];(t(i)||r(i)||e(i)||null===i)&&(o[u]=i)}),o}}(0,function(n){return"boolean"==typeof n},t,e=function(n){return"string"==typeof n}),function(n,r,t){function e(n){return t(n.firstPaint)}return function(n){if(e(n))return{firstPaint:r(n.firstPaint)}}}(0,o=function(n){return""+Math.floor(n)},t),function(n){function r(n){return"boolean"==typeof n.isInitial}return function(n){if(r(n))return{isInitial:""+n.isInitial}}}(),function(n,r){function t(n){return r(n.journeyId)}return function(n){if(t(n))return{journeyId:n.journeyId}}}(0,e),function(n,r){function t(n){return r(n.key)}return function(n){if(t(n))return{key:n.key}}}(0,e),function(n,r){function t(n){return r(n.navigationType)}return function(n){if(t(n))return{navigationType:""+n.navigationType}}}(0,t),function(n,r,t){function e(n){return t(n.readyForUser)}return function(n){if(e(n))return{readyForUser:r(n.readyForUser)}}}(0,o,t),function(n,r){function t(n){return r(n.redirectCount)}return function(n){if(t(n))return{redirectCount:""+n.redirectCount}}}(0,t),function(n,r,t){function e(n){return t(n.resourceLoadedEnd)}return function(n){if(e(n))return{resourceLoadedEnd:r(n.resourceLoadedEnd)}}}(0,o,t),function(n,r,t){function e(n){return Array.isArray(n.resourceTiming)}function o(n){return(n=Math.floor(n||0))>0?u(n):""}function u(n){return n.toString(36)}function i(n){return[c[n.initiatorType]||a,o(n.startTime),o(n.responseEnd),o(n.responseStart),o(n.requestStart),o(n.connectEnd),o(n.secureConnectionStart),o(n.connectStart),o(n.domainLookupEnd),o(n.domainLookupStart),o(n.redirectEnd),o(n.redirectStart)].join(",").replace(/,+$/,"")}var c={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5},a=-1;return function(n){if(e(n)){var o=new t;return n.resourceTiming.forEach(function(n){var t=r.cleanUrl(n.name);o.add(t||"☠",i(n))}),{resourceTiming:JSON.stringify(o.condensed().toTrieObject())}}}}(0,r,function(n,r){function t(n){return Object.keys(n).length}return function(){function n(){this.children={},this.values=[]}return n.prototype.add=function(r,t){0==r.length?this.values.push(t):(this.children.hasOwnProperty(r[0])||(this.children[r[0]]=new n),this.children[r[0]].add(r.substr(1),t))},n.prototype.toTrieObject=function(){var n={};return r(this.children,function(r,t){n[r]=t.toTrieObject()}),0===this.values.length?n:0===t(this.children)?this.values:[n,this.values]},n.prototype.condensed=function(){var e=new n;return e.values=this.values.concat(),r(this.children,function(n,o){var u=o.condensed();0===u.values.length&&1===t(u.children)?r(u.children,function(r,t){e.children[n+r]=t}):e.children[n]=u}),e},n}()}(0,u=function(n,r){Object.keys(n).forEach(function(t){r(t,n[t])})})),function(n,r,t){function e(n){return t(n.threshold)}return function(n){if(e(n))return{threshold:r(n.threshold)}}}(0,o,t),function(n,r,t){var e="unloadEventStart,unloadEventEnd,redirectStart,redirectEnd,fetchStart,domainLookupStart,domainLookupEnd,connectStart,connectEnd,secureConnectionStart,requestStart,responseStart,responseEnd,domLoading,domInteractive,domContentLoadedEventStart,domContentLoadedEventEnd,domComplete,loadEventStart,loadEventEnd".split(",");return function(n){var o={};return e.forEach(function(e){t(n[e])&&(o[e]=r(n[e]))}),o}}(0,o,t),function(n,r){function t(n){return r(n.userAgent)}return function(n){if(t(n))return{userAgent:n.userAgent}}}(0,e),function(n,r){function t(n){return"object"==typeof n.marks}return function(n){if(t(n)){var e={},o={marks:{},measures:{}};return n.marks.forEach(function(n){o.marks[n.name]=o.marks[n.name]||[],o.marks[n.name].push(Math.floor(n.time))}),r(o.marks,function(n,r){var t=r.sort(function(n,r){return n-r})[0];e["mark__"+n]=t}),n.measures.forEach(function(n){o.measures[n.name]=o.measures[n.name]||[],o.measures[n.name].push([Math.floor(n.startTime),Math.floor(n.duration)])}),r(o.measures,function(n,r){var t=r.sort(function(n,r){return n[0]-r[0]})[0],o=t[0],u=t[1];e["measure__"+n+"__start"]=o,e["measure__"+n+"__duration"]=u}),e.userTimingRaw=JSON.stringify({marks:o.marks,measures:o.measures}),e}}}(0,u))}(0,window["browser-metrics-aa-beacon"]);;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:impl', location = 'browser-metrics-plugin/impl.js' */
define("internal/browser-metrics-plugin/collector",function(){return{install:function(){!function(){var t,n,e,r,o,i,u,a,s,c,f,l,p,d,h,m,v,y,g,w,b,_,x,T,E,S,C,I,A,k;t=function(){return function(t){return{isInitial:"isInitial"in t&&t.isInitial,start:t.timestamp,end:null,key:t.key,threshold:t.threshold,reporters:t.reporters}}}(),e=function(t){return function(n){var e,r=t(n),o=n.threshold,i=4*n.threshold;return e=r.readyForUser<=o?1:r.readyForUser<=i?.5:0,{apdex:e}}}(n=function(){return function(t){return{readyForUser:t.end-t.start}}}()),function(){"use strict";function t(t){return"function"==typeof t}function n(){}function e(){for(var t=0;t<y;t+=2){(0,x[t])(x[t+1]),x[t]=void 0,x[t+1]=void 0}y=0}function o(){}function i(n,e){n===e?a(n,new TypeError("You cannot resolve a promise with itself")):function(t){return"function"==typeof t||"object"==typeof t&&null!==t}(e)?function(n,e){if(e.constructor===n.constructor)!function(t,n){n._state===E?u(t,n._result):t._state===S?a(t,n._result):s(n,void 0,function(n){i(t,n)},function(n){a(t,n)})}(n,e);else{var r=function(t){try{return t.then}catch(t){return C.error=t,C}}(e);r===C?a(n,C.error):void 0===r?u(n,e):t(r)?function(t,n,e){g(function(t){var r=!1,o=function(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}(e,n,function(e){r||(r=!0,n!==e?i(t,e):u(t,e))},function(n){r||(r=!0,a(t,n))},t._label);!r&&o&&(r=!0,a(t,o))},t)}(n,e,r):u(n,e)}}(n,e):u(n,e)}function u(t,n){t._state===T&&(t._result=n,t._state=E,0===t._subscribers.length||g(c,t))}function a(t,n){t._state===T&&(t._state=S,t._result=n,g(function(t){t._onerror&&t._onerror(t._result),c(t)},t))}function s(t,n,e,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=n,o[i+E]=e,o[i+S]=r,0===i&&t._state&&g(c,t)}function c(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r,o,i=t._result,u=0;u<n.length;u+=3)r=n[u],o=n[u+e],r?l(e,r,o,i):o(i);t._subscribers.length=0}}function f(){this.error=null}function l(n,e,r,o){var s,c,f,l,p=t(r);if(p){if((s=function(t,n){try{return t(n)}catch(t){return I.error=t,I}}(r,o))===I?(l=!0,c=s.error,s=null):f=!0,e===s)return void a(e,new TypeError("A promises callback cannot return that same promise."))}else s=o,f=!0;e._state!==T||(p&&f?i(e,s):l?a(e,c):n===E?u(e,s):n===S&&a(e,s))}function p(t,n,e,r){this._instanceConstructor=t,this.promise=new t(o,r),this._abortOnReject=e,this._validateInput(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._init(),0===this.length?u(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&u(this.promise,this._result))):a(this.promise,this._validationError())}function d(n,e){this._id=k++,this._label=e,this._state=void 0,this._result=void 0,this._subscribers=[],o!==n&&(t(n)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof d||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,n){try{n(function(n){i(t,n)},function(n){a(t,n)})}catch(n){a(t,n)}}(this,n))}var h,m,v=h=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=(Date.now,Object.create,0),g=function(t,n){x[y]=t,x[y+1]=n,2===(y+=2)&&m()},w="undefined"!=typeof window?window:{},b=w.MutationObserver||w.WebKitMutationObserver,_="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,x=new Array(1e3);m="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){process.nextTick(e)}:b?function(){var t=0,n=new b(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():_?function(){var t=new MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}():function(){setTimeout(e,1)};var T=void 0,E=1,S=2,C=new f,I=new f;p.prototype._validateInput=function(t){return v(t)},p.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},p.prototype._init=function(){this._result=new Array(this.length)};var A=p;p.prototype._enumerate=function(){for(var t=this.length,n=this.promise,e=this._input,r=0;n._state===T&&r<t;r++)this._eachEntry(e[r],r)},p.prototype._eachEntry=function(t,n){var e=this._instanceConstructor;!function(t){return"object"==typeof t&&null!==t}(t)?(this._remaining--,this._result[n]=this._makeResult(E,n,t)):t.constructor===e&&t._state!==T?(t._onerror=null,this._settledAt(t._state,n,t._result)):this._willSettleAt(e.resolve(t),n)},p.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===T&&(this._remaining--,this._abortOnReject&&t===S?a(r,e):this._result[n]=this._makeResult(t,n,e)),0===this._remaining&&u(r,this._result)},p.prototype._makeResult=function(t,n,e){return e},p.prototype._willSettleAt=function(t,n){var e=this;s(t,void 0,function(t){e._settledAt(E,n,t)},function(t){e._settledAt(S,n,t)})};var k=0,j=d;d.all=function(t,n){return new A(this,t,!0,n).promise},d.race=function(t,n){var e=new this(o,n);if(!v(t))return a(e,new TypeError("You must pass an array to race.")),e;for(var r=t.length,u=0;e._state===T&&u<r;u++)s(this.resolve(t[u]),void 0,function(t){i(e,t)},function(t){a(e,t)});return e},d.resolve=function(t,n){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(o,n);return i(e,t),e},d.reject=function(t,n){var e=new this(o,n);return a(e,t),e},d.prototype={constructor:d,then:function(t,n,e){var r=this._state;if(r===E&&!t||r===S&&!n)return this;this._onerror=null;var i=new this.constructor(o,e),u=this._result;if(r){var a=arguments[r-1];g(function(){l(r,i,a,u)})}else s(this,i,t,n);return i},catch:function(t,n){return this.then(null,t,n)}};var R={Promise:j,polyfill:function(){var n;"Promise"in(n="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in n.Promise&&"reject"in n.Promise&&"all"in n.Promise&&"race"in n.Promise&&function(){var e;return new n.Promise(function(t){e=t}),t(e)}()||(n.Promise=j)}};r=R}.call(this),s=function(t,n,e,r){function o(){return u&&u.loadTimes}function i(){return void 0!==a.msFirstPaint}if(n){var u=r.chrome,a=n.timing;return function(n){return n.isInitial?(r.top===r.self&&(o()||i())?t(function(){return o()&&u.loadTimes().firstPaintTime>0?1e3*u.loadTimes().firstPaintTime-a.navigationStart:i()&&a.msFirstPaint>0?a.msFirstPaint-a.navigationStart:void 0},250):e.reject("The browser does not have a first paint metric")).then(function(t){return{firstPaint:t}},function(){return{}}):{}}}}(i=function(t){return function(n,e){return new t(function(t){function r(){var e=n();void 0!==e&&(clearInterval(o),t(e))}var o;o=setInterval(r,e),r()})}}(o=r.Promise),a=(u=window).performance,o,u),c=function(t){return{isInitial:t.isInitial}},f=function(t,n){var e="browser-metrics-journey";return function(){return void 0===n.sessionStorage?t.reject("sessionStorage is required to produce a report for this transition."):(null===n.sessionStorage.getItem(e)&&n.sessionStorage.setItem(e,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*n.Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),t.resolve({journeyId:n.sessionStorage.getItem(e)}))}}(o,u),l=function(){return function(t){return{key:t.key}}}(),d=function(t,n){return function(e){var r={};return e.isInitial&&n()&&(r.navigationType=t.performance.navigation.type),r}}(u,p=function(t){return function(){return t.performance&&t.performance.navigation&&t.performance.timing&&void 0!==t.performance.timing.navigationStart}}(u)),h=function(t,n,e){return function(r){var o={};if(r.isInitial){if(!n())return t.reject("The navigation timing API is required to produce a report for this transition.");void 0!==e.performance.navigation.redirectCount&&(o.redirectCount=e.performance.navigation.redirectCount)}return t.resolve(o)}}(o,p,u),m=function(t){return function(n){var e=t.document.createElement("a");return e.href=n,e.href}}(u),y=function(t,n){return function(e){var r=n.onresourcetimingbufferfull||function(){};t(n.addEventListener)?n.addEventListener("resourcetimingbufferfull",e):n.onresourcetimingbufferfull=function(){e(),r()}}}(v=function(t){return"function"==typeof t},a),g=function(t,n){return function(){return n&&t(n.getEntriesByType)}}(v,a),x=function(t){return function(n){return n.isInitial?t().then(function(t){return 0===t.length?{resourceLoadedEnd:null}:{resourceLoadedEnd:t.map(function(t){return t.responseEnd}).reduce(function(t,n){return Math.max(t,n)})}}):{}}}(_=function(t,n,e,r){return function(){var o=function(){var n=r.document.querySelectorAll("script[src][async]");return Array.prototype.map.call(n,function(n){return t(n.src)})}();return e().then(function(t){return n().filter(function(t){return"link"===t.initiatorType||"script"===t.initiatorType}).filter(function(n){return n.responseEnd<t.domContentLoadedEventStart}).filter(function(t){return"script"!==t.initiatorType||-1===o.indexOf(t.name)})})}}(m,w=function(t,n,e,r){function o(){return e.getEntriesByType("resource").filter(function(t){return"img"!==t.initiatorType})}function i(){t(e.clearResourceTimings)&&(u=o(),e.clearResourceTimings())}var u=[];return g()?(i(),n(i),function(){return u.concat(o())}):function(){return[]}}(v,y,a),b=function(t,n,e,r){if(r){var o,i=r.timing,u="unloadEventStart,unloadEventEnd,redirectStart,redirectEnd,fetchStart,domainLookupStart,domainLookupEnd,connectStart,connectEnd,secureConnectionStart,requestStart,responseStart,responseEnd,domLoading,domInteractive,domContentLoadedEventStart,domContentLoadedEventEnd,domComplete,loadEventStart,loadEventEnd".split(",");return function(){return e()?(void 0===o&&(o=t(function(){var t={};if(i.loadEventEnd>0)return u.forEach(function(n){var e=i[n];e>0&&(t[n]=e-i.navigationStart)}),t},250)),o):n.reject("The navigation timing API is required to produce a report for this transition.")}}}(i,o,p,a),u)),T=function(t){return function(n){return n.isInitial?t().then(function(t){if(0===t.length)return{resourceLoadedStart:null};var n=t.map(function(t){return t.startTime});return{resourceLoadedStart:Math.min.apply(Math,n)}}):{}}}(_),E=function(t,n){var e="duration,initiatorType,name".split(","),r="startTime,connectEnd,connectStart,domainLookupEnd,domainLookupStart,fetchStart,redirectEnd,redirectStart,requestStart,responseEnd,responseStart,secureConnectionStart".split(",");return function(o){return t()?{resourceTiming:n().filter(function(t){var n=t.responseEnd;return n>=o.start&&n<=o.end&&t.startTime>=o.start}).map(function(t){var n={};return e.forEach(function(e){n[e]=t[e]}),r.forEach(function(e){n[e]=t[e]>0?t[e]-o.start:0}),n})}:{}}}(g,w),S=function(){return function(t){return{threshold:t.threshold}}}(),C=function(t){return function(n){return n.isInitial?t():{}}}(b),I=function(t){return function(){return{userAgent:t.navigator.userAgent}}}(u),A=function(t,n){return function(e){if(!n||!t(n.getEntriesByType))return{};var r=n.getEntriesByType("mark").filter(function(t){return t.startTime>=e.start&&t.startTime<=e.end}),o=n.getEntriesByType("measure").filter(function(t){return t.startTime>=e.start&&t.startTime+t.duration<=e.end});return{marks:r.map(function(t){return{name:t.name,time:t.startTime-e.start}}),measures:o.map(function(t){return{name:t.name,startTime:t.startTime-e.start,duration:t.duration}})}}}(v,a),function(t,n,e){if(a){var r=new t;n.delegateTo(r)}}(function(t,n,e){return function(){var r,o=[],i=[];return function(u){u.start?function(n){r=new t(n)}(u.start):u.end?function(t){r&&r.key===t.key&&(r.end=t.timestamp,e(r).then(function(t){i.push(t),o.forEach(function(n){n({report:t})})}),r=null)}(u.end):u.addReporter?function(t){n.add(t)}(u.addReporter):u.subscribe&&function(t){i.forEach(function(n){t({report:n})}),o.push(t)}(u.subscribe)}}}(t,k=function(t,r,o,i,u,a,p,m,v,y,g,w,b,_,k){var j=[e,s,c,f,l,d,n,h,x,T,E,S,C,I,A];return{get:function(){return j.concat()},add:function(t){j.push(t)}}}(),function(t,n,e,r,o,i){return function(t){var r=t.reporters,u=i.get().concat(r).map(function(n){var r;try{r=n(t)}catch(t){o(t),r={}}return function(t){return function(t){return e.all([t]).then(function(t){return t[0]})}(t).then(null,function(){return{}})}(r)});return e.all(u).then(function(t){return n.apply(void 0,t)})}}(0,function(){var t=Object.prototype.hasOwnProperty;return function(){for(var n,e,r={},o=0,i=arguments.length;o<i;o++){n=arguments[o];for(e in n)t.call(n,e)&&(r[e]=n[e])}return r}}(),o,0,function(t){return function(n){(t.console.error||t.console.log).call(t.console,n.stack||n)}}(u),k)),u["browser-metrics"])}()}}}),window["browser-metrics-plugin"].install(function(t){require(["internal/browser-metrics","internal/browser-metrics-aa-beacon"],function(n,e){var r,o={},i={};!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():r="function"==typeof t?t():t}(function(){return function(){function t(n,e,r){function o(u,a){if(!e[u]){if(!n[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=e[u]={exports:{}};n[u][0].call(f.exports,function(t){return o(n[u][1][t]||t)},f,f.exports,t,n,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}return t}()({1:[function(t,n,e){"use strict";function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}var o=Object.prototype.hasOwnProperty;e.stringify=function(t,n){var e,r,i=[];"string"!=typeof(n=n||"")&&(n="?");for(r in t)if(o.call(t,r)){if((e=t[r])||null!==e&&void 0!==e&&!isNaN(e)||(e=""),r=encodeURIComponent(r),e=encodeURIComponent(e),null===r||null===e)continue;i.push(r+"="+e)}return i.length?n+i.join("&"):""},e.parse=function(t){for(var n,e=/([^=?&]+)=?([^&]*)/g,o={};n=e.exec(t);){var i=r(n[1]),u=r(n[2]);null===i||null===u||i in o||(o[i]=u)}return o}},{}],2:[function(t,n,e){"use strict";n.exports=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],3:[function(t,n,e){(function(e){(function(){"use strict";function r(t){return(t||"").toString().replace(f,"")}function o(t){var n,r,o=(n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},i={},u=typeof(t=t||o);if("blob:"===t.protocol)i=new a(unescape(t.pathname),{});else if("string"===u){i=new a(t,{});for(r in y)delete i[r]}else if("object"===u){for(r in t)r in y||(i[r]=t[r]);void 0===i.slashes&&(i.slashes=p.test(t.href))}return i}function i(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function u(t,n){t=(t=r(t)).replace(l,""),n=n||{};var e,o=h.exec(t),u=o[1]?o[1].toLowerCase():"",a=!!o[2],s=!!o[3],c=0;return a?s?(e=o[2]+o[3]+o[4],c=o[2].length+o[3].length):(e=o[2]+o[4],c=o[2].length):s?(e=o[3]+o[4],c=o[3].length):e=o[4],"file:"===u?c>=2&&(e=e.slice(2)):i(u)?e=o[4]:u?a&&(e=e.slice(2)):c>=2&&i(n.protocol)&&(e=o[4]),{protocol:u,slashes:a||i(u),slashesCount:c,rest:e}}function a(t,n,e){if(t=r(t),t=t.replace(l,""),!(this instanceof a))return new a(t,n,e);var f,p,d,h,y,g,w=v.slice(),b=typeof n,_=this,x=0;for("object"!==b&&"string"!==b&&(e=n,n=null),e&&"function"!=typeof e&&(e=c.parse),n=o(n),f=!(p=u(t||"",n)).protocol&&!p.slashes,_.slashes=p.slashes||f&&n.slashes,_.protocol=p.protocol||n.protocol||"",t=p.rest,("file:"===p.protocol&&(2!==p.slashesCount||m.test(t))||!p.slashes&&(p.protocol||p.slashesCount<2||!i(_.protocol)))&&(w[3]=[/(.*)/,"pathname"]);x<w.length;x++)"function"!=typeof(h=w[x])?(d=h[0],g=h[1],d!=d?_[g]=t:"string"==typeof d?~(y="@"===d?t.lastIndexOf(d):t.indexOf(d))&&("number"==typeof h[2]?(_[g]=t.slice(0,y),t=t.slice(y+h[2])):(_[g]=t.slice(y),t=t.slice(0,y))):(y=d.exec(t))&&(_[g]=y[1],t=t.slice(0,y.index)),_[g]=_[g]||(f&&h[3]?n[g]||"":""),h[4]&&(_[g]=_[g].toLowerCase())):t=h(t,_);e&&(_.query=e(_.query)),f&&n.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==n.pathname)&&(_.pathname=function(t,n){if(""===t)return n;for(var e=(n||"/").split("/").slice(0,-1).concat(t.split("/")),r=e.length,o=e[r-1],i=!1,u=0;r--;)"."===e[r]?e.splice(r,1):".."===e[r]?(e.splice(r,1),u++):u&&(0===r&&(i=!0),e.splice(r,1),u--);return i&&e.unshift(""),"."!==o&&".."!==o||e.push(""),e.join("/")}(_.pathname,n.pathname)),"/"!==_.pathname.charAt(0)&&i(_.protocol)&&(_.pathname="/"+_.pathname),s(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(~(y=_.auth.indexOf(":"))?(_.username=_.auth.slice(0,y),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=_.auth.slice(y+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(_.auth)),_.auth=_.password?_.username+":"+_.password:_.username),_.origin="file:"!==_.protocol&&i(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString()}var s=t("requires-port"),c=t("querystringify"),f=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,l=/[\n\r\t]/g,p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,m=/^[a-zA-Z]:/,v=[["#","hash"],["?","query"],function(t,n){return i(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],y={hash:1,query:1};a.prototype={set:function(t,n,e){var r=this;switch(t){case"query":"string"==typeof n&&n.length&&(n=(e||c.parse)(n)),r[t]=n;break;case"port":r[t]=n,s(n,r.protocol)?n&&(r.host=r.hostname+":"+n):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=n,r.port&&(n+=":"+r.port),r.host=n;break;case"host":r[t]=n,d.test(n)?(n=n.split(":"),r.port=n.pop(),r.hostname=n.join(":")):(r.hostname=n,r.port="");break;case"protocol":r.protocol=n.toLowerCase(),r.slashes=!e;break;case"pathname":case"hash":if(n){var o="pathname"===t?"/":"#";r[t]=n.charAt(0)!==o?o+n:n}else r[t]=n;break;case"username":case"password":r[t]=encodeURIComponent(n);break;case"auth":var u=n.indexOf(":");~u?(r.username=n.slice(0,u),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=n.slice(u+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(n))}for(var a=0;a<v.length;a++){var f=v[a];f[4]&&(r[f[1]]=r[f[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&i(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=c.stringify);var n,e=this,r=e.host,o=e.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var u=o+(e.protocol&&e.slashes||i(e.protocol)?"//":"");return e.username?(u+=e.username,e.password&&(u+=":"+e.password),u+="@"):e.password?(u+=":"+e.password,u+="@"):"file:"!==e.protocol&&i(e.protocol)&&!r&&"/"!==e.pathname&&(u+="@"),(":"===r[r.length-1]||d.test(e.hostname)&&!e.port)&&(r+=":"),u+=r+e.pathname,(n="object"==typeof e.query?t(e.query):e.query)&&(u+="?"!==n.charAt(0)?"?"+n:n),e.hash&&(u+=e.hash),u}},a.extractProtocol=u,a.location=o,a.trimLeft=r,a.qs=c,n.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:1,"requires-port":2}]},{},[3])(3)}),i=function(t,n,e,r,o,i,u,a,s,c){Object.defineProperty(t,"__esModule",{value:!0});var f=n.addReporter,l=e.addReportMarshaller,p=e.addUrlCleaner;return f(function(){return{pageVisible:!(window&&window.document&&window.document.hidden)}}),window.performance.clearResourceTimings&&(window.performance.clearResourceTimings=function(){}),f(r),f(o),l(i),l(u),p(a),p(s),p(c),t}(i,n,e,function(t,n){return function(t){var e=window.performance&&"undefined"!=typeof PerformanceResourceTiming?window.performance.getEntriesByType("navigation").concat(window.performance.getEntriesByType("resource")).map(function(t){return{url:t.name,type:t.initiatorType,size:t.transferSize,startTime:Math.round(t.startTime),duration:Math.round(t.duration)}}):null;if(!e)return{};var r={};e.filter(function(t){return["script","link","fetch"].indexOf(t.type)>-1}).map(function(t){if(!t.url)return null;var e={startTime:t.startTime,duration:t.duration,size:t.size,type:t.type};e.transferType=function(t){var n=t.duration,e=t.size;return 0===e&&0===n?"memory":0===e&&n>0?"disk":"network"}(e);var o;o="fetch"===t.type?n(t.url,!0).pathname.replace(/\/(\w+)-(\d+)\//i,"/<issue-key>/").split("#")[0].split("?")[0]:n(t.url,!0).pathname.replace(/^.*[\\/]/,"").replace(/\..*\./,"."),r[o]=e});return{resourceTiming:JSON.stringify(r)}}}(0,r),function(t,n,e){var r=/^(?:https?:)?\/\/[^\.]+\.cloudfront\.net\/p\/([^\/]+)\/main\.js$/,o=/^(?:https?:)?\/\/aes-artifacts--cdn\.[^\.]+\.atlassian\.io\/hashed\/([^\/]+)\/.+\.js$/,i=function(){var t=e.Deferred();return e(function(){var e=[];Array.prototype.slice.call(n.document.getElementsByTagName("script")||[]).forEach(function(t){var n=t.getAttribute("src"),i=n&&(n.match(o)||n.match(r));if(i&&i.length>1){var u=i[1];e.push({name:u,async:t.async})}}),t.resolve(e)}),t.promise()}().pipe(function(t){return{experiments:t}});return function(){return i}}(0,o=window,function(t,n){var e;try{e=n.require("jquery")}catch(t){e=n.jQuery}return e}(0,o)),function(t){return function(t){if(function(t){return Array.isArray(t.experiments)}(t))return{experiments:JSON.stringify(t.experiments.map(function(t){return[t.name,t.async?1:0]}))}}}(),function(t){function n(t){var n=t.toLowerCase().replace(/[;,()+]/g,"");return function(t){return!!t.match(/^[0-9.,_%\-]+$/)}(n)||-1!==e.indexOf(n)?t:""}var e=["android","applewebkit","baiduspider","bingbot","build","chrome","compatible","edge","electron","explorer","firefox","gecko","googlebot","iemobile","intel","ipad","iphone","khtml","konqueror","like","linux","mac","macintosh","maxthon","microsoft","mini","mobi","mobile","mozilla","msie","mwendo","nt","opera","opr","os","phone","playstation","presto","rv","safari","samsung","thunderbird","trident","ubuntu","ucbrowser","unix","version","vivo","win","win64","windows","wow64","x","x11","x64","x86","x86_64","xbox"];return function(t){if(t.userAgent)return{userAgent:function(t){var e=/[\s\/:]/g,r=t.match(e);return null===r?n(t):t.split(e).map(n).reduce(function(t,n){return t+r.shift()+n})}(t.userAgent)}}}(),function(t,n,e){var r=/^https:\/\/[^.]+\.cloudfront.net\/[^/]+(\/wiki)?\/s\//g;return function(t){return t.match(r)?(t=n(t),t=e(t)):""}}(0,function(t,n){var e=/([&?][^&=]+)(=?)([^&#]*)/g;return function(t){return t.replace(e,function(t,e,r,o){return e+r+(n(o)?o:"☠")})}}(0,function(t){var n=/^(true|false|\d+)$/gi;return function(t){return!!t.match(n)}}()),function(t){var n=/(\/s\/).+(\/_\/)/;return function(t){return t.replace(n,function(t,n,e){return n+"☠"+e})}}()),function(t){var n=/^https:\/\/d2kryfvs3op226\.cloudfront\.net\/[a-f0-9]+\.[a-z]+$/g;return function(t){return t.match(n)?t:""}}(),function(t){var n=/^https:\/\/[^\/]+\.atl-paas.net\//g;return function(t){return t.match(n)?t:""}}()),t()})});;;try{window.performance.mark('jira.webresources,jira.webresources,jira.webresources,jira.webresources,com.atlassian.administration.atlassian-admin-quicksearch-jira,com.atlassian.jira.plugins.jira-development-integration-plugin,com.atlassian.jira.jira-quick-edit-plugin,jira.create.issue,com.atlassian.jira.plugins.jira-wiki-editor,com.pyxis.greenhopper.jira,jira.webresources,jira.webresources,jira.webresources,com.atlassian.auiplugin,com.atlassian.jira.jira-client-analytics-plugin,jira.webresources,jira.webresources,com.atlassian.jira.plugins.jira-development-integration-plugin,com.atlassian.analytics.analytics-client,com.atlassian.jira.jira-issue-nav-plugin,jira.webresources,com.atlassian.jira.plugins.jira-dnd-attachment-plugin,com.pyxis.greenhopper.jira,com.atlassian.crowd.user-provisioning-vertigo-plugin,com.atlassian.jira.jira-atlaskit-plugin,com.atlassian.pas,com.atlassian.auiplugin,com.atlassian.jira.jira-atlaskit-plugin,com.atlassian.jira.plugins.jira-browser-metrics,com.atlassian.plugins.browser.metrics.browser-metrics-plugin,com.pyxis.greenhopper.jira,com.atlassian.plugins.browser.metrics.browser-metrics-plugin_batch_file_eval:end');} catch(e){};