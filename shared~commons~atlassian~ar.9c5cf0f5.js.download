try{window.performance.mark("shared~commons~atlassian~ar.js:eval-start")}catch(e){}function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=globalThis,a={},s={},n=r.parcelRequire94c2;null==n&&(n=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},n.register=function(e,t){s[e]=t},r.parcelRequire94c2=n);var o=n.register;r.lb||(r.lb=new Set,r.bq=[],r.rlb=e=>{r.lb.add(e),r.pq()},r.rwr=(e,t,a)=>{r.bq.push({b:e,r:t,d:a}),r.pq()},r.pq=()=>{var e=r.bq.find(e=>e.d.every(e=>r.lb.has(e)));e&&(r.bq=r.bq.filter(t=>t.b!==e.b),e.r(),r.pq())}),o("8BzAs",function(t,r){e(t.exports,"getGlobalErrorCount",()=>l),e(t.exports,"default",()=>p);let a=!0,s=0,o=[],i=(e,t,r,a,s)=>{o.push({name:e,labelStack:t,errorType:r,errorMessage:a,errorStack:s})},l=()=>s,c=e=>{if(s++,e.error?.UFOhasCaught===void 0)try{if(e.error instanceof Error)i("GlobalErrorHandler",null,e.error.name,e.error.message,e.error.stack);else if(e.error){let t=JSON.stringify(e.error).slice(0,50);i("GlobalErrorHandler",null,"",`Non error object thrown: ${t}`,void 0)}else if(void 0!==e.message){let t=e.message.slice(0,50);i("GlobalErrorHandler",null,"",`Non error object thrown: ${t}`,void 0)}e.error&&"object"==typeof e.error&&(e.error.UFOhasCaught=!0)}catch(e){}},u=e=>{if(s++,e.reason instanceof Error)i("GlobalErrorHandler",null,e.reason.name,e.reason.message,e.reason.stack);else if(e.reason)try{let t=JSON.stringify(e.reason).slice(0,50);i("GlobalErrorHandler",null,"",`Non error object thrown: ${t}`,void 0)}catch(e){}};var p=()=>{a&&((0,n("cBeZP").bind)(window,{type:"error",listener:e=>c(e)}),(0,n("cBeZP").bind)(window,{type:"unhandledrejection",listener:u}),a=!1)}}),o("1M1Cr",function(r,a){e(r.exports,"getCookie",()=>o);var s=n("eYli8");function o(e){if((0,n("lMLTs").fg)("platform_moonjelly_bsc_master_killswitch"))return e?t(s).get(e):t(s).get();try{return(0,n("cuj3e").sendPackageOperationalEvent)({action:"usedGetCookie",attributes:{cookieKey:e}}),e?t(s).get(e):t(s).get()}catch(t){(0,n("Qzhls").Logger).errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:`Failed to use get cookie. ${t.message||""}`})}}}),o("cuj3e",function(t,r){let a;e(t.exports,"getAnalyticsClient",()=>u),e(t.exports,"sendPackageOperationalEvent",()=>p),e(t.exports,"sendUIEvent",()=>d),e(t.exports,"sendScreenEvent",()=>g),e(t.exports,"sendTrackEvent",()=>m);let s=()=>{let{hostname:e}=window.location;return e.includes(".dev.")||e.includes(".stg.")?n("gqujF").envType.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?n("gqujF").envType.DEV:n("gqujF").envType.PROD},o=e=>{let t="";if(!e)return t;let r=t=>RegExp(`^${t}(/|$)`).test(String(e));return r("/wiki")&&(t="/wiki"),r("/jira")&&(t="/jira"),r("/compass")&&(t="/compass"),r("/canvas")&&(t="/canvas"),(r("/servicedesk")||r("/jira/servicedesk"))&&(t="/servicedesk"),t},i=e=>"https://trello.com"===e?"trello":null,l=()=>{let{origin:e,pathname:t}=window.location,r=o(t),a=`${e}${r}`,s=i(a)||r.slice(1);return{domain:a,product:s}},c=e=>{let{domain:t,product:r}=l();return{packageName:n("ea829").packageName,packageVersion:n("ea829").packageVersion,domain:t,product:n("awCGM").getBscGlobalState().product?.toLowerCase()??r,...e&&e}},u=()=>{try{!a&&(0,n("awCGM").getBscGlobalState)().analyticsEnabled&&(a=new(n("gWUF0")).default({env:s(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0}))}catch(e){(0,n("Qzhls").Logger).error(`Failed to initialize AnalyticsWebClient. ${e}`)}if((0,n("awCGM").getBscGlobalState)().analyticsEnabled)return a};function p(e){(0,n("aySey").withAnalyticsEventSampling)(e.action,()=>u()?.sendOperationalEvent({source:"package",actionSubject:"package",action:e.action,attributes:c(e.attributes)}))}function d(e){u()?.sendUIEvent({...e,attributes:c(e.attributes)})}function g(e){u()?.sendScreenEvent({...e,attributes:c(e.attributes)})}function m(e){u()?.sendTrackEvent({...e,attributes:c(e.attributes)})}}),o("awCGM",function(r,a){let s,o,i,l,c,u,p,d;e(r.exports,"getBscGlobalState",()=>h),e(r.exports,"initializeGlobalState",()=>f);var g=n("eYli8");let m=async e=>{switch(e){case n("2qG4W").CategoryStorageType.Cookies:return await u?.loadStorageControlsData();case n("2qG4W").CategoryStorageType.LocalStorage:return await p?.loadStorageControlsData();case n("2qG4W").CategoryStorageType.SessionStorage:return await d?.loadStorageControlsData();default:return}},h=()=>(null==s&&(s=!0),{analyticsEnabled:s,product:o,webStorageEnabled:i,localConsentMode:l=l??!1,packageDebugMode:c,cookiesCacheLoader:u,localStorageCacheLoader:p,sessionStorageCacheLoader:d,loadCache:m}),f=({analyticsEnabled:e=!0,product:r="all",webStorageEnabled:a=!1,localConsentMode:m=!1}={})=>{s=e,o=r,i=a&&!(0,n("lMLTs").fg)("platform_moonjelly_bsc_web_storage_killswitch"),l=m,u=new(n("cbenv")).CacheLoader(n("2qG4W").CategoryStorageType.Cookies),p=new(n("cbenv")).CacheLoader(n("2qG4W").CategoryStorageType.LocalStorage),d=new(n("cbenv")).CacheLoader(n("2qG4W").CategoryStorageType.SessionStorage),(0,n("lMLTs").fg)("platform_moonjelly_bsc_debug_mode")&&(c=!!t(g).get("atl-bsc-debug-mode"))}}),o("2qG4W",function(t,r){var a,s,n,o,i,l,c,u,p,d,g,m,h,f,b,S;e(t.exports,"PreferenceCategory",()=>a),e(t.exports,"ConsentPreferenceV2",()=>s),e(t.exports,"ContextualConsentProperty",()=>n),e(t.exports,"PrefetchedPreferenceState",()=>i),e(t.exports,"CategoryStorageType",()=>l),e(t.exports,"Status",()=>c),(p=a||(a={})).StrictlyNecessary="STRICTLY_NECESSARY",p.Functional="FUNCTIONAL",p.Marketing="MARKETING",p.Analytics="ANALYTICS",p.Unknown="UNKNOWN",(d=s||(s={})).ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",d.ConsentedUnderGDPR="CONSENTS_SAVED_IN_GDPR_LOCALE",d.ConsentedUnderCPRA="CONSENTS_SAVED_IN_CPRA_LOCALE",d.ConsentedUnderLGPD="CONSENTS_SAVED_IN_LGPD_LOCALE",d.ConsentedUnderFADP="CONSENTS_SAVED_IN_FADP_LOCALE",(g=n||(n={})).ConsentsAreDefault="DEFAULT_CONSENTS",g.UserIsAuthenticated="USER_AUTHENTICATED",g.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",(m=o||(o={})).LocalStorage="localStorageKeys",m.SessionStorage="sessionStorageKeys",m.Cookies="keys",m.ThirdParty="thirdPartyKeys",(h=i||(i={}))[h.INTERNAL=0]="INTERNAL",(f=l||(l={})).Cookies="Cookies",f.LocalStorage="LocalStorage",f.SessionStorage="SessionStorage",(b=c||(c={})).SUCCESS="SUCCESS",b.BLOCKED="BLOCKED",b.FAILED="FAILED",(S=u||(u={})).MASTER_KILLSWITCH="platform_moonjelly_bsc_master_killswitch",S.UI_KILLSWITCH="platform_moonjelly_bsc_ui_killswitch",S.SSR_KILLSWITCH="platform_moonjelly_bsc_ssr_killswitch",S.WEB_STORAGE_KILLSWITCH="platform_moonjelly_bsc_web_storage_killswitch"}),o("cbenv",function(t,r){e(t.exports,"CacheLoader",()=>a);class a{constructor(e){switch(e){case n("2qG4W").CategoryStorageType.Cookies:this.cacheUrl=l;break;case n("2qG4W").CategoryStorageType.LocalStorage:this.cacheUrl=c;break;case n("2qG4W").CategoryStorageType.SessionStorage:this.cacheUrl=u;break;default:this.cacheUrl=i}}clearStorageControlsDataCache(){this.localResponseCache=void 0,this.localResponsePromiseCache=void 0,this.localResponseJsonPromiseCache=void 0}async handleCategoriesResponse(e){if(!e)throw Error("Failed to fetch Cookies Cache! Cached promise was undefined");let t=await e;if(!t.ok)throw Error(`Failed to fetch Cookies Cache! status: ${t.status}`);return this.localResponseJsonPromiseCache=this.localResponseJsonPromiseCache||t?.json(),this.localResponseJsonPromiseCache}async loadStorageControlsData(){if(this.localResponseCache)return this.localResponseCache;try{return this.localResponsePromiseCache||((0,n("Qzhls").Logger).debug(`Loading cache ${this.cacheUrl}`),this.localResponsePromiseCache=fetch(this.cacheUrl)),this.localResponseCache=await this.handleCategoriesResponse(this.localResponsePromiseCache),this.localResponseCache}catch(e){(0,n("Qzhls").Logger).errorWithOperationalEvent({action:"loadStorageControlsError",message:e.message||""}),this.clearStorageControlsDataCache()}}}}),o("Qzhls",function(t,r){e(t.exports,"Logger",()=>s);let a="[browser-storage-controls]";class s{static info(e,t){console.log(`${a}: ${e}`,t?JSON.stringify(t):"")}static error(e,t){console.error(`${a}: ${e}`,t?JSON.stringify(t):"")}static errorWithOperationalEvent({action:e,attributes:t={},message:r,metadata:a}){try{(0,n("cuj3e").sendPackageOperationalEvent)({action:e,attributes:{error:r,...t}})}catch(t){this.error(`Failed to send operational event on error: ${e}. ${t.message||""}`)}this.error(r,a?JSON.stringify(a):"")}static warn(e,t){console.warn(`${a}: ${e}`,t?JSON.stringify(t):"")}static debug(e,t){(0,n("awCGM").getBscGlobalState)().packageDebugMode&&(0,n("lMLTs").fg)("platform_moonjelly_bsc_debug_mode")&&console.debug(`${a}: DEBUG ${e}`,t?JSON.stringify(t):"")}}});const i="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json",l="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_COOKIE.json",c="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_LOCAL_STORAGE.json",u="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_SESSION_STORAGE.json";o("ea829",function(t,r){e(t.exports,"packageName",()=>s),e(t.exports,"packageVersion",()=>o);var a=n("6cAn5");let s=a?.env._PACKAGE_NAME_??"",o=a?.env._PACKAGE_VERSION_??""}),o("aySey",function(t,r){e(t.exports,"withAnalyticsEventSampling",()=>l);let a={usedGetCookie:1e5,usedGetCookieError:1,usedSetCookie:1e3,usedSetCookieError:1,usedSetStrictlyNecessaryCookie:1e4,usedSetStrictlyNecessaryCookieError:1,usedDeleteCookie:10,usedDeleteCookieError:1,usedCheckThirdParty:1e5,checkThirdPartyError:1,usedDocumentCookie:100,usedDocumentCookieError:1,initializeControlsError:1,loadStorageControlsError:1,updatePreferencesError:1,fetchConsentPreferencesError:1,saveConsentPreferencesError:1,usedAtlBrowserStorageGetItem:100,usedAtlBrowserStorageGetItemError:1,usedAtlBrowserStorageSetItem:100,usedAtlBrowserStorageSetItemError:1,usedAtlBrowserStorageSetStrictlyNecessaryItem:100,usedAtlBrowserStorageSetStrictlyNecessaryItemError:1,usedCheckIfSetByPackageError:1,renderConsentBannerError:1,bannerAppearanceAfterDismissal:1},s=["loadStorageControlsError"];async function o(){if(n("jDjXp").cache.cachedSamplingConfig)return n("jDjXp").cache.cachedSamplingConfig;if((0,n("8vRAL").isSSR)())return;let{loadCache:e}=(0,n("awCGM").getBscGlobalState)(),t=await e(n("2qG4W").CategoryStorageType.Cookies),r=t?.analyticsSamplingRatio;return n("jDjXp").cache.cachedSamplingConfig=r,r}async function i(e){if(s.includes(e))return a[e];let t=await o()??a;return t?.[e]!==void 0?t[e]:a[e]}async function l(e,t){Math.floor(Math.random()*await i(e))||t()}}),o("jDjXp",function(t,r){e(t.exports,"cache",()=>a);let a=new(n("ftlQY")).CachedSamplingConfig}),o("ftlQY",function(t,r){e(t.exports,"CachedSamplingConfig",()=>a);class a{get cachedSamplingConfig(){return this.cache}set cachedSamplingConfig(e){this.cache=e}}}),o("8vRAL",function(t,r){e(t.exports,"isSSR",()=>a);let a=()=>{let e="undefined"==typeof document||"undefined"==typeof window||!Document||!Document.prototype||!Object||!Object.defineProperty,t=!n("lMLTs").fg,r=!n("gWUF0").default;return e&&(0,n("Qzhls").Logger).warn("Browser context is not available."),t&&(0,n("Qzhls").Logger).warn("Platform Feature Flag library is not available"),n("gWUF0").default||(0,n("Qzhls").Logger).warn("analytics-web-client is not available"),!!e||!!t||!!r}}),o("7HOYt",function(t,r){e(t.exports,"default",()=>s),e(t.exports,"useInteractionContext",()=>o);var a=n("5uXOq"),s=n("aPy5A").default;function o(){return(0,a.useContext)(n("aPy5A").default)}}),o("3MzkV",function(t,r){e(t.exports,"ufologger",()=>s),e(t.exports,"ufolog",()=>n),e(t.exports,"ufowarn",()=>o);class a{static{this.UFOprefix="[ufo\uD83D\uDEF8]"}log(...e){this.enabled&&console.log(a.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(a.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}constructor(){this.enabled=!1}}let s=new a,n=(...e)=>{s.log(...e)},o=(...e)=>{s.warn(...e)}}),o("ewXgm",function(t,r){e(t.exports,"isWindowObjectAvailable",()=>a);let a=()=>"undefined"!=typeof window}),o("6fhL9",function(t,r){e(t.exports,"getGlobalEventStream",()=>a),e(t.exports,"setGlobalEventStream",()=>s),e(t.exports,"subscribeEvent",()=>o),e(t.exports,"unsubscribeEvent",()=>i),e(t.exports,"experiencePayloadEvent",()=>l);let a=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){let e=(()=>{let e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},s=e=>{if(globalThis.__UFO_GLOBAL_EVENT_STREAM__&&!globalThis.__UFO_GLOBAL_EVENT_STREAM__?.__buffer_only__){(0,n("3MzkV").ufowarn)("Global Event Stream already initialised. Ignoring new event stream setup");return}globalThis.__UFO_GLOBAL_EVENT_STREAM__?.__buffer_only__&&globalThis.__UFO_GLOBAL_EVENT_STREAM__.getStream().forEach(e.push.bind(e)),globalThis.__UFO_GLOBAL_EVENT_STREAM__=e},o=(e,t)=>({type:n("8h9q5").UFOGlobalEventStreamEventType.SUBSCRIBE,payload:{experienceId:e,callback:t}}),i=(e,t)=>({type:n("8h9q5").UFOGlobalEventStreamEventType.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}),l=e=>({type:n("8h9q5").UFOGlobalEventStreamEventType.EXPERIENCE_PAYLOAD,payload:e})}),o("8h9q5",function(t,r){var a,s,n,o,i,l,c,u,p,d,g;e(t.exports,"UFOGlobalEventStreamEventType",()=>a),e(t.exports,"PageVisibleState",()=>s),e(t.exports,"SUBSCRIBE_ALL",()=>m),e(t.exports,"FMP_MARK",()=>h),e(t.exports,"INLINE_RESPONSE_MARK",()=>f),(c=a||(a={}))[c.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",c[c.SUBSCRIBE=1]="SUBSCRIBE",c[c.UNSUBSCRIBE=2]="UNSUBSCRIBE",(u=s||(s={})).VISIBLE="visible",u.HIDDEN="hidden",u.MIXED="mixed",(p=n||(n={})).fmp="fmp",p.tti="tti",(d=o||(o={})).fmp="fmp",d.tti="tti",(g=i||(i={})).response="response",g.result="result",(l||(l={})).duration="duration";let m="__SUBSCRIBE_ALL__",h="fmp",f="inline-response"}),o("ayQjN",function(t,r){e(t.exports,"visibilityChangeObserver",()=>a);let a=new class{start(){!this.started&&(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),(0,n("ewXgm").isWindowObjectAvailable)()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}constructor(){this.started=!1,this.observers=[],this.broadcast=()=>{this.observers.forEach(e=>e()),this.observers=[]}}}}),o("4zwkG",function(t,r){var a,s,n,o;e(t.exports,"ExperienceTypes",()=>a),e(t.exports,"ExperiencePerformanceTypes",()=>s),(n=a||(a={})).Load="load",n.Experience="experience",n.Operation="operation",(o=s||(s={})).PageLoad="page-load",o.PageSegmentLoad="page-segment-load",o.InlineResult="inline-result",o.Custom="custom"}),o("alhEP",function(t,r){e(t.exports,"payloadPublisher",()=>o);let a="unknown",s={schemaVersion:a,id:a,uuid:a,state:{id:a},result:{startTime:0,duration:0,success:!1},type:n("4zwkG").ExperienceTypes.Experience,category:a,performanceType:n("4zwkG").ExperiencePerformanceTypes.Custom,metadata:{},explicitTimings:{},metrics:{startTime:0,endTime:0,marks:[]},platform:null,children:[],pageVisibleState:n("8h9q5").PageVisibleState.MIXED,isSSROutputAsFMP:!1,timings:[],featureFlags:[]},o=new class{publish(e){let t=n("kHNIo").getPerformanceObject()?.now()||0,r=this.getExperienceKey(e);if(!this.allowlist(r,e)){(0,n("3MzkV").ufowarn)(`experience ${r} does not meet requirements of allowlist`);return}let o={...s,...e},i={actionSubject:"experience",action:"measured",source:"measured",tags:["observability"],attributes:{properties:{"event:source":{name:"ufo/web",version:o.schemaVersion},"event:schema":p||a,"event:product":this.product,"event:region":this.region,"event:hostname":this.hostname,"event:route":this.route.getRoute(),...(0,n("5W7EH").eventBrowserPlugin)(),...(0,n("6WPJV").eventCpusPlugin)(),...(0,n("6BBHc").eventMemoryPlugin)(),...(0,n("hYWn3").eventNetworkPlugin)(),...(0,n("iwsaw").appFramework)(this.app),...(0,n("2Ygyz").appVersion)(this.app),"experience:name":o.id,"experience:key":r,"experience:status":o.state.id,"experience:duration":o.result.duration,...null!==o.result.startTime?{"experience:startTime":o.result.startTime}:null,...o.uuid?{"experience:spanId":o.uuid}:null,...this.tenantType!==n("9UZGH").TenantType.RealUser?{"event:tenantType":this.tenantType}:null,...this.mapMetadataToPayload(o.metadata),...this.extractPageLoadData(o),...(0,n("d5UDs").pageVisibleState)(o),...(0,n("1iUpx").isInitialPageLoad)(o)&&(0,n("2f5Vj").ssrSuccess)(this.ssr),...(0,n("1iUpx").isInitialPageLoad)(o)&&(0,n("dn411").ssrFeatureFlags)(this.ssr),...this.featureFlagClient&&(0,n("eHCBs").featureFlags)(this.featureFlagClient,this.featureFlags,o)},performance:this.getPerformanceMetrics(o),task:o.id}},l=n("kHNIo").getPerformanceObject()?.now()||0;i.attributes.performance.payloadTime=l-t,this.gasv3?this.gasv3.sendOperationalEvent(i):this.buffer.push(i),(0,n("3MzkV").ufolog)("PAYLOAD:",JSON.stringify(i,null,2))}setGlobalEventStream(){if(!((0,n("6fhL9").getGlobalEventStream)() instanceof n("bH9kk").UFOGlobalEventStream)){let e=new(n("bH9kk")).UFOGlobalEventStream;e.push({type:n("8h9q5").UFOGlobalEventStreamEventType.SUBSCRIBE,payload:{experienceId:"__SUBSCRIBE_ALL__",callback:this.publish.bind(this)}}),(0,n("6fhL9").setGlobalEventStream)(e)}}setRoute(e){this.route.setRoute(e)}setup(e){(0,n("ayQjN").visibilityChangeObserver).start(),(0,n("UjMoF").resourceTimingBuffer).start(),this.product||(this.product=e.product||""),e.allowlist&&(this.allowlist=e.allowlist),e.tenantType&&(this.tenantType=e.tenantType),e.hostname&&(this.hostname=e.hostname),e.region&&(this.region=e.region),e.app&&(this.app=e.app),e.featureFlagClient&&(this.featureFlagClient=e.featureFlagClient),e.featureFlags&&(this.featureFlags=e.featureFlags),e.ssr&&(this.ssr=e.ssr),e.bundleEvalTimings&&(this.bundleEvalTimings=e.bundleEvalTimings),e.resourceTimings&&(this.resourceTimings=e.resourceTimings),e.performanceConfig&&(this.performanceConfig=e.performanceConfig),e.plugins&&(this.plugins=e.plugins),this.setGlobalEventStream(),this.gasv3||(this.gasv3=e.gasv3,this.buffer.forEach(this.gasv3.sendOperationalEvent))}mapMetadataToPayload(e){let t={};return Object.entries(e).forEach(([e,r])=>{void 0!==r&&(t[`custom:${e}`]=r)}),t}extractPageLoadData(e){return"initial"in e?{"experience:pageLoadType":e.initial?"initial":"transition"}:{}}getPrefix(e){return null!==e.platform?"platform":this.product}getExperienceKey(e){let t=[this.getPrefix(e),"fe",e.type];return e.platform&&t.push(e.platform.component),t.push(e.id),t.join(".")}getExperiencePerformanceKey(e){let t=[this.getPrefix(e),"fe",e.performanceType];return e.platform&&t.push(e.platform.component),t.push(e.id),t.join(".")}getExperiencePerformanceType(e){return e.performanceType}getPerformanceMetrics(e){return{"event:key":this.getExperiencePerformanceKey(e),"event:type":this.getExperiencePerformanceType(e),...(0,n("9EJC3").getPerformancePayload)(e,this.ssr,this.bundleEvalTimings,this.resourceTimings,this.performanceConfig),...this.getPluginsMetrics(e)}}constructor(){this.gasv3=null,this.product="",this.region=a,this.hostname=n("kHNIo").getWindowObject()?.location?.hostname||"",this.tenantType=n("9UZGH").TenantType.RealUser,this.app={version:{web:a}},this.performanceConfig={},this.buffer=[],this.featureFlagClient=null,this.featureFlags=[],this.ssr=null,this.resourceTimings=null,this.bundleEvalTimings=null,this.route=n("kr1ev").Route,this.plugins=null,this.allowlist=()=>!0,this.getPluginsMetrics=e=>{let t={};return this.plugins&&this.plugins.forEach(r=>{let a=r({...e});null!==a&&"object"==typeof a&&Object.entries(a).forEach(([e,r])=>{t[`${this.product}:${e}`]=r})}),t}}}});const p="0.1.7";o("9UZGH",function(t,r){var a,s;e(t.exports,"TenantType",()=>a),(s=a||(a={})).RealUser="real-user",s.Synthetic="synthetic"}),o("bH9kk",function(t,r){e(t.exports,"UFOGlobalEventStream",()=>a);class a{push(e){(0,n("3MzkV").ufolog)("EVENT STREAM push",e.type,e.payload),e.type===n("8h9q5").UFOGlobalEventStreamEventType.EXPERIENCE_PAYLOAD&&this.publish(e.payload),e.type===n("8h9q5").UFOGlobalEventStreamEventType.SUBSCRIBE&&this.subscribe(e.payload.experienceId,e.payload.callback),e.type===n("8h9q5").UFOGlobalEventStreamEventType.UNSUBSCRIBE&&this.unsubscribe(e.payload.experienceId,e.payload.callback)}publish(e){this.subscribers[n("8h9q5").SUBSCRIBE_ALL]&&this.subscribers[0,n("8h9q5").SUBSCRIBE_ALL].forEach(t=>{t(e)}),this.subscribers[e.id]?.forEach(t=>{t(e)})}subscribe(e,t){(0,n("3MzkV").ufolog)("EVENT STREAM subscribe",e),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t)}unsubscribe(e,t){let r=this.subscribers[e].findIndex(e=>e===t);-1!==r&&this.subscribers[e].splice(r,1)}constructor(){this.__buffer_only__=!1,this.subscribers={}}}}),o("9EJC3",function(t,r){e(t.exports,"getPerformancePayload",()=>d);let a={tti:"metric:tti",fmp:"metric:fmp",ttiHistograms:"metric:tti:histogramBuckets",fmpHistograms:"metric:fmp:histogramBuckets"},s={result:"metric:result",response:"metric:response",resultHistograms:"metric:result:histogramBuckets",responseHistograms:"metric:response:histogramBuckets"},o={duration:"metric:duration",durationHistograms:"metric:duration:histogramBuckets"},i=(e,t,r)=>{let i={};if(e.performanceConfig?.histogram?i=e.performanceConfig.histogram:t?.histogram&&(i=t.histogram),i){let t=i[e.performanceType];switch(e.performanceType){case n("4zwkG").ExperiencePerformanceTypes.PageLoad:case n("4zwkG").ExperiencePerformanceTypes.PageSegmentLoad:let l=void 0!==r&&!0===r?"initial":"transition";return t?{[a.ttiHistograms]:t[l].tti,[a.fmpHistograms]:t[l].fmp}:{};case n("4zwkG").ExperiencePerformanceTypes.InlineResult:return t?{[s.resultHistograms]:t.result,[s.responseHistograms]:t.response}:{};case n("4zwkG").ExperiencePerformanceTypes.Custom:return t?{[o.durationHistograms]:t.duration}:{}}}},l=(e,t,r)=>{if(null===e.metrics.endTime||null===e.metrics.startTime)return null;let s=e.metrics.marks.find(e=>e.name===n("8h9q5").FMP_MARK)?.time||(0,n("1iUpx").isInitialPageLoad)(e)&&t?.getDoneMark(),o=e.metrics.endTime-e.metrics.startTime,l="number"==typeof s?s-e.metrics.startTime:o;return{[a.tti]:Math.round(o),[a.fmp]:Math.round(l),...i(e,r)}},c=(e,t)=>{if(null===e.metrics.endTime||null===e.metrics.startTime)return null;let r=e.metrics.marks.find(e=>e.name===n("8h9q5").INLINE_RESPONSE_MARK),a=e.metrics.endTime-e.metrics.startTime,o=r?r.time-e.metrics.startTime:a;return{[s.result]:Math.round(a),[s.response]:Math.round(o),...i(e,t)}},u=(e,t)=>{if(null===e.metrics.endTime||null===e.metrics.startTime)return null;let r=e.metrics.endTime-e.metrics.startTime;return{[o.duration]:Math.round(r),...i(e,t)}},p=(e,t,r)=>{switch(e.performanceType){case n("4zwkG").ExperiencePerformanceTypes.PageLoad:case n("4zwkG").ExperiencePerformanceTypes.PageSegmentLoad:return l(e,t,r);case n("4zwkG").ExperiencePerformanceTypes.InlineResult:return c(e,r);case n("4zwkG").ExperiencePerformanceTypes.Custom:return u(e,r)}},d=(e,t,r,a,s)=>({...p(e,t,s),...(0,n("hmR99").resourceTimings)(e,a),...(0,n("6UiEj").bundleEvalTimings)(e,r),...(0,n("9enLh").appTimings)(e,t),...(0,n("1iUpx").isInitialPageLoad)(e)?(0,n("6x5KZ").navigationMetrics)():null})}),o("1iUpx",function(t,r){e(t.exports,"isInitialPageLoad",()=>a);let a=e=>e.performanceType===n("4zwkG").ExperiencePerformanceTypes.PageLoad&&!0===e.initial}),o("6x5KZ",function(t,r){e(t.exports,"navigationMetrics",()=>a);let a=()=>{let e=performance.getEntriesByType("navigation");if(0===e.length)return null;let t=e[0];return{"metrics:navigation":{redirectStart:Math.round(t.redirectStart),redirectEnd:Math.round(t.redirectEnd),fetchStart:Math.round(t.fetchStart),domainLookupStart:Math.round(t.domainLookupStart),domainLookupEnd:Math.round(t.domainLookupEnd),connectStart:Math.round(t.connectStart),connectEnd:Math.round(t.connectEnd),secureConnectionStart:Math.round(t.secureConnectionStart),requestStart:Math.round(t.requestStart),responseStart:Math.round(t.responseStart),responseEnd:Math.round(t.responseEnd),encodedBodySize:Math.round(t.encodedBodySize),decodedBodySize:Math.round(t.decodedBodySize),transferSize:Math.round(t.transferSize),redirectCount:t.redirectCount,type:t.type,unloadEventEnd:Math.round(t.unloadEventEnd),unloadEventStart:Math.round(t.unloadEventStart),workerStart:Math.round(t.workerStart)}}}}),o("9enLh",function(t,r){e(t.exports,"appTimings",()=>a);let a=(e,t)=>{let r=e.performanceType===n("4zwkG").ExperiencePerformanceTypes.PageLoad&&e.explicitTimings||null,a=(0,n("9bSfN").customTimings)(e),s=(0,n("1iUpx").isInitialPageLoad)(e)?(0,n("3bKTx").ssrTimings)(t):null,o=(r||a||s)&&{...r,...a,...s};return o&&0!==Object.keys(o).length?{"timings:app":o}:null}}),o("9bSfN",function(t,r){e(t.exports,"customTimings",()=>s);let a=e=>(e.timings||[]).reduce((t,r)=>{let a=e.metrics.marks.find(e=>e.name===r.startMark);if(r.startMark&&!a)return t;let s=e.metrics.marks.find(e=>e.name===r.endMark);if(r.endMark&&!s)return t;if(null===e.metrics.startTime||null===e.metrics.endTime)return null;let n=Math.round((a?a.time:e.metrics.startTime)-e.metrics.startTime),o=Math.round((s?s.time:e.metrics.endTime)-e.metrics.startTime-n);return t[`${r.key}`]={startTime:n,duration:o},t},{}),s=e=>{if(!e.timings)return null;let t=a(e);return 0===Object.keys(t).length?null:t}}),o("3bKTx",function(t,r){e(t.exports,"ssrTimings",()=>o);let a=e=>!(!e||"object"!=typeof e||e.startTime<0||e.duration<0),s=e=>({startTime:Math.round(e.startTime),duration:Math.round(e.duration)}),n=e=>"total"===e?"ssr":`ssr${d}${e}`,o=e=>{if(!e?.getTimings)return null;let t=e.getTimings();if(!t)return null;let r=Object.entries(t).reduce((e,t)=>(a(t[1])&&(e[n(t[0])]=s(t[1])),e),{});return r&&0!==Object.keys(r).length?r:null}});const d="/";o("6UiEj",function(t,r){e(t.exports,"bundleEvalTimings",()=>a);let a=(e,t,r=(0,n("kHNIo").getPerformanceObject)()||void 0)=>{if(!t)return null;let a={},s={};if(r?.getEntriesByType("mark").forEach(r=>{let n=t.mapPerformanceMark(r.name);if(!n||null===e.result.startTime)return;let{type:o,name:i}=n;if("start"===o&&r.startTime>=e.result.startTime){a[i]=r;return}"end"===o&&a[i]&&(s[i]={startTime:Math.round(a[i].startTime-e.result.startTime),duration:Math.round(r.startTime-a[i].startTime)},delete a[i])}),t?.additionalTimings&&null!==e.result.startTime){let r=t.additionalTimings(e.result.startTime);r&&Object.entries(r).forEach(([e,t])=>{s[e]=t})}return 0===Object.keys(s).length?null:{"timings:bundleEval":s}}}),o("kHNIo",function(t,r){e(t.exports,"getWindowObject",()=>a),e(t.exports,"getPerformanceObject",()=>s),e(t.exports,"getPerformanceObserverObject",()=>n);let a=()=>"undefined"!=typeof window&&window?window:void 0,s=()=>{let{performance:e}=a()||{};return e},n=()=>{let{PerformanceObserver:e}=a()||{};return e}}),o("hmR99",function(t,r){e(t.exports,"resourceTimings",()=>g);let a=["script","link"],s=["fetch","xmlhttprequest"],o="network",i=(e,t,r)=>a.includes(e)?(void 0===r||0===r)&&0===t?"memory":0===r&&t>0?"disk":void 0===r?null:o:o,l=(e,t,r,s)=>!a.includes(t)||e.includes("localhost")||!!(0,n("kHNIo").getWindowObject)()&&e.includes(window.location.hostname)||s(e,r),c=e=>e?["script","link","fetch","xmlhttprequest"]:["script","link","fetch"],u=(e,t)=>!(0===t.responseStart&&t.startTime>t.responseStart),p=e=>void 0!==e?{size:e}:null,d=(e,t,r=u)=>{let{name:s,duration:n,transferSize:c,initiatorType:d,responseStart:g}=e,m=Math.round(g-t);if(!l(s,d,e,r))return{};if(a.includes(d)){let e=i(d,n,c);return e?e!==o?{transferType:e}:{ttfb:m,transferType:e,...p(c)}:{ttfb:m,...p(c)}}return{ttfb:m,...p(c)}},g=(e,t,r=(0,n("kHNIo").getPerformanceObject)()||void 0)=>{if(null===e.result.startTime||!t?.sanitiseEndpoints)return null;let a=(0,n("UjMoF").getResourceTimings)(e.result.startTime,r);if(!a?.length)return null;let o={},{xhrFilter:i}=t,l=c(!!i);return a.forEach(r=>{if(!l.includes(r.initiatorType))return;let{name:a,startTime:n,duration:c,workerStart:u,fetchStart:p,initiatorType:g}=r;if(!a||null===e.result.startTime||"xmlhttprequest"===g&&(void 0===i||!1===i(a)))return;let m=s.includes(g)?t.sanitiseEndpoints(a):t.mapResources(a);m&&!o[m]&&(o[m]={startTime:Math.round(n-e.result.startTime),duration:Math.round(c),workerStart:Math.max(Math.round(u-e.result.startTime),0),fetchStart:Math.max(Math.round(p-e.result.startTime),0),type:g,...d(r,e.result.startTime,t.hasTimingHeaders)})}),{"timings:resource":o}}}),o("UjMoF",function(t,r){e(t.exports,"resourceTimingBuffer",()=>a),e(t.exports,"getResourceTimings",()=>s);let a={timings:[],maxSize:1e3,observer:null,transformResource:e=>({name:e.name,initiatorType:e.initiatorType,transferSize:e.transferSize,startTime:Math.round(e.startTime),duration:Math.round(e.duration),fetchStart:Math.round(e.fetchStart||0),workerStart:Math.round(e.workerStart||0),responseStart:Math.round(e.responseStart||0)}),start:(e=(0,n("kHNIo").getPerformanceObject)(),t=(0,n("kHNIo").getPerformanceObserverObject)())=>{if(!t||!e||void 0===t)return;if(a.observer){(0,n("3MzkV").ufologger).warn("Observer is already running");return}let r=e.getEntriesByType?.("resource");r&&(a.timings=r.map(e=>a.transformResource(e))),a.observer=new t(a.addTimings),a.observer.observe({entryTypes:["resource"]})},stop:()=>{a.observer&&(a.observer.disconnect(),a.observer=null),a.timings=[]},addTimings:e=>{let t=e.getEntries().map(e=>a.transformResource(e)),r=a.timings.length+t.length;if(r>a.maxSize){let e=r-a.maxSize;a.timings.splice(0,e)}a.timings.push(...t)}},s=(e,t=(0,n("kHNIo").getPerformanceObject)())=>{if(!PerformanceObserver||!a.observer){let r=t?.getEntriesByType("resource");return r?r.filter(t=>t.startTime>=e):null}return a.timings.filter(t=>t.startTime>=e)}}),o("d5UDs",function(t,r){e(t.exports,"pageVisibleState",()=>a);let a=e=>({"experience:pageVisible":e.pageVisibleState??(document.hidden?n("8h9q5").PageVisibleState.HIDDEN:n("8h9q5").PageVisibleState.VISIBLE)})}),o("iwsaw",function(t,r){e(t.exports,"appFramework",()=>a);let a=e=>e.framework?{"app:framework:name":e.framework.name,"app:framework:version":e.framework.version}:null}),o("2Ygyz",function(t,r){e(t.exports,"appVersion",()=>a);let a=e=>{let t={"app:web:version":e.version.web};return e.version.ssr&&(t["app:ssr:version"]=e.version.ssr),t}}),o("5W7EH",function(r,a){e(r.exports,"eventBrowserPlugin",()=>o);var s=n("4XKM3");let o=(0,n("8QpSo").default)(()=>{if(!t(s).getParser)return null;let e=t(s).getParser(n("kHNIo").getWindowObject()?.navigator?.userAgent||"");return{"event:browser:name":e.getBrowserName(),"event:browser:version":e.getBrowserVersion()}})}),o("6WPJV",function(t,r){e(t.exports,"eventCpusPlugin",()=>a);let a=(0,n("8QpSo").default)(()=>navigator.hardwareConcurrency?{"event:cpus":navigator.hardwareConcurrency}:null)}),o("eHCBs",function(t,r){e(t.exports,"featureFlags",()=>a);let a=(e,t,r)=>{let a=[...t,...r.featureFlags||[]];if(0===a.length)return null;let s=[];return a.reduce((t,r)=>{let a=e.getValue(r);return null!=a&&t.push([r,a]),t},s),{featureFlags:Object.fromEntries(s)}}}),o("6BBHc",function(t,r){e(t.exports,"eventMemoryPlugin",()=>a);let a=(0,n("8QpSo").default)(()=>navigator.deviceMemory?{"event:memory":navigator.deviceMemory}:null)}),o("hYWn3",function(t,r){e(t.exports,"eventNetworkPlugin",()=>a);let a=()=>navigator.connection?{"event:network:effectiveType":navigator.connection.effectiveType,"event:network:rtt":navigator.connection.rtt,"event:network:downlink":navigator.connection.downlink}:null}),o("dn411",function(t,r){e(t.exports,"ssrFeatureFlags",()=>a);let a=e=>{if(!e?.getFeatureFlags)return null;try{let t=e.getFeatureFlags();if(t)return{"ssr:featureFlags":t}}catch(e){}return null}}),o("2f5Vj",function(t,r){e(t.exports,"ssrSuccess",()=>a);let a=e=>e?.getDoneMark()?{"ssr:success":!0}:null}),o("kr1ev",function(t,r){e(t.exports,"Route",()=>a);let a={route:"",setRoute(e){this.route=e},getRoute(){return this.route}}}),r.rlb("i5RRW");try{performance.mark("shared~commons~atlassian~ar.js:eval-stop")}catch(e){}
//# sourceMappingURL=https://jira-frontend-bifrost.prod-east.frontend.public.atl-paas.net/assets/shared~commons~atlassian~ar.9c5cf0f5.js.map
